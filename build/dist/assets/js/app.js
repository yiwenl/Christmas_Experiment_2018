/******/ (function(modules) { // webpackBootstrap
/******/ 	function hotDisposeChunk(chunkId) {
/******/ 		delete installedChunks[chunkId];
/******/ 	}
/******/ 	var parentHotUpdateCallback = window["webpackHotUpdate"];
/******/ 	window["webpackHotUpdate"] = 
/******/ 	function webpackHotUpdateCallback(chunkId, moreModules) { // eslint-disable-line no-unused-vars
/******/ 		hotAddUpdateChunk(chunkId, moreModules);
/******/ 		if(parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);
/******/ 	} ;
/******/ 	
/******/ 	function hotDownloadUpdateChunk(chunkId) { // eslint-disable-line no-unused-vars
/******/ 		var head = document.getElementsByTagName("head")[0];
/******/ 		var script = document.createElement("script");
/******/ 		script.type = "text/javascript";
/******/ 		script.charset = "utf-8";
/******/ 		script.src = __webpack_require__.p + "" + chunkId + "." + hotCurrentHash + ".hot-update.js";
/******/ 		;
/******/ 		head.appendChild(script);
/******/ 	}
/******/ 	
/******/ 	function hotDownloadManifest(requestTimeout) { // eslint-disable-line no-unused-vars
/******/ 		requestTimeout = requestTimeout || 10000;
/******/ 		return new Promise(function(resolve, reject) {
/******/ 			if(typeof XMLHttpRequest === "undefined")
/******/ 				return reject(new Error("No browser support"));
/******/ 			try {
/******/ 				var request = new XMLHttpRequest();
/******/ 				var requestPath = __webpack_require__.p + "" + hotCurrentHash + ".hot-update.json";
/******/ 				request.open("GET", requestPath, true);
/******/ 				request.timeout = requestTimeout;
/******/ 				request.send(null);
/******/ 			} catch(err) {
/******/ 				return reject(err);
/******/ 			}
/******/ 			request.onreadystatechange = function() {
/******/ 				if(request.readyState !== 4) return;
/******/ 				if(request.status === 0) {
/******/ 					// timeout
/******/ 					reject(new Error("Manifest request to " + requestPath + " timed out."));
/******/ 				} else if(request.status === 404) {
/******/ 					// no update available
/******/ 					resolve();
/******/ 				} else if(request.status !== 200 && request.status !== 304) {
/******/ 					// other failure
/******/ 					reject(new Error("Manifest request to " + requestPath + " failed."));
/******/ 				} else {
/******/ 					// success
/******/ 					try {
/******/ 						var update = JSON.parse(request.responseText);
/******/ 					} catch(e) {
/******/ 						reject(e);
/******/ 						return;
/******/ 					}
/******/ 					resolve(update);
/******/ 				}
/******/ 			};
/******/ 		});
/******/ 	}
/******/
/******/ 	
/******/ 	
/******/ 	var hotApplyOnUpdate = true;
/******/ 	var hotCurrentHash = "46cea9b9182ee0b031e1"; // eslint-disable-line no-unused-vars
/******/ 	var hotRequestTimeout = 10000;
/******/ 	var hotCurrentModuleData = {};
/******/ 	var hotCurrentChildModule; // eslint-disable-line no-unused-vars
/******/ 	var hotCurrentParents = []; // eslint-disable-line no-unused-vars
/******/ 	var hotCurrentParentsTemp = []; // eslint-disable-line no-unused-vars
/******/ 	
/******/ 	function hotCreateRequire(moduleId) { // eslint-disable-line no-unused-vars
/******/ 		var me = installedModules[moduleId];
/******/ 		if(!me) return __webpack_require__;
/******/ 		var fn = function(request) {
/******/ 			if(me.hot.active) {
/******/ 				if(installedModules[request]) {
/******/ 					if(installedModules[request].parents.indexOf(moduleId) < 0)
/******/ 						installedModules[request].parents.push(moduleId);
/******/ 				} else {
/******/ 					hotCurrentParents = [moduleId];
/******/ 					hotCurrentChildModule = request;
/******/ 				}
/******/ 				if(me.children.indexOf(request) < 0)
/******/ 					me.children.push(request);
/******/ 			} else {
/******/ 				console.warn("[HMR] unexpected require(" + request + ") from disposed module " + moduleId);
/******/ 				hotCurrentParents = [];
/******/ 			}
/******/ 			return __webpack_require__(request);
/******/ 		};
/******/ 		var ObjectFactory = function ObjectFactory(name) {
/******/ 			return {
/******/ 				configurable: true,
/******/ 				enumerable: true,
/******/ 				get: function() {
/******/ 					return __webpack_require__[name];
/******/ 				},
/******/ 				set: function(value) {
/******/ 					__webpack_require__[name] = value;
/******/ 				}
/******/ 			};
/******/ 		};
/******/ 		for(var name in __webpack_require__) {
/******/ 			if(Object.prototype.hasOwnProperty.call(__webpack_require__, name) && name !== "e") {
/******/ 				Object.defineProperty(fn, name, ObjectFactory(name));
/******/ 			}
/******/ 		}
/******/ 		fn.e = function(chunkId) {
/******/ 			if(hotStatus === "ready")
/******/ 				hotSetStatus("prepare");
/******/ 			hotChunksLoading++;
/******/ 			return __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {
/******/ 				finishChunkLoading();
/******/ 				throw err;
/******/ 			});
/******/ 	
/******/ 			function finishChunkLoading() {
/******/ 				hotChunksLoading--;
/******/ 				if(hotStatus === "prepare") {
/******/ 					if(!hotWaitingFilesMap[chunkId]) {
/******/ 						hotEnsureUpdateChunk(chunkId);
/******/ 					}
/******/ 					if(hotChunksLoading === 0 && hotWaitingFiles === 0) {
/******/ 						hotUpdateDownloaded();
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 		return fn;
/******/ 	}
/******/ 	
/******/ 	function hotCreateModule(moduleId) { // eslint-disable-line no-unused-vars
/******/ 		var hot = {
/******/ 			// private stuff
/******/ 			_acceptedDependencies: {},
/******/ 			_declinedDependencies: {},
/******/ 			_selfAccepted: false,
/******/ 			_selfDeclined: false,
/******/ 			_disposeHandlers: [],
/******/ 			_main: hotCurrentChildModule !== moduleId,
/******/ 	
/******/ 			// Module API
/******/ 			active: true,
/******/ 			accept: function(dep, callback) {
/******/ 				if(typeof dep === "undefined")
/******/ 					hot._selfAccepted = true;
/******/ 				else if(typeof dep === "function")
/******/ 					hot._selfAccepted = dep;
/******/ 				else if(typeof dep === "object")
/******/ 					for(var i = 0; i < dep.length; i++)
/******/ 						hot._acceptedDependencies[dep[i]] = callback || function() {};
/******/ 				else
/******/ 					hot._acceptedDependencies[dep] = callback || function() {};
/******/ 			},
/******/ 			decline: function(dep) {
/******/ 				if(typeof dep === "undefined")
/******/ 					hot._selfDeclined = true;
/******/ 				else if(typeof dep === "object")
/******/ 					for(var i = 0; i < dep.length; i++)
/******/ 						hot._declinedDependencies[dep[i]] = true;
/******/ 				else
/******/ 					hot._declinedDependencies[dep] = true;
/******/ 			},
/******/ 			dispose: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			addDisposeHandler: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			removeDisposeHandler: function(callback) {
/******/ 				var idx = hot._disposeHandlers.indexOf(callback);
/******/ 				if(idx >= 0) hot._disposeHandlers.splice(idx, 1);
/******/ 			},
/******/ 	
/******/ 			// Management API
/******/ 			check: hotCheck,
/******/ 			apply: hotApply,
/******/ 			status: function(l) {
/******/ 				if(!l) return hotStatus;
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			addStatusHandler: function(l) {
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			removeStatusHandler: function(l) {
/******/ 				var idx = hotStatusHandlers.indexOf(l);
/******/ 				if(idx >= 0) hotStatusHandlers.splice(idx, 1);
/******/ 			},
/******/ 	
/******/ 			//inherit from previous dispose call
/******/ 			data: hotCurrentModuleData[moduleId]
/******/ 		};
/******/ 		hotCurrentChildModule = undefined;
/******/ 		return hot;
/******/ 	}
/******/ 	
/******/ 	var hotStatusHandlers = [];
/******/ 	var hotStatus = "idle";
/******/ 	
/******/ 	function hotSetStatus(newStatus) {
/******/ 		hotStatus = newStatus;
/******/ 		for(var i = 0; i < hotStatusHandlers.length; i++)
/******/ 			hotStatusHandlers[i].call(null, newStatus);
/******/ 	}
/******/ 	
/******/ 	// while downloading
/******/ 	var hotWaitingFiles = 0;
/******/ 	var hotChunksLoading = 0;
/******/ 	var hotWaitingFilesMap = {};
/******/ 	var hotRequestedFilesMap = {};
/******/ 	var hotAvailableFilesMap = {};
/******/ 	var hotDeferred;
/******/ 	
/******/ 	// The update info
/******/ 	var hotUpdate, hotUpdateNewHash;
/******/ 	
/******/ 	function toModuleId(id) {
/******/ 		var isNumber = (+id) + "" === id;
/******/ 		return isNumber ? +id : id;
/******/ 	}
/******/ 	
/******/ 	function hotCheck(apply) {
/******/ 		if(hotStatus !== "idle") throw new Error("check() is only allowed in idle status");
/******/ 		hotApplyOnUpdate = apply;
/******/ 		hotSetStatus("check");
/******/ 		return hotDownloadManifest(hotRequestTimeout).then(function(update) {
/******/ 			if(!update) {
/******/ 				hotSetStatus("idle");
/******/ 				return null;
/******/ 			}
/******/ 			hotRequestedFilesMap = {};
/******/ 			hotWaitingFilesMap = {};
/******/ 			hotAvailableFilesMap = update.c;
/******/ 			hotUpdateNewHash = update.h;
/******/ 	
/******/ 			hotSetStatus("prepare");
/******/ 			var promise = new Promise(function(resolve, reject) {
/******/ 				hotDeferred = {
/******/ 					resolve: resolve,
/******/ 					reject: reject
/******/ 				};
/******/ 			});
/******/ 			hotUpdate = {};
/******/ 			var chunkId = 0;
/******/ 			{ // eslint-disable-line no-lone-blocks
/******/ 				/*globals chunkId */
/******/ 				hotEnsureUpdateChunk(chunkId);
/******/ 			}
/******/ 			if(hotStatus === "prepare" && hotChunksLoading === 0 && hotWaitingFiles === 0) {
/******/ 				hotUpdateDownloaded();
/******/ 			}
/******/ 			return promise;
/******/ 		});
/******/ 	}
/******/ 	
/******/ 	function hotAddUpdateChunk(chunkId, moreModules) { // eslint-disable-line no-unused-vars
/******/ 		if(!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])
/******/ 			return;
/******/ 		hotRequestedFilesMap[chunkId] = false;
/******/ 		for(var moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				hotUpdate[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(--hotWaitingFiles === 0 && hotChunksLoading === 0) {
/******/ 			hotUpdateDownloaded();
/******/ 		}
/******/ 	}
/******/ 	
/******/ 	function hotEnsureUpdateChunk(chunkId) {
/******/ 		if(!hotAvailableFilesMap[chunkId]) {
/******/ 			hotWaitingFilesMap[chunkId] = true;
/******/ 		} else {
/******/ 			hotRequestedFilesMap[chunkId] = true;
/******/ 			hotWaitingFiles++;
/******/ 			hotDownloadUpdateChunk(chunkId);
/******/ 		}
/******/ 	}
/******/ 	
/******/ 	function hotUpdateDownloaded() {
/******/ 		hotSetStatus("ready");
/******/ 		var deferred = hotDeferred;
/******/ 		hotDeferred = null;
/******/ 		if(!deferred) return;
/******/ 		if(hotApplyOnUpdate) {
/******/ 			// Wrap deferred object in Promise to mark it as a well-handled Promise to
/******/ 			// avoid triggering uncaught exception warning in Chrome.
/******/ 			// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666
/******/ 			Promise.resolve().then(function() {
/******/ 				return hotApply(hotApplyOnUpdate);
/******/ 			}).then(
/******/ 				function(result) {
/******/ 					deferred.resolve(result);
/******/ 				},
/******/ 				function(err) {
/******/ 					deferred.reject(err);
/******/ 				}
/******/ 			);
/******/ 		} else {
/******/ 			var outdatedModules = [];
/******/ 			for(var id in hotUpdate) {
/******/ 				if(Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 					outdatedModules.push(toModuleId(id));
/******/ 				}
/******/ 			}
/******/ 			deferred.resolve(outdatedModules);
/******/ 		}
/******/ 	}
/******/ 	
/******/ 	function hotApply(options) {
/******/ 		if(hotStatus !== "ready") throw new Error("apply() is only allowed in ready status");
/******/ 		options = options || {};
/******/ 	
/******/ 		var cb;
/******/ 		var i;
/******/ 		var j;
/******/ 		var module;
/******/ 		var moduleId;
/******/ 	
/******/ 		function getAffectedStuff(updateModuleId) {
/******/ 			var outdatedModules = [updateModuleId];
/******/ 			var outdatedDependencies = {};
/******/ 	
/******/ 			var queue = outdatedModules.slice().map(function(id) {
/******/ 				return {
/******/ 					chain: [id],
/******/ 					id: id
/******/ 				};
/******/ 			});
/******/ 			while(queue.length > 0) {
/******/ 				var queueItem = queue.pop();
/******/ 				var moduleId = queueItem.id;
/******/ 				var chain = queueItem.chain;
/******/ 				module = installedModules[moduleId];
/******/ 				if(!module || module.hot._selfAccepted)
/******/ 					continue;
/******/ 				if(module.hot._selfDeclined) {
/******/ 					return {
/******/ 						type: "self-declined",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				if(module.hot._main) {
/******/ 					return {
/******/ 						type: "unaccepted",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				for(var i = 0; i < module.parents.length; i++) {
/******/ 					var parentId = module.parents[i];
/******/ 					var parent = installedModules[parentId];
/******/ 					if(!parent) continue;
/******/ 					if(parent.hot._declinedDependencies[moduleId]) {
/******/ 						return {
/******/ 							type: "declined",
/******/ 							chain: chain.concat([parentId]),
/******/ 							moduleId: moduleId,
/******/ 							parentId: parentId
/******/ 						};
/******/ 					}
/******/ 					if(outdatedModules.indexOf(parentId) >= 0) continue;
/******/ 					if(parent.hot._acceptedDependencies[moduleId]) {
/******/ 						if(!outdatedDependencies[parentId])
/******/ 							outdatedDependencies[parentId] = [];
/******/ 						addAllToSet(outdatedDependencies[parentId], [moduleId]);
/******/ 						continue;
/******/ 					}
/******/ 					delete outdatedDependencies[parentId];
/******/ 					outdatedModules.push(parentId);
/******/ 					queue.push({
/******/ 						chain: chain.concat([parentId]),
/******/ 						id: parentId
/******/ 					});
/******/ 				}
/******/ 			}
/******/ 	
/******/ 			return {
/******/ 				type: "accepted",
/******/ 				moduleId: updateModuleId,
/******/ 				outdatedModules: outdatedModules,
/******/ 				outdatedDependencies: outdatedDependencies
/******/ 			};
/******/ 		}
/******/ 	
/******/ 		function addAllToSet(a, b) {
/******/ 			for(var i = 0; i < b.length; i++) {
/******/ 				var item = b[i];
/******/ 				if(a.indexOf(item) < 0)
/******/ 					a.push(item);
/******/ 			}
/******/ 		}
/******/ 	
/******/ 		// at begin all updates modules are outdated
/******/ 		// the "outdated" status can propagate to parents if they don't accept the children
/******/ 		var outdatedDependencies = {};
/******/ 		var outdatedModules = [];
/******/ 		var appliedUpdate = {};
/******/ 	
/******/ 		var warnUnexpectedRequire = function warnUnexpectedRequire() {
/******/ 			console.warn("[HMR] unexpected require(" + result.moduleId + ") to disposed module");
/******/ 		};
/******/ 	
/******/ 		for(var id in hotUpdate) {
/******/ 			if(Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 				moduleId = toModuleId(id);
/******/ 				var result;
/******/ 				if(hotUpdate[id]) {
/******/ 					result = getAffectedStuff(moduleId);
/******/ 				} else {
/******/ 					result = {
/******/ 						type: "disposed",
/******/ 						moduleId: id
/******/ 					};
/******/ 				}
/******/ 				var abortError = false;
/******/ 				var doApply = false;
/******/ 				var doDispose = false;
/******/ 				var chainInfo = "";
/******/ 				if(result.chain) {
/******/ 					chainInfo = "\nUpdate propagation: " + result.chain.join(" -> ");
/******/ 				}
/******/ 				switch(result.type) {
/******/ 					case "self-declined":
/******/ 						if(options.onDeclined)
/******/ 							options.onDeclined(result);
/******/ 						if(!options.ignoreDeclined)
/******/ 							abortError = new Error("Aborted because of self decline: " + result.moduleId + chainInfo);
/******/ 						break;
/******/ 					case "declined":
/******/ 						if(options.onDeclined)
/******/ 							options.onDeclined(result);
/******/ 						if(!options.ignoreDeclined)
/******/ 							abortError = new Error("Aborted because of declined dependency: " + result.moduleId + " in " + result.parentId + chainInfo);
/******/ 						break;
/******/ 					case "unaccepted":
/******/ 						if(options.onUnaccepted)
/******/ 							options.onUnaccepted(result);
/******/ 						if(!options.ignoreUnaccepted)
/******/ 							abortError = new Error("Aborted because " + moduleId + " is not accepted" + chainInfo);
/******/ 						break;
/******/ 					case "accepted":
/******/ 						if(options.onAccepted)
/******/ 							options.onAccepted(result);
/******/ 						doApply = true;
/******/ 						break;
/******/ 					case "disposed":
/******/ 						if(options.onDisposed)
/******/ 							options.onDisposed(result);
/******/ 						doDispose = true;
/******/ 						break;
/******/ 					default:
/******/ 						throw new Error("Unexception type " + result.type);
/******/ 				}
/******/ 				if(abortError) {
/******/ 					hotSetStatus("abort");
/******/ 					return Promise.reject(abortError);
/******/ 				}
/******/ 				if(doApply) {
/******/ 					appliedUpdate[moduleId] = hotUpdate[moduleId];
/******/ 					addAllToSet(outdatedModules, result.outdatedModules);
/******/ 					for(moduleId in result.outdatedDependencies) {
/******/ 						if(Object.prototype.hasOwnProperty.call(result.outdatedDependencies, moduleId)) {
/******/ 							if(!outdatedDependencies[moduleId])
/******/ 								outdatedDependencies[moduleId] = [];
/******/ 							addAllToSet(outdatedDependencies[moduleId], result.outdatedDependencies[moduleId]);
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 				if(doDispose) {
/******/ 					addAllToSet(outdatedModules, [result.moduleId]);
/******/ 					appliedUpdate[moduleId] = warnUnexpectedRequire;
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 	
/******/ 		// Store self accepted outdated modules to require them later by the module system
/******/ 		var outdatedSelfAcceptedModules = [];
/******/ 		for(i = 0; i < outdatedModules.length; i++) {
/******/ 			moduleId = outdatedModules[i];
/******/ 			if(installedModules[moduleId] && installedModules[moduleId].hot._selfAccepted)
/******/ 				outdatedSelfAcceptedModules.push({
/******/ 					module: moduleId,
/******/ 					errorHandler: installedModules[moduleId].hot._selfAccepted
/******/ 				});
/******/ 		}
/******/ 	
/******/ 		// Now in "dispose" phase
/******/ 		hotSetStatus("dispose");
/******/ 		Object.keys(hotAvailableFilesMap).forEach(function(chunkId) {
/******/ 			if(hotAvailableFilesMap[chunkId] === false) {
/******/ 				hotDisposeChunk(chunkId);
/******/ 			}
/******/ 		});
/******/ 	
/******/ 		var idx;
/******/ 		var queue = outdatedModules.slice();
/******/ 		while(queue.length > 0) {
/******/ 			moduleId = queue.pop();
/******/ 			module = installedModules[moduleId];
/******/ 			if(!module) continue;
/******/ 	
/******/ 			var data = {};
/******/ 	
/******/ 			// Call dispose handlers
/******/ 			var disposeHandlers = module.hot._disposeHandlers;
/******/ 			for(j = 0; j < disposeHandlers.length; j++) {
/******/ 				cb = disposeHandlers[j];
/******/ 				cb(data);
/******/ 			}
/******/ 			hotCurrentModuleData[moduleId] = data;
/******/ 	
/******/ 			// disable module (this disables requires from this module)
/******/ 			module.hot.active = false;
/******/ 	
/******/ 			// remove module from cache
/******/ 			delete installedModules[moduleId];
/******/ 	
/******/ 			// when disposing there is no need to call dispose handler
/******/ 			delete outdatedDependencies[moduleId];
/******/ 	
/******/ 			// remove "parents" references from all children
/******/ 			for(j = 0; j < module.children.length; j++) {
/******/ 				var child = installedModules[module.children[j]];
/******/ 				if(!child) continue;
/******/ 				idx = child.parents.indexOf(moduleId);
/******/ 				if(idx >= 0) {
/******/ 					child.parents.splice(idx, 1);
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 	
/******/ 		// remove outdated dependency from module children
/******/ 		var dependency;
/******/ 		var moduleOutdatedDependencies;
/******/ 		for(moduleId in outdatedDependencies) {
/******/ 			if(Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)) {
/******/ 				module = installedModules[moduleId];
/******/ 				if(module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					for(j = 0; j < moduleOutdatedDependencies.length; j++) {
/******/ 						dependency = moduleOutdatedDependencies[j];
/******/ 						idx = module.children.indexOf(dependency);
/******/ 						if(idx >= 0) module.children.splice(idx, 1);
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 	
/******/ 		// Not in "apply" phase
/******/ 		hotSetStatus("apply");
/******/ 	
/******/ 		hotCurrentHash = hotUpdateNewHash;
/******/ 	
/******/ 		// insert new code
/******/ 		for(moduleId in appliedUpdate) {
/******/ 			if(Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {
/******/ 				modules[moduleId] = appliedUpdate[moduleId];
/******/ 			}
/******/ 		}
/******/ 	
/******/ 		// call accept handlers
/******/ 		var error = null;
/******/ 		for(moduleId in outdatedDependencies) {
/******/ 			if(Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)) {
/******/ 				module = installedModules[moduleId];
/******/ 				if(module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					var callbacks = [];
/******/ 					for(i = 0; i < moduleOutdatedDependencies.length; i++) {
/******/ 						dependency = moduleOutdatedDependencies[i];
/******/ 						cb = module.hot._acceptedDependencies[dependency];
/******/ 						if(cb) {
/******/ 							if(callbacks.indexOf(cb) >= 0) continue;
/******/ 							callbacks.push(cb);
/******/ 						}
/******/ 					}
/******/ 					for(i = 0; i < callbacks.length; i++) {
/******/ 						cb = callbacks[i];
/******/ 						try {
/******/ 							cb(moduleOutdatedDependencies);
/******/ 						} catch(err) {
/******/ 							if(options.onErrored) {
/******/ 								options.onErrored({
/******/ 									type: "accept-errored",
/******/ 									moduleId: moduleId,
/******/ 									dependencyId: moduleOutdatedDependencies[i],
/******/ 									error: err
/******/ 								});
/******/ 							}
/******/ 							if(!options.ignoreErrored) {
/******/ 								if(!error)
/******/ 									error = err;
/******/ 							}
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 	
/******/ 		// Load self accepted modules
/******/ 		for(i = 0; i < outdatedSelfAcceptedModules.length; i++) {
/******/ 			var item = outdatedSelfAcceptedModules[i];
/******/ 			moduleId = item.module;
/******/ 			hotCurrentParents = [moduleId];
/******/ 			try {
/******/ 				__webpack_require__(moduleId);
/******/ 			} catch(err) {
/******/ 				if(typeof item.errorHandler === "function") {
/******/ 					try {
/******/ 						item.errorHandler(err);
/******/ 					} catch(err2) {
/******/ 						if(options.onErrored) {
/******/ 							options.onErrored({
/******/ 								type: "self-accept-error-handler-errored",
/******/ 								moduleId: moduleId,
/******/ 								error: err2,
/******/ 								orginalError: err, // TODO remove in webpack 4
/******/ 								originalError: err
/******/ 							});
/******/ 						}
/******/ 						if(!options.ignoreErrored) {
/******/ 							if(!error)
/******/ 								error = err2;
/******/ 						}
/******/ 						if(!error)
/******/ 							error = err;
/******/ 					}
/******/ 				} else {
/******/ 					if(options.onErrored) {
/******/ 						options.onErrored({
/******/ 							type: "self-accept-errored",
/******/ 							moduleId: moduleId,
/******/ 							error: err
/******/ 						});
/******/ 					}
/******/ 					if(!options.ignoreErrored) {
/******/ 						if(!error)
/******/ 							error = err;
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 	
/******/ 		// handle errors in accept handlers and self accepted module load
/******/ 		if(error) {
/******/ 			hotSetStatus("fail");
/******/ 			return Promise.reject(error);
/******/ 		}
/******/ 	
/******/ 		hotSetStatus("idle");
/******/ 		return new Promise(function(resolve) {
/******/ 			resolve(outdatedModules);
/******/ 		});
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {},
/******/ 			hot: hotCreateModule(moduleId),
/******/ 			parents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),
/******/ 			children: []
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// __webpack_hash__
/******/ 	__webpack_require__.h = function() { return hotCurrentHash; };
/******/
/******/ 	// Load entry module and return exports
/******/ 	return hotCreateRequire(9)(__webpack_require__.s = 9);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

!function(root,factory){ true?module.exports=factory():"function"==typeof define&&define.amd?define("alfrid",[],factory):"object"==typeof exports?exports.alfrid=factory():root.alfrid=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=41)}([function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),_getAndApplyExtension=__webpack_require__(47),_getAndApplyExtension2=_interopRequireDefault(_getAndApplyExtension),_exposeAttributes=__webpack_require__(48),_exposeAttributes2=_interopRequireDefault(_exposeAttributes),_getFloat=__webpack_require__(49),_getFloat2=_interopRequireDefault(_getFloat),_getHalfFloat=__webpack_require__(50),_getHalfFloat2=_interopRequireDefault(_getHalfFloat),_getAttribLoc=__webpack_require__(24),_ExtensionsList=(_interopRequireDefault(_getAttribLoc),__webpack_require__(51)),_ExtensionsList2=_interopRequireDefault(_ExtensionsList),gl=void 0,GLTool=function(){function GLTool(){_classCallCheck(this,GLTool),this.canvas,this._viewport=[0,0,0,0],this._enabledVertexAttribute=[],this.identityMatrix=_glMatrix.mat4.create(),this._normalMatrix=_glMatrix.mat3.create(),this._inverseModelViewMatrix=_glMatrix.mat3.create(),this._modelMatrix=_glMatrix.mat4.create(),this._matrix=_glMatrix.mat4.create(),this._matrixStacks=[],this._lastMesh=null,this._useWebGL2=!1,this._hasArrayInstance,this._extArrayInstance,this._hasCheckedExt=!1,_glMatrix.mat4.identity(this.identityMatrix,this.identityMatrix),this.isMobile=!1,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(this.isMobile=!0)}return _createClass(GLTool,[{key:"init",value:function(mCanvas){var mParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===mCanvas||void 0===mCanvas)return void console.error("Canvas not exist");void 0!==this.canvas&&null!==this.canvas&&this.destroy(),this.canvas=mCanvas,this.setSize(window.innerWidth,window.innerHeight),mParameters.useWebgl2=mParameters.useWebgl2||!1;var ctx=void 0;mParameters.useWebgl2?(ctx=this.canvas.getContext("experimental-webgl2",mParameters)||this.canvas.getContext("webgl2",mParameters),ctx?this._useWebGL2=!0:(ctx=this.canvas.getContext("webgl",mParameters)||this.canvas.getContext("experimental-webgl",mParameters),this._useWebGL2=!1)):(ctx=this.canvas.getContext("webgl",mParameters)||this.canvas.getContext("experimental-webgl",mParameters),this._useWebGL2=!1),console.log("Using WebGL 2 ?",this.webgl2),this.initWithGL(ctx)}},{key:"initWithGL",value:function(ctx){this.canvas||(this.canvas=ctx.canvas),gl=this.gl=ctx,this.extensions={};for(var i=0;i<_ExtensionsList2.default.length;i++)this.extensions[_ExtensionsList2.default[i]]=gl.getExtension(_ExtensionsList2.default[i]);(0,_exposeAttributes2.default)(),(0,_getAndApplyExtension2.default)(gl,"OES_vertex_array_object"),(0,_getAndApplyExtension2.default)(gl,"ANGLE_instanced_arrays"),(0,_getAndApplyExtension2.default)(gl,"WEBGL_draw_buffers"),this.enable(this.DEPTH_TEST),this.enable(this.CULL_FACE),this.enable(this.BLEND),this.enableAlphaBlending()}},{key:"setViewport",value:function(x,y,w,h){var hasChanged=!1;x!==this._viewport[0]&&(hasChanged=!0),y!==this._viewport[1]&&(hasChanged=!0),w!==this._viewport[2]&&(hasChanged=!0),h!==this._viewport[3]&&(hasChanged=!0),hasChanged&&(gl.viewport(x,y,w,h),this._viewport=[x,y,w,h])}},{key:"scissor",value:function(x,y,w,h){gl.scissor(x,y,w,h)}},{key:"clear",value:function(r,g,b,a){gl.clearColor(r,g,b,a),gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT)}},{key:"cullFace",value:function(mValue){gl.cullFace(mValue)}},{key:"setMatrices",value:function(mCamera){this.camera=mCamera,this.rotate(this.identityMatrix)}},{key:"useShader",value:function(mShader){this.shader=mShader,this.shaderProgram=this.shader.shaderProgram}},{key:"rotate",value:function(mRotation){_glMatrix.mat4.copy(this._modelMatrix,mRotation),_glMatrix.mat4.multiply(this._matrix,this.camera.matrix,this._modelMatrix),_glMatrix.mat3.fromMat4(this._normalMatrix,this._matrix),_glMatrix.mat3.invert(this._normalMatrix,this._normalMatrix),_glMatrix.mat3.transpose(this._normalMatrix,this._normalMatrix),_glMatrix.mat3.fromMat4(this._inverseModelViewMatrix,this._matrix),_glMatrix.mat3.invert(this._inverseModelViewMatrix,this._inverseModelViewMatrix)}},{key:"draw",value:function(mMesh,mDrawingType){if(mMesh.length)for(var i=0;i<mMesh.length;i++)this.draw(mMesh[i]);else{mMesh.bind(this.shaderProgram),void 0!==this.camera&&(this.shader.uniform("uProjectionMatrix","mat4",this.camera.projection),this.shader.uniform("uViewMatrix","mat4",this.camera.matrix)),this.shader.uniform("uModelMatrix","mat4",this._modelMatrix),this.shader.uniform("uNormalMatrix","mat3",this._normalMatrix),this.shader.uniform("uModelViewMatrixInverse","mat3",this._inverseModelViewMatrix);var drawType=mMesh.drawType;void 0!==mDrawingType&&(drawType=mDrawingType),mMesh.isInstanced?gl.drawElementsInstanced(mMesh.drawType,mMesh.iBuffer.numItems,gl.UNSIGNED_SHORT,0,mMesh.numInstance):drawType===gl.POINTS?gl.drawArrays(drawType,0,mMesh.vertexSize):gl.drawElements(drawType,mMesh.iBuffer.numItems,gl.UNSIGNED_SHORT,0),mMesh.unbind()}}},{key:"drawTransformFeedback",value:function(mTransformObject){var meshSource=mTransformObject.meshSource,meshDestination=mTransformObject.meshDestination,numPoints=mTransformObject.numPoints,transformFeedback=mTransformObject.transformFeedback;meshSource.bind(this.shaderProgram),meshDestination.generateBuffers(this.shaderProgram),gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK,transformFeedback),meshDestination.attributes.forEach(function(attr,i){gl.bindBufferBase(gl.TRANSFORM_FEEDBACK_BUFFER,i,attr.buffer)}),gl.enable(gl.RASTERIZER_DISCARD),gl.beginTransformFeedback(gl.POINTS),gl.drawArrays(gl.POINTS,0,numPoints),gl.endTransformFeedback(),gl.disable(gl.RASTERIZER_DISCARD),gl.useProgram(null),gl.bindBuffer(gl.ARRAY_BUFFER,null),meshDestination.attributes.forEach(function(attr,i){gl.bindBufferBase(gl.TRANSFORM_FEEDBACK_BUFFER,i,null)}),gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK,null),meshSource.unbind()}},{key:"setSize",value:function(mWidth,mHeight){this._width=mWidth,this._height=mHeight,this.canvas.width=this._width,this.canvas.height=this._height,this._aspectRatio=this._width/this._height,gl&&this.viewport(0,0,this._width,this._height)}},{key:"showExtensions",value:function(){console.log("Extensions : ",this.extensions);for(var ext in this.extensions)this.extensions[ext]&&console.log(ext,":",this.extensions[ext])}},{key:"checkExtension",value:function(mExtension){return!!this.extensions[mExtension]}},{key:"getExtension",value:function(mExtension){return this.extensions[mExtension]}},{key:"enableAlphaBlending",value:function(){gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA)}},{key:"enableAdditiveBlending",value:function(){gl.blendFunc(gl.ONE,gl.ONE)}},{key:"pushMatrix",value:function(){var mtx=_glMatrix.mat4.clone(this._modelMatrix);this._matrixStacks.push(mtx)}},{key:"popMatrix",value:function(){if(0==this._matrixStacks.length)return null;var mtx=this._matrixStacks.pop();this.rotate(mtx)}},{key:"enable",value:function(mParameter){gl.enable(mParameter)}},{key:"disable",value:function(mParameter){gl.disable(mParameter)}},{key:"viewport",value:function(x,y,w,h){this.setViewport(x,y,w,h)}},{key:"destroy",value:function(){if(this.canvas.parentNode)try{this.canvas.parentNode.removeChild(this.canvas)}catch(e){console.log("Error : ",e)}this.canvas=null}},{key:"FLOAT",get:function(){return(0,_getFloat2.default)()}},{key:"HALF_FLOAT",get:function(){return(0,_getHalfFloat2.default)()}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"aspectRatio",get:function(){return this._aspectRatio}},{key:"webgl2",get:function(){return this._useWebGL2}}]),GLTool}(),GL=new GLTool;exports.default=GL},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.vec4=exports.vec3=exports.vec2=exports.quat=exports.mat4=exports.mat3=exports.mat2d=exports.mat2=exports.glMatrix=void 0;var _common=__webpack_require__(3),glMatrix=_interopRequireWildcard(_common),_mat=__webpack_require__(42),mat2=_interopRequireWildcard(_mat),_mat2d=__webpack_require__(43),mat2d=_interopRequireWildcard(_mat2d),_mat2=__webpack_require__(20),mat3=_interopRequireWildcard(_mat2),_mat3=__webpack_require__(44),mat4=_interopRequireWildcard(_mat3),_quat=__webpack_require__(45),quat=_interopRequireWildcard(_quat),_vec=__webpack_require__(46),vec2=_interopRequireWildcard(_vec),_vec2=__webpack_require__(21),vec3=_interopRequireWildcard(_vec2),_vec3=__webpack_require__(22),vec4=_interopRequireWildcard(_vec3);exports.glMatrix=glMatrix,exports.mat2=mat2,exports.mat2d=mat2d,exports.mat3=mat3,exports.mat4=mat4,exports.quat=quat,exports.vec2=vec2,exports.vec3=vec3,exports.vec4=vec4},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),isSame=(__webpack_require__(52),function(array1,array2){if(array1.length!==array2.length)return!1;for(var i=0;i<array1.length;i++)if(array1[i]!==array2[i])return!1;return!0}),addLineNumbers=function(string){for(var lines=string.split("\n"),i=0;i<lines.length;i++)lines[i]=i+1+": "+lines[i];return lines.join("\n")},cloneArray=function(mArray){return mArray.slice?mArray.slice(0):new Float32Array(mArray)},gl=void 0,defaultVertexShader=__webpack_require__(11),defaultFragmentShader=__webpack_require__(53),uniformMapping={float:"uniform1f",vec2:"uniform2fv",vec3:"uniform3fv",vec4:"uniform4fv",int:"uniform1i",mat3:"uniformMatrix3fv",mat4:"uniformMatrix4fv"},GLShader=function(){function GLShader(){var strVertexShader=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaultVertexShader,strFragmentShader=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultFragmentShader,mVaryings=arguments[2];_classCallCheck(this,GLShader),gl=_GLTool2.default.gl,this.parameters=[],this.uniformTextures=[],this._varyings=mVaryings,strVertexShader||(strVertexShader=defaultVertexShader),strFragmentShader||(strFragmentShader=defaultVertexShader);var vsShader=this._createShaderProgram(strVertexShader,!0),fsShader=this._createShaderProgram(strFragmentShader,!1);this._attachShaderProgram(vsShader,fsShader)}return _createClass(GLShader,[{key:"bind",value:function(){_GLTool2.default.shader!==this&&(gl.useProgram(this.shaderProgram),_GLTool2.default.useShader(this),this.uniformTextures=[])}},{key:"uniform",value:function(mName,mType,mValue){if("object"===(void 0===mName?"undefined":_typeof(mName)))return void this.uniformObject(mName);for(var uniformType=uniformMapping[mType]||mType,hasUniform=!1,oUniform=void 0,parameterIndex=-1,i=0;i<this.parameters.length;i++)if(oUniform=this.parameters[i],oUniform.name===mName){hasUniform=!0,parameterIndex=i;break}var isNumber=!1;if(hasUniform?(this.shaderProgram[mName]=oUniform.uniformLoc,isNumber=oUniform.isNumber):(isNumber="uniform1i"===uniformType||"uniform1f"===uniformType,this.shaderProgram[mName]=gl.getUniformLocation(this.shaderProgram,mName),isNumber?this.parameters.push({name:mName,type:uniformType,value:mValue,uniformLoc:this.shaderProgram[mName],isNumber:isNumber}):this.parameters.push({name:mName,type:uniformType,value:cloneArray(mValue),uniformLoc:this.shaderProgram[mName],isNumber:isNumber}),parameterIndex=this.parameters.length-1),this.parameters[parameterIndex].uniformLoc)if(-1===uniformType.indexOf("Matrix"))if(isNumber){var needUpdate=this.parameters[parameterIndex].value!==mValue||!hasUniform;needUpdate&&(gl[uniformType](this.shaderProgram[mName],mValue),this.parameters[parameterIndex].value=mValue)}else isSame(this.parameters[parameterIndex].value,mValue)&&hasUniform||(gl[uniformType](this.shaderProgram[mName],mValue),this.parameters[parameterIndex].value=cloneArray(mValue));else isSame(this.parameters[parameterIndex].value,mValue)&&hasUniform||(gl[uniformType](this.shaderProgram[mName],!1,mValue),this.parameters[parameterIndex].value=cloneArray(mValue))}},{key:"uniformObject",value:function(mUniformObj){for(var uniformName in mUniformObj){var uniformValue=mUniformObj[uniformName],uniformType=GLShader.getUniformType(uniformValue);if(uniformValue.concat&&uniformValue[0].concat){for(var tmp=[],i=0;i<uniformValue.length;i++)tmp=tmp.concat(uniformValue[i]);uniformValue=tmp}this.uniform(uniformName,uniformType,uniformValue)}}},{key:"_createShaderProgram",value:function(mShaderStr,isVertexShader){var shaderType=isVertexShader?_GLTool2.default.VERTEX_SHADER:_GLTool2.default.FRAGMENT_SHADER,shader=gl.createShader(shaderType);return gl.shaderSource(shader,mShaderStr),gl.compileShader(shader),gl.getShaderParameter(shader,gl.COMPILE_STATUS)?shader:(console.warn("Error in Shader : ",gl.getShaderInfoLog(shader)),console.log(addLineNumbers(mShaderStr)),null)}},{key:"_attachShaderProgram",value:function(mVertexShader,mFragmentShader){this.shaderProgram=gl.createProgram(),gl.attachShader(this.shaderProgram,mVertexShader),gl.attachShader(this.shaderProgram,mFragmentShader),gl.deleteShader(mVertexShader),gl.deleteShader(mFragmentShader),this._varyings&&(console.log("Transform feedback setup : ",this._varyings),gl.transformFeedbackVaryings(this.shaderProgram,this._varyings,gl.SEPARATE_ATTRIBS)),gl.linkProgram(this.shaderProgram)}}]),GLShader}();GLShader.getUniformType=function(mValue){var isArray=!!mValue.concat,getArrayUniformType=function(mValue){return 9===mValue.length?"uniformMatrix3fv":16===mValue.length?"uniformMatrix4fv":"vec"+mValue.length};return isArray?getArrayUniformType(mValue[0].concat?mValue[0]:mValue):"float"},exports.default=GLShader},function(module,exports,__webpack_require__){"use strict";function setMatrixArrayType(type){exports.ARRAY_TYPE=ARRAY_TYPE=type}function toRadian(a){return a*degree}function equals(a,b){return Math.abs(a-b)<=EPSILON*Math.max(1,Math.abs(a),Math.abs(b))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setMatrixArrayType=setMatrixArrayType,exports.toRadian=toRadian,exports.equals=equals;var EPSILON=exports.EPSILON=1e-6,ARRAY_TYPE=exports.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,degree=(exports.RANDOM=Math.random,Math.PI/180)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),Batch=function(){function Batch(mMesh,mShader){_classCallCheck(this,Batch),this._mesh=mMesh,this._shader=mShader}return _createClass(Batch,[{key:"draw",value:function(){this._shader.bind(),_GLTool2.default.draw(this.mesh)}},{key:"mesh",get:function(){return this._mesh}},{key:"shader",get:function(){return this._shader}}]),Batch}();exports.default=Batch},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_glMatrix=__webpack_require__(1),_getAttribLoc=__webpack_require__(24),_getAttribLoc2=_interopRequireDefault(_getAttribLoc),gl=void 0,getBuffer=function(attr){var buffer=void 0;return void 0!==attr.buffer?buffer=attr.buffer:(buffer=gl.createBuffer(),attr.buffer=buffer),buffer},formBuffer=function(mData,mNum){for(var ary=[],i=0;i<mData.length;i+=mNum){for(var o=[],j=0;j<mNum;j++)o.push(mData[i+j]);ary.push(o)}return ary},Mesh=function(){function Mesh(){var mDrawingType=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,mUseVao=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];_classCallCheck(this,Mesh),gl=_GLTool2.default.gl,this.drawType=mDrawingType,this._attributes=[],this._numInstance=-1,this._enabledVertexAttribute=[],this._indices=[],this._faces=[],this._bufferChanged=[],this._hasIndexBufferChanged=!1,this._hasVAO=!1,this._isInstanced=!1,this._extVAO=!!_GLTool2.default.gl.createVertexArray,this._useVAO=!!this._extVAO&&mUseVao}return _createClass(Mesh,[{key:"bufferVertex",value:function(mArrayVertices){var mDrawType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35044;return this.bufferData(mArrayVertices,"aVertexPosition",3,mDrawType),this.normals.length<this.vertices.length&&this.bufferNormal(mArrayVertices,mDrawType),this}},{key:"bufferTexCoord",value:function(mArrayTexCoords){var mDrawType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35044;return this.bufferData(mArrayTexCoords,"aTextureCoord",2,mDrawType),this}},{key:"bufferNormal",value:function(mNormals){var mDrawType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35044;return this.bufferData(mNormals,"aNormal",3,mDrawType),this}},{key:"bufferIndex",value:function(mArrayIndices){var isDynamic=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._drawType=isDynamic?gl.DYNAMIC_DRAW:gl.STATIC_DRAW,this._indices=new Uint16Array(mArrayIndices),this._numItems=this._indices.length,this}},{key:"bufferFlattenData",value:function(mData,mName,mItemSize){var data=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],formBuffer(mData,mItemSize));return this.bufferData(data,mName,mItemSize,35044,!1),this}},{key:"bufferData",value:function(mData,mName,mItemSize){var mDrawType=arguments.length>3&&void 0!==arguments[3]?arguments[3]:35044,isInstanced=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=0,drawType=mDrawType,bufferData=[];for(mItemSize||(mItemSize=mData[0].length),this._isInstanced=isInstanced||this._isInstanced,i=0;i<mData.length;i++)for(var j=0;j<mData[i].length;j++)bufferData.push(mData[i][j]);var dataArray=new Float32Array(bufferData),attribute=this.getAttribute(mName);return attribute?(attribute.itemSize=mItemSize,attribute.dataArray=dataArray,attribute.source=mData):this._attributes.push({name:mName,source:mData,itemSize:mItemSize,drawType:drawType,dataArray:dataArray,isInstanced:isInstanced}),this._bufferChanged.push(mName),this}},{key:"bufferInstance",value:function(mData,mName){if(!_GLTool2.default.gl.vertexAttribDivisor)return void console.error("Extension : ANGLE_instanced_arrays is not supported with this device !");var itemSize=mData[0].length;this._numInstance=mData.length,this.bufferData(mData,mName,itemSize,35044,!0)}},{key:"bind",value:function(mShaderProgram){this.generateBuffers(mShaderProgram),this.hasVAO?gl.bindVertexArray(this.vao):(this.attributes.forEach(function(attribute){gl.bindBuffer(gl.ARRAY_BUFFER,attribute.buffer);var attrPosition=attribute.attrPosition;gl.vertexAttribPointer(attrPosition,attribute.itemSize,gl.FLOAT,!1,0,0),attribute.isInstanced&&gl.vertexAttribDivisor(attrPosition,1)}),gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,this.iBuffer))}},{key:"generateBuffers",value:function(mShaderProgram){var _this=this;0!=this._bufferChanged.length&&(this._useVAO?(this._vao||(this._vao=gl.createVertexArray()),gl.bindVertexArray(this._vao),this._attributes.forEach(function(attrObj){if(-1!==_this._bufferChanged.indexOf(attrObj.name)){var buffer=getBuffer(attrObj);gl.bindBuffer(gl.ARRAY_BUFFER,buffer),gl.bufferData(gl.ARRAY_BUFFER,attrObj.dataArray,attrObj.drawType);var attrPosition=(0,_getAttribLoc2.default)(gl,mShaderProgram,attrObj.name);gl.enableVertexAttribArray(attrPosition),gl.vertexAttribPointer(attrPosition,attrObj.itemSize,gl.FLOAT,!1,0,0),attrObj.attrPosition=attrPosition,attrObj.isInstanced&&gl.vertexAttribDivisor(attrPosition,1)}}),this._updateIndexBuffer(),gl.bindVertexArray(null),this._hasVAO=!0):(this._attributes.forEach(function(attrObj){if(-1!==_this._bufferChanged.indexOf(attrObj.name)){var buffer=getBuffer(attrObj);gl.bindBuffer(gl.ARRAY_BUFFER,buffer),gl.bufferData(gl.ARRAY_BUFFER,attrObj.dataArray,attrObj.drawType);var attrPosition=(0,_getAttribLoc2.default)(gl,mShaderProgram,attrObj.name);gl.enableVertexAttribArray(attrPosition),gl.vertexAttribPointer(attrPosition,attrObj.itemSize,gl.FLOAT,!1,0,0),attrObj.attrPosition=attrPosition,attrObj.isInstanced&&gl.vertexAttribDivisor(attrPosition,1)}}),this._updateIndexBuffer()),this._hasIndexBufferChanged=!1,this._bufferChanged=[])}},{key:"unbind",value:function(){this._useVAO&&gl.bindVertexArray(null),this._attributes.forEach(function(attribute){attribute.isInstanced&&gl.vertexAttribDivisor(attribute.attrPosition,0)})}},{key:"_updateIndexBuffer",value:function(){this._hasIndexBufferChanged||(this.iBuffer||(this.iBuffer=gl.createBuffer()),gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,this.iBuffer),gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,this._indices,this._drawType),this.iBuffer.itemSize=1,this.iBuffer.numItems=this._numItems)}},{key:"computeNormals",value:function(){var usingFaceNormals=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.generateFaces(),usingFaceNormals?this._computeFaceNormals():this._computeVertexNormals()}},{key:"_computeFaceNormals",value:function(){for(var faceIndex=void 0,face=void 0,normals=[],i=0;i<this._indices.length;i+=3){faceIndex=i/3,face=this._faces[faceIndex];var N=face.normal;normals[face.indices[0]]=N,normals[face.indices[1]]=N,normals[face.indices[2]]=N}this.bufferNormal(normals)}},{key:"_computeVertexNormals",value:function(){for(var face=void 0,sumNormal=_glMatrix.vec3.create(),normals=[],vertices=this.vertices,i=0;i<vertices.length;i++){_glMatrix.vec3.set(sumNormal,0,0,0);for(var j=0;j<this._faces.length;j++)face=this._faces[j],face.indices.indexOf(i)>=0&&(sumNormal[0]+=face.normal[0],sumNormal[1]+=face.normal[1],sumNormal[2]+=face.normal[2]);_glMatrix.vec3.normalize(sumNormal,sumNormal),normals.push([sumNormal[0],sumNormal[1],sumNormal[2]])}this.bufferNormal(normals)}},{key:"generateFaces",value:function(){for(var ia=void 0,ib=void 0,ic=void 0,a=void 0,b=void 0,c=void 0,vertices=(_glMatrix.vec3.create(),_glMatrix.vec3.create(),_glMatrix.vec3.create(),this.vertices),i=0;i<this._indices.length;i+=3){ia=this._indices[i],ib=this._indices[i+1],ic=this._indices[i+2],a=vertices[ia],b=vertices[ib],c=vertices[ic];var face={indices:[ia,ib,ic],vertices:[a,b,c]};this._faces.push(face)}}},{key:"getAttribute",value:function(mName){return this._attributes.find(function(a){return a.name===mName})}},{key:"getSource",value:function(mName){var attr=this.getAttribute(mName);return attr?attr.source:[]}},{key:"vertices",get:function(){return this.getSource("aVertexPosition")}},{key:"normals",get:function(){return this.getSource("aNormal")}},{key:"coords",get:function(){return this.getSource("aTextureCoord")}},{key:"indices",get:function(){return this._indices}},{key:"vertexSize",get:function(){return this.vertices.length}},{key:"faces",get:function(){return this._faces}},{key:"attributes",get:function(){return this._attributes}},{key:"hasVAO",get:function(){return this._hasVAO}},{key:"vao",get:function(){return this._vao}},{key:"numInstance",get:function(){return this._numInstance}},{key:"isInstanced",get:function(){return this._isInstanced}}]),Mesh}();exports.default=Mesh},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Scheduler=function(){function Scheduler(){_classCallCheck(this,Scheduler),this._delayTasks=[],this._nextTasks=[],this._deferTasks=[],this._highTasks=[],this._usurpTask=[],this._enterframeTasks=[],this._idTable=0,this._startTime=(new Date).getTime(),this._deltaTime=0,this._loop()}return _createClass(Scheduler,[{key:"addEF",value:function(func,params){params=params||[];var id=this._idTable;return this._enterframeTasks[id]={func:func,params:params},this._idTable++,id}},{key:"removeEF",value:function(id){return void 0!==this._enterframeTasks[id]&&(this._enterframeTasks[id]=null),-1}},{key:"delay",value:function(func,params,_delay){var time=(new Date).getTime(),t={func:func,params:params,delay:_delay,time:time};this._delayTasks.push(t)}},{key:"defer",value:function(func,params){var t={func:func,params:params};this._deferTasks.push(t)}},{key:"next",value:function(func,params){var t={func:func,params:params};this._nextTasks.push(t)}},{key:"usurp",value:function(func,params){var t={func:func,params:params};this._usurpTask.push(t)}},{key:"_process",value:function(){var i=0,task=void 0,interval=void 0;for(i=0;i<this._enterframeTasks.length;i++)null!==(task=this._enterframeTasks[i])&&void 0!==task&&task.func(task.params);for(;this._highTasks.length>0;)task=this._highTasks.pop(),task.func(task.params);var startTime=(new Date).getTime();for(this._deltaTime=(startTime-this._startTime)/1e3,i=0;i<this._delayTasks.length;i++)task=this._delayTasks[i],startTime-task.time>task.delay&&(task.func(task.params),this._delayTasks.splice(i,1));for(startTime=(new Date).getTime(),this._deltaTime=(startTime-this._startTime)/1e3,interval=1e3/60;this._deferTasks.length>0;){if(task=this._deferTasks.shift(),!((new Date).getTime()-startTime<interval)){this._deferTasks.unshift(task);break}task.func(task.params)}for(startTime=(new Date).getTime(),this._deltaTime=(startTime-this._startTime)/1e3,interval=1e3/60;this._usurpTask.length>0;)task=this._usurpTask.shift(),(new Date).getTime()-startTime<interval&&task.func(task.params);this._highTasks=this._highTasks.concat(this._nextTasks),this._nextTasks=[],this._usurpTask=[]}},{key:"_loop",value:function(){var _this=this;this._process(),window.requestAnimationFrame(function(){return _this._loop()})}},{key:"deltaTime",get:function(){return this._deltaTime}}]),Scheduler}(),scheduler=new Scheduler;exports.default=scheduler},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Mesh=__webpack_require__(5),_Mesh2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Mesh),Geom={},meshTri=void 0;Geom.plane=function(width,height,numSegments){for(var axis=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"xy",drawType=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4,positions=[],coords=[],indices=[],normals=[],gapX=width/numSegments,gapY=height/numSegments,gapUV=1/numSegments,sx=.5*-width,sy=.5*-height,index=0,i=0;i<numSegments;i++)for(var j=0;j<numSegments;j++){var tx=gapX*i+sx,ty=gapY*j+sy,u=i/numSegments,v=j/numSegments;"xz"===axis?(positions.push([tx,0,ty+gapY]),positions.push([tx+gapX,0,ty+gapY]),positions.push([tx+gapX,0,ty]),positions.push([tx,0,ty]),coords.push([u,1-(v+gapUV)]),coords.push([u+gapUV,1-(v+gapUV)]),coords.push([u+gapUV,1-v]),coords.push([u,1-v]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0])):"yz"===axis?(positions.push([0,ty,tx]),positions.push([0,ty,tx+gapX]),positions.push([0,ty+gapY,tx+gapX]),positions.push([0,ty+gapY,tx]),coords.push([u,v]),coords.push([u+gapUV,v]),coords.push([u+gapUV,v+gapUV]),coords.push([u,v+gapUV]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0])):(positions.push([tx,ty,0]),positions.push([tx+gapX,ty,0]),positions.push([tx+gapX,ty+gapY,0]),positions.push([tx,ty+gapY,0]),coords.push([u,v]),coords.push([u+gapUV,v]),coords.push([u+gapUV,v+gapUV]),coords.push([u,v+gapUV]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1])),indices.push(4*index+0),indices.push(4*index+1),indices.push(4*index+2),indices.push(4*index+0),indices.push(4*index+2),indices.push(4*index+3),index++}var mesh=new _Mesh2.default(drawType);return mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),mesh.bufferNormal(normals),mesh},Geom.sphere=function(size,numSegments){function getPosition(i,j){var isNormal=arguments.length>2&&void 0!==arguments[2]&&arguments[2],rx=i/numSegments*Math.PI-.5*Math.PI,ry=j/numSegments*Math.PI*2,r=isNormal?1:size,pos=[];pos[1]=Math.sin(rx)*r;var t=Math.cos(rx)*r;pos[0]=Math.cos(ry)*t,pos[2]=Math.sin(ry)*t;return pos[0]=Math.floor(1e4*pos[0])/1e4,pos[1]=Math.floor(1e4*pos[1])/1e4,pos[2]=Math.floor(1e4*pos[2])/1e4,pos}for(var isInvert=arguments.length>2&&void 0!==arguments[2]&&arguments[2],drawType=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,positions=[],coords=[],indices=[],normals=[],gapUV=1/numSegments,index=0,i=0;i<numSegments;i++)for(var j=0;j<numSegments;j++){positions.push(getPosition(i,j)),positions.push(getPosition(i+1,j)),positions.push(getPosition(i+1,j+1)),positions.push(getPosition(i,j+1)),normals.push(getPosition(i,j,!0)),normals.push(getPosition(i+1,j,!0)),normals.push(getPosition(i+1,j+1,!0)),normals.push(getPosition(i,j+1,!0));var u=j/numSegments,v=i/numSegments;coords.push([1-u,v]),coords.push([1-u,v+gapUV]),coords.push([1-u-gapUV,v+gapUV]),coords.push([1-u-gapUV,v]),indices.push(4*index+0),indices.push(4*index+1),indices.push(4*index+2),indices.push(4*index+0),indices.push(4*index+2),indices.push(4*index+3),index++}isInvert&&indices.reverse();var mesh=new _Mesh2.default(drawType);return mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),mesh.bufferNormal(normals),mesh},Geom.cube=function(w,h,d){var drawType=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;h=h||w,d=d||w;var x=w/2,y=h/2,z=d/2,positions=[],coords=[],indices=[],normals=[],count=0;positions.push([-x,y,-z]),positions.push([x,y,-z]),positions.push([x,-y,-z]),positions.push([-x,-y,-z]),normals.push([0,0,-1]),normals.push([0,0,-1]),normals.push([0,0,-1]),normals.push([0,0,-1]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([x,y,-z]),positions.push([x,y,z]),positions.push([x,-y,z]),positions.push([x,-y,-z]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([x,y,z]),positions.push([-x,y,z]),positions.push([-x,-y,z]),positions.push([x,-y,z]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([-x,y,z]),positions.push([-x,y,-z]),positions.push([-x,-y,-z]),positions.push([-x,-y,z]),normals.push([-1,0,0]),normals.push([-1,0,0]),normals.push([-1,0,0]),normals.push([-1,0,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([x,y,-z]),positions.push([-x,y,-z]),positions.push([-x,y,z]),positions.push([x,y,z]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([x,-y,z]),positions.push([-x,-y,z]),positions.push([-x,-y,-z]),positions.push([x,-y,-z]),normals.push([0,-1,0]),normals.push([0,-1,0]),normals.push([0,-1,0]),normals.push([0,-1,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++;var mesh=new _Mesh2.default(drawType);return mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),mesh.bufferNormal(normals),mesh},Geom.skybox=function(size){var drawType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,positions=[],coords=[],indices=[],normals=[],count=0;positions.push([size,size,-size]),positions.push([-size,size,-size]),positions.push([-size,-size,-size]),positions.push([size,-size,-size]),normals.push([0,0,-1]),normals.push([0,0,-1]),normals.push([0,0,-1]),normals.push([0,0,-1]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([size,-size,-size]),positions.push([size,-size,size]),positions.push([size,size,size]),positions.push([size,size,-size]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),normals.push([1,0,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([-size,size,size]),positions.push([size,size,size]),positions.push([size,-size,size]),positions.push([-size,-size,size]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),normals.push([0,0,1]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([-size,-size,size]),positions.push([-size,-size,-size]),positions.push([-size,size,-size]),positions.push([-size,size,size]),normals.push([-1,0,0]),normals.push([-1,0,0]),normals.push([-1,0,0]),normals.push([-1,0,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([size,size,size]),positions.push([-size,size,size]),positions.push([-size,size,-size]),positions.push([size,size,-size]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),normals.push([0,1,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3),count++,positions.push([size,-size,-size]),positions.push([-size,-size,-size]),positions.push([-size,-size,size]),positions.push([size,-size,size]),normals.push([0,-1,0]),normals.push([0,-1,0]),normals.push([0,-1,0]),normals.push([0,-1,0]),coords.push([0,0]),coords.push([1,0]),coords.push([1,1]),coords.push([0,1]),indices.push(4*count+0),indices.push(4*count+1),indices.push(4*count+2),indices.push(4*count+0),indices.push(4*count+2),indices.push(4*count+3);var mesh=new _Mesh2.default(drawType);return mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),mesh.bufferNormal(normals),mesh},Geom.bigTriangle=function(){if(!meshTri){var indices=[2,1,0],positions=[[-1,-1],[-1,4],[4,-1]];meshTri=new _Mesh2.default,meshTri.bufferData(positions,"aPosition",2),meshTri.bufferIndex(indices)}return meshTri},exports.default=Geom},function(module,exports,__webpack_require__){"use strict";module.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6403:"RED",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33321:"R8",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_FrameBuffer=__webpack_require__(12),_FrameBuffer2=_interopRequireDefault(_FrameBuffer),_ShaderLibs=__webpack_require__(32),_ShaderLibs2=_interopRequireDefault(_ShaderLibs),Pass=function(){function Pass(mSource){var mWidth=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,mHeight=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,Pass),this.shader=new _GLShader2.default(_ShaderLibs2.default.bigTriangleVert,mSource),this._width=mWidth,this._height=mHeight,this._uniforms={},this._hasOwnFbo=this._width>0&&this._width>0,this._uniforms={},this._hasOwnFbo&&(this._fbo=new _FrameBuffer2.default(this._width,this.height,mParmas))}return _createClass(Pass,[{key:"uniform",value:function(mName,mValue){this._uniforms[mName]=mValue}},{key:"render",value:function(texture){this.shader.bind(),this.shader.uniform("texture","uniform1i",0),texture.bind(0),this.shader.uniform(this._uniforms)}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"fbo",get:function(){return this._fbo}},{key:"hasFbo",get:function(){return this._hasOwnFbo}}]),Pass}();exports.default=Pass},function(module,exports){module.exports="// simpleColor.frag\n\n#define SHADER_NAME SIMPLE_COLOR\n\nprecision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 color;\nuniform float opacity;\n\nvoid main(void) {\n    gl_FragColor = vec4(color, opacity);\n}"},function(module,exports){module.exports="// basic.vert\n\n#define SHADER_NAME BASIC_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n    vNormal = aNormal;\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLTexture=__webpack_require__(26),_GLTexture2=_interopRequireDefault(_GLTexture),_WebglNumber=__webpack_require__(8),_WebglNumber2=_interopRequireDefault(_WebglNumber),gl=void 0,webglDepthTexture=void 0,hasCheckedMultiRenderSupport=!1,extDrawBuffer=void 0,checkMultiRender=function(){return!!_GLTool2.default.webgl2||!!(extDrawBuffer=_GLTool2.default.getExtension("WEBGL_draw_buffers"))},FrameBuffer=function(){function FrameBuffer(mWidth,mHeight){var mParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},mNumTargets=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck(this,FrameBuffer),gl=_GLTool2.default.gl,webglDepthTexture=_GLTool2.default.checkExtension("WEBGL_depth_texture"),this.width=mWidth,this.height=mHeight,this._numTargets=mNumTargets,this._multipleTargets=mNumTargets>1,this._parameters=mParameters,hasCheckedMultiRenderSupport||checkMultiRender(),this._multipleTargets&&this._checkMaxNumRenderTarget(),this._init()}return _createClass(FrameBuffer,[{key:"_init",value:function(){if(this._initTextures(),this.frameBuffer=gl.createFramebuffer(),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBuffer),_GLTool2.default.webgl2){for(var buffers=[],i=0;i<this._numTargets;i++)gl.framebufferTexture2D(gl.DRAW_FRAMEBUFFER,gl.COLOR_ATTACHMENT0+i,gl.TEXTURE_2D,this._textures[i].texture,0),buffers.push(gl["COLOR_ATTACHMENT"+i]);gl.drawBuffers(buffers),gl.framebufferTexture2D(gl.DRAW_FRAMEBUFFER,gl.DEPTH_ATTACHMENT,gl.TEXTURE_2D,this.glDepthTexture.texture,0)}else{for(var _i=0;_i<this._numTargets;_i++)gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0+_i,gl.TEXTURE_2D,this._textures[_i].texture,0);if(this._multipleTargets){for(var drawBuffers=[],_i2=0;_i2<this._numTargets;_i2++)drawBuffers.push(extDrawBuffer["COLOR_ATTACHMENT"+_i2+"_WEBGL"]);extDrawBuffer.drawBuffersWEBGL(drawBuffers)}webglDepthTexture&&gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.DEPTH_ATTACHMENT,gl.TEXTURE_2D,this.glDepthTexture.texture,0)}var FBOstatus=gl.checkFramebufferStatus(gl.FRAMEBUFFER);FBOstatus!=gl.FRAMEBUFFER_COMPLETE&&console.error("GL_FRAMEBUFFER_COMPLETE failed, CANNOT use Framebuffer",_WebglNumber2.default[FBOstatus]),gl.bindTexture(gl.TEXTURE_2D,null),gl.bindRenderbuffer(gl.RENDERBUFFER,null),gl.bindFramebuffer(gl.FRAMEBUFFER,null),this.clear()}},{key:"_checkMaxNumRenderTarget",value:function(){var maxNumDrawBuffers=_GLTool2.default.gl.getParameter(extDrawBuffer.MAX_DRAW_BUFFERS_WEBGL);this._numTargets>maxNumDrawBuffers&&(console.error("Over max number of draw buffers supported : ",maxNumDrawBuffers),this._numTargets=maxNumDrawBuffers)}},{key:"_initTextures",value:function(){this._textures=[];for(var i=0;i<this._numTargets;i++){var glt=this._createTexture();this._textures.push(glt)}_GLTool2.default.webgl2?this.glDepthTexture=this._createTexture(gl.DEPTH_COMPONENT16,gl.UNSIGNED_SHORT,gl.DEPTH_COMPONENT,!0):this.glDepthTexture=this._createTexture(gl.DEPTH_COMPONENT,gl.UNSIGNED_SHORT,gl.DEPTH_COMPONENT,{minFilter:_GLTool2.default.LINEAR})}},{key:"_createTexture",value:function(mInternalformat,mTexelType,mFormat){var mParameters=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},parameters=Object.assign({},this._parameters);mFormat||(mFormat=mInternalformat),parameters.internalFormat=mInternalformat||gl.RGBA,parameters.format=mFormat,parameters.type=mTexelType||parameters.type||_GLTool2.default.UNSIGNED_BYTE;for(var s in mParameters)parameters[s]=mParameters[s];return new _GLTexture2.default(null,parameters,this.width,this.height)}},{key:"bind",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&_GLTool2.default.viewport(0,0,this.width,this.height),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBuffer)}},{key:"unbind",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&_GLTool2.default.viewport(0,0,_GLTool2.default.width,_GLTool2.default.height),gl.bindFramebuffer(gl.FRAMEBUFFER,null),this._textures.forEach(function(texture){texture.generateMipmap()})}},{key:"clear",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.bind(),_GLTool2.default.clear(r,g,b,a),this.unbind()}},{key:"getTexture",value:function(){var mIndex=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._textures[mIndex]}},{key:"getDepthTexture",value:function(){return this.glDepthTexture}},{key:"showParameters",value:function(){this._textures[0].showParameters()}},{key:"minFilter",get:function(){return this._textures[0].minFilter},set:function(mValue){this._textures.forEach(function(texture){texture.minFilter=mValue})}},{key:"magFilter",get:function(){return this._textures[0].magFilter},set:function(mValue){this._textures.forEach(function(texture){texture.magFilter=mValue})}},{key:"wrapS",get:function(){return this._textures[0].wrapS},set:function(mValue){this._textures.forEach(function(texture){texture.wrapS=mValue})}},{key:"wrapT",get:function(){return this._textures[0].wrapT},set:function(mValue){this._textures.forEach(function(texture){texture.wrapT=mValue})}},{key:"numTargets",get:function(){return this._numTargets}}]),FrameBuffer}();exports.default=FrameBuffer},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_scheduling=__webpack_require__(6),_scheduling2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_scheduling),EaseNumber=function(){function EaseNumber(mValue){var _this=this,mEasing=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;_classCallCheck(this,EaseNumber),this.easing=mEasing,this._value=mValue,this._targetValue=mValue,this._efIndex=_scheduling2.default.addEF(function(){return _this._update()})}return _createClass(EaseNumber,[{key:"_update",value:function(){this._checkLimit(),this._value+=(this._targetValue-this._value)*this.easing,Math.abs(this._targetValue-this._value)<1e-4&&(this._value=this._targetValue)}},{key:"setTo",value:function(mValue){this._targetValue=this._value=mValue}},{key:"add",value:function(mAdd){this._targetValue+=mAdd}},{key:"limit",value:function(mMin,mMax){if(mMin>mMax)return void this.limit(mMax,mMin);this._min=mMin,this._max=mMax,this._checkLimit()}},{key:"_checkLimit",value:function(){void 0!==this._min&&this._targetValue<this._min&&(this._targetValue=this._min),void 0!==this._max&&this._targetValue>this._max&&(this._targetValue=this._max)}},{key:"destroy",value:function(){_scheduling2.default.removeEF(this._efIndex)}},{key:"value",set:function(mValue){this._targetValue=mValue},get:function(){return this._value}},{key:"targetValue",get:function(){return this._targetValue}}]),EaseNumber}();exports.default=EaseNumber},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),a=_glMatrix.vec3.create(),b=_glMatrix.vec3.create(),c=_glMatrix.vec3.create(),target=_glMatrix.vec3.create(),edge1=_glMatrix.vec3.create(),edge2=_glMatrix.vec3.create(),normal=_glMatrix.vec3.create(),diff=_glMatrix.vec3.create(),Ray=function(){function Ray(mOrigin,mDirection){_classCallCheck(this,Ray),this.origin=_glMatrix.vec3.clone(mOrigin),this.direction=_glMatrix.vec3.clone(mDirection)}return _createClass(Ray,[{key:"at",value:function(t){return _glMatrix.vec3.copy(target,this.direction),_glMatrix.vec3.scale(target,target,t),_glMatrix.vec3.add(target,target,this.origin),target}},{key:"lookAt",value:function(mTarget){_glMatrix.vec3.sub(this.direction,mTarget,this.origin),_glMatrix.vec3.normalize(this.origin,this.origin)}},{key:"closestPointToPoint",value:function(mPoint){var result=_glMatrix.vec3.create();_glMatrix.vec3.sub(mPoint,this.origin);var directionDistance=_glMatrix.vec3.dot(result,this.direction);return directionDistance<0?_glMatrix.vec3.clone(this.origin):(_glMatrix.vec3.copy(result,this.direction),_glMatrix.vec3.scale(result,result,directionDistance),_glMatrix.vec3.add(result,result,this.origin),result)}},{key:"distanceToPoint",value:function(mPoint){return Math.sqrt(this.distanceSqToPoint(mPoint))}},{key:"distanceSqToPoint",value:function(mPoint){var v1=_glMatrix.vec3.create();_glMatrix.vec3.sub(v1,mPoint,this.origin);var directionDistance=_glMatrix.vec3.dot(v1,this.direction);return directionDistance<0?_glMatrix.vec3.squaredDistance(this.origin,mPoint):(_glMatrix.vec3.copy(v1,this.direction),_glMatrix.vec3.scale(v1,v1,directionDistance),_glMatrix.vec3.add(v1,v1,this.origin),_glMatrix.vec3.squaredDistance(v1,mPoint))}},{key:"intersectsSphere",value:function(mCenter,mRadius){return this.distanceToPoint(mCenter)<=mRadius}},{key:"intersectSphere",value:function(mCenter,mRadius){var v1=_glMatrix.vec3.create();_glMatrix.vec3.sub(v1,mCenter,this.origin);var tca=_glMatrix.vec3.dot(v1,this.direction),d2=_glMatrix.vec3.dot(v1,v1)-tca*tca,radius2=mRadius*mRadius;if(d2>radius2)return null;var thc=Math.sqrt(radius2-d2),t0=tca-thc,t1=tca+thc;return t0<0&&t1<0?null:t0<0?this.at(t1):this.at(t0)}},{key:"distanceToPlane",value:function(mPlaneCenter,mNormal){_glMatrix.vec3.dot(mNormal,this.direction)}},{key:"intersectTriangle",value:function(mPA,mPB,mPC){var backfaceCulling=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];_glMatrix.vec3.copy(a,mPA),_glMatrix.vec3.copy(b,mPB),_glMatrix.vec3.copy(c,mPC),_glMatrix.vec3.sub(edge1,b,a),_glMatrix.vec3.sub(edge2,c,a),_glMatrix.vec3.cross(normal,edge1,edge2);var DdN=_glMatrix.vec3.dot(this.direction,normal),sign=void 0;if(DdN>0){if(backfaceCulling)return null;sign=1}else{if(!(DdN<0))return null;sign=-1,DdN=-DdN}_glMatrix.vec3.sub(diff,this.origin,a),_glMatrix.vec3.cross(edge2,diff,edge2);var DdQxE2=sign*_glMatrix.vec3.dot(this.direction,edge2);if(DdQxE2<0)return null;_glMatrix.vec3.cross(edge1,edge1,diff);var DdE1xQ=sign*_glMatrix.vec3.dot(this.direction,edge1);if(DdE1xQ<0)return null;if(DdQxE2+DdE1xQ>DdN)return null;var Qdn=-sign*_glMatrix.vec3.dot(diff,normal);return Qdn<0?null:this.at(Qdn/DdN)}}]),Ray}();exports.default=Ray},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),Camera=function(){function Camera(){_classCallCheck(this,Camera),this._matrix=_glMatrix.mat4.create(),this._quat=_glMatrix.quat.create(),this._orientation=_glMatrix.mat4.create(),this._projection=_glMatrix.mat4.create(),this.position=vec3.create()}return _createClass(Camera,[{key:"lookAt",value:function(aEye,aCenter){var aUp=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,1,0];this._eye=vec3.clone(aEye),this._center=vec3.clone(aCenter),vec3.copy(this.position,aEye),_glMatrix.mat4.identity(this._matrix),_glMatrix.mat4.lookAt(this._matrix,aEye,aCenter,aUp)}},{key:"setFromOrientation",value:function(x,y,z,w){_glMatrix.quat.set(this._quat,x,y,z,w),_glMatrix.mat4.fromQuat(this._orientation,this._quat),_glMatrix.mat4.translate(this._matrix,this._orientation,this.positionOffset)}},{key:"setProjection",value:function(mProj){this._projection=_glMatrix.mat4.clone(mProj)}},{key:"setView",value:function(mView){this._matrix=_glMatrix.mat4.clone(mView)}},{key:"setFromViewProj",value:function(mView,mProj){this.setView(mView),this.setProjection(mProj)}},{key:"matrix",get:function(){return this._matrix}},{key:"viewMatrix",get:function(){return this._matrix}},{key:"projection",get:function(){return this._projection}},{key:"projectionMatrix",get:function(){return this._projection}},{key:"eye",get:function(){return this._eye}},{key:"center",get:function(){return this._center}}]),Camera}();exports.default=Camera},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Camera2=__webpack_require__(15),_Camera3=_interopRequireDefault(_Camera2),_Ray=__webpack_require__(14),_Ray2=_interopRequireDefault(_Ray),_glMatrix=__webpack_require__(1),mInverseViewProj=_glMatrix.mat4.create(),cameraDir=_glMatrix.vec3.create(),CameraPerspective=function(_Camera){function CameraPerspective(){return _classCallCheck(this,CameraPerspective),_possibleConstructorReturn(this,(CameraPerspective.__proto__||Object.getPrototypeOf(CameraPerspective)).apply(this,arguments))}return _inherits(CameraPerspective,_Camera),_createClass(CameraPerspective,[{key:"setPerspective",value:function(mFov,mAspectRatio,mNear,mFar){this._fov=mFov,this._near=mNear,this._far=mFar,this._aspectRatio=mAspectRatio,_glMatrix.mat4.perspective(this._projection,mFov,mAspectRatio,mNear,mFar)}},{key:"setAspectRatio",value:function(mAspectRatio){this._aspectRatio=mAspectRatio,_glMatrix.mat4.perspective(this.projection,this._fov,mAspectRatio,this._near,this._far)}},{key:"generateRay",value:function(mScreenPosition,mRay){var proj=this.projectionMatrix,view=this.viewMatrix;return _glMatrix.mat4.multiply(mInverseViewProj,proj,view),_glMatrix.mat4.invert(mInverseViewProj,mInverseViewProj),_glMatrix.vec3.transformMat4(cameraDir,mScreenPosition,mInverseViewProj),_glMatrix.vec3.sub(cameraDir,cameraDir,this.position),_glMatrix.vec3.normalize(cameraDir,cameraDir),mRay?(mRay.origin=this.position,mRay.direction=cameraDir):mRay=new _Ray2.default(this.position,cameraDir),mRay}}]),CameraPerspective}(_Camera3.default);exports.default=CameraPerspective},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),BinaryLoader=function(){function BinaryLoader(){var _this=this,isArrayBuffer=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classCallCheck(this,BinaryLoader),this._req=new XMLHttpRequest,this._req.addEventListener("load",function(e){return _this._onLoaded(e)}),this._req.addEventListener("progress",function(e){return _this._onProgress(e)}),isArrayBuffer&&(this._req.responseType="arraybuffer")}return _createClass(BinaryLoader,[{key:"load",value:function(url,callback){console.log("Loading : ",url),this._callback=callback,this._req.open("GET",url),this._req.send()}},{key:"_onLoaded",value:function(){this._callback(this._req.response)}},{key:"_onProgress",value:function(){}}]),BinaryLoader}();exports.default=BinaryLoader},function(module,exports){module.exports="// bigTriangle.vert\n\n#define SHADER_NAME BIG_TRIANGLE_VERTEX\n\nprecision mediump float;\n#define GLSLIFY 1\nattribute vec2 aPosition;\nvarying vec2 vTextureCoord;\n\nvoid main(void) {\n    gl_Position = vec4(aPosition, 0.0, 1.0);\n    vTextureCoord = aPosition * .5 + .5;\n}"},function(module,exports){module.exports="// copy.frag\n\n#define SHADER_NAME COPY_FRAGMENT\n\nprecision mediump float;\n#define GLSLIFY 1\n\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\n\nvoid main(void) {\n    gl_FragColor = texture2D(texture, vTextureCoord);\n}"},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(9);return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function fromMat4(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[4],out[4]=a[5],out[5]=a[6],out[6]=a[8],out[7]=a[9],out[8]=a[10],out}function clone(a){var out=new glMatrix.ARRAY_TYPE(9);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function fromValues(m00,m01,m02,m10,m11,m12,m20,m21,m22){var out=new glMatrix.ARRAY_TYPE(9);return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m10,out[4]=m11,out[5]=m12,out[6]=m20,out[7]=m21,out[8]=m22,out}function set(out,m00,m01,m02,m10,m11,m12,m20,m21,m22){return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m10,out[4]=m11,out[5]=m12,out[6]=m20,out[7]=m21,out[8]=m22,out}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function transpose(out,a){if(out===a){var a01=a[1],a02=a[2],a12=a[5];out[1]=a[3],out[2]=a[6],out[3]=a01,out[5]=a[7],out[6]=a02,out[7]=a12}else out[0]=a[0],out[1]=a[3],out[2]=a[6],out[3]=a[1],out[4]=a[4],out[5]=a[7],out[6]=a[2],out[7]=a[5],out[8]=a[8];return out}function invert(out,a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b01=a22*a11-a12*a21,b11=-a22*a10+a12*a20,b21=a21*a10-a11*a20,det=a00*b01+a01*b11+a02*b21;return det?(det=1/det,out[0]=b01*det,out[1]=(-a22*a01+a02*a21)*det,out[2]=(a12*a01-a02*a11)*det,out[3]=b11*det,out[4]=(a22*a00-a02*a20)*det,out[5]=(-a12*a00+a02*a10)*det,out[6]=b21*det,out[7]=(-a21*a00+a01*a20)*det,out[8]=(a11*a00-a01*a10)*det,out):null}function adjoint(out,a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return out[0]=a11*a22-a12*a21,out[1]=a02*a21-a01*a22,out[2]=a01*a12-a02*a11,out[3]=a12*a20-a10*a22,out[4]=a00*a22-a02*a20,out[5]=a02*a10-a00*a12,out[6]=a10*a21-a11*a20,out[7]=a01*a20-a00*a21,out[8]=a00*a11-a01*a10,out}function determinant(a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return a00*(a22*a11-a12*a21)+a01*(-a22*a10+a12*a20)+a02*(a21*a10-a11*a20)}function multiply(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b00=b[0],b01=b[1],b02=b[2],b10=b[3],b11=b[4],b12=b[5],b20=b[6],b21=b[7],b22=b[8];return out[0]=b00*a00+b01*a10+b02*a20,out[1]=b00*a01+b01*a11+b02*a21,out[2]=b00*a02+b01*a12+b02*a22,out[3]=b10*a00+b11*a10+b12*a20,out[4]=b10*a01+b11*a11+b12*a21,out[5]=b10*a02+b11*a12+b12*a22,out[6]=b20*a00+b21*a10+b22*a20,out[7]=b20*a01+b21*a11+b22*a21,out[8]=b20*a02+b21*a12+b22*a22,out}function translate(out,a,v){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],x=v[0],y=v[1];return out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a10,out[4]=a11,out[5]=a12,out[6]=x*a00+y*a10+a20,out[7]=x*a01+y*a11+a21,out[8]=x*a02+y*a12+a22,out}function rotate(out,a,rad){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],s=Math.sin(rad),c=Math.cos(rad);return out[0]=c*a00+s*a10,out[1]=c*a01+s*a11,out[2]=c*a02+s*a12,out[3]=c*a10-s*a00,out[4]=c*a11-s*a01,out[5]=c*a12-s*a02,out[6]=a20,out[7]=a21,out[8]=a22,out}function scale(out,a,v){var x=v[0],y=v[1];return out[0]=x*a[0],out[1]=x*a[1],out[2]=x*a[2],out[3]=y*a[3],out[4]=y*a[4],out[5]=y*a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function fromTranslation(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=v[0],out[7]=v[1],out[8]=1,out}function fromRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=0,out[3]=-s,out[4]=c,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=0,out[4]=v[1],out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function fromMat2d(out,a){return out[0]=a[0],out[1]=a[1],out[2]=0,out[3]=a[2],out[4]=a[3],out[5]=0,out[6]=a[4],out[7]=a[5],out[8]=1,out}function fromQuat(out,q){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,yx=y*x2,yy=y*y2,zx=z*x2,zy=z*y2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-yy-zz,out[3]=yx-wz,out[6]=zx+wy,out[1]=yx+wz,out[4]=1-xx-zz,out[7]=zy-wx,out[2]=zx-wy,out[5]=zy+wx,out[8]=1-xx-yy,out}function normalFromMat4(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(det=1/det,out[0]=(a11*b11-a12*b10+a13*b09)*det,out[1]=(a12*b08-a10*b11-a13*b07)*det,out[2]=(a10*b10-a11*b08+a13*b06)*det,out[3]=(a02*b10-a01*b11-a03*b09)*det,out[4]=(a00*b11-a02*b08+a03*b07)*det,out[5]=(a01*b08-a00*b10-a03*b06)*det,out[6]=(a31*b05-a32*b04+a33*b03)*det,out[7]=(a32*b02-a30*b05-a33*b01)*det,out[8]=(a30*b04-a31*b02+a33*b00)*det,out):null}function projection(out,width,height){return out[0]=2/width,out[1]=0,out[2]=0,out[3]=0,out[4]=-2/height,out[5]=0,out[6]=-1,out[7]=1,out[8]=1,out}function str(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"}function frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out[6]=a[6]+b[6],out[7]=a[7]+b[7],out[8]=a[8]+b[8],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out[6]=a[6]-b[6],out[7]=a[7]-b[7],out[8]=a[8]-b[8],out}function multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out[6]=a[6]*b,out[7]=a[7]*b,out[8]=a[8]*b,out}function multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out[6]=a[6]+b[6]*scale,out[7]=a[7]+b[7]*scale,out[8]=a[8]+b[8]*scale,out}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],a6=a[6],a7=a[7],a8=a[8],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=glMatrix.EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=glMatrix.EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))&&Math.abs(a6-b6)<=glMatrix.EPSILON*Math.max(1,Math.abs(a6),Math.abs(b6))&&Math.abs(a7-b7)<=glMatrix.EPSILON*Math.max(1,Math.abs(a7),Math.abs(b7))&&Math.abs(a8-b8)<=glMatrix.EPSILON*Math.max(1,Math.abs(a8),Math.abs(b8))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sub=exports.mul=void 0,exports.create=create,exports.fromMat4=fromMat4,exports.clone=clone,exports.copy=copy,exports.fromValues=fromValues,exports.set=set,exports.identity=identity,exports.transpose=transpose,exports.invert=invert,exports.adjoint=adjoint,exports.determinant=determinant,exports.multiply=multiply,exports.translate=translate,exports.rotate=rotate,exports.scale=scale,exports.fromTranslation=fromTranslation,exports.fromRotation=fromRotation,exports.fromScaling=fromScaling,exports.fromMat2d=fromMat2d,exports.fromQuat=fromQuat,exports.normalFromMat4=normalFromMat4,exports.projection=projection,exports.str=str,exports.frob=frob,exports.add=add,exports.subtract=subtract,exports.multiplyScalar=multiplyScalar,exports.multiplyScalarAndAdd=multiplyScalarAndAdd,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.mul=multiply,exports.sub=subtract},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(3);return out[0]=0,out[1]=0,out[2]=0,out}function clone(a){var out=new glMatrix.ARRAY_TYPE(3);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out}function length(a){var x=a[0],y=a[1],z=a[2];return Math.sqrt(x*x+y*y+z*z)}function fromValues(x,y,z){var out=new glMatrix.ARRAY_TYPE(3);return out[0]=x,out[1]=y,out[2]=z,out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out}function set(out,x,y,z){return out[0]=x,out[1]=y,out[2]=z,out}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out}function multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out[2]=a[2]*b[2],out}function divide(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out[2]=a[2]/b[2],out}function ceil(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out[2]=Math.ceil(a[2]),out}function floor(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out[2]=Math.floor(a[2]),out}function min(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out[2]=Math.min(a[2],b[2]),out}function max(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out[2]=Math.max(a[2],b[2]),out}function round(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out[2]=Math.round(a[2]),out}function scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out}function scaleAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out}function distance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return Math.sqrt(x*x+y*y+z*z)}function squaredDistance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return x*x+y*y+z*z}function squaredLength(a){var x=a[0],y=a[1],z=a[2];return x*x+y*y+z*z}function negate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out}function inverse(out,a){return out[0]=1/a[0],out[1]=1/a[1],out[2]=1/a[2],out}function normalize(out,a){var x=a[0],y=a[1],z=a[2],len=x*x+y*y+z*z;return len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len,out[2]=a[2]*len),out}function dot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function cross(out,a,b){var ax=a[0],ay=a[1],az=a[2],bx=b[0],by=b[1],bz=b[2];return out[0]=ay*bz-az*by,out[1]=az*bx-ax*bz,out[2]=ax*by-ay*bx,out}function lerp(out,a,b,t){var ax=a[0],ay=a[1],az=a[2];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out[2]=az+t*(b[2]-az),out}function hermite(out,a,b,c,d,t){var factorTimes2=t*t,factor1=factorTimes2*(2*t-3)+1,factor2=factorTimes2*(t-2)+t,factor3=factorTimes2*(t-1),factor4=factorTimes2*(3-2*t);return out[0]=a[0]*factor1+b[0]*factor2+c[0]*factor3+d[0]*factor4,out[1]=a[1]*factor1+b[1]*factor2+c[1]*factor3+d[1]*factor4,out[2]=a[2]*factor1+b[2]*factor2+c[2]*factor3+d[2]*factor4,out}function bezier(out,a,b,c,d,t){var inverseFactor=1-t,inverseFactorTimesTwo=inverseFactor*inverseFactor,factorTimes2=t*t,factor1=inverseFactorTimesTwo*inverseFactor,factor2=3*t*inverseFactorTimesTwo,factor3=3*factorTimes2*inverseFactor,factor4=factorTimes2*t;return out[0]=a[0]*factor1+b[0]*factor2+c[0]*factor3+d[0]*factor4,out[1]=a[1]*factor1+b[1]*factor2+c[1]*factor3+d[1]*factor4,out[2]=a[2]*factor1+b[2]*factor2+c[2]*factor3+d[2]*factor4,out}function random(out,scale){scale=scale||1;var r=2*glMatrix.RANDOM()*Math.PI,z=2*glMatrix.RANDOM()-1,zScale=Math.sqrt(1-z*z)*scale;return out[0]=Math.cos(r)*zScale,out[1]=Math.sin(r)*zScale,out[2]=z*scale,out}function transformMat4(out,a,m){var x=a[0],y=a[1],z=a[2],w=m[3]*x+m[7]*y+m[11]*z+m[15];return w=w||1,out[0]=(m[0]*x+m[4]*y+m[8]*z+m[12])/w,out[1]=(m[1]*x+m[5]*y+m[9]*z+m[13])/w,out[2]=(m[2]*x+m[6]*y+m[10]*z+m[14])/w,out}function transformMat3(out,a,m){var x=a[0],y=a[1],z=a[2];return out[0]=x*m[0]+y*m[3]+z*m[6],out[1]=x*m[1]+y*m[4]+z*m[7],out[2]=x*m[2]+y*m[5]+z*m[8],out}function transformQuat(out,a,q){var x=a[0],y=a[1],z=a[2],qx=q[0],qy=q[1],qz=q[2],qw=q[3],ix=qw*x+qy*z-qz*y,iy=qw*y+qz*x-qx*z,iz=qw*z+qx*y-qy*x,iw=-qx*x-qy*y-qz*z;return out[0]=ix*qw+iw*-qx+iy*-qz-iz*-qy,out[1]=iy*qw+iw*-qy+iz*-qx-ix*-qz,out[2]=iz*qw+iw*-qz+ix*-qy-iy*-qx,out}function rotateX(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[0],r[1]=p[1]*Math.cos(c)-p[2]*Math.sin(c),r[2]=p[1]*Math.sin(c)+p[2]*Math.cos(c),out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out}function rotateY(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[2]*Math.sin(c)+p[0]*Math.cos(c),r[1]=p[1],r[2]=p[2]*Math.cos(c)-p[0]*Math.sin(c),out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out}function rotateZ(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[0]*Math.cos(c)-p[1]*Math.sin(c),r[1]=p[0]*Math.sin(c)+p[1]*Math.cos(c),r[2]=p[2],out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out}function angle(a,b){var tempA=fromValues(a[0],a[1],a[2]),tempB=fromValues(b[0],b[1],b[2]);normalize(tempA,tempA),normalize(tempB,tempB);var cosine=dot(tempA,tempB);return cosine>1?0:cosine<-1?Math.PI:Math.acos(cosine)}function str(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],b0=b[0],b1=b[1],b2=b[2];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.forEach=exports.sqrLen=exports.len=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=void 0,exports.create=create,exports.clone=clone,exports.length=length,exports.fromValues=fromValues,exports.copy=copy,exports.set=set,exports.add=add,exports.subtract=subtract,exports.multiply=multiply,exports.divide=divide,exports.ceil=ceil,exports.floor=floor,exports.min=min,exports.max=max,exports.round=round,exports.scale=scale,exports.scaleAndAdd=scaleAndAdd,exports.distance=distance,exports.squaredDistance=squaredDistance,exports.squaredLength=squaredLength,exports.negate=negate,exports.inverse=inverse,exports.normalize=normalize,exports.dot=dot,exports.cross=cross,exports.lerp=lerp,exports.hermite=hermite,exports.bezier=bezier,exports.random=random,exports.transformMat4=transformMat4,exports.transformMat3=transformMat3,exports.transformQuat=transformQuat,exports.rotateX=rotateX,exports.rotateY=rotateY,exports.rotateZ=rotateZ,exports.angle=angle,exports.str=str,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.sub=subtract,exports.mul=multiply,exports.div=divide,exports.dist=distance,exports.sqrDist=squaredDistance,exports.len=length,exports.sqrLen=squaredLength,exports.forEach=function(){var vec=create();return function(a,stride,offset,count,fn,arg){var i=void 0,l=void 0;for(stride||(stride=3),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],vec[2]=a[i+2],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1],a[i+2]=vec[2];return a}}()},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=0,out[1]=0,out[2]=0,out[3]=0,out}function clone(a){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function fromValues(x,y,z,w){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=x,out[1]=y,out[2]=z,out[3]=w,out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function set(out,x,y,z,w){return out[0]=x,out[1]=y,out[2]=z,out[3]=w,out}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out}function multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out[2]=a[2]*b[2],out[3]=a[3]*b[3],out}function divide(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out[2]=a[2]/b[2],out[3]=a[3]/b[3],out}function ceil(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out[2]=Math.ceil(a[2]),out[3]=Math.ceil(a[3]),out}function floor(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out[2]=Math.floor(a[2]),out[3]=Math.floor(a[3]),out}function min(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out[2]=Math.min(a[2],b[2]),out[3]=Math.min(a[3],b[3]),out}function max(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out[2]=Math.max(a[2],b[2]),out[3]=Math.max(a[3],b[3]),out}function round(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out[2]=Math.round(a[2]),out[3]=Math.round(a[3]),out}function scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out}function scaleAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out}function distance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2],w=b[3]-a[3];return Math.sqrt(x*x+y*y+z*z+w*w)}function squaredDistance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2],w=b[3]-a[3];return x*x+y*y+z*z+w*w}function length(a){var x=a[0],y=a[1],z=a[2],w=a[3];return Math.sqrt(x*x+y*y+z*z+w*w)}function squaredLength(a){var x=a[0],y=a[1],z=a[2],w=a[3];return x*x+y*y+z*z+w*w}function negate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out[3]=-a[3],out}function inverse(out,a){return out[0]=1/a[0],out[1]=1/a[1],out[2]=1/a[2],out[3]=1/a[3],out}function normalize(out,a){var x=a[0],y=a[1],z=a[2],w=a[3],len=x*x+y*y+z*z+w*w;return len>0&&(len=1/Math.sqrt(len),out[0]=x*len,out[1]=y*len,out[2]=z*len,out[3]=w*len),out}function dot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function lerp(out,a,b,t){var ax=a[0],ay=a[1],az=a[2],aw=a[3];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out[2]=az+t*(b[2]-az),out[3]=aw+t*(b[3]-aw),out}function random(out,vectorScale){return vectorScale=vectorScale||1,out[0]=glMatrix.RANDOM(),out[1]=glMatrix.RANDOM(),out[2]=glMatrix.RANDOM(),out[3]=glMatrix.RANDOM(),normalize(out,out),scale(out,out,vectorScale),out}function transformMat4(out,a,m){var x=a[0],y=a[1],z=a[2],w=a[3];return out[0]=m[0]*x+m[4]*y+m[8]*z+m[12]*w,out[1]=m[1]*x+m[5]*y+m[9]*z+m[13]*w,out[2]=m[2]*x+m[6]*y+m[10]*z+m[14]*w,out[3]=m[3]*x+m[7]*y+m[11]*z+m[15]*w,out}function transformQuat(out,a,q){var x=a[0],y=a[1],z=a[2],qx=q[0],qy=q[1],qz=q[2],qw=q[3],ix=qw*x+qy*z-qz*y,iy=qw*y+qz*x-qx*z,iz=qw*z+qx*y-qy*x,iw=-qx*x-qy*y-qz*z;return out[0]=ix*qw+iw*-qx+iy*-qz-iz*-qy,out[1]=iy*qw+iw*-qy+iz*-qx-ix*-qz,out[2]=iz*qw+iw*-qz+ix*-qy-iy*-qx,out[3]=a[3],out}function str(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.forEach=exports.sqrLen=exports.len=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=void 0,exports.create=create,exports.clone=clone,exports.fromValues=fromValues,exports.copy=copy,exports.set=set,exports.add=add,exports.subtract=subtract,exports.multiply=multiply,exports.divide=divide,exports.ceil=ceil,exports.floor=floor,exports.min=min,exports.max=max,exports.round=round,exports.scale=scale,exports.scaleAndAdd=scaleAndAdd,exports.distance=distance,exports.squaredDistance=squaredDistance,exports.length=length,exports.squaredLength=squaredLength,exports.negate=negate,exports.inverse=inverse,exports.normalize=normalize,exports.dot=dot,exports.lerp=lerp,exports.random=random,exports.transformMat4=transformMat4,exports.transformQuat=transformQuat,exports.str=str,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.sub=subtract,exports.mul=multiply,exports.div=divide,exports.dist=distance,exports.sqrDist=squaredDistance,exports.len=length,exports.sqrLen=squaredLength,exports.forEach=function(){var vec=create();return function(a,stride,offset,count,fn,arg){var i=void 0,l=void 0;for(stride||(stride=4),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],vec[2]=a[i+2],vec[3]=a[i+3],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1],a[i+2]=vec[2],a[i+3]=vec[3];return a}}()},function(module,exports,__webpack_require__){"use strict";module.exports={ACTIVE_ATTRIBUTES:35721,ACTIVE_ATTRIBUTE_MAX_LENGTH:35722,ACTIVE_TEXTURE:34016,ACTIVE_UNIFORMS:35718,ACTIVE_UNIFORM_MAX_LENGTH:35719,ALIASED_LINE_WIDTH_RANGE:33902,ALIASED_POINT_SIZE_RANGE:33901,ALPHA:6406,ALPHA_BITS:3413,ALWAYS:519,ARRAY_BUFFER:34962,ARRAY_BUFFER_BINDING:34964,ATTACHED_SHADERS:35717,BACK:1029,BLEND:3042,BLEND_COLOR:32773,BLEND_DST_ALPHA:32970,BLEND_DST_RGB:32968,BLEND_EQUATION:32777,BLEND_EQUATION_ALPHA:34877,BLEND_EQUATION_RGB:32777,BLEND_SRC_ALPHA:32971,BLEND_SRC_RGB:32969,BLUE_BITS:3412,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,BROWSER_DEFAULT_WEBGL:37444,BUFFER_SIZE:34660,BUFFER_USAGE:34661,BYTE:5120,CCW:2305,CLAMP_TO_EDGE:33071,COLOR_ATTACHMENT0:36064,COLOR_BUFFER_BIT:16384,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,COMPILE_STATUS:35713,COMPRESSED_TEXTURE_FORMATS:34467,CONSTANT_ALPHA:32771,CONSTANT_COLOR:32769,CONTEXT_LOST_WEBGL:37442,CULL_FACE:2884,CULL_FACE_MODE:2885,CURRENT_PROGRAM:35725,CURRENT_VERTEX_ATTRIB:34342,CW:2304,DECR:7683,DECR_WRAP:34056,DELETE_STATUS:35712,DEPTH_ATTACHMENT:36096,DEPTH_BITS:3414,DEPTH_BUFFER_BIT:256,DEPTH_CLEAR_VALUE:2931,DEPTH_COMPONENT:6402,RED:6403,DEPTH_COMPONENT16:33189,DEPTH_FUNC:2932,DEPTH_RANGE:2928,DEPTH_STENCIL:34041,DEPTH_STENCIL_ATTACHMENT:33306,DEPTH_TEST:2929,DEPTH_WRITEMASK:2930,DITHER:3024,DONT_CARE:4352,DST_ALPHA:772,DST_COLOR:774,DYNAMIC_DRAW:35048,ELEMENT_ARRAY_BUFFER:34963,ELEMENT_ARRAY_BUFFER_BINDING:34965,EQUAL:514,FASTEST:4353,FLOAT:5126,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,FRAGMENT_SHADER:35632,FRAMEBUFFER:36160,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_BINDING:36006,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_UNSUPPORTED:36061,FRONT:1028,FRONT_AND_BACK:1032,FRONT_FACE:2886,FUNC_ADD:32774,FUNC_REVERSE_SUBTRACT:32779,FUNC_SUBTRACT:32778,GENERATE_MIPMAP_HINT:33170,GEQUAL:518,GREATER:516,GREEN_BITS:3411,HIGH_FLOAT:36338,HIGH_INT:36341,INCR:7682,INCR_WRAP:34055,INFO_LOG_LENGTH:35716,INT:5124,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,INVALID_ENUM:1280,INVALID_FRAMEBUFFER_OPERATION:1286,INVALID_OPERATION:1282,INVALID_VALUE:1281,INVERT:5386,KEEP:7680,LEQUAL:515,LESS:513,LINEAR:9729,LINEAR_MIPMAP_LINEAR:9987,LINEAR_MIPMAP_NEAREST:9985,LINES:1,LINE_LOOP:2,LINE_STRIP:3,LINE_WIDTH:2849,LINK_STATUS:35714,LOW_FLOAT:36336,LOW_INT:36339,LUMINANCE:6409,LUMINANCE_ALPHA:6410,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_CUBE_MAP_TEXTURE_SIZE:34076,MAX_FRAGMENT_UNIFORM_VECTORS:36349,MAX_RENDERBUFFER_SIZE:34024,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_TEXTURE_SIZE:3379,MAX_VARYING_VECTORS:36348,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VIEWPORT_DIMS:3386,MEDIUM_FLOAT:36337,MEDIUM_INT:36340,MIRRORED_REPEAT:33648,NEAREST:9728,NEAREST_MIPMAP_LINEAR:9986,NEAREST_MIPMAP_NEAREST:9984,NEVER:512,NICEST:4354,NONE:0,NOTEQUAL:517,NO_ERROR:0,NUM_COMPRESSED_TEXTURE_FORMATS:34466,ONE:1,ONE_MINUS_CONSTANT_ALPHA:32772,ONE_MINUS_CONSTANT_COLOR:32770,ONE_MINUS_DST_ALPHA:773,ONE_MINUS_DST_COLOR:775,ONE_MINUS_SRC_ALPHA:771,ONE_MINUS_SRC_COLOR:769,OUT_OF_MEMORY:1285,PACK_ALIGNMENT:3333,POINTS:0,POLYGON_OFFSET_FACTOR:32824,POLYGON_OFFSET_FILL:32823,POLYGON_OFFSET_UNITS:10752,RED_BITS:3410,RENDERBUFFER:36161,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_BINDING:36007,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_STENCIL_SIZE:36181,RENDERBUFFER_WIDTH:36162,RENDERER:7937,REPEAT:10497,REPLACE:7681,RGB:6407,RGB5_A1:32855,RGB565:36194,RGBA:6408,RGBA4:32854,SAMPLER_2D:35678,SAMPLER_CUBE:35680,SAMPLES:32937,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_BUFFERS:32936,SAMPLE_COVERAGE:32928,SAMPLE_COVERAGE_INVERT:32939,SAMPLE_COVERAGE_VALUE:32938,SCISSOR_BOX:3088,SCISSOR_TEST:3089,SHADER_COMPILER:36346,SHADER_SOURCE_LENGTH:35720,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,SHORT:5122,SRC_ALPHA:770,SRC_ALPHA_SATURATE:776,SRC_COLOR:768,STATIC_DRAW:35044,STENCIL_ATTACHMENT:36128,STENCIL_BACK_FAIL:34817,STENCIL_BACK_FUNC:34816,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,STENCIL_BITS:3415,STENCIL_BUFFER_BIT:1024,STENCIL_CLEAR_VALUE:2961,STENCIL_FAIL:2964,STENCIL_FUNC:2962,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_TEST:2960,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STREAM_DRAW:35040,SUBPIXEL_BITS:3408,TEXTURE:5890,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,TEXTURE_2D:3553,TEXTURE_BINDING_2D:32873,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP:34067,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,UNPACK_ALIGNMENT:3317,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNSIGNED_BYTE:5121,UNSIGNED_INT:5125,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,VALIDATE_STATUS:35715,VENDOR:7936,VERSION:7938,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_SHADER:35633,VIEWPORT:2978,ZERO:0,R8:33321}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(gl,shaderProgram,name){return void 0===shaderProgram.cacheAttribLoc&&(shaderProgram.cacheAttribLoc={}),void 0===shaderProgram.cacheAttribLoc[name]&&(shaderProgram.cacheAttribLoc[name]=gl.getAttribLocation(shaderProgram,name)),shaderProgram.cacheAttribLoc[name]}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function isPowerOfTwo(x){return 0!==x&&!(x&x-1)}function isSourcePowerOfTwo(obj){var w=obj.width||obj.videoWidth,h=obj.height||obj.videoHeight;return!(!w||!h)&&(isPowerOfTwo(w)&&isPowerOfTwo(h))}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_WebglNumber=__webpack_require__(8),gl=(_interopRequireDefault(_WebglNumber),void 0),GLTexture=function(){function GLTexture(mSource){var isTexture=arguments.length>1&&void 0!==arguments[1]&&arguments[1],mParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(_classCallCheck(this,GLTexture),gl=_GLTool2.default.gl,isTexture)this._texture=mSource;else{this._mSource=mSource,this._texture=gl.createTexture(),this._isVideo="VIDEO"===mSource.tagName,this._premultiplyAlpha=!0,this._magFilter=mParameters.magFilter||gl.LINEAR,this._minFilter=mParameters.minFilter||gl.NEAREST_MIPMAP_LINEAR,this._wrapS=mParameters.wrapS||gl.MIRRORED_REPEAT,this._wrapT=mParameters.wrapT||gl.MIRRORED_REPEAT;mSource.width||mSource.videoWidth?isSourcePowerOfTwo(mSource)||(this._wrapS=this._wrapT=gl.CLAMP_TO_EDGE,this._minFilter===gl.NEAREST_MIPMAP_LINEAR&&(this._minFilter=gl.LINEAR)):(this._wrapS=this._wrapT=gl.CLAMP_TO_EDGE,this._minFilter===gl.NEAREST_MIPMAP_LINEAR&&(this._minFilter=gl.LINEAR)),gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!0),mSource.exposure?gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,mSource.shape[0],mSource.shape[1],0,gl.RGBA,gl.FLOAT,mSource.data):gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,mSource),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._magFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._minFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this._wrapS),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this._wrapT);var ext=_GLTool2.default.getExtension("EXT_texture_filter_anisotropic");if(ext){var max=gl.getParameter(ext.MAX_TEXTURE_MAX_ANISOTROPY_EXT);gl.texParameterf(gl.TEXTURE_2D,ext.TEXTURE_MAX_ANISOTROPY_EXT,max)}this._canGenerateMipmap()&&gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null)}}return _createClass(GLTexture,[{key:"generateMipmap",value:function(){this._canGenerateMipmap()&&(gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null))}},{key:"updateTexture",value:function(mSource){mSource&&(this._mSource=mSource),gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!0),gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,this._mSource),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._magFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._minFilter),this._canGenerateMipmap()&&gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null)}},{key:"bind",value:function(index){void 0===index&&(index=0),_GLTool2.default.shader&&(gl.activeTexture(gl.TEXTURE0+index),gl.bindTexture(gl.TEXTURE_2D,this._texture),this._bindIndex=index)}},{key:"_canGenerateMipmap",value:function(){return this._minFilter===gl.LINEAR_MIPMAP_NEAREST||this._minFilter===gl.NEAREST_MIPMAP_LINEAR||this._minFilter===gl.LINEAR_MIPMAP_LINEAR||this._minFilter===gl.NEAREST_MIPMAP_NEAREST}},{key:"minFilter",set:function(mValue){if(mValue!==gl.LINEAR&&mValue!==gl.NEAREST&&mValue!==gl.NEAREST_MIPMAP_LINEAR&&mValue!==gl.NEAREST_MIPMAP_LINEAR&&mValue!==gl.LINEAR_MIPMAP_LINEAR&&mValue!==gl.NEAREST_MIPMAP_NEAREST)return this;this._minFilter=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._minFilter),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._minFilter}},{key:"magFilter",set:function(mValue){if(mValue!==gl.LINEAR&&mValue!==gl.NEAREST)return this;this._magFilter=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._magFilter),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._magFilter}},{key:"wrapS",set:function(mValue){if(mValue!==gl.CLAMP_TO_EDGE&&mValue!==gl.REPEAT&&mValue!==gl.MIRRORED_REPEAT)return this;this._wrapS=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this._wrapS),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._wrapS}},{key:"wrapT",set:function(mValue){if(mValue!==gl.CLAMP_TO_EDGE&&mValue!==gl.REPEAT&&mValue!==gl.MIRRORED_REPEAT)return this;this._wrapT=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this._wrapT),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._wrapT}},{key:"premultiplyAlpha",set:function(mValue){this._premultiplyAlpha=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),console.log("premultiplyAlpha:",mValue),gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiplyAlpha),gl.bindTexture(gl.TEXTURE_2D,null)},get:function(){return this._premultiplyAlpha}},{key:"texture",get:function(){return this._texture}}]),GLTexture}(),_whiteTexture=void 0,_greyTexture=void 0,_blackTexture=void 0;GLTexture.whiteTexture=function(){if(void 0===_whiteTexture){var canvas=document.createElement("canvas");canvas.width=canvas.height=4;var ctx=canvas.getContext("2d");ctx.fillStyle="#fff",ctx.fillRect(0,0,4,4),_whiteTexture=new GLTexture(canvas)}return _whiteTexture},GLTexture.greyTexture=function(){if(void 0===_greyTexture){var canvas=document.createElement("canvas");canvas.width=canvas.height=4;var ctx=canvas.getContext("2d");ctx.fillStyle="rgb(127, 127, 127)",ctx.fillRect(0,0,4,4),_greyTexture=new GLTexture(canvas)}return _greyTexture},GLTexture.blackTexture=function(){if(void 0===_blackTexture){var canvas=document.createElement("canvas");canvas.width=canvas.height=4;var ctx=canvas.getContext("2d");ctx.fillStyle="rgb(127, 127, 127)",ctx.fillRect(0,0,4,4),_blackTexture=new GLTexture(canvas)}return _blackTexture},exports.default=GLTexture},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function isPowerOfTwo(x){return 0!==x&&!(x&x-1)}function getSourceType(mSource){var type=_GLTool2.default.UNSIGNED_BYTE;return mSource instanceof Array?type=_GLTool2.default.UNSIGNED_BYTE:mSource instanceof Uint8Array?type=_GLTool2.default.UNSIGNED_BYTE:mSource instanceof Float32Array?type=_GLTool2.default.FLOAT:mSource instanceof HTMLImageElement?type="image":mSource instanceof HTMLCanvasElement?type="canvas":mSource instanceof HTMLVideoElement&&(type="video"),type}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_getTextureParameters=__webpack_require__(54),_getTextureParameters2=_interopRequireDefault(_getTextureParameters),_WebglNumber=__webpack_require__(8),_WebglNumber2=_interopRequireDefault(_WebglNumber),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_scheduling=__webpack_require__(6),_scheduling2=_interopRequireDefault(_scheduling),gl=void 0,GLTexture=function(){function GLTexture(mSource){var mParam=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_this=this,mWidth=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,mHeight=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;_classCallCheck(this,GLTexture),gl=_GLTool2.default.gl,this._source=mSource,this._getDimension(mSource,mWidth,mHeight),this._sourceType=mParam.type||getSourceType(mSource),this._checkSource(),this._texelType=this._getTexelType(),this._isTextureReady=!0,this._params=(0,_getTextureParameters2.default)(mParam,mSource,this._width,this._height),this._checkMipmap(),this._checkWrapping(),this._texture=gl.createTexture(),"video"===this._sourceType?(this._isTextureReady=!1,_scheduling2.default.addEF(function(){return _this._loop()})):this._uploadTexture()}return _createClass(GLTexture,[{key:"_loop",value:function(){4==this._source.readyState&&(this._isTextureReady=!0,this._uploadTexture())}},{key:"_uploadTexture",value:function(){if(gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!0),this._isSourceHtmlElement()?gl.texImage2D(gl.TEXTURE_2D,0,this._params.internalFormat,this._params.format,this._texelType,this._source):gl.texImage2D(gl.TEXTURE_2D,0,this._params.internalFormat,this._width,this._height,0,this._params.format,this._texelType,this._source),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._params.magFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._params.minFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this._params.wrapS),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this._params.wrapT),gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._params.premultiplyAlpha),this._params.anisotropy>0){var ext=_GLTool2.default.getExtension("EXT_texture_filter_anisotropic");if(ext){var max=gl.getParameter(ext.MAX_TEXTURE_MAX_ANISOTROPY_EXT),level=Math.min(max,this._params.anisotropy);gl.texParameterf(gl.TEXTURE_2D,ext.TEXTURE_MAX_ANISOTROPY_EXT,level)}}this._generateMipmap&&gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null)}},{key:"bind",value:function(index){void 0===index&&(index=0),_GLTool2.default.shader&&(gl.activeTexture(gl.TEXTURE0+index),this._isTextureReady?gl.bindTexture(gl.TEXTURE_2D,this._texture):gl.bindTexture(gl.TEXTURE_2D,GLTexture.blackTexture().texture),this._bindIndex=index)}},{key:"updateTexture",value:function(mSource){this._source=mSource,this._checkSource(),this._uploadTexture()}},{key:"generateMipmap",value:function(){this._generateMipmap&&(gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null))}},{key:"showParameters",value:function(){console.log("Source type : ",_WebglNumber2.default[this._sourceType]||this._sourceType),console.log("Texel type:",_WebglNumber2.default[this.texelType]),console.log("Dimension :",this._width,this._height);for(var s in this._params)console.log(s,_WebglNumber2.default[this._params[s]]||this._params[s]);console.log("Mipmapping :",this._generateMipmap)}},{key:"_getDimension",value:function(mSource,mWidth,mHeight){mSource?(this._width=mSource.width||mSource.videoWidth,this._height=mSource.height||mSource.videoWidth,this._width=this._width||mWidth,this._height=this._height||mHeight,this._width&&this._height||(this._width=this._height=Math.sqrt(mSource.length/4))):(this._width=mWidth,this._height=mHeight)}},{key:"_checkSource",value:function(){this._source&&(this._sourceType===_GLTool2.default.UNSIGNED_BYTE?this._source instanceof Uint8Array||(this._source=new Uint8Array(this._source)):this._sourceType===_GLTool2.default.FLOAT&&(this._source instanceof Float32Array||(this._source=new Float32Array(this._source))))}},{key:"_getTexelType",value:function(){return this._isSourceHtmlElement()?_GLTool2.default.UNSIGNED_BYTE:_GLTool2.default[_WebglNumber2.default[this._sourceType]]||this._sourceType}},{key:"_checkMipmap",value:function(){this._generateMipmap=this._params.mipmap,isPowerOfTwo(this._width)&&isPowerOfTwo(this._height)||(this._generateMipmap=!1),-1==_WebglNumber2.default[this._params.minFilter].indexOf("MIPMAP")&&(this._generateMipmap=!1)}},{key:"_checkWrapping",value:function(){this._generateMipmap||(this._params.wrapS=_GLTool2.default.CLAMP_TO_EDGE,this._params.wrapT=_GLTool2.default.CLAMP_TO_EDGE)}},{key:"_isSourceHtmlElement",value:function(){return"image"===this._sourceType||"video"===this._sourceType||"canvas"===this._sourceType}},{key:"minFilter",get:function(){return this._params.minFilter},set:function(mValue){this._params.minFilter=mValue,this._checkMipmap(),gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this._params.minFilter),gl.bindTexture(gl.TEXTURE_2D,null),this.generateMipmap()}},{key:"magFilter",get:function(){return this._params.minFilter},set:function(mValue){this._params.magFilter=mValue,gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this._params.magFilter),gl.bindTexture(gl.TEXTURE_2D,null)}},{key:"wrapS",get:function(){return this._params.wrapS},set:function(mValue){this._params.wrapS=mValue,this._checkWrapping(),gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this._params.wrapS),gl.bindTexture(gl.TEXTURE_2D,null)}},{key:"wrapT",get:function(){return this._params.wrapT},set:function(mValue){this._params.wrapT=mValue,this._checkWrapping(),gl.bindTexture(gl.TEXTURE_2D,this._texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this._params.wrapT),gl.bindTexture(gl.TEXTURE_2D,null)}},{key:"texelType",get:function(){return this._texelType}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"texture",get:function(){return this._texture}},{key:"isTextureReady",get:function(){return this._isTextureReady}}]),GLTexture}(),_whiteTexture=void 0,_greyTexture=void 0,_blackTexture=void 0;GLTexture.whiteTexture=function(){if(void 0===_whiteTexture){var canvas=document.createElement("canvas");canvas.width=canvas.height=2;var ctx=canvas.getContext("2d");ctx.fillStyle="#fff",ctx.fillRect(0,0,2,2),_whiteTexture=new GLTexture(canvas)}return _whiteTexture},GLTexture.greyTexture=function(){if(void 0===_greyTexture){var canvas=document.createElement("canvas");canvas.width=canvas.height=2;var ctx=canvas.getContext("2d");ctx.fillStyle="rgb(127, 127, 127)",ctx.fillRect(0,0,2,2),_greyTexture=new GLTexture(canvas)}return _greyTexture},GLTexture.blackTexture=function(){if(void 0===_blackTexture){var canvas=document.createElement("canvas");canvas.width=canvas.height=2;var ctx=canvas.getContext("2d");ctx.fillStyle="rgb(0, 0, 0)",ctx.fillRect(0,0,2,2),_blackTexture=new GLTexture(canvas)}return _blackTexture},exports.default=GLTexture},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_parseDds=__webpack_require__(55),_parseDds2=_interopRequireDefault(_parseDds),gl=void 0,GLCubeTexture=function(){function GLCubeTexture(mSource){var mParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},isCubeTexture=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(_classCallCheck(this,GLCubeTexture),gl=_GLTool2.default.gl,isCubeTexture)return void(this.texture=mSource);var hasMipmaps=mSource.length>6;mSource[0].mipmapCount&&(hasMipmaps=mSource[0].mipmapCount>1),this.texture=gl.createTexture(),this.magFilter=mParameters.magFilter||gl.LINEAR,this.minFilter=mParameters.minFilter||gl.LINEAR_MIPMAP_LINEAR,this.wrapS=mParameters.wrapS||gl.CLAMP_TO_EDGE,this.wrapT=mParameters.wrapT||gl.CLAMP_TO_EDGE,hasMipmaps||this.minFilter!=gl.LINEAR_MIPMAP_LINEAR||(this.minFilter=gl.LINEAR),gl.bindTexture(gl.TEXTURE_CUBE_MAP,this.texture);var targets=[gl.TEXTURE_CUBE_MAP_POSITIVE_X,gl.TEXTURE_CUBE_MAP_NEGATIVE_X,gl.TEXTURE_CUBE_MAP_POSITIVE_Y,gl.TEXTURE_CUBE_MAP_NEGATIVE_Y,gl.TEXTURE_CUBE_MAP_POSITIVE_Z,gl.TEXTURE_CUBE_MAP_NEGATIVE_Z],numLevels=1,index=0;if(numLevels=mSource.length/6,this.numLevels=numLevels,hasMipmaps)for(var j=0;j<6;j++)for(var i=0;i<numLevels;i++)gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!1),index=j*numLevels+i,mSource[index].shape?gl.texImage2D(targets[j],i,gl.RGBA,mSource[index].shape[0],mSource[index].shape[1],0,gl.RGBA,gl.FLOAT,mSource[index].data):gl.texImage2D(targets[j],i,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,mSource[index]),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_S,this.wrapS),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_T,this.wrapT),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MAG_FILTER,this.magFilter),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MIN_FILTER,this.minFilter);else{for(var _index=0,_j=0;_j<6;_j++)_index=_j*numLevels,gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!1),mSource[_index].shape?gl.texImage2D(targets[_j],0,gl.RGBA,mSource[_index].shape[0],mSource[_index].shape[1],0,gl.RGBA,gl.FLOAT,mSource[_index].data):gl.texImage2D(targets[_j],0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,mSource[_index]),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_S,this.wrapS),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_T,this.wrapT),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MAG_FILTER,this.magFilter),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MIN_FILTER,this.minFilter);gl.generateMipmap(gl.TEXTURE_CUBE_MAP)}gl.bindTexture(gl.TEXTURE_CUBE_MAP,null)}return _createClass(GLCubeTexture,[{key:"bind",value:function(){var index=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;_GLTool2.default.shader&&(gl.activeTexture(gl.TEXTURE0+index),gl.bindTexture(gl.TEXTURE_CUBE_MAP,this.texture),gl.uniform1i(_GLTool2.default.shader.uniformTextures[index],index),this._bindIndex=index)}},{key:"unbind",value:function(){gl.bindTexture(gl.TEXTURE_CUBE_MAP,null)}}]),GLCubeTexture}();GLCubeTexture.parseDDS=function(mArrayBuffer){var ddsInfos=(0,_parseDds2.default)(mArrayBuffer),flags=ddsInfos.flags,header=new Int32Array(mArrayBuffer,0,31),mipmapCount=1;131072&flags&&(mipmapCount=Math.max(1,header[7]));var sources=ddsInfos.images.map(function(img){return{data:new Float32Array(mArrayBuffer.slice(img.offset,img.offset+img.length)),shape:img.shape,mipmapCount:mipmapCount}});return new GLCubeTexture(sources)},exports.default=GLCubeTexture},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),supportsCustomEvents=!0;try{document.createEvent("CustomEvent");null}catch(e){supportsCustomEvents=!1}var EventDispatcher=function(){function EventDispatcher(){_classCallCheck(this,EventDispatcher),this._eventListeners={}}return _createClass(EventDispatcher,[{key:"addEventListener",value:function(aEventType,aFunction){return null!==this._eventListeners&&void 0!==this._eventListeners||(this._eventListeners={}),this._eventListeners[aEventType]||(this._eventListeners[aEventType]=[]),this._eventListeners[aEventType].push(aFunction),this}},{key:"on",value:function(aEventType,aFunction){return this.addEventListener(aEventType,aFunction)}},{key:"removeEventListener",value:function(aEventType,aFunction){null!==this._eventListeners&&void 0!==this._eventListeners||(this._eventListeners={});var currentArray=this._eventListeners[aEventType];if(void 0===currentArray)return this;for(var currentArrayLength=currentArray.length,i=0;i<currentArrayLength;i++)currentArray[i]===aFunction&&(currentArray.splice(i,1),i--,currentArrayLength--);return this}},{key:"off",value:function(aEventType,aFunction){return this.removeEventListener(aEventType,aFunction)}},{key:"dispatchEvent",value:function(aEvent){null!==this._eventListeners&&void 0!==this._eventListeners||(this._eventListeners={});var eventType=aEvent.type;try{null===aEvent.target&&(aEvent.target=this),aEvent.currentTarget=this}catch(theError){var newEvent={type:eventType,detail:aEvent.detail,dispatcher:this};return this.dispatchEvent(newEvent)}var currentEventListeners=this._eventListeners[eventType];if(null!==currentEventListeners&&void 0!==currentEventListeners)for(var currentArray=this._copyArray(currentEventListeners),currentArrayLength=currentArray.length,i=0;i<currentArrayLength;i++){var currentFunction=currentArray[i];currentFunction.call(this,aEvent)}return this}},{key:"dispatchCustomEvent",value:function(aEventType,aDetail){var newEvent=void 0;return supportsCustomEvents?(newEvent=document.createEvent("CustomEvent"),newEvent.dispatcher=this,newEvent.initCustomEvent(aEventType,!1,!1,aDetail)):newEvent={type:aEventType,detail:aDetail,dispatcher:this},this.dispatchEvent(newEvent)}},{key:"trigger",value:function(aEventType,aDetail){return this.dispatchCustomEvent(aEventType,aDetail)}},{key:"_destroy",value:function(){if(null!==this._eventListeners){for(var objectName in this._eventListeners)if(this._eventListeners.hasOwnProperty(objectName)){for(var currentArray=this._eventListeners[objectName],currentArrayLength=currentArray.length,i=0;i<currentArrayLength;i++)currentArray[i]=null;delete this._eventListeners[objectName]}this._eventListeners=null}}},{key:"_copyArray",value:function(aArray){for(var currentArray=new Array(aArray.length),currentArrayLength=currentArray.length,i=0;i<currentArrayLength;i++)currentArray[i]=aArray[i];return currentArray}}]),EventDispatcher}();exports.default=EventDispatcher},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_EaseNumber=__webpack_require__(13),_EaseNumber2=_interopRequireDefault(_EaseNumber),_scheduling=__webpack_require__(6),_scheduling2=_interopRequireDefault(_scheduling),_glMatrix=__webpack_require__(1),getMouse=function(mEvent,mTarget){var o=mTarget||{};return mEvent.touches?(o.x=mEvent.touches[0].pageX,o.y=mEvent.touches[0].pageY):(o.x=mEvent.clientX,o.y=mEvent.clientY),o},OrbitalControl=function(){function OrbitalControl(mTarget){var _this=this,mListenerTarget=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,mRadius=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;_classCallCheck(this,OrbitalControl),this._target=mTarget,this._listenerTarget=mListenerTarget,this._mouse={},this._preMouse={},this.center=_glMatrix.vec3.create(),this._up=_glMatrix.vec3.fromValues(0,1,0),this.radius=new _EaseNumber2.default(mRadius),this.position=_glMatrix.vec3.fromValues(0,0,this.radius.value),this.positionOffset=_glMatrix.vec3.create(),this._rx=new _EaseNumber2.default(0),this._rx.limit(-Math.PI/2,Math.PI/2),this._ry=new _EaseNumber2.default(0),this._preRX=0,this._preRY=0,this._isLockZoom=!1,this._isLockRotation=!1,this._isInvert=!1,this.sensitivity=1,this._wheelBind=function(e){return _this._onWheel(e)},this._downBind=function(e){return _this._onDown(e)},this._moveBind=function(e){return _this._onMove(e)},this._upBind=function(){return _this._onUp()},this.connect(),_scheduling2.default.addEF(function(){return _this._loop()})}return _createClass(OrbitalControl,[{key:"connect",value:function(){this.disconnect(),this._listenerTarget.addEventListener("mousewheel",this._wheelBind),this._listenerTarget.addEventListener("DOMMouseScroll",this._wheelBind),this._listenerTarget.addEventListener("mousedown",this._downBind),this._listenerTarget.addEventListener("touchstart",this._downBind),this._listenerTarget.addEventListener("mousemove",this._moveBind),this._listenerTarget.addEventListener("touchmove",this._moveBind),window.addEventListener("touchend",this._upBind),window.addEventListener("mouseup",this._upBind)}},{key:"disconnect",value:function(){this._listenerTarget.removeEventListener("mousewheel",this._wheelBind),this._listenerTarget.removeEventListener("DOMMouseScroll",this._wheelBind),this._listenerTarget.removeEventListener("mousedown",this._downBind),this._listenerTarget.removeEventListener("touchstart",this._downBind),this._listenerTarget.removeEventListener("mousemove",this._moveBind),this._listenerTarget.removeEventListener("touchmove",this._moveBind),window.removeEventListener("touchend",this._upBind),window.removeEventListener("mouseup",this._upBind)}},{key:"lock",value:function(){var mValue=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLockZoom=mValue,this._isLockRotation=mValue,this._isMouseDown=!1}},{key:"lockZoom",value:function(){var mValue=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLockZoom=mValue}},{key:"lockRotation",value:function(){var mValue=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLockRotation=mValue}},{key:"inverseControl",value:function(){var isInvert=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isInvert=isInvert}},{key:"_onDown",value:function(mEvent){this._isLockRotation||(this._isMouseDown=!0,getMouse(mEvent,this._mouse),getMouse(mEvent,this._preMouse),this._preRX=this._rx.targetValue,this._preRY=this._ry.targetValue)}},{key:"_onMove",value:function(mEvent){if(!this._isLockRotation&&(getMouse(mEvent,this._mouse),mEvent.touches&&mEvent.preventDefault(),this._isMouseDown)){var diffX=-(this._mouse.x-this._preMouse.x);this._isInvert&&(diffX*=-1),this._ry.value=this._preRY-.01*diffX*this.sensitivity;var diffY=-(this._mouse.y-this._preMouse.y);this._isInvert&&(diffY*=-1),this._rx.value=this._preRX-.01*diffY*this.sensitivity}}},{key:"_onUp",value:function(){this._isLockRotation||(this._isMouseDown=!1)}},{key:"_onWheel",value:function(mEvent){if(!this._isLockZoom){var w=mEvent.wheelDelta,d=mEvent.detail,value=0;value=d?w?w/d/40*d>0?1:-1:-d/3:w/120,this.radius.add(2*-value)}}},{key:"_loop",value:function(){this._updatePosition(),this._target&&this._updateCamera()}},{key:"_updatePosition",value:function(){this.position[1]=Math.sin(this._rx.value)*this.radius.value;var tr=Math.cos(this._rx.value)*this.radius.value;this.position[0]=Math.cos(this._ry.value+.5*Math.PI)*tr,this.position[2]=Math.sin(this._ry.value+.5*Math.PI)*tr,_glMatrix.vec3.add(this.position,this.position,this.positionOffset)}},{key:"_updateCamera",value:function(){this._target.lookAt(this.position,this.center,this._up)}},{key:"rx",get:function(){return this._rx}},{key:"ry",get:function(){return this._ry}}]),OrbitalControl}();exports.default=OrbitalControl},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Camera2=__webpack_require__(15),_Camera3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Camera2),_glMatrix=__webpack_require__(1),CameraOrtho=function(_Camera){function CameraOrtho(){_classCallCheck(this,CameraOrtho);var _this=_possibleConstructorReturn(this,(CameraOrtho.__proto__||Object.getPrototypeOf(CameraOrtho)).call(this)),eye=_glMatrix.vec3.clone([0,0,15]),center=_glMatrix.vec3.create(),up=_glMatrix.vec3.clone([0,-1,0]);return _this.lookAt(eye,center,up),_this.ortho(1,-1,1,-1),_this}return _inherits(CameraOrtho,_Camera),_createClass(CameraOrtho,[{key:"setBoundary",value:function(left,right,top,bottom){var near=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,far=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100;this.ortho(left,right,top,bottom,near,far)}},{key:"ortho",value:function(left,right,top,bottom){var near=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,far=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100;this.left=left,this.right=right,this.top=top,this.bottom=bottom,mat4.ortho(this._projection,left,right,top,bottom,near,far)}}]),CameraOrtho}(_Camera3.default);exports.default=CameraOrtho},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),Object3D=function(){function Object3D(){_classCallCheck(this,Object3D),this._needUpdate=!0,this._x=0,this._y=0,this._z=0,this._sx=1,this._sy=1,this._sz=1,this._rx=0,this._ry=0,this._rz=0,this._position=_glMatrix.vec3.create(),this._scale=_glMatrix.vec3.fromValues(1,1,1),this._rotation=_glMatrix.vec3.create(),this._matrix=_glMatrix.mat4.create(),this._matrixRotation=_glMatrix.mat4.create(),this._matrixScale=_glMatrix.mat4.create(),this._matrixTranslation=_glMatrix.mat4.create(),this._matrixQuaternion=_glMatrix.mat4.create(),this._quat=_glMatrix.quat.create()}return _createClass(Object3D,[{key:"_update",value:function(){_glMatrix.vec3.set(this._scale,this._sx,this._sy,this._sz),_glMatrix.vec3.set(this._rotation,this._rx,this._ry,this._rz),_glMatrix.vec3.set(this._position,this._x,this._y,this._z),_glMatrix.mat4.identity(this._matrixTranslation,this._matrixTranslation),_glMatrix.mat4.identity(this._matrixScale,this._matrixScale),_glMatrix.mat4.identity(this._matrixRotation,this._matrixRotation),_glMatrix.mat4.rotateX(this._matrixRotation,this._matrixRotation,this._rx),_glMatrix.mat4.rotateY(this._matrixRotation,this._matrixRotation,this._ry),_glMatrix.mat4.rotateZ(this._matrixRotation,this._matrixRotation,this._rz),_glMatrix.mat4.fromQuat(this._matrixQuaternion,this._quat),_glMatrix.mat4.mul(this._matrixRotation,this._matrixQuaternion,this._matrixRotation),_glMatrix.mat4.scale(this._matrixScale,this._matrixScale,this._scale),_glMatrix.mat4.translate(this._matrixTranslation,this._matrixTranslation,this._position),_glMatrix.mat4.mul(this._matrix,this._matrixTranslation,this._matrixRotation),_glMatrix.mat4.mul(this._matrix,this._matrix,this._matrixScale),this._needUpdate=!1}},{key:"setRotationFromQuaternion",value:function(mQuat){_glMatrix.quat.copy(this._quat,mQuat),this._needUpdate=!0}},{key:"matrix",get:function(){return this._needUpdate&&this._update(),this._matrix}},{key:"x",get:function(){return this._x},set:function(mValue){this._needUpdate=!0,this._x=mValue}},{key:"y",get:function(){return this._y},set:function(mValue){this._needUpdate=!0,this._y=mValue}},{key:"z",get:function(){return this._z},set:function(mValue){this._needUpdate=!0,this._z=mValue}},{key:"scaleX",get:function(){return this._sx},set:function(mValue){this._needUpdate=!0,this._sx=mValue}},{key:"scaleY",get:function(){return this._sy},set:function(mValue){this._needUpdate=!0,this._sy=mValue}},{key:"scaleZ",get:function(){return this._sz},set:function(mValue){this._needUpdate=!0,this._sz=mValue}},{key:"rotationX",get:function(){return this._rx},set:function(mValue){this._needUpdate=!0,this._rx=mValue}},{key:"rotationY",get:function(){return this._ry},set:function(mValue){this._needUpdate=!0,this._ry=mValue}},{key:"rotationZ",get:function(){return this._rz},set:function(mValue){this._needUpdate=!0,this._rz=mValue}}]),Object3D}();exports.default=Object3D},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _simpleColor=__webpack_require__(10),_simpleColor2=_interopRequireDefault(_simpleColor),_bigTriangle=__webpack_require__(18),_bigTriangle2=_interopRequireDefault(_bigTriangle),_general=__webpack_require__(33),_general2=_interopRequireDefault(_general),_copy=__webpack_require__(19),_copy2=_interopRequireDefault(_copy),_basic=__webpack_require__(11),_basic2=_interopRequireDefault(_basic),_skybox=__webpack_require__(34),_skybox2=_interopRequireDefault(_skybox),_skybox3=__webpack_require__(35),_skybox4=_interopRequireDefault(_skybox3),ShaderLibs={simpleColorFrag:_simpleColor2.default,bigTriangleVert:_bigTriangle2.default,generalVert:_general2.default,copyFrag:_copy2.default,basicVert:_basic2.default,skyboxVert:_skybox2.default,skyboxFrag:_skybox4.default};exports.default=ShaderLibs},function(module,exports){module.exports="// generalWithNormal.vert\n\n#define SHADER_NAME GENERAL_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec3 position;\nuniform vec3 scale;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tvec3 pos      = aVertexPosition * scale;\n\tpos           += position;\n\tgl_Position   = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(pos, 1.0);\n\t\n\tvTextureCoord = aTextureCoord;\n\tvNormal       = normalize(uNormalMatrix * aNormal);\n}"},function(module,exports){module.exports="// basic.vert\n\n#define SHADER_NAME SKYBOX_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vVertex;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tmat4 matView = uViewMatrix;\n\tmatView[3][0] = 0.0;\n\tmatView[3][1] = 0.0;\n\tmatView[3][2] = 0.0;\n\t\n\tgl_Position = uProjectionMatrix * matView * uModelMatrix * vec4(aVertexPosition, 1.0);\n\tvTextureCoord = aTextureCoord;\n\t\n\tvVertex = aVertexPosition;\n\tvNormal = aNormal;\n}"},function(module,exports){module.exports="// basic.frag\n\n#define SHADER_NAME SKYBOX_FRAGMENT\n\nprecision mediump float;\n#define GLSLIFY 1\nuniform samplerCube texture;\nvarying vec2 vTextureCoord;\nvarying vec3 vVertex;\n\nvoid main(void) {\n    gl_FragColor = textureCube(texture, vVertex);\n}"},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),PassMacro=function(){function PassMacro(){_classCallCheck(this,PassMacro),this._passes=[]}return _createClass(PassMacro,[{key:"addPass",value:function(pass){this._passes.push(pass)}},{key:"passes",get:function(){return this._passes}}]),PassMacro}();exports.default=PassMacro},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _PassBlurBase2=__webpack_require__(38),_PassBlurBase3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_PassBlurBase2),PassVBlur=function(_PassBlurBase){function PassVBlur(){var mQuality=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,mWidth=arguments[1],mHeight=arguments[2],mParams=arguments[3];return _classCallCheck(this,PassVBlur),_possibleConstructorReturn(this,(PassVBlur.__proto__||Object.getPrototypeOf(PassVBlur)).call(this,mQuality,[0,1],mWidth,mHeight,mParams))}return _inherits(PassVBlur,_PassBlurBase),PassVBlur}(_PassBlurBase3.default);exports.default=PassVBlur},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Pass2=__webpack_require__(9),_Pass3=_interopRequireDefault(_Pass2),fsBlur5=__webpack_require__(73),fsBlur9=__webpack_require__(74),fsBlur13=__webpack_require__(75),PassBlurBase=function(_Pass){function PassBlurBase(){var mQuality=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,mDirection=arguments[1],mWidth=arguments[2],mHeight=arguments[3],mParams=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};_classCallCheck(this,PassBlurBase);var fs=void 0;switch(mQuality){case 5:default:fs=fsBlur5;break;case 9:fs=fsBlur9;break;case 13:fs=fsBlur13}var _this=_possibleConstructorReturn(this,(PassBlurBase.__proto__||Object.getPrototypeOf(PassBlurBase)).call(this,fs,mWidth,mHeight,mParams));return _this.uniform("uDirection",mDirection),_this.uniform("uResolution",[_GLTool2.default.width,_GLTool2.default.height]),_this}return _inherits(PassBlurBase,_Pass),PassBlurBase}(_Pass3.default);exports.default=PassBlurBase},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _PassBlurBase2=__webpack_require__(38),_PassBlurBase3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_PassBlurBase2),PassHBlur=function(_PassBlurBase){function PassHBlur(){var mQuality=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,mWidth=arguments[1],mHeight=arguments[2],mParams=arguments[3];return _classCallCheck(this,PassHBlur),_possibleConstructorReturn(this,(PassHBlur.__proto__||Object.getPrototypeOf(PassHBlur)).call(this,mQuality,[1,0],mWidth,mHeight,mParams))}return _inherits(PassHBlur,_PassBlurBase),PassHBlur}(_PassBlurBase3.default);exports.default=PassHBlur},function(module,exports){module.exports="// fxaa.frag\n\n#define SHADER_NAME FXAA\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform vec2 uResolution;\n\n\nfloat FXAA_SUBPIX_SHIFT = 1.0/4.0;\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#define FXAA_SPAN_MAX     8.0\n\n\nvec4 applyFXAA(sampler2D tex) {\n    vec4 color;\n    vec2 fragCoord = gl_FragCoord.xy;\n    vec3 rgbNW = texture2D(tex, (fragCoord + vec2(-1.0, -1.0)) * uResolution).xyz;\n    vec3 rgbNE = texture2D(tex, (fragCoord + vec2(1.0, -1.0)) * uResolution).xyz;\n    vec3 rgbSW = texture2D(tex, (fragCoord + vec2(-1.0, 1.0)) * uResolution).xyz;\n    vec3 rgbSE = texture2D(tex, (fragCoord + vec2(1.0, 1.0)) * uResolution).xyz;\n    vec3 rgbM  = texture2D(tex, fragCoord  * uResolution).xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * uResolution;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * uResolution + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * uResolution + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * uResolution + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * uResolution + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, 1.0);\n    else\n        color = vec4(rgbB, 1.0);\n    return color;\n}\n\nvoid main(void) {\n \tvec4 color = applyFXAA(texture);\n    gl_FragColor = color;\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ShaderLibs=exports.View3D=exports.View=exports.Scene=exports.BatchFXAA=exports.BatchSky=exports.BatchSkybox=exports.BatchLine=exports.BatchDotsPlane=exports.BatchBall=exports.BatchAxis=exports.BatchCopy=exports.PassFxaa=exports.PassHBlur=exports.PassVBlur=exports.PassBlur=exports.PassMacro=exports.Pass=exports.EffectComposer=exports.ColladaParser=exports.HDRLoader=exports.ObjLoader=exports.BinaryLoader=exports.Object3D=exports.Ray=exports.CameraCube=exports.CameraPerspective=exports.CameraOrtho=exports.Camera=exports.TouchDetector=exports.QuatRotation=exports.WebglNumber=exports.OrbitalControl=exports.TweenNumber=exports.EaseNumber=exports.EventDispatcher=exports.Scheduler=exports.TransformFeedbackObject=exports.MultisampleFrameBuffer=exports.CubeFrameBuffer=exports.FrameBuffer=exports.Batch=exports.Geom=exports.Mesh=exports.GLCubeTexture=exports.GLTextureOld=exports.GLTexture=exports.GLShader=exports.GL=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),GLM=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_glMatrix),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_GLTexture=__webpack_require__(25),_GLTexture2=_interopRequireDefault(_GLTexture),_GLTexture3=__webpack_require__(26),_GLTexture4=_interopRequireDefault(_GLTexture3),_GLCubeTexture=__webpack_require__(27),_GLCubeTexture2=_interopRequireDefault(_GLCubeTexture),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_Batch=__webpack_require__(4),_Batch2=_interopRequireDefault(_Batch),_FrameBuffer=__webpack_require__(12),_FrameBuffer2=_interopRequireDefault(_FrameBuffer),_CubeFrameBuffer=__webpack_require__(56),_CubeFrameBuffer2=_interopRequireDefault(_CubeFrameBuffer),_MultisampleFrameBuffer=__webpack_require__(57),_MultisampleFrameBuffer2=_interopRequireDefault(_MultisampleFrameBuffer),_TransformFeedbackObject=__webpack_require__(58),_TransformFeedbackObject2=_interopRequireDefault(_TransformFeedbackObject),_scheduling=__webpack_require__(6),_scheduling2=_interopRequireDefault(_scheduling),_EventDispatcher=__webpack_require__(28),_EventDispatcher2=_interopRequireDefault(_EventDispatcher),_EaseNumber=__webpack_require__(13),_EaseNumber2=_interopRequireDefault(_EaseNumber),_TweenNumber=__webpack_require__(59),_TweenNumber2=_interopRequireDefault(_TweenNumber),_OrbitalControl=__webpack_require__(29),_OrbitalControl2=_interopRequireDefault(_OrbitalControl),_QuatRotation=__webpack_require__(60),_QuatRotation2=_interopRequireDefault(_QuatRotation),_TouchDetector=__webpack_require__(61),_TouchDetector2=_interopRequireDefault(_TouchDetector),_WebglNumber=__webpack_require__(8),_WebglNumber2=_interopRequireDefault(_WebglNumber),_WebglConst=__webpack_require__(23),_Camera=(_interopRequireDefault(_WebglConst),__webpack_require__(15)),_Camera2=_interopRequireDefault(_Camera),_CameraOrtho=__webpack_require__(30),_CameraOrtho2=_interopRequireDefault(_CameraOrtho),_CameraPerspective=__webpack_require__(16),_CameraPerspective2=_interopRequireDefault(_CameraPerspective),_CameraCube=__webpack_require__(63),_CameraCube2=_interopRequireDefault(_CameraCube),_Ray=__webpack_require__(14),_Ray2=_interopRequireDefault(_Ray),_Object3D=__webpack_require__(31),_Object3D2=_interopRequireDefault(_Object3D),_BinaryLoader=__webpack_require__(17),_BinaryLoader2=_interopRequireDefault(_BinaryLoader),_ObjLoader=__webpack_require__(64),_ObjLoader2=_interopRequireDefault(_ObjLoader),_HDRLoader=__webpack_require__(65),_HDRLoader2=_interopRequireDefault(_HDRLoader),_ColladaParser=__webpack_require__(67),_ColladaParser2=_interopRequireDefault(_ColladaParser),_EffectComposer=__webpack_require__(71),_EffectComposer2=_interopRequireDefault(_EffectComposer),_Pass=__webpack_require__(9),_Pass2=_interopRequireDefault(_Pass),_PassMacro=__webpack_require__(36),_PassMacro2=_interopRequireDefault(_PassMacro),_PassBlur=__webpack_require__(72),_PassBlur2=_interopRequireDefault(_PassBlur),_PassVBlur=__webpack_require__(37),_PassVBlur2=_interopRequireDefault(_PassVBlur),_PassHBlur=__webpack_require__(39),_PassHBlur2=_interopRequireDefault(_PassHBlur),_PassFxaa=__webpack_require__(76),_PassFxaa2=_interopRequireDefault(_PassFxaa),_BatchCopy=__webpack_require__(77),_BatchCopy2=_interopRequireDefault(_BatchCopy),_BatchAxis=__webpack_require__(78),_BatchAxis2=_interopRequireDefault(_BatchAxis),_BatchBall=__webpack_require__(81),_BatchBall2=_interopRequireDefault(_BatchBall),_BatchDotsPlane=__webpack_require__(82),_BatchDotsPlane2=_interopRequireDefault(_BatchDotsPlane),_BatchLine=__webpack_require__(84),_BatchLine2=_interopRequireDefault(_BatchLine),_BatchSkybox=__webpack_require__(85),_BatchSkybox2=_interopRequireDefault(_BatchSkybox),_BatchSky=__webpack_require__(86),_BatchSky2=_interopRequireDefault(_BatchSky),_BatchFXAA=__webpack_require__(88),_BatchFXAA2=_interopRequireDefault(_BatchFXAA),_Scene=__webpack_require__(89),_Scene2=_interopRequireDefault(_Scene),_View=__webpack_require__(90),_View2=_interopRequireDefault(_View),_View3D=__webpack_require__(91),_View3D2=_interopRequireDefault(_View3D),_ShaderLibs=__webpack_require__(32),_ShaderLibs2=_interopRequireDefault(_ShaderLibs),Alfrid=function(){function Alfrid(){_classCallCheck(this,Alfrid),this.glm=GLM,this.GL=_GLTool2.default,this.GLTool=_GLTool2.default,this.GLShader=_GLShader2.default,this.GLTexture=_GLTexture4.default,this.GLTextureOld=_GLTexture2.default,this.GLCubeTexture=_GLCubeTexture2.default,this.Mesh=_Mesh2.default,this.Geom=_Geom2.default,this.Batch=_Batch2.default,this.FrameBuffer=_FrameBuffer2.default,this.CubeFrameBuffer=_CubeFrameBuffer2.default,this.Scheduler=_scheduling2.default,this.EventDispatcher=_EventDispatcher2.default,this.EaseNumber=_EaseNumber2.default,this.TweenNumber=_TweenNumber2.default,this.Camera=_Camera2.default,this.CameraOrtho=_CameraOrtho2.default,this.CameraPerspective=_CameraPerspective2.default,this.Ray=_Ray2.default,this.CameraCube=_CameraCube2.default,this.OrbitalControl=_OrbitalControl2.default,this.QuatRotation=_QuatRotation2.default,this.BinaryLoader=_BinaryLoader2.default,this.ObjLoader=_ObjLoader2.default,this.ColladaParser=_ColladaParser2.default,this.HDRLoader=_HDRLoader2.default,this.BatchCopy=_BatchCopy2.default,this.BatchAxis=_BatchAxis2.default,this.BatchBall=_BatchBall2.default,this.BatchBall=_BatchBall2.default,this.BatchLine=_BatchLine2.default,this.BatchSkybox=_BatchSkybox2.default,this.BatchSky=_BatchSky2.default,this.BatchFXAA=_BatchFXAA2.default,this.BatchDotsPlane=_BatchDotsPlane2.default,this.Scene=_Scene2.default,this.View=_View2.default,this.View3D=_View3D2.default,this.Object3D=_Object3D2.default,this.ShaderLibs=_ShaderLibs2.default,this.WebglNumber=_WebglNumber2.default,this.EffectComposer=_EffectComposer2.default,this.Pass=_Pass2.default,this.PassMacro=_PassMacro2.default,this.PassBlur=_PassBlur2.default,this.PassVBlur=_PassVBlur2.default,this.PassHBlur=_PassHBlur2.default,this.PassFxaa=_PassFxaa2.default,this.MultisampleFrameBuffer=_MultisampleFrameBuffer2.default,this.TransformFeedbackObject=_TransformFeedbackObject2.default;for(var s in GLM)GLM[s]&&(window[s]=GLM[s])}return _createClass(Alfrid,[{key:"log",value:function(){navigator.userAgent.indexOf("Chrome")>-1?console.log("%clib alfrid : VERSION 0.2.0","background: #193441; color: #FCFFF5"):console.log("lib alfrid : VERSION ","0.2.0"),console.log("%cClasses : ","color: #193441");for(var s in this)this[s]&&console.log("%c - "+s,"color: #3E606F")}}]),Alfrid}(),al=new Alfrid;exports.default=al,exports.GL=_GLTool2.default,exports.GLShader=_GLShader2.default,exports.GLTexture=_GLTexture4.default,exports.GLTextureOld=_GLTexture2.default,exports.GLCubeTexture=_GLCubeTexture2.default,exports.Mesh=_Mesh2.default,exports.Geom=_Geom2.default,exports.Batch=_Batch2.default,exports.FrameBuffer=_FrameBuffer2.default,exports.CubeFrameBuffer=_CubeFrameBuffer2.default,exports.MultisampleFrameBuffer=_MultisampleFrameBuffer2.default,exports.TransformFeedbackObject=_TransformFeedbackObject2.default,exports.Scheduler=_scheduling2.default,exports.EventDispatcher=_EventDispatcher2.default,exports.EaseNumber=_EaseNumber2.default,exports.TweenNumber=_TweenNumber2.default,exports.OrbitalControl=_OrbitalControl2.default,exports.WebglNumber=_WebglNumber2.default,exports.QuatRotation=_QuatRotation2.default,exports.TouchDetector=_TouchDetector2.default,exports.Camera=_Camera2.default,exports.CameraOrtho=_CameraOrtho2.default,exports.CameraPerspective=_CameraPerspective2.default,exports.CameraCube=_CameraCube2.default,exports.Ray=_Ray2.default,exports.Object3D=_Object3D2.default,exports.BinaryLoader=_BinaryLoader2.default,exports.ObjLoader=_ObjLoader2.default,exports.HDRLoader=_HDRLoader2.default,exports.ColladaParser=_ColladaParser2.default,exports.EffectComposer=_EffectComposer2.default,exports.Pass=_Pass2.default,exports.PassMacro=_PassMacro2.default,exports.PassBlur=_PassBlur2.default,exports.PassVBlur=_PassVBlur2.default,exports.PassHBlur=_PassHBlur2.default,exports.PassFxaa=_PassFxaa2.default,exports.BatchCopy=_BatchCopy2.default,exports.BatchAxis=_BatchAxis2.default,exports.BatchBall=_BatchBall2.default,exports.BatchDotsPlane=_BatchDotsPlane2.default,exports.BatchLine=_BatchLine2.default,exports.BatchSkybox=_BatchSkybox2.default,exports.BatchSky=_BatchSky2.default,exports.BatchFXAA=_BatchFXAA2.default,exports.Scene=_Scene2.default,exports.View=_View2.default,exports.View3D=_View3D2.default,exports.ShaderLibs=_ShaderLibs2.default},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out}function clone(a){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out}function fromValues(m00,m01,m10,m11){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=m00,out[1]=m01,out[2]=m10,out[3]=m11,out}function set(out,m00,m01,m10,m11){return out[0]=m00,out[1]=m01,out[2]=m10,out[3]=m11,out}function transpose(out,a){if(out===a){var a1=a[1];out[1]=a[2],out[2]=a1}else out[0]=a[0],out[1]=a[2],out[2]=a[1],out[3]=a[3];return out}function invert(out,a){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],det=a0*a3-a2*a1;return det?(det=1/det,out[0]=a3*det,out[1]=-a1*det,out[2]=-a2*det,out[3]=a0*det,out):null}function adjoint(out,a){var a0=a[0];return out[0]=a[3],out[1]=-a[1],out[2]=-a[2],out[3]=a0,out}function determinant(a){return a[0]*a[3]-a[2]*a[1]}function multiply(out,a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return out[0]=a0*b0+a2*b1,out[1]=a1*b0+a3*b1,out[2]=a0*b2+a2*b3,out[3]=a1*b2+a3*b3,out}function rotate(out,a,rad){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],s=Math.sin(rad),c=Math.cos(rad);return out[0]=a0*c+a2*s,out[1]=a1*c+a3*s,out[2]=a0*-s+a2*c,out[3]=a1*-s+a3*c,out}function scale(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],v0=v[0],v1=v[1];return out[0]=a0*v0,out[1]=a1*v0,out[2]=a2*v1,out[3]=a3*v1,out}function fromRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=-s,out[3]=c,out}function fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=v[1],out}function str(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}function frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2))}function LDU(L,D,U,a){return L[2]=a[2]/a[0],U[0]=a[0],U[1]=a[1],U[3]=a[3]-L[2]*U[1],[L,D,U]}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))}function multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out}function multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sub=exports.mul=void 0,exports.create=create,exports.clone=clone,exports.copy=copy,exports.identity=identity,exports.fromValues=fromValues,exports.set=set,exports.transpose=transpose,exports.invert=invert,exports.adjoint=adjoint,exports.determinant=determinant,exports.multiply=multiply,exports.rotate=rotate,exports.scale=scale,exports.fromRotation=fromRotation,exports.fromScaling=fromScaling,exports.str=str,exports.frob=frob,exports.LDU=LDU,exports.add=add,exports.subtract=subtract,exports.exactEquals=exactEquals,exports.equals=equals,exports.multiplyScalar=multiplyScalar,exports.multiplyScalarAndAdd=multiplyScalarAndAdd;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.mul=multiply,exports.sub=subtract},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(6);return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=0,out[5]=0,out}function clone(a){var out=new glMatrix.ARRAY_TYPE(6);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=0,out[5]=0,out}function fromValues(a,b,c,d,tx,ty){var out=new glMatrix.ARRAY_TYPE(6);return out[0]=a,out[1]=b,out[2]=c,out[3]=d,out[4]=tx,out[5]=ty,out}function set(out,a,b,c,d,tx,ty){return out[0]=a,out[1]=b,out[2]=c,out[3]=d,out[4]=tx,out[5]=ty,out}function invert(out,a){var aa=a[0],ab=a[1],ac=a[2],ad=a[3],atx=a[4],aty=a[5],det=aa*ad-ab*ac;return det?(det=1/det,out[0]=ad*det,out[1]=-ab*det,out[2]=-ac*det,out[3]=aa*det,out[4]=(ac*aty-ad*atx)*det,out[5]=(ab*atx-aa*aty)*det,out):null}function determinant(a){return a[0]*a[3]-a[1]*a[2]}function multiply(out,a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5];return out[0]=a0*b0+a2*b1,out[1]=a1*b0+a3*b1,out[2]=a0*b2+a2*b3,out[3]=a1*b2+a3*b3,out[4]=a0*b4+a2*b5+a4,out[5]=a1*b4+a3*b5+a5,out}function rotate(out,a,rad){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],s=Math.sin(rad),c=Math.cos(rad);return out[0]=a0*c+a2*s,out[1]=a1*c+a3*s,out[2]=a0*-s+a2*c,out[3]=a1*-s+a3*c,out[4]=a4,out[5]=a5,out}function scale(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],v0=v[0],v1=v[1];return out[0]=a0*v0,out[1]=a1*v0,out[2]=a2*v1,out[3]=a3*v1,out[4]=a4,out[5]=a5,out}function translate(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],v0=v[0],v1=v[1];return out[0]=a0,out[1]=a1,out[2]=a2,out[3]=a3,out[4]=a0*v0+a2*v1+a4,out[5]=a1*v0+a3*v1+a5,out}function fromRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=-s,out[3]=c,out[4]=0,out[5]=0,out}function fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=v[1],out[4]=0,out[5]=0,out}function fromTranslation(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=v[0],out[5]=v[1],out}function str(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"}function frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out}function multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out}function multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=glMatrix.EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=glMatrix.EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sub=exports.mul=void 0,exports.create=create,exports.clone=clone,exports.copy=copy,exports.identity=identity,exports.fromValues=fromValues,exports.set=set,exports.invert=invert,exports.determinant=determinant,exports.multiply=multiply,exports.rotate=rotate,exports.scale=scale,exports.translate=translate,exports.fromRotation=fromRotation,exports.fromScaling=fromScaling,exports.fromTranslation=fromTranslation,exports.str=str,exports.frob=frob,exports.add=add,exports.subtract=subtract,exports.multiplyScalar=multiplyScalar,exports.multiplyScalarAndAdd=multiplyScalarAndAdd,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.mul=multiply,exports.sub=subtract},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(16);return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function clone(a){var out=new glMatrix.ARRAY_TYPE(16);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}function fromValues(m00,m01,m02,m03,m10,m11,m12,m13,m20,m21,m22,m23,m30,m31,m32,m33){var out=new glMatrix.ARRAY_TYPE(16);return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m03,out[4]=m10,out[5]=m11,out[6]=m12,out[7]=m13,out[8]=m20,out[9]=m21,out[10]=m22,out[11]=m23,out[12]=m30,out[13]=m31,out[14]=m32,out[15]=m33,out}function set(out,m00,m01,m02,m03,m10,m11,m12,m13,m20,m21,m22,m23,m30,m31,m32,m33){return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m03,out[4]=m10,out[5]=m11,out[6]=m12,out[7]=m13,out[8]=m20,out[9]=m21,out[10]=m22,out[11]=m23,out[12]=m30,out[13]=m31,out[14]=m32,out[15]=m33,out}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function transpose(out,a){if(out===a){var a01=a[1],a02=a[2],a03=a[3],a12=a[6],a13=a[7],a23=a[11];out[1]=a[4],out[2]=a[8],out[3]=a[12],out[4]=a01,out[6]=a[9],out[7]=a[13],out[8]=a02,out[9]=a12,out[11]=a[14],out[12]=a03,out[13]=a13,out[14]=a23}else out[0]=a[0],out[1]=a[4],out[2]=a[8],out[3]=a[12],out[4]=a[1],out[5]=a[5],out[6]=a[9],out[7]=a[13],out[8]=a[2],out[9]=a[6],out[10]=a[10],out[11]=a[14],out[12]=a[3],out[13]=a[7],out[14]=a[11],out[15]=a[15];return out}function invert(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(det=1/det,out[0]=(a11*b11-a12*b10+a13*b09)*det,out[1]=(a02*b10-a01*b11-a03*b09)*det,out[2]=(a31*b05-a32*b04+a33*b03)*det,out[3]=(a22*b04-a21*b05-a23*b03)*det,out[4]=(a12*b08-a10*b11-a13*b07)*det,out[5]=(a00*b11-a02*b08+a03*b07)*det,out[6]=(a32*b02-a30*b05-a33*b01)*det,out[7]=(a20*b05-a22*b02+a23*b01)*det,out[8]=(a10*b10-a11*b08+a13*b06)*det,out[9]=(a01*b08-a00*b10-a03*b06)*det,out[10]=(a30*b04-a31*b02+a33*b00)*det,out[11]=(a21*b02-a20*b04-a23*b00)*det,out[12]=(a11*b07-a10*b09-a12*b06)*det,out[13]=(a00*b09-a01*b07+a02*b06)*det,out[14]=(a31*b01-a30*b03-a32*b00)*det,out[15]=(a20*b03-a21*b01+a22*b00)*det,out):null}function adjoint(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];return out[0]=a11*(a22*a33-a23*a32)-a21*(a12*a33-a13*a32)+a31*(a12*a23-a13*a22),out[1]=-(a01*(a22*a33-a23*a32)-a21*(a02*a33-a03*a32)+a31*(a02*a23-a03*a22)),out[2]=a01*(a12*a33-a13*a32)-a11*(a02*a33-a03*a32)+a31*(a02*a13-a03*a12),out[3]=-(a01*(a12*a23-a13*a22)-a11*(a02*a23-a03*a22)+a21*(a02*a13-a03*a12)),out[4]=-(a10*(a22*a33-a23*a32)-a20*(a12*a33-a13*a32)+a30*(a12*a23-a13*a22)),out[5]=a00*(a22*a33-a23*a32)-a20*(a02*a33-a03*a32)+a30*(a02*a23-a03*a22),out[6]=-(a00*(a12*a33-a13*a32)-a10*(a02*a33-a03*a32)+a30*(a02*a13-a03*a12)),out[7]=a00*(a12*a23-a13*a22)-a10*(a02*a23-a03*a22)+a20*(a02*a13-a03*a12),out[8]=a10*(a21*a33-a23*a31)-a20*(a11*a33-a13*a31)+a30*(a11*a23-a13*a21),out[9]=-(a00*(a21*a33-a23*a31)-a20*(a01*a33-a03*a31)+a30*(a01*a23-a03*a21)),out[10]=a00*(a11*a33-a13*a31)-a10*(a01*a33-a03*a31)+a30*(a01*a13-a03*a11),out[11]=-(a00*(a11*a23-a13*a21)-a10*(a01*a23-a03*a21)+a20*(a01*a13-a03*a11)),out[12]=-(a10*(a21*a32-a22*a31)-a20*(a11*a32-a12*a31)+a30*(a11*a22-a12*a21)),out[13]=a00*(a21*a32-a22*a31)-a20*(a01*a32-a02*a31)+a30*(a01*a22-a02*a21),out[14]=-(a00*(a11*a32-a12*a31)-a10*(a01*a32-a02*a31)+a30*(a01*a12-a02*a11)),out[15]=a00*(a11*a22-a12*a21)-a10*(a01*a22-a02*a21)+a20*(a01*a12-a02*a11),out}function determinant(a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];return(a00*a11-a01*a10)*(a22*a33-a23*a32)-(a00*a12-a02*a10)*(a21*a33-a23*a31)+(a00*a13-a03*a10)*(a21*a32-a22*a31)+(a01*a12-a02*a11)*(a20*a33-a23*a30)-(a01*a13-a03*a11)*(a20*a32-a22*a30)+(a02*a13-a03*a12)*(a20*a31-a21*a30)}function multiply(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return out[0]=b0*a00+b1*a10+b2*a20+b3*a30,out[1]=b0*a01+b1*a11+b2*a21+b3*a31,out[2]=b0*a02+b1*a12+b2*a22+b3*a32,out[3]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[4],b1=b[5],b2=b[6],b3=b[7],out[4]=b0*a00+b1*a10+b2*a20+b3*a30,out[5]=b0*a01+b1*a11+b2*a21+b3*a31,out[6]=b0*a02+b1*a12+b2*a22+b3*a32,out[7]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[8],b1=b[9],b2=b[10],b3=b[11],out[8]=b0*a00+b1*a10+b2*a20+b3*a30,out[9]=b0*a01+b1*a11+b2*a21+b3*a31,out[10]=b0*a02+b1*a12+b2*a22+b3*a32,out[11]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[12],b1=b[13],b2=b[14],b3=b[15],out[12]=b0*a00+b1*a10+b2*a20+b3*a30,out[13]=b0*a01+b1*a11+b2*a21+b3*a31,out[14]=b0*a02+b1*a12+b2*a22+b3*a32,out[15]=b0*a03+b1*a13+b2*a23+b3*a33,out}function translate(out,a,v){var x=v[0],y=v[1],z=v[2],a00=void 0,a01=void 0,a02=void 0,a03=void 0,a10=void 0,a11=void 0,a12=void 0,a13=void 0,a20=void 0,a21=void 0,a22=void 0,a23=void 0;return a===out?(out[12]=a[0]*x+a[4]*y+a[8]*z+a[12],out[13]=a[1]*x+a[5]*y+a[9]*z+a[13],out[14]=a[2]*x+a[6]*y+a[10]*z+a[14],out[15]=a[3]*x+a[7]*y+a[11]*z+a[15]):(a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a03,out[4]=a10,out[5]=a11,out[6]=a12,out[7]=a13,out[8]=a20,out[9]=a21,out[10]=a22,out[11]=a23,out[12]=a00*x+a10*y+a20*z+a[12],out[13]=a01*x+a11*y+a21*z+a[13],out[14]=a02*x+a12*y+a22*z+a[14],out[15]=a03*x+a13*y+a23*z+a[15]),out}function scale(out,a,v){var x=v[0],y=v[1],z=v[2];return out[0]=a[0]*x,out[1]=a[1]*x,out[2]=a[2]*x,out[3]=a[3]*x,out[4]=a[4]*y,out[5]=a[5]*y,out[6]=a[6]*y,out[7]=a[7]*y,out[8]=a[8]*z,out[9]=a[9]*z,out[10]=a[10]*z,out[11]=a[11]*z,out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}function rotate(out,a,rad,axis){var x=axis[0],y=axis[1],z=axis[2],len=Math.sqrt(x*x+y*y+z*z),s=void 0,c=void 0,t=void 0,a00=void 0,a01=void 0,a02=void 0,a03=void 0,a10=void 0,a11=void 0,a12=void 0,a13=void 0,a20=void 0,a21=void 0,a22=void 0,a23=void 0,b00=void 0,b01=void 0,b02=void 0,b10=void 0,b11=void 0,b12=void 0,b20=void 0,b21=void 0,b22=void 0;return Math.abs(len)<glMatrix.EPSILON?null:(len=1/len,x*=len,y*=len,z*=len,s=Math.sin(rad),c=Math.cos(rad),t=1-c,a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],b00=x*x*t+c,b01=y*x*t+z*s,b02=z*x*t-y*s,b10=x*y*t-z*s,b11=y*y*t+c,b12=z*y*t+x*s,b20=x*z*t+y*s,b21=y*z*t-x*s,b22=z*z*t+c,out[0]=a00*b00+a10*b01+a20*b02,out[1]=a01*b00+a11*b01+a21*b02,out[2]=a02*b00+a12*b01+a22*b02,out[3]=a03*b00+a13*b01+a23*b02,out[4]=a00*b10+a10*b11+a20*b12,out[5]=a01*b10+a11*b11+a21*b12,out[6]=a02*b10+a12*b11+a22*b12,out[7]=a03*b10+a13*b11+a23*b12,out[8]=a00*b20+a10*b21+a20*b22,out[9]=a01*b20+a11*b21+a21*b22,out[10]=a02*b20+a12*b21+a22*b22,out[11]=a03*b20+a13*b21+a23*b22,a!==out&&(out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out)}function rotateX(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11];return a!==out&&(out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[4]=a10*c+a20*s,out[5]=a11*c+a21*s,out[6]=a12*c+a22*s,out[7]=a13*c+a23*s,out[8]=a20*c-a10*s,out[9]=a21*c-a11*s,out[10]=a22*c-a12*s,out[11]=a23*c-a13*s,out}function rotateY(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a20=a[8],a21=a[9],a22=a[10],a23=a[11];return a!==out&&(out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[0]=a00*c-a20*s,out[1]=a01*c-a21*s,out[2]=a02*c-a22*s,out[3]=a03*c-a23*s,out[8]=a00*s+a20*c,out[9]=a01*s+a21*c,out[10]=a02*s+a22*c,out[11]=a03*s+a23*c,out}function rotateZ(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7];return a!==out&&(out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[0]=a00*c+a10*s,out[1]=a01*c+a11*s,out[2]=a02*c+a12*s,out[3]=a03*c+a13*s,out[4]=a10*c-a00*s,out[5]=a11*c-a01*s,out[6]=a12*c-a02*s,out[7]=a13*c-a03*s,out}function fromTranslation(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out}function fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=v[1],out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=v[2],out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromRotation(out,rad,axis){var x=axis[0],y=axis[1],z=axis[2],len=Math.sqrt(x*x+y*y+z*z),s=void 0,c=void 0,t=void 0;return Math.abs(len)<glMatrix.EPSILON?null:(len=1/len,x*=len,y*=len,z*=len,s=Math.sin(rad),c=Math.cos(rad),t=1-c,out[0]=x*x*t+c,out[1]=y*x*t+z*s,out[2]=z*x*t-y*s,out[3]=0,out[4]=x*y*t-z*s,out[5]=y*y*t+c,out[6]=z*y*t+x*s,out[7]=0,out[8]=x*z*t+y*s,out[9]=y*z*t-x*s,out[10]=z*z*t+c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out)}function fromXRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=c,out[6]=s,out[7]=0,out[8]=0,out[9]=-s,out[10]=c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromYRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=0,out[2]=-s,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=s,out[9]=0,out[10]=c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromZRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=0,out[3]=0,out[4]=-s,out[5]=c,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromRotationTranslation(out,q,v){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-(yy+zz),out[1]=xy+wz,out[2]=xz-wy,out[3]=0,out[4]=xy-wz,out[5]=1-(xx+zz),out[6]=yz+wx,out[7]=0,out[8]=xz+wy,out[9]=yz-wx,out[10]=1-(xx+yy),out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out}function getTranslation(out,mat){return out[0]=mat[12],out[1]=mat[13],out[2]=mat[14],out}function getScaling(out,mat){var m11=mat[0],m12=mat[1],m13=mat[2],m21=mat[4],m22=mat[5],m23=mat[6],m31=mat[8],m32=mat[9],m33=mat[10];return out[0]=Math.sqrt(m11*m11+m12*m12+m13*m13),out[1]=Math.sqrt(m21*m21+m22*m22+m23*m23),out[2]=Math.sqrt(m31*m31+m32*m32+m33*m33),out}function getRotation(out,mat){var trace=mat[0]+mat[5]+mat[10],S=0;return trace>0?(S=2*Math.sqrt(trace+1),out[3]=.25*S,out[0]=(mat[6]-mat[9])/S,out[1]=(mat[8]-mat[2])/S,out[2]=(mat[1]-mat[4])/S):mat[0]>mat[5]&mat[0]>mat[10]?(S=2*Math.sqrt(1+mat[0]-mat[5]-mat[10]),out[3]=(mat[6]-mat[9])/S,out[0]=.25*S,out[1]=(mat[1]+mat[4])/S,out[2]=(mat[8]+mat[2])/S):mat[5]>mat[10]?(S=2*Math.sqrt(1+mat[5]-mat[0]-mat[10]),out[3]=(mat[8]-mat[2])/S,out[0]=(mat[1]+mat[4])/S,out[1]=.25*S,out[2]=(mat[6]+mat[9])/S):(S=2*Math.sqrt(1+mat[10]-mat[0]-mat[5]),out[3]=(mat[1]-mat[4])/S,out[0]=(mat[8]+mat[2])/S,out[1]=(mat[6]+mat[9])/S,out[2]=.25*S),out}function fromRotationTranslationScale(out,q,v,s){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2,sx=s[0],sy=s[1],sz=s[2];return out[0]=(1-(yy+zz))*sx,out[1]=(xy+wz)*sx,out[2]=(xz-wy)*sx,out[3]=0,out[4]=(xy-wz)*sy,out[5]=(1-(xx+zz))*sy,out[6]=(yz+wx)*sy,out[7]=0,out[8]=(xz+wy)*sz,out[9]=(yz-wx)*sz,out[10]=(1-(xx+yy))*sz,out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out}function fromRotationTranslationScaleOrigin(out,q,v,s,o){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2,sx=s[0],sy=s[1],sz=s[2],ox=o[0],oy=o[1],oz=o[2];return out[0]=(1-(yy+zz))*sx,out[1]=(xy+wz)*sx,out[2]=(xz-wy)*sx,out[3]=0,out[4]=(xy-wz)*sy,out[5]=(1-(xx+zz))*sy,out[6]=(yz+wx)*sy,out[7]=0,out[8]=(xz+wy)*sz,out[9]=(yz-wx)*sz,out[10]=(1-(xx+yy))*sz,out[11]=0,out[12]=v[0]+ox-(out[0]*ox+out[4]*oy+out[8]*oz),out[13]=v[1]+oy-(out[1]*ox+out[5]*oy+out[9]*oz),out[14]=v[2]+oz-(out[2]*ox+out[6]*oy+out[10]*oz),out[15]=1,out}function fromQuat(out,q){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,yx=y*x2,yy=y*y2,zx=z*x2,zy=z*y2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-yy-zz,out[1]=yx+wz,out[2]=zx-wy,out[3]=0,out[4]=yx-wz,out[5]=1-xx-zz,out[6]=zy+wx,out[7]=0,out[8]=zx+wy,out[9]=zy-wx,out[10]=1-xx-yy,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function frustum(out,left,right,bottom,top,near,far){var rl=1/(right-left),tb=1/(top-bottom),nf=1/(near-far);return out[0]=2*near*rl,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=2*near*tb,out[6]=0,out[7]=0,out[8]=(right+left)*rl,out[9]=(top+bottom)*tb,out[10]=(far+near)*nf,out[11]=-1,out[12]=0,out[13]=0,out[14]=far*near*2*nf,out[15]=0,out}function perspective(out,fovy,aspect,near,far){var f=1/Math.tan(fovy/2),nf=1/(near-far);return out[0]=f/aspect,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=f,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=(far+near)*nf,out[11]=-1,out[12]=0,out[13]=0,out[14]=2*far*near*nf,out[15]=0,out}function perspectiveFromFieldOfView(out,fov,near,far){var upTan=Math.tan(fov.upDegrees*Math.PI/180),downTan=Math.tan(fov.downDegrees*Math.PI/180),leftTan=Math.tan(fov.leftDegrees*Math.PI/180),rightTan=Math.tan(fov.rightDegrees*Math.PI/180),xScale=2/(leftTan+rightTan),yScale=2/(upTan+downTan);return out[0]=xScale,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=yScale,out[6]=0,out[7]=0,out[8]=-(leftTan-rightTan)*xScale*.5,out[9]=(upTan-downTan)*yScale*.5,out[10]=far/(near-far),out[11]=-1,out[12]=0,out[13]=0,out[14]=far*near/(near-far),out[15]=0,out}function ortho(out,left,right,bottom,top,near,far){var lr=1/(left-right),bt=1/(bottom-top),nf=1/(near-far);return out[0]=-2*lr,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=-2*bt,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=2*nf,out[11]=0,out[12]=(left+right)*lr,out[13]=(top+bottom)*bt,out[14]=(far+near)*nf,out[15]=1,out}function lookAt(out,eye,center,up){var x0=void 0,x1=void 0,x2=void 0,y0=void 0,y1=void 0,y2=void 0,z0=void 0,z1=void 0,z2=void 0,len=void 0,eyex=eye[0],eyey=eye[1],eyez=eye[2],upx=up[0],upy=up[1],upz=up[2],centerx=center[0],centery=center[1],centerz=center[2];return Math.abs(eyex-centerx)<glMatrix.EPSILON&&Math.abs(eyey-centery)<glMatrix.EPSILON&&Math.abs(eyez-centerz)<glMatrix.EPSILON?mat4.identity(out):(z0=eyex-centerx,z1=eyey-centery,z2=eyez-centerz,len=1/Math.sqrt(z0*z0+z1*z1+z2*z2),z0*=len,z1*=len,z2*=len,x0=upy*z2-upz*z1,x1=upz*z0-upx*z2,x2=upx*z1-upy*z0,len=Math.sqrt(x0*x0+x1*x1+x2*x2),len?(len=1/len,x0*=len,x1*=len,x2*=len):(x0=0,x1=0,x2=0),y0=z1*x2-z2*x1,y1=z2*x0-z0*x2,y2=z0*x1-z1*x0,len=Math.sqrt(y0*y0+y1*y1+y2*y2),len?(len=1/len,y0*=len,y1*=len,y2*=len):(y0=0,y1=0,y2=0),out[0]=x0,out[1]=y0,out[2]=z0,out[3]=0,out[4]=x1,out[5]=y1,out[6]=z1,out[7]=0,out[8]=x2,out[9]=y2,out[10]=z2,out[11]=0,out[12]=-(x0*eyex+x1*eyey+x2*eyez),out[13]=-(y0*eyex+y1*eyey+y2*eyez),out[14]=-(z0*eyex+z1*eyey+z2*eyez),out[15]=1,out)}function targetTo(out,eye,target,up){var eyex=eye[0],eyey=eye[1],eyez=eye[2],upx=up[0],upy=up[1],upz=up[2],z0=eyex-target[0],z1=eyey-target[1],z2=eyez-target[2],len=z0*z0+z1*z1+z2*z2;len>0&&(len=1/Math.sqrt(len),z0*=len,z1*=len,z2*=len);var x0=upy*z2-upz*z1,x1=upz*z0-upx*z2,x2=upx*z1-upy*z0;return out[0]=x0,out[1]=x1,out[2]=x2,out[3]=0,out[4]=z1*x2-z2*x1,out[5]=z2*x0-z0*x2,out[6]=z0*x1-z1*x0,out[7]=0,out[8]=z0,out[9]=z1,out[10]=z2,out[11]=0,out[12]=eyex,out[13]=eyey,out[14]=eyez,out[15]=1,out}function str(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out[6]=a[6]+b[6],out[7]=a[7]+b[7],out[8]=a[8]+b[8],out[9]=a[9]+b[9],out[10]=a[10]+b[10],out[11]=a[11]+b[11],out[12]=a[12]+b[12],out[13]=a[13]+b[13],out[14]=a[14]+b[14],out[15]=a[15]+b[15],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out[6]=a[6]-b[6],out[7]=a[7]-b[7],out[8]=a[8]-b[8],out[9]=a[9]-b[9],out[10]=a[10]-b[10],out[11]=a[11]-b[11],out[12]=a[12]-b[12],out[13]=a[13]-b[13],out[14]=a[14]-b[14],out[15]=a[15]-b[15],out}function multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out[6]=a[6]*b,out[7]=a[7]*b,out[8]=a[8]*b,out[9]=a[9]*b,out[10]=a[10]*b,out[11]=a[11]*b,out[12]=a[12]*b,out[13]=a[13]*b,out[14]=a[14]*b,out[15]=a[15]*b,out}function multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out[6]=a[6]+b[6]*scale,out[7]=a[7]+b[7]*scale,out[8]=a[8]+b[8]*scale,out[9]=a[9]+b[9]*scale,out[10]=a[10]+b[10]*scale,out[11]=a[11]+b[11]*scale,out[12]=a[12]+b[12]*scale,out[13]=a[13]+b[13]*scale,out[14]=a[14]+b[14]*scale,out[15]=a[15]+b[15]*scale,out}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],a6=a[6],a7=a[7],a8=a[8],a9=a[9],a10=a[10],a11=a[11],a12=a[12],a13=a[13],a14=a[14],a15=a[15],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8],b9=b[9],b10=b[10],b11=b[11],b12=b[12],b13=b[13],b14=b[14],b15=b[15];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=glMatrix.EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=glMatrix.EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))&&Math.abs(a6-b6)<=glMatrix.EPSILON*Math.max(1,Math.abs(a6),Math.abs(b6))&&Math.abs(a7-b7)<=glMatrix.EPSILON*Math.max(1,Math.abs(a7),Math.abs(b7))&&Math.abs(a8-b8)<=glMatrix.EPSILON*Math.max(1,Math.abs(a8),Math.abs(b8))&&Math.abs(a9-b9)<=glMatrix.EPSILON*Math.max(1,Math.abs(a9),Math.abs(b9))&&Math.abs(a10-b10)<=glMatrix.EPSILON*Math.max(1,Math.abs(a10),Math.abs(b10))&&Math.abs(a11-b11)<=glMatrix.EPSILON*Math.max(1,Math.abs(a11),Math.abs(b11))&&Math.abs(a12-b12)<=glMatrix.EPSILON*Math.max(1,Math.abs(a12),Math.abs(b12))&&Math.abs(a13-b13)<=glMatrix.EPSILON*Math.max(1,Math.abs(a13),Math.abs(b13))&&Math.abs(a14-b14)<=glMatrix.EPSILON*Math.max(1,Math.abs(a14),Math.abs(b14))&&Math.abs(a15-b15)<=glMatrix.EPSILON*Math.max(1,Math.abs(a15),Math.abs(b15))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sub=exports.mul=void 0,exports.create=create,exports.clone=clone,exports.copy=copy,exports.fromValues=fromValues,exports.set=set,exports.identity=identity,exports.transpose=transpose,exports.invert=invert,exports.adjoint=adjoint,exports.determinant=determinant,exports.multiply=multiply,exports.translate=translate,exports.scale=scale,exports.rotate=rotate,exports.rotateX=rotateX,exports.rotateY=rotateY,exports.rotateZ=rotateZ,exports.fromTranslation=fromTranslation,exports.fromScaling=fromScaling,exports.fromRotation=fromRotation,exports.fromXRotation=fromXRotation,exports.fromYRotation=fromYRotation,exports.fromZRotation=fromZRotation,exports.fromRotationTranslation=fromRotationTranslation,exports.getTranslation=getTranslation,exports.getScaling=getScaling,exports.getRotation=getRotation,exports.fromRotationTranslationScale=fromRotationTranslationScale,exports.fromRotationTranslationScaleOrigin=fromRotationTranslationScaleOrigin,exports.fromQuat=fromQuat,exports.frustum=frustum,exports.perspective=perspective,exports.perspectiveFromFieldOfView=perspectiveFromFieldOfView,exports.ortho=ortho,exports.lookAt=lookAt,exports.targetTo=targetTo,exports.str=str,exports.frob=frob,exports.add=add,exports.subtract=subtract,exports.multiplyScalar=multiplyScalar,exports.multiplyScalarAndAdd=multiplyScalarAndAdd,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.mul=multiply,exports.sub=subtract},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function create(){var out=new glMatrix.ARRAY_TYPE(4);return out[0]=0,out[1]=0,out[2]=0,out[3]=1,out}function identity(out){return out[0]=0,out[1]=0,out[2]=0,out[3]=1,out}function setAxisAngle(out,axis,rad){rad*=.5;var s=Math.sin(rad);return out[0]=s*axis[0],out[1]=s*axis[1],out[2]=s*axis[2],out[3]=Math.cos(rad),out}function getAxisAngle(out_axis,q){var rad=2*Math.acos(q[3]),s=Math.sin(rad/2);return 0!=s?(out_axis[0]=q[0]/s,out_axis[1]=q[1]/s,out_axis[2]=q[2]/s):(out_axis[0]=1,out_axis[1]=0,out_axis[2]=0),rad}function multiply(out,a,b){var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3];return out[0]=ax*bw+aw*bx+ay*bz-az*by,out[1]=ay*bw+aw*by+az*bx-ax*bz,out[2]=az*bw+aw*bz+ax*by-ay*bx,out[3]=aw*bw-ax*bx-ay*by-az*bz,out}function rotateX(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw+aw*bx,out[1]=ay*bw+az*bx,out[2]=az*bw-ay*bx,out[3]=aw*bw-ax*bx,out}function rotateY(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],by=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw-az*by,out[1]=ay*bw+aw*by,out[2]=az*bw+ax*by,out[3]=aw*bw-ay*by,out}function rotateZ(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],bz=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw+ay*bz,out[1]=ay*bw-ax*bz,out[2]=az*bw+aw*bz,out[3]=aw*bw-az*bz,out}function calculateW(out,a){var x=a[0],y=a[1],z=a[2];return out[0]=x,out[1]=y,out[2]=z,out[3]=Math.sqrt(Math.abs(1-x*x-y*y-z*z)),out}function slerp(out,a,b,t){var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3],omega=void 0,cosom=void 0,sinom=void 0,scale0=void 0,scale1=void 0;return cosom=ax*bx+ay*by+az*bz+aw*bw,cosom<0&&(cosom=-cosom,bx=-bx,by=-by,bz=-bz,bw=-bw),1-cosom>1e-6?(omega=Math.acos(cosom),sinom=Math.sin(omega),scale0=Math.sin((1-t)*omega)/sinom,scale1=Math.sin(t*omega)/sinom):(scale0=1-t,scale1=t),out[0]=scale0*ax+scale1*bx,out[1]=scale0*ay+scale1*by,out[2]=scale0*az+scale1*bz,out[3]=scale0*aw+scale1*bw,out}function invert(out,a){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],dot=a0*a0+a1*a1+a2*a2+a3*a3,invDot=dot?1/dot:0;return out[0]=-a0*invDot,out[1]=-a1*invDot,out[2]=-a2*invDot,out[3]=a3*invDot,out}function conjugate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out[3]=a[3],out}function fromMat3(out,m){var fTrace=m[0]+m[4]+m[8],fRoot=void 0;if(fTrace>0)fRoot=Math.sqrt(fTrace+1),out[3]=.5*fRoot,fRoot=.5/fRoot,out[0]=(m[5]-m[7])*fRoot,out[1]=(m[6]-m[2])*fRoot,out[2]=(m[1]-m[3])*fRoot;else{var i=0;m[4]>m[0]&&(i=1),m[8]>m[3*i+i]&&(i=2);var j=(i+1)%3,k=(i+2)%3;fRoot=Math.sqrt(m[3*i+i]-m[3*j+j]-m[3*k+k]+1),out[i]=.5*fRoot,fRoot=.5/fRoot,out[3]=(m[3*j+k]-m[3*k+j])*fRoot,out[j]=(m[3*j+i]+m[3*i+j])*fRoot,out[k]=(m[3*k+i]+m[3*i+k])*fRoot}return out}function fromEuler(out,x,y,z){var halfToRad=.5*Math.PI/180;x*=halfToRad,y*=halfToRad,z*=halfToRad;var sx=Math.sin(x),cx=Math.cos(x),sy=Math.sin(y),cy=Math.cos(y),sz=Math.sin(z),cz=Math.cos(z);return out[0]=sx*cy*cz-cx*sy*sz,out[1]=cx*sy*cz+sx*cy*sz,out[2]=cx*cy*sz-sx*sy*cz,out[3]=cx*cy*cz+sx*sy*sz,out}function str(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setAxes=exports.sqlerp=exports.rotationTo=exports.equals=exports.exactEquals=exports.normalize=exports.sqrLen=exports.squaredLength=exports.len=exports.length=exports.lerp=exports.dot=exports.scale=exports.mul=exports.add=exports.set=exports.copy=exports.fromValues=exports.clone=void 0,exports.create=create,exports.identity=identity,exports.setAxisAngle=setAxisAngle,exports.getAxisAngle=getAxisAngle,exports.multiply=multiply,exports.rotateX=rotateX,exports.rotateY=rotateY,exports.rotateZ=rotateZ,exports.calculateW=calculateW,exports.slerp=slerp,exports.invert=invert,exports.conjugate=conjugate,exports.fromMat3=fromMat3,exports.fromEuler=fromEuler,exports.str=str;var _common=__webpack_require__(3),glMatrix=_interopRequireWildcard(_common),_mat=__webpack_require__(20),mat3=_interopRequireWildcard(_mat),_vec=__webpack_require__(21),vec3=_interopRequireWildcard(_vec),_vec2=__webpack_require__(22),vec4=_interopRequireWildcard(_vec2),length=(exports.clone=vec4.clone,exports.fromValues=vec4.fromValues,exports.copy=vec4.copy,exports.set=vec4.set,exports.add=vec4.add,exports.mul=multiply,exports.scale=vec4.scale,exports.dot=vec4.dot,exports.lerp=vec4.lerp,exports.length=vec4.length),squaredLength=(exports.len=length,exports.squaredLength=vec4.squaredLength),normalize=(exports.sqrLen=squaredLength,exports.normalize=vec4.normalize);exports.exactEquals=vec4.exactEquals,exports.equals=vec4.equals,exports.rotationTo=function(){var tmpvec3=vec3.create(),xUnitVec3=vec3.fromValues(1,0,0),yUnitVec3=vec3.fromValues(0,1,0);return function(out,a,b){var dot=vec3.dot(a,b);return dot<-.999999?(vec3.cross(tmpvec3,xUnitVec3,a),vec3.len(tmpvec3)<1e-6&&vec3.cross(tmpvec3,yUnitVec3,a),vec3.normalize(tmpvec3,tmpvec3),setAxisAngle(out,tmpvec3,Math.PI),out):dot>.999999?(out[0]=0,out[1]=0,out[2]=0,out[3]=1,out):(vec3.cross(tmpvec3,a,b),out[0]=tmpvec3[0],out[1]=tmpvec3[1],out[2]=tmpvec3[2],out[3]=1+dot,normalize(out,out))}}(),exports.sqlerp=function(){var temp1=create(),temp2=create();return function(out,a,b,c,d,t){return slerp(temp1,a,d,t),slerp(temp2,b,c,t),slerp(out,temp1,temp2,2*t*(1-t)),out}}(),exports.setAxes=function(){var matr=mat3.create();return function(out,view,right,up){return matr[0]=right[0],matr[3]=right[1],matr[6]=right[2],matr[1]=up[0],matr[4]=up[1],matr[7]=up[2],matr[2]=-view[0],matr[5]=-view[1],matr[8]=-view[2],normalize(out,fromMat3(out,matr))}}()},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(2);return out[0]=0,out[1]=0,out}function clone(a){var out=new glMatrix.ARRAY_TYPE(2);return out[0]=a[0],out[1]=a[1],out}function fromValues(x,y){var out=new glMatrix.ARRAY_TYPE(2);return out[0]=x,out[1]=y,out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out}function set(out,x,y){return out[0]=x,out[1]=y,out}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out}function multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out}function divide(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out}function ceil(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out}function floor(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out}function min(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out}function max(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out}function round(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out}function scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out}function scaleAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out}function distance(a,b){var x=b[0]-a[0],y=b[1]-a[1];return Math.sqrt(x*x+y*y)}function squaredDistance(a,b){var x=b[0]-a[0],y=b[1]-a[1];return x*x+y*y}function length(a){var x=a[0],y=a[1];return Math.sqrt(x*x+y*y)}function squaredLength(a){var x=a[0],y=a[1];return x*x+y*y}function negate(out,a){return out[0]=-a[0],out[1]=-a[1],out}function inverse(out,a){return out[0]=1/a[0],out[1]=1/a[1],out}function normalize(out,a){var x=a[0],y=a[1],len=x*x+y*y;return len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len),out}function dot(a,b){return a[0]*b[0]+a[1]*b[1]}function cross(out,a,b){var z=a[0]*b[1]-a[1]*b[0];return out[0]=out[1]=0,out[2]=z,out}function lerp(out,a,b,t){var ax=a[0],ay=a[1];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out}function random(out,scale){scale=scale||1;var r=2*glMatrix.RANDOM()*Math.PI;return out[0]=Math.cos(r)*scale,out[1]=Math.sin(r)*scale,out}function transformMat2(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[2]*y,out[1]=m[1]*x+m[3]*y,out}function transformMat2d(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[2]*y+m[4],out[1]=m[1]*x+m[3]*y+m[5],out}function transformMat3(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[3]*y+m[6],out[1]=m[1]*x+m[4]*y+m[7],out}function transformMat4(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[4]*y+m[12],out[1]=m[1]*x+m[5]*y+m[13],out}function str(a){return"vec2("+a[0]+", "+a[1]+")"}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]}function equals(a,b){var a0=a[0],a1=a[1],b0=b[0],b1=b[1];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.forEach=exports.sqrLen=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=exports.len=void 0,exports.create=create,exports.clone=clone,exports.fromValues=fromValues,exports.copy=copy,exports.set=set,exports.add=add,exports.subtract=subtract,exports.multiply=multiply,exports.divide=divide,exports.ceil=ceil,exports.floor=floor,exports.min=min,exports.max=max,exports.round=round,exports.scale=scale,exports.scaleAndAdd=scaleAndAdd,exports.distance=distance,exports.squaredDistance=squaredDistance,exports.length=length,exports.squaredLength=squaredLength,exports.negate=negate,exports.inverse=inverse,exports.normalize=normalize,exports.dot=dot,exports.cross=cross,exports.lerp=lerp,exports.random=random,exports.transformMat2=transformMat2,exports.transformMat2d=transformMat2d,exports.transformMat3=transformMat3,exports.transformMat4=transformMat4,exports.str=str,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(3),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.len=length,exports.sub=subtract,exports.mul=multiply,exports.div=divide,exports.dist=distance,exports.sqrDist=squaredDistance,exports.sqrLen=squaredLength,exports.forEach=function(){var vec=create();return function(a,stride,offset,count,fn,arg){var i=void 0,l=void 0;for(stride||(stride=2),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1];return a}}()},function(module,exports,__webpack_require__){"use strict";function getAndApplyExtension(gl,name){var ext=gl.getExtension(name);if(!ext)return!1;var suffix=name.split("_")[0],suffixRE=new RegExp(suffix+"$");for(var key in ext){if("function"==typeof ext[key]){var unsuffixedKey=key.replace(suffixRE,"");key.substring&&(gl[unsuffixedKey]=ext[key].bind(ext))}}return!0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getAndApplyExtension},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_WebglConst=__webpack_require__(23),_WebglConst2=_interopRequireDefault(_WebglConst),exposeAttributes=function(){for(var s in _WebglConst2.default)_GLTool2.default[s]?console.log("already exist : ",s):_GLTool2.default[s]=_WebglConst2.default[s]};exports.default=exposeAttributes},function(module,exports,__webpack_require__){"use strict";function checkFloat(){return _GLTool2.default.webgl2?_GLTool2.default.gl.FLOAT:_GLTool2.default.getExtension("OES_texture_float")?_GLTool2.default.gl.FLOAT:(console.warn("USING FLOAT BUT OES_texture_float NOT SUPPORTED"),_GLTool2.default.gl.UNSIGNED_BYTE)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return hasChecked||(_float=checkFloat()),_float};var _GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),hasChecked=!1,_float=void 0},function(module,exports,__webpack_require__){"use strict";function checkHalfFloat(){if(_GLTool2.default.webgl2)return _GLTool2.default.gl.HALF_FLOAT;var extHalfFloat=_GLTool2.default.getExtension("OES_texture_half_float");return extHalfFloat?extHalfFloat.HALF_FLOAT_OES:(console.warn("USING HALF FLOAT BUT OES_texture_half_float NOT SUPPORTED"),_GLTool2.default.gl.UNSIGNED_BYTE)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return hasChecked||(halfFloat=checkHalfFloat()),halfFloat};var _GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),hasChecked=!1,halfFloat=void 0},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["EXT_shader_texture_lod","EXT_sRGB","EXT_frag_depth","OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","WEBGL_depth_texture","EXT_texture_filter_anisotropic","OES_vertex_array_object","ANGLE_instanced_arrays","WEBGL_draw_buffers"]},function(module,exports,__webpack_require__){"use strict";module.exports=function(strings){"string"==typeof strings&&(strings=[strings]);for(var exprs=[].slice.call(arguments,1),parts=[],i=0;i<strings.length-1;i++)parts.push(strings[i],exprs[i]||"");return parts.push(strings[i]),parts.join("")}},function(module,exports){module.exports="// basic.frag\n\n#define SHADER_NAME BASIC_FRAGMENT\n\nprecision lowp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform float time;\n// uniform sampler2D texture;\n\nvoid main(void) {\n    gl_FragColor = vec4(vTextureCoord, sin(time) * .5 + .5, 1.0);\n}"},function(module,exports,__webpack_require__){"use strict";function isPowerOfTwo(x){return 0!==x&&!(x&x-1)}Object.defineProperty(exports,"__esModule",{value:!0});var _GLTool=__webpack_require__(0),_GLTool2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLTool),getTextureParameters=function(mParams,mSource,mWidth,mHeight){if(!mParams.minFilter){var minFilter=_GLTool2.default.LINEAR;mWidth&&mWidth&&isPowerOfTwo(mWidth)&&isPowerOfTwo(mHeight)&&(minFilter=_GLTool2.default.NEAREST_MIPMAP_LINEAR),mParams.minFilter=minFilter}return mParams.mipmap=mParams.mipmap||!0,mParams.magFilter=mParams.magFilter||_GLTool2.default.LINEAR,mParams.wrapS=mParams.wrapS||_GLTool2.default.CLAMP_TO_EDGE,mParams.wrapT=mParams.wrapT||_GLTool2.default.CLAMP_TO_EDGE,mParams.internalFormat=mParams.internalFormat||_GLTool2.default.RGBA,mParams.format=mParams.format||_GLTool2.default.RGBA,mParams.premultiplyAlpha=mParams.premultiplyAlpha||!1,mParams.level=mParams.level||0,mParams.anisotropy=mParams.anisotropy||0,mParams};exports.default=getTextureParameters},function(module,exports,__webpack_require__){"use strict";function parseHeaders(arrayBuffer){var header=new Int32Array(arrayBuffer,0,headerLengthInt);if(header[off_magic]!==DDS_MAGIC)throw new Error("Invalid magic number in DDS header");if(!header[off_pfFlags]&DDPF_FOURCC)throw new Error("Unsupported format, must contain a FourCC code");var blockBytes,format,fourCC=header[off_pfFourCC];switch(fourCC){case FOURCC_DXT1:blockBytes=8,format="dxt1";break;case FOURCC_DXT3:blockBytes=16,format="dxt3";break;case FOURCC_DXT5:blockBytes=16,format="dxt5";break;case FOURCC_FP32F:format="rgba32f";break;case FOURCC_DX10:var dx10Header=new Uint32Array(arrayBuffer.slice(128,148));format=dx10Header[0];var resourceDimension=dx10Header[1];dx10Header[2],dx10Header[3],dx10Header[4];if(resourceDimension!==D3D10_RESOURCE_DIMENSION_TEXTURE2D||format!==DXGI_FORMAT_R32G32B32A32_FLOAT)throw new Error("Unsupported DX10 texture format "+format);format="rgba32f";break;default:throw new Error("Unsupported FourCC code: "+int32ToFourCC(fourCC))}var flags=header[off_flags],mipmapCount=1;flags&DDSD_MIPMAPCOUNT&&(mipmapCount=Math.max(1,header[off_mipmapCount]));var cubemap=!1;header[off_caps2]&DDSCAPS2_CUBEMAP&&(cubemap=!0);var dataLength,width=header[off_width],height=header[off_height],dataOffset=header[off_size]+4,texWidth=width,texHeight=height,images=[];if(fourCC===FOURCC_DX10&&(dataOffset+=20),cubemap)for(var f=0;f<6;f++){if("rgba32f"!==format)throw new Error("Only RGBA32f cubemaps are supported");width=texWidth,height=texHeight;for(var requiredMipLevels=Math.log(width)/Math.log(2)+1,i=0;i<requiredMipLevels;i++)dataLength=width*height*16,images.push({offset:dataOffset,length:dataLength,shape:[width,height]}),i<mipmapCount&&(dataOffset+=dataLength),width=Math.floor(width/2),height=Math.floor(height/2)}else for(var i=0;i<mipmapCount;i++)dataLength=Math.max(4,width)/4*Math.max(4,height)/4*blockBytes,images.push({offset:dataOffset,length:dataLength,shape:[width,height]}),dataOffset+=dataLength,width=Math.floor(width/2),height=Math.floor(height/2);return{shape:[texWidth,texHeight],images:images,format:format,flags:flags,cubemap:cubemap}}function fourCCToInt32(value){return value.charCodeAt(0)+(value.charCodeAt(1)<<8)+(value.charCodeAt(2)<<16)+(value.charCodeAt(3)<<24)}function int32ToFourCC(value){return String.fromCharCode(255&value,value>>8&255,value>>16&255,value>>24&255)}var DDS_MAGIC=542327876,DDSD_MIPMAPCOUNT=131072,DDPF_FOURCC=4,FOURCC_DXT1=fourCCToInt32("DXT1"),FOURCC_DXT3=fourCCToInt32("DXT3"),FOURCC_DXT5=fourCCToInt32("DXT5"),FOURCC_DX10=fourCCToInt32("DX10"),FOURCC_FP32F=116,DDSCAPS2_CUBEMAP=512,D3D10_RESOURCE_DIMENSION_TEXTURE2D=3,DXGI_FORMAT_R32G32B32A32_FLOAT=2,headerLengthInt=31,off_magic=0,off_size=1,off_flags=2,off_height=3,off_width=4,off_mipmapCount=7,off_pfFlags=20,off_pfFourCC=21,off_caps2=28;module.exports=parseHeaders},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLCubeTexture=__webpack_require__(27),_GLCubeTexture2=_interopRequireDefault(_GLCubeTexture),gl=void 0,CubeFrameBuffer=function(){function CubeFrameBuffer(size){var mParameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,CubeFrameBuffer),gl=_GLTool2.default.gl,this._size=size,this.magFilter=mParameters.magFilter||gl.LINEAR,this.minFilter=mParameters.minFilter||gl.LINEAR,this.wrapS=mParameters.wrapS||gl.CLAMP_TO_EDGE,this.wrapT=mParameters.wrapT||gl.CLAMP_TO_EDGE,this._init()}return _createClass(CubeFrameBuffer,[{key:"_init",value:function(){this.texture=gl.createTexture(),this.glTexture=new _GLCubeTexture2.default(this.texture,{},!0),gl.bindTexture(gl.TEXTURE_CUBE_MAP,this.texture),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MAG_FILTER,this.magFilter),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_MIN_FILTER,this.minFilter),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_S,this.wrapS),gl.texParameteri(gl.TEXTURE_CUBE_MAP,gl.TEXTURE_WRAP_T,this.wrapT);for(var targets=[gl.TEXTURE_CUBE_MAP_POSITIVE_X,gl.TEXTURE_CUBE_MAP_NEGATIVE_X,gl.TEXTURE_CUBE_MAP_POSITIVE_Y,gl.TEXTURE_CUBE_MAP_NEGATIVE_Y,gl.TEXTURE_CUBE_MAP_POSITIVE_Z,gl.TEXTURE_CUBE_MAP_NEGATIVE_Z],i=0;i<targets.length;i++)gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,!1),gl.texImage2D(targets[i],0,gl.RGBA,this.width,this.height,0,gl.RGBA,gl.FLOAT,null);this._frameBuffers=[];for(var _i=0;_i<targets.length;_i++){var frameBuffer=gl.createFramebuffer();gl.bindFramebuffer(gl.FRAMEBUFFER,frameBuffer),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,targets[_i],this.texture,0);var status=gl.checkFramebufferStatus(gl.FRAMEBUFFER);status!==gl.FRAMEBUFFER_COMPLETE&&console.log("'gl.checkFramebufferStatus() returned '"+status),this._frameBuffers.push(frameBuffer)}gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.bindRenderbuffer(gl.RENDERBUFFER,null),gl.bindTexture(gl.TEXTURE_CUBE_MAP,null)}},{key:"bind",value:function(mTargetIndex){_GLTool2.default.viewport(0,0,this.width,this.height),gl.bindFramebuffer(gl.FRAMEBUFFER,this._frameBuffers[mTargetIndex])}},{key:"unbind",value:function(){gl.bindFramebuffer(gl.FRAMEBUFFER,null),_GLTool2.default.viewport(0,0,_GLTool2.default.width,_GLTool2.default.height)}},{key:"getTexture",value:function(){return this.glTexture}},{key:"width",get:function(){return this._size}},{key:"height",get:function(){return this._size}}]),CubeFrameBuffer}();exports.default=CubeFrameBuffer},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function isPowerOfTwo(x){return 0!==x&&!(x&x-1)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLTexture=__webpack_require__(25),_GLTexture2=_interopRequireDefault(_GLTexture),gl=void 0,MultisampleFrameBuffer=function(){function MultisampleFrameBuffer(mWidth,mHeight){var mParameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,MultisampleFrameBuffer),gl=_GLTool2.default.gl,this.width=mWidth,this.height=mHeight,this.magFilter=mParameters.magFilter||gl.LINEAR,this.minFilter=mParameters.minFilter||gl.LINEAR,this.wrapS=mParameters.wrapS||gl.CLAMP_TO_EDGE,this.wrapT=mParameters.wrapT||gl.CLAMP_TO_EDGE,this.useDepth=mParameters.useDepth||!0,this.useStencil=mParameters.useStencil||!1,this.texelType=mParameters.type,this._numSample=mParameters.numSample||8,isPowerOfTwo(this.width)&&isPowerOfTwo(this.height)||(this.wrapS=this.wrapT=gl.CLAMP_TO_EDGE,this.minFilter===gl.LINEAR_MIPMAP_NEAREST&&(this.minFilter=gl.LINEAR)),this._init()}return _createClass(MultisampleFrameBuffer,[{key:"_init",value:function(){var texelType=gl.UNSIGNED_BYTE;this.texelType&&(texelType=this.texelType),this.texelType=texelType,this.frameBuffer=gl.createFramebuffer(),this.frameBufferColor=gl.createFramebuffer(),this.renderBufferColor=gl.createRenderbuffer(),this.renderBufferDepth=gl.createRenderbuffer(),this.glTexture=this._createTexture(),this.glDepthTexture=this._createTexture(gl.DEPTH_COMPONENT16,gl.UNSIGNED_SHORT,gl.DEPTH_COMPONENT,!0),gl.bindRenderbuffer(gl.RENDERBUFFER,this.renderBufferColor),gl.renderbufferStorageMultisample(gl.RENDERBUFFER,this._numSample,gl.RGBA8,this.width,this.height),gl.bindRenderbuffer(gl.RENDERBUFFER,this.renderBufferDepth),gl.renderbufferStorageMultisample(gl.RENDERBUFFER,this._numSample,gl.DEPTH_COMPONENT16,this.width,this.height),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBuffer),gl.framebufferRenderbuffer(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.RENDERBUFFER,this.renderBufferColor),gl.framebufferRenderbuffer(gl.FRAMEBUFFER,gl.DEPTH_ATTACHMENT,gl.RENDERBUFFER,this.renderBufferDepth),gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBufferColor),gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,this.glTexture.texture,0),gl.bindFramebuffer(gl.FRAMEBUFFER,null)}},{key:"_createTexture",value:function(mInternalformat,mTexelType,mFormat){var forceNearest=arguments.length>3&&void 0!==arguments[3]&&arguments[3];void 0===mInternalformat&&(mInternalformat=gl.RGBA),void 0===mTexelType&&(mTexelType=this.texelType),mFormat||(mFormat=mInternalformat);var t=gl.createTexture(),glt=new _GLTexture2.default(t,!0),magFilter=forceNearest?_GLTool2.default.NEAREST:this.magFilter,minFilter=forceNearest?_GLTool2.default.NEAREST:this.minFilter;return gl.bindTexture(gl.TEXTURE_2D,t),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,magFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,minFilter),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this.wrapS),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this.wrapT),gl.texImage2D(gl.TEXTURE_2D,0,mInternalformat,this.width,this.height,0,mFormat,mTexelType,null),gl.bindTexture(gl.TEXTURE_2D,null),glt}},{key:"bind",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&_GLTool2.default.viewport(0,0,this.width,this.height),gl.bindFramebuffer(gl.FRAMEBUFFER,this.frameBuffer)}},{key:"unbind",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&_GLTool2.default.viewport(0,0,_GLTool2.default.width,_GLTool2.default.height);var width=this.width,height=this.height;gl.bindFramebuffer(gl.FRAMEBUFFER,null),gl.bindFramebuffer(gl.READ_FRAMEBUFFER,this.frameBuffer),gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER,this.frameBufferColor),gl.clearBufferfv(gl.COLOR,0,[0,0,0,0]),gl.blitFramebuffer(0,0,width,height,0,0,width,height,gl.COLOR_BUFFER_BIT,_GLTool2.default.NEAREST),gl.bindFramebuffer(gl.FRAMEBUFFER,null)}},{key:"getTexture",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.glTexture}},{key:"getDepthTexture",value:function(){return this.glDepthTexture}}]),MultisampleFrameBuffer}();exports.default=MultisampleFrameBuffer},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),gl=void 0,TransformFeedbackObject=function(){function TransformFeedbackObject(strVertexShader,strFragmentShader){_classCallCheck(this,TransformFeedbackObject),gl=_GLTool2.default.gl,this._vs=strVertexShader,this._fs=strFragmentShader,this._init()}return _createClass(TransformFeedbackObject,[{key:"_init",value:function(){this._meshCurrent=new _Mesh2.default,this._meshTarget=new _Mesh2.default,this._numPoints=-1,this._varyings=[],this.transformFeedback=gl.createTransformFeedback()}},{key:"bufferData",value:function(mData,mName,mVaryingName){var isTransformFeedback=!!mVaryingName;console.log("is Transform feedback ?",mName,isTransformFeedback),this._meshCurrent.bufferData(mData,mName,null,gl.STREAM_COPY,!1),this._meshTarget.bufferData(mData,mName,null,gl.STREAM_COPY,!1),isTransformFeedback&&(this._varyings.push(mVaryingName),this._numPoints<0&&(this._numPoints=mData.length))}},{key:"bufferIndex",value:function(mArrayIndices){this._meshCurrent.bufferIndex(mArrayIndices),this._meshTarget.bufferIndex(mArrayIndices)}},{key:"uniform",value:function(mName,mType,mValue){this.shader&&this.shader.uniform(mName,mType,mValue)}},{key:"generate",value:function(){this.shader=new _GLShader2.default(this._vs,this._fs,this._varyings)}},{key:"render",value:function(){this.shader||this.generate(),this.shader.bind(),_GLTool2.default.drawTransformFeedback(this),this._swap()}},{key:"_swap",value:function(){var tmp=this._meshCurrent;this._meshCurrent=this._meshTarget,this._meshTarget=tmp}},{key:"numPoints",get:function(){return this._numPoints}},{key:"meshCurrent",get:function(){return this._meshCurrent}},{key:"meshTarget",get:function(){return this._meshTarget}},{key:"meshSource",get:function(){return this._meshCurrent}},{key:"meshDestination",get:function(){return this._meshTarget}}]),TransformFeedbackObject}();exports.default=TransformFeedbackObject},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function getFunc(mEasing){switch(mEasing){default:case"linear":return Easing.Linear.None;case"expIn":return Easing.Exponential.In;case"expOut":return Easing.Exponential.Out;case"expInOut":return Easing.Exponential.InOut;case"cubicIn":return Easing.Cubic.In;case"cubicOut":return Easing.Cubic.Out;case"cubicInOut":return Easing.Cubic.InOut;case"quarticIn":return Easing.Quartic.In;case"quarticOut":return Easing.Quartic.Out;case"quarticInOut":return Easing.Quartic.InOut;case"quinticIn":return Easing.Quintic.In;case"quinticOut":return Easing.Quintic.Out;case"quinticInOut":return Easing.Quintic.InOut;case"sinusoidalIn":return Easing.Sinusoidal.In;case"sinusoidalOut":return Easing.Sinusoidal.Out;case"sinusoidalInOut":return Easing.Sinusoidal.InOut;case"circularIn":return Easing.Circular.In;case"circularOut":return Easing.Circular.Out;case"circularInOut":return Easing.Circular.InOut;case"elasticIn":return Easing.Elastic.In;case"elasticOut":return Easing.Elastic.Out;case"elasticInOut":return Easing.Elastic.InOut;case"backIn":return Easing.Back.In;case"backOut":return Easing.Back.Out;case"backInOut":return Easing.Back.InOut;case"bounceIn":return Easing.Bounce.in;case"bounceOut":return Easing.Bounce.out;case"bounceInOut":return Easing.Bounce.inOut}}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_scheduling=__webpack_require__(6),_scheduling2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_scheduling),Easing={Linear:{None:function(k){return k}},Quadratic:{In:function(k){return k*k},Out:function(k){return k*(2-k)},InOut:function(k){return(k*=2)<1?.5*k*k:-.5*(--k*(k-2)-1)}},Cubic:{In:function(k){return k*k*k},Out:function(k){return--k*k*k+1},InOut:function(k){return(k*=2)<1?.5*k*k*k:.5*((k-=2)*k*k+2)}},Quartic:{In:function(k){return k*k*k*k},Out:function(k){return 1- --k*k*k*k},InOut:function(k){return(k*=2)<1?.5*k*k*k*k:-.5*((k-=2)*k*k*k-2)}},Quintic:{In:function(k){return k*k*k*k*k},Out:function(k){return--k*k*k*k*k+1},InOut:function(k){return(k*=2)<1?.5*k*k*k*k*k:.5*((k-=2)*k*k*k*k+2)}},Sinusoidal:{In:function(k){return 1-Math.cos(k*Math.PI/2)},Out:function(k){return Math.sin(k*Math.PI/2)},InOut:function(k){return.5*(1-Math.cos(Math.PI*k))}},Exponential:{In:function(k){return 0===k?0:Math.pow(1024,k-1)},Out:function(k){return 1===k?1:1-Math.pow(2,-10*k)},InOut:function(k){return 0===k?0:1===k?1:(k*=2)<1?.5*Math.pow(1024,k-1):.5*(2-Math.pow(2,-10*(k-1)))}},Circular:{In:function(k){return 1-Math.sqrt(1-k*k)},Out:function(k){return Math.sqrt(1- --k*k)},InOut:function(k){return(k*=2)<1?-.5*(Math.sqrt(1-k*k)-1):.5*(Math.sqrt(1-(k-=2)*k)+1)}},Elastic:{In:function(k){var s=void 0,a=.1;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),-a*Math.pow(2,10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/.4))},Out:function(k){var s=void 0,a=.1;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*k)*Math.sin((k-s)*(2*Math.PI)/.4)+1)},InOut:function(k){var s=void 0,a=.1;return 0===k?0:1===k?1:(!a||a<1?(a=1,s=.1):s=.4*Math.asin(1/a)/(2*Math.PI),(k*=2)<1?a*Math.pow(2,10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/.4)*-.5:a*Math.pow(2,-10*(k-=1))*Math.sin((k-s)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(k){var s=1.70158;return k*k*((s+1)*k-s)},Out:function(k){var s=1.70158;return--k*k*((s+1)*k+s)+1},InOut:function(k){var s=2.5949095;return(k*=2)<1?k*k*((s+1)*k-s)*.5:.5*((k-=2)*k*((s+1)*k+s)+2)}},Bounce:{in:function(k){return 1-Easing.Bounce.out(1-k)},out:function(k){return k<1/2.75?7.5625*k*k:k<2/2.75?7.5625*(k-=1.5/2.75)*k+.75:k<2.5/2.75?7.5625*(k-=2.25/2.75)*k+.9375:7.5625*(k-=2.625/2.75)*k+.984375},inOut:function(k){return k<.5?.5*Easing.Bounce.in(2*k):.5*Easing.Bounce.out(2*k-1)+.5}}},TweenNumber=function(){function TweenNumber(mValue){var _this=this,mEasing=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expOut",mSpeed=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;_classCallCheck(this,TweenNumber),this._value=mValue,this._startValue=mValue,this._targetValue=mValue,this._counter=1,this.speed=mSpeed,this.easing=mEasing,this._needUpdate=!0,this._efIndex=_scheduling2.default.addEF(function(){return _this._update()})}return _createClass(TweenNumber,[{key:"_update",value:function(){var newCounter=this._counter+this.speed;if(newCounter>1&&(newCounter=1),this._counter===newCounter)return void(this._needUpdate=!1);this._counter=newCounter,this._needUpdate=!0}},{key:"limit",value:function(mMin,mMax){if(mMin>mMax)return void this.limit(mMax,mMin);this._min=mMin,this._max=mMax,this._checkLimit()}},{key:"setTo",value:function(mValue){this._value=mValue,this._targetValue=mValue,this._counter=1}},{key:"_checkLimit",value:function(){void 0!==this._min&&this._targetValue<this._min&&(this._targetValue=this._min),void 0!==this._max&&this._targetValue>this._max&&(this._targetValue=this._max)}},{key:"destroy",value:function(){_scheduling2.default.removeEF(this._efIndex)}},{key:"value",set:function(mValue){this._startValue=this._value,this._targetValue=mValue,this._checkLimit(),this._counter=0},get:function(){if(this._needUpdate){var f=getFunc(this.easing),p=f(this._counter);this._value=this._startValue+p*(this._targetValue-this._startValue),this._needUpdate=!1}return this._value}},{key:"targetValue",get:function(){return this._targetValue}}]),TweenNumber}();exports.default=TweenNumber},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_glMatrix=__webpack_require__(1),_glMatrix2=_interopRequireDefault(_glMatrix),_EaseNumber=__webpack_require__(13),_EaseNumber2=_interopRequireDefault(_EaseNumber),_scheduling=__webpack_require__(6),_scheduling2=_interopRequireDefault(_scheduling),getMouse=function(mEvent,mTarget){var o=mTarget||{};return mEvent.touches?(o.x=mEvent.touches[0].pageX,o.y=mEvent.touches[0].pageY):(o.x=mEvent.clientX,o.y=mEvent.clientY),o},QuatRotation=function(){function QuatRotation(mTarget){var _this=this,mListenerTarget=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,mEasing=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;_classCallCheck(this,QuatRotation),this._target=mTarget,this._listenerTarget=mListenerTarget,this.matrix=_glMatrix2.default.mat4.create(),this.m=_glMatrix2.default.mat4.create(),this._vZaxis=_glMatrix2.default.vec3.clone([0,0,0]),this._zAxis=_glMatrix2.default.vec3.clone([0,0,1]),this.preMouse={x:0,y:0},this.mouse={x:0,y:0},this._isMouseDown=!1,this._rotation=_glMatrix2.default.quat.create(),this.tempRotation=_glMatrix2.default.quat.create(),this._rotateZMargin=0,this._offset=.004,this._slerp=-1,this._isLocked=!1,this._diffX=new _EaseNumber2.default(0,mEasing),this._diffY=new _EaseNumber2.default(0,mEasing),this._listenerTarget.addEventListener("mousedown",function(e){return _this._onDown(e)}),this._listenerTarget.addEventListener("touchstart",function(e){return _this._onDown(e)}),this._listenerTarget.addEventListener("mousemove",function(e){return _this._onMove(e)}),this._listenerTarget.addEventListener("touchmove",function(e){return _this._onMove(e)}),window.addEventListener("touchend",function(){return _this._onUp()}),window.addEventListener("mouseup",function(){return _this._onUp()}),_scheduling2.default.addEF(function(){return _this._loop()})}return _createClass(QuatRotation,[{key:"inverseControl",value:function(){var isInvert=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isInvert=isInvert}},{key:"lock",value:function(){var mValue=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._isLocked=mValue}},{key:"setCameraPos",value:function(mQuat){var speed=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;if(this.easing=speed,!(this._slerp>0)){var tempRotation=_glMatrix2.default.quat.clone(this._rotation);this._updateRotation(tempRotation),this._rotation=_glMatrix2.default.quat.clone(tempRotation),this._currDiffX=this.diffX=0,this._currDiffY=this.diffY=0,this._isMouseDown=!1,this._isRotateZ=0,this._targetQuat=_glMatrix2.default.quat.clone(mQuat),this._slerp=1}}},{key:"resetQuat",value:function(){this._rotation=_glMatrix2.default.quat.clone([0,0,1,0]),this.tempRotation=_glMatrix2.default.quat.clone([0,0,0,0]),this._targetQuat=void 0,this._slerp=-1}},{key:"_onDown",value:function(mEvent){if(!this._isLocked){var mouse=getMouse(mEvent),tempRotation=_glMatrix2.default.quat.clone(this._rotation);this._updateRotation(tempRotation),this._rotation=tempRotation,this._isMouseDown=!0,this._isRotateZ=0,this.preMouse={x:mouse.x,y:mouse.y},mouse.y<this._rotateZMargin||mouse.y>window.innerHeight-this._rotateZMargin?this._isRotateZ=1:(mouse.x<this._rotateZMargin||mouse.x>window.innerWidth-this._rotateZMargin)&&(this._isRotateZ=2),this._diffX.setTo(0),this._diffY.setTo(0)}}},{key:"_onMove",value:function(mEvent){this._isLocked||getMouse(mEvent,this.mouse)}},{key:"_onUp",value:function(){this._isLocked||(this._isMouseDown=!1)}},{key:"_updateRotation",value:function(mTempRotation){this._isMouseDown&&!this._isLocked&&(this._diffX.value=-(this.mouse.x-this.preMouse.x),this._diffY.value=this.mouse.y-this.preMouse.y,this._isInvert&&(this._diffX.value=-this._diffX.targetValue,this._diffY.value=-this._diffY.targetValue));var angle=void 0,_quat=void 0;if(this._isRotateZ>0)1===this._isRotateZ?(angle=-this._diffX.value*this._offset,angle*=this.preMouse.y<this._rotateZMargin?-1:1,_quat=_glMatrix2.default.quat.clone([0,0,Math.sin(angle),Math.cos(angle)]),_glMatrix2.default.quat.multiply(_quat,mTempRotation,_quat)):(angle=-this._diffY.value*this._offset,angle*=this.preMouse.x<this._rotateZMargin?1:-1,_quat=_glMatrix2.default.quat.clone([0,0,Math.sin(angle),Math.cos(angle)]),_glMatrix2.default.quat.multiply(_quat,mTempRotation,_quat));else{var v=_glMatrix2.default.vec3.clone([this._diffX.value,this._diffY.value,0]),axis=_glMatrix2.default.vec3.create();_glMatrix2.default.vec3.cross(axis,v,this._zAxis),_glMatrix2.default.vec3.normalize(axis,axis),angle=_glMatrix2.default.vec3.length(v)*this._offset,_quat=_glMatrix2.default.quat.clone([Math.sin(angle)*axis[0],Math.sin(angle)*axis[1],Math.sin(angle)*axis[2],Math.cos(angle)]),_glMatrix2.default.quat.multiply(mTempRotation,_quat,mTempRotation)}}},{key:"_loop",value:function(){_glMatrix2.default.mat4.identity(this.m),void 0===this._targetQuat?(_glMatrix2.default.quat.set(this.tempRotation,this._rotation[0],this._rotation[1],this._rotation[2],this._rotation[3]),this._updateRotation(this.tempRotation)):(this._slerp+=.1*(0-this._slerp),this._slerp<5e-4?(_glMatrix2.default.quat.copy(this._rotation,this._targetQuat),_glMatrix2.default.quat.copy(this.tempRotation,this._targetQuat),this._targetQuat=void 0,this._diffX.setTo(0),this._diffY.setTo(0),this._slerp=-1):(_glMatrix2.default.quat.set(this.tempRotation,0,0,0,0),_glMatrix2.default.quat.slerp(this.tempRotation,this._targetQuat,this._rotation,this._slerp))),_glMatrix2.default.vec3.transformQuat(this._vZaxis,this._vZaxis,this.tempRotation),_glMatrix2.default.mat4.fromQuat(this.matrix,this.tempRotation)}},{key:"easing",set:function(mValue){this._diffX.easing=mValue,this._diffY.easing=mValue},get:function(){return this._diffX.easing}}]),QuatRotation}();exports.default=QuatRotation},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function distance(a,b){var dx=a.x-b.x,dy=a.y-b.y;return Math.sqrt(dx*dx+dy*dy)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_EventDispatcher2=__webpack_require__(28),_EventDispatcher3=_interopRequireDefault(_EventDispatcher2),_Ray=__webpack_require__(14),_Ray2=_interopRequireDefault(_Ray),_getMouse=__webpack_require__(62),_getMouse2=_interopRequireDefault(_getMouse),TouchDetector=function(_EventDispatcher){function TouchDetector(mMesh,mCamera){var mSkipMoveCheck=arguments.length>2&&void 0!==arguments[2]&&arguments[2],mListenerTarget=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window;_classCallCheck(this,TouchDetector);var _this=_possibleConstructorReturn(this,(TouchDetector.__proto__||Object.getPrototypeOf(TouchDetector)).call(this));return _this._mesh=mMesh,_this._mesh.generateFaces(),_this._camera=mCamera,_this.faceVertices=mMesh.faces.map(function(face){return face.vertices}),_this.clickTolerance=8,_this._ray=new _Ray2.default([0,0,0],[0,0,-1]),_this._hit=vec3.fromValues(-999,-999,-999),_this._lastPos,_this._firstPos,_this.mtxModel=mat4.create(),_this._listenerTarget=mListenerTarget,_this._skippingMove=mSkipMoveCheck,_this._onMoveBind=function(e){return _this._onMove(e)},_this._onDownBind=function(e){return _this._onDown(e)},_this._onUpBind=function(){return _this._onUp()},_this.connect(),_this}return _inherits(TouchDetector,_EventDispatcher),_createClass(TouchDetector,[{key:"connect",value:function(){this._listenerTarget.addEventListener("mousedown",this._onDownBind),this._listenerTarget.addEventListener("mousemove",this._onMoveBind),this._listenerTarget.addEventListener("mouseup",this._onUpBind)}},{key:"disconnect",value:function(){this._listenerTarget.removeEventListener("mousedown",this._onDownBind),this._listenerTarget.removeEventListener("mousemove",this._onMoveBind),this._listenerTarget.removeEventListener("mouseup",this._onUpBind)}},{key:"_checkHit",value:function(){var _this2=this,mType=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"onHit",camera=this._camera;if(camera){var mx=this._lastPos.x/_GLTool2.default.width*2-1,my=-this._lastPos.y/_GLTool2.default.height*2+1;camera.generateRay([mx,my,0],this._ray);for(var hit=void 0,v0=vec3.create(),v1=vec3.create(),v2=vec3.create(),dist=0,getVector=function(v,target){vec3.transformMat4(target,v,_this2.mtxModel)},i=0;i<this.faceVertices.length;i++){var vertices=this.faceVertices[i];getVector(vertices[0],v0),getVector(vertices[1],v1),getVector(vertices[2],v2);var t=this._ray.intersectTriangle(v0,v1,v2);if(t)if(hit){var distToCam=vec3.dist(t,camera.position);distToCam<dist&&(hit=vec3.clone(t),dist=distToCam)}else hit=vec3.clone(t),dist=vec3.dist(hit,camera.position)}hit?(this._hit=vec3.clone(hit),this.dispatchCustomEvent(mType,{hit:hit})):this.dispatchCustomEvent("onUp")}}},{key:"_onDown",value:function(e){this._firstPos=(0,_getMouse2.default)(e),this._lastPos=(0,_getMouse2.default)(e),this._checkHit("onDown")}},{key:"_onMove",value:function(e){this._lastPos=(0,_getMouse2.default)(e),this._skippingMove||this._checkHit()}},{key:"_onUp",value:function(){distance(this._firstPos,this._lastPos)<this.clickTolerance&&this._checkHit()}}]),TouchDetector}(_EventDispatcher3.default);exports.default=TouchDetector},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var x=void 0,y=void 0;return e.touches?(x=e.touches[0].pageX,y=e.touches[0].pageY):(x=e.clientX,y=e.clientY),{x:x,y:y}}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_CameraPerspective2=__webpack_require__(16),_CameraPerspective3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_CameraPerspective2),_glMatrix=__webpack_require__(1),CAMERA_SETTINGS=[[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(1,0,0),_glMatrix.vec3.fromValues(0,-1,0)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(-1,0,0),_glMatrix.vec3.fromValues(0,-1,0)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(0,1,0),_glMatrix.vec3.fromValues(0,0,1)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(0,-1,0),_glMatrix.vec3.fromValues(0,0,-1)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(0,0,1),_glMatrix.vec3.fromValues(0,-1,0)],[_glMatrix.vec3.fromValues(0,0,0),_glMatrix.vec3.fromValues(0,0,-1),_glMatrix.vec3.fromValues(0,-1,0)]],CameraCube=function(_CameraPerspective){function CameraCube(){_classCallCheck(this,CameraCube);var _this=_possibleConstructorReturn(this,(CameraCube.__proto__||Object.getPrototypeOf(CameraCube)).call(this));return _this.setPerspective(Math.PI/2,1,.1,1e3),_this}return _inherits(CameraCube,_CameraPerspective),_createClass(CameraCube,[{key:"face",value:function(mIndex){var o=CAMERA_SETTINGS[mIndex];this.lookAt(o[0],o[1],o[2])}}]),CameraCube}(_CameraPerspective3.default);exports.default=CameraCube},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_BinaryLoader2=__webpack_require__(17),_BinaryLoader3=_interopRequireDefault(_BinaryLoader2),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),ObjLoader=function(_BinaryLoader){function ObjLoader(){return _classCallCheck(this,ObjLoader),_possibleConstructorReturn(this,(ObjLoader.__proto__||Object.getPrototypeOf(ObjLoader)).apply(this,arguments))}return _inherits(ObjLoader,_BinaryLoader),_createClass(ObjLoader,[{key:"load",value:function(url,callback){var drawType=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;this._drawType=drawType,_get(ObjLoader.prototype.__proto__||Object.getPrototypeOf(ObjLoader.prototype),"load",this).call(this,url,callback)}},{key:"_onLoaded",value:function(){this.parseObj(this._req.response)}},{key:"parseObj",value:function(objStr){function parseVertexIndex(value){var index=parseInt(value);return 3*(index>=0?index-1:index+vertices.length/3)}function parseNormalIndex(value){var index=parseInt(value);return 3*(index>=0?index-1:index+normals.length/3)}function parseUVIndex(value){var index=parseInt(value);return 2*(index>=0?index-1:index+uvs.length/2)}function addVertex(a,b,c){positions.push([vertices[a],vertices[a+1],vertices[a+2]]),positions.push([vertices[b],vertices[b+1],vertices[b+2]]),positions.push([vertices[c],vertices[c+1],vertices[c+2]]),indices.push(3*count+0),indices.push(3*count+1),indices.push(3*count+2),count++}function addUV(a,b,c){coords.push([uvs[a],uvs[a+1]]),coords.push([uvs[b],uvs[b+1]]),coords.push([uvs[c],uvs[c+1]])}function addNormal(a,b,c){finalNormals.push([normals[a],normals[a+1],normals[a+2]]),finalNormals.push([normals[b],normals[b+1],normals[b+2]]),finalNormals.push([normals[c],normals[c+1],normals[c+2]])}function addFace(a,b,c,d,ua,ub,uc,ud,na,nb,nc,nd){var ia=parseVertexIndex(a),ib=parseVertexIndex(b),ic=parseVertexIndex(c),id=void 0;void 0===d?addVertex(ia,ib,ic):(id=parseVertexIndex(d),addVertex(ia,ib,id),addVertex(ib,ic,id)),void 0!==ua&&(ia=parseUVIndex(ua),ib=parseUVIndex(ub),ic=parseUVIndex(uc),void 0===d?addUV(ia,ib,ic):(id=parseUVIndex(ud),addUV(ia,ib,id),addUV(ib,ic,id))),void 0!==na&&(ia=parseNormalIndex(na),ib=parseNormalIndex(nb),ic=parseNormalIndex(nc),void 0===d?addNormal(ia,ib,ic):(id=parseNormalIndex(nd),addNormal(ia,ib,id),addNormal(ib,ic,id)))}for(var lines=objStr.split("\n"),positions=[],coords=[],finalNormals=[],vertices=[],normals=[],uvs=[],indices=[],count=0,result=void 0,vertexPattern=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,normalPattern=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,uvPattern=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,facePattern1=/f( +-?\d+)( +-?\d+)( +-?\d+)( +-?\d+)?/,facePattern2=/f( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))?/,facePattern3=/f( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))?/,facePattern4=/f( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))?/,i=0;i<lines.length;i++){var line=lines[i];line=line.trim(),0!==line.length&&"#"!==line.charAt(0)&&(null!==(result=vertexPattern.exec(line))?vertices.push(parseFloat(result[1]),parseFloat(result[2]),parseFloat(result[3])):null!==(result=normalPattern.exec(line))?normals.push(parseFloat(result[1]),parseFloat(result[2]),parseFloat(result[3])):null!==(result=uvPattern.exec(line))?uvs.push(parseFloat(result[1]),parseFloat(result[2])):null!==(result=facePattern1.exec(line))?addFace(result[1],result[2],result[3],result[4]):null!==(result=facePattern2.exec(line))?addFace(result[2],result[5],result[8],result[11],result[3],result[6],result[9],result[12]):null!==(result=facePattern3.exec(line))?addFace(result[2],result[6],result[10],result[14],result[3],result[7],result[11],result[15],result[4],result[8],result[12],result[16]):null!==(result=facePattern4.exec(line))&&addFace(result[2],result[5],result[8],result[11],void 0,void 0,void 0,void 0,result[3],result[6],result[9],result[12]))}return this._generateMeshes({positions:positions,coords:coords,normals:finalNormals,indices:indices})}},{key:"_generateMeshes",value:function(o){var hasNormals=o.normals.length>0,hasUVs=o.coords.length>0,mesh=void 0;if(o.positions.length>65535){var meshes=[],lastIndex=0,oCopy={};for(oCopy.positions=o.positions.concat(),oCopy.coords=o.coords.concat(),oCopy.indices=o.indices.concat(),oCopy.normals=o.normals.concat();o.indices.length>0;){for(var sliceNum=Math.min(65535,o.positions.length),indices=o.indices.splice(0,sliceNum),positions=[],coords=[],normals=[],index=void 0,tmpIndex=0,i=0;i<indices.length;i++)indices[i]>tmpIndex&&(tmpIndex=indices[i]),index=indices[i],positions.push(oCopy.positions[index]),hasUVs&&coords.push(oCopy.coords[index]),hasNormals&&normals.push(oCopy.normals[index]),indices[i]-=lastIndex;lastIndex=tmpIndex+1,mesh=new _Mesh2.default(this._drawType),mesh.bufferVertex(positions),hasUVs&&mesh.bufferTexCoord(coords),mesh.bufferIndex(indices),hasNormals&&mesh.bufferNormal(normals),meshes.push(mesh)}return this._callback&&this._callback(meshes,oCopy),meshes}return mesh=new _Mesh2.default(this._drawType),mesh.bufferVertex(o.positions),hasUVs&&mesh.bufferTexCoord(o.coords),mesh.bufferIndex(o.indices),hasNormals&&mesh.bufferNormal(o.normals),this._callback&&this._callback(mesh,o),mesh}}]),ObjLoader}(_BinaryLoader3.default);ObjLoader.parse=function(objStr){return(new ObjLoader).parseObj(objStr)},exports.default=ObjLoader},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_BinaryLoader2=__webpack_require__(17),_BinaryLoader3=_interopRequireDefault(_BinaryLoader2),_HDRParser=__webpack_require__(66),_HDRParser2=_interopRequireDefault(_HDRParser),HDRLoader=function(_BinaryLoader){function HDRLoader(){return _classCallCheck(this,HDRLoader),_possibleConstructorReturn(this,(HDRLoader.__proto__||Object.getPrototypeOf(HDRLoader)).call(this,!0))}return _inherits(HDRLoader,_BinaryLoader),_createClass(HDRLoader,[{key:"parse",value:function(mArrayBuffer){return(0,_HDRParser2.default)(mArrayBuffer)}},{key:"_onLoaded",value:function(){var o=this.parse(this._req.response);this._callback&&this._callback(o)}}]),HDRLoader}(_BinaryLoader3.default);HDRLoader.parse=function(mArrayBuffer){return(0,_HDRParser2.default)(mArrayBuffer)},exports.default=HDRLoader},function(module,exports,__webpack_require__){"use strict";function readPixelsRawRLE(buffer,data,offset,fileOffset,scanlineWidth,numScanlines){function readBuf(buf){var bytesRead=0;do{buf[bytesRead++]=buffer[fileOffset]}while(++fileOffset<bufferLength&&bytesRead<buf.length);return bytesRead}function readBufOffset(buf,offset,length){var bytesRead=0;do{buf[offset+bytesRead++]=buffer[fileOffset]}while(++fileOffset<bufferLength&&bytesRead<length);return bytesRead}for(var rgbe=new Array(4),scanlineBuffer=null,ptr=void 0,ptrEnd=void 0,count=void 0,buf=new Array(2),bufferLength=buffer.length;numScanlines>0;){if(readBuf(rgbe)<rgbe.length)throw new Error("Error reading bytes: expected "+rgbe.length);if(2!==rgbe[0]||2!==rgbe[1]||0!=(128&rgbe[2]))return data[offset++]=rgbe[0],data[offset++]=rgbe[1],data[offset++]=rgbe[2],data[offset++]=rgbe[3],void function(buffer,data,offset,numpixels){var numExpected=4*numpixels,numRead=readBufOffset(data,offset,numExpected);if(numRead<numExpected)throw new Error("Error reading raw pixels: got "+numRead+" bytes, expected "+numExpected)}(0,data,offset,scanlineWidth*numScanlines-1);if(((255&rgbe[2])<<8|255&rgbe[3])!==scanlineWidth)throw new Error("Wrong scanline width "+((255&rgbe[2])<<8|255&rgbe[3])+", expected "+scanlineWidth);null===scanlineBuffer&&(scanlineBuffer=new Array(4*scanlineWidth)),ptr=0;for(var i=0;i<4;i++)for(ptrEnd=(i+1)*scanlineWidth;ptr<ptrEnd;){if(readBuf(buf)<buf.length)throw new Error("Error reading 2-byte buffer");if((255&buf[0])>128){if(0===(count=(255&buf[0])-128)||count>ptrEnd-ptr)throw new Error("Bad scanline data");for(;count-- >0;)scanlineBuffer[ptr++]=buf[1]}else{if(0===(count=255&buf[0])||count>ptrEnd-ptr)throw new Error("Bad scanline data");if(scanlineBuffer[ptr++]=buf[1],--count>0){if(readBufOffset(scanlineBuffer,ptr,count)<count)throw new Error("Error reading non-run data");ptr+=count}}}for(var _i=0;_i<scanlineWidth;_i++)data[offset+0]=scanlineBuffer[_i],data[offset+1]=scanlineBuffer[_i+scanlineWidth],data[offset+2]=scanlineBuffer[_i+2*scanlineWidth],data[offset+3]=scanlineBuffer[_i+3*scanlineWidth],offset+=4;numScanlines--}}function parseHdr(buffer){buffer instanceof ArrayBuffer&&(buffer=new Uint8Array(buffer));for(var fileOffset=0,bufferLength=buffer.length,NEW_LINE=10,width=0,height=0,exposure=1,rle=!1,i=0;i<20;i++){var line=function(){var buf="";do{var b=buffer[fileOffset];if(b===NEW_LINE){++fileOffset;break}buf+=String.fromCharCode(b)}while(++fileOffset<bufferLength);return buf}(),match=void 0;if(match=line.match(radiancePattern));else if(match=line.match(formatPattern))rle=!0;else if(match=line.match(exposurePattern))exposure=Number(match[1]);else if(match=line.match(commentPattern));else if(match=line.match(widthHeightPattern)){height=Number(match[1]),width=Number(match[2]);break}}if(!rle)throw new Error("File is not run length encoded!");var data=new Uint8Array(width*height*4);readPixelsRawRLE(buffer,data,0,fileOffset,width,height);for(var floatData=new Float32Array(width*height*4),offset=0;offset<data.length;offset+=4){var r=data[offset+0]/255,g=data[offset+1]/255,b=data[offset+2]/255,e=data[offset+3],f=Math.pow(2,e-128);r*=f,g*=f,b*=f;var floatOffset=offset;floatData[floatOffset+0]=r,floatData[floatOffset+1]=g,floatData[floatOffset+2]=b,floatData[floatOffset+3]=1}return{shape:[width,height],exposure:exposure,gamma:1,data:floatData}}Object.defineProperty(exports,"__esModule",{value:!0});var radiancePattern="#\\?RADIANCE",commentPattern="#.*",exposurePattern="EXPOSURE=\\s*([0-9]*[.][0-9]*)",formatPattern="FORMAT=32-bit_rle_rgbe",widthHeightPattern="-Y ([0-9]+) \\+X ([0-9]+)";exports.default=parseHdr},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _colladaParser=__webpack_require__(68),_colladaParser2=_interopRequireDefault(_colladaParser),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),generateMesh=function(meshes){var caches={};meshes.forEach(function(mesh){var _mesh$mesh=mesh.mesh,vertices=_mesh$mesh.vertices,normals=_mesh$mesh.normals,coords=_mesh$mesh.coords,triangles=_mesh$mesh.triangles,name=_mesh$mesh.name;if(!caches[name]){var glMesh=(new _Mesh2.default).bufferFlattenData(vertices,"aVertexPosition",3).bufferFlattenData(coords,"aTextureCoord",2).bufferFlattenData(normals,"aNormal",3).bufferIndex(triangles);caches[name]=glMesh}mesh.glMesh=caches[name]})},parse=function(mData){var meshes=_colladaParser2.default.parse(mData);return generateMesh(meshes),meshes},load=function(mPath,mCallback){_colladaParser2.default.load(mPath,function(meshes){generateMesh(meshes),mCallback(meshes)})},ColladaParser={parse:parse,load:load};exports.default=ColladaParser},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Collada=__webpack_require__(69),_Collada2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Collada),_glMatrix=__webpack_require__(1),parseData=function(mData){function getMaterial(id){var mat=void 0;for(var _s in materials)_s===id&&(mat=materials[_s]);var oMaterial={};return mat.diffuse&&(oMaterial.diffuseColor=mat.diffuse),oMaterial.diffuseColor=mat.diffuse||[0,0,0],oMaterial.shininess=mat.shininess||0,mat.textures&&(mat.textures.diffuse&&(oMaterial.diffuseMapID=mat.textures.diffuse.map_id),mat.textures.normal&&(oMaterial.normalMapID=mat.textures.normal.map_id)),oMaterial}function walk(node,mtxParent){var m=_glMatrix.mat4.create();if(node.model?_glMatrix.mat4.multiply(m,mtxParent,node.model):_glMatrix.mat4.copy(m,mtxParent),node.children.length>0&&node.children.forEach(function(child){walk(child,m)}),node.mesh){var _oMesh={};_oMesh.modelMatrix=m,_oMesh.mesh=meshes[node.mesh],_oMesh.id=node.id,_oMesh.name=node.name,_oMesh.material=getMaterial(node.material),meshObjs.push(_oMesh)}}var materials=mData.materials,meshes=mData.meshes,meshObjs=[],allMeshes=[];for(var s in meshes){var oMesh=meshes[s],vertices=oMesh.vertices,normals=oMesh.normals,coords=oMesh.coords,triangles=oMesh.triangles,buffers={vertices:vertices,normals:normals,coords:coords,triangles:triangles};allMeshes.push({id:s,buffers:buffers})}var mtx=_glMatrix.mat4.create();return walk(mData.root,mtx),meshObjs},parse=function(mFile){var o=_Collada2.default.parse(mFile);return parseData(o)},load=function(mPath,mCallBack){_Collada2.default.load(mPath,function(mData){mCallBack(parseData(mData))})},ColladaParser={load:load,parse:parse};exports.default=ColladaParser,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";(function(global){function request(url,callback){var req=new XMLHttpRequest;req.onload=function(){this.response;200==this.status&&callback&&callback(this.response)},req.open("get",url,!0),req.send()}Object.defineProperty(exports,"__esModule",{value:!0});var _glMatrix=__webpack_require__(1),isWorker=void 0===global.document,DEG2RAD=2*Math.PI/360,temp_mat4=null,temp_vec2=null,temp_vec3=null,temp_vec4=null,temp_quat=null,Collada={libsPath:"./",workerPath:"./",no_flip:!0,use_transferables:!0,onerror:null,verbose:!1,config:{forceParser:!1},init:function(config){config=config||{};for(var i in config)this[i]=config[i];if(this.config=config,isWorker)try{importScripts(this.libsPath+"gl-matrix-min.js",this.libsPath+"tinyxml.js")}catch(err){Collada.throwException(Collada.LIBMISSING_ERROR)}temp_mat4=_glMatrix.mat4.create(),temp_vec2=vec3.create(),temp_vec3=vec3.create(),temp_vec4=vec3.create(),temp_quat=_glMatrix.quat.create(),isWorker&&console.log("Collada worker ready")},load:function(url,callback){request(url,function(data){callback(data?Collada.parse(data):null)})},_xmlroot:null,_nodes_by_id:null,_transferables:null,_controllers_found:null,_geometries_found:null,safeString:function(str){return str?this.convertID?this.convertID(str):str.replace(/ /g,"_"):""},LIBMISSING_ERROR:"Libraries loading error, when using workers remember to pass the URL to the tinyxml.js in the options.libsPath",NOXMLPARSER_ERROR:"TinyXML not found, when using workers remember to pass the URL to the tinyxml.js in the options.libsPath (Workers do not allow to access the native XML DOMParser)",throwException:function(msg){throw isWorker?self.postMessage({action:"exception",msg:msg}):Collada.onerror&&Collada.onerror(msg),msg},getFilename:function(filename){var pos=filename.lastIndexOf("\\");return-1!=pos&&(filename=filename.substr(pos+1)),pos=filename.lastIndexOf("/"),-1!=pos&&(filename=filename.substr(pos+1)),filename},last_name:0,generateName:function(v){v=v||"name_";var name=v+this.last_name;return this.last_name++,name},parse:function(data,options,filename){options=options||{},filename=filename||"_dae_"+Date.now()+".dae";var xmlparser=null,root=null;if(this._transferables=[],this.verbose&&console.log(" - XML parsing..."),global.DOMParser&&!this.config.forceParser)xmlparser=new DOMParser,root=xmlparser.parseFromString(data,"text/xml"),this.verbose&&console.log(" - XML parsed");else{if(!global.DOMImplementation)return Collada.throwException(Collada.NOXMLPARSER_ERROR);try{xmlparser=new DOMImplementation}catch(err){return Collada.throwException(Collada.NOXMLPARSER_ERROR)}root=xmlparser.loadXML(data),this.verbose&&console.log(" - XML parsed");for(var by_ids=root._nodes_by_id={},i=0,l=root.all.length;i<l;++i){var node=root.all[i];by_ids[node.id]=node,node.getAttribute("sid")&&(by_ids[node.getAttribute("sid")]=node)}this.extra_functions||(this.extra_functions=!0,DOMDocument.prototype.querySelector=DOMElement.prototype.querySelector=function(selector){for(var tags=selector.split(" "),current_element=this;tags.length;){var current=tags.shift(),tokens=current.split("#"),tagname=tokens[0],id=tokens[1],elements=tagname?current_element.getElementsByTagName(tagname):current_element.childNodes;if(id){for(var i=0;i<elements.length;i++)if(elements.item(i).getAttribute("id")==id){if(0==tags.length)return elements.item(i);current_element=elements.item(i);break}}else{if(0==tags.length)return elements.item(0);current_element=elements.item(0)}}return null},DOMDocument.prototype.querySelectorAll=DOMElement.prototype.querySelectorAll=function(selector){function inner(root,tags){if(tags){var current=tags.shift(),elements=root.getElementsByTagName(current);if(0!=tags.length)for(var i=0;i<elements.length;i++)inner(elements.item(i),tags.concat());else for(var i=0;i<elements.length;i++)result.push(elements.item(i))}}var tags=selector.split(" ");if(1==tags.length)return this.getElementsByTagName(selector);var result=[];inner(this,tags);var list=new DOMNodeList(this.documentElement);return list._nodes=result,list.length=result.length,list},Object.defineProperty(DOMElement.prototype,"textContent",{get:function(){return this.getChildNodes().item(0).toString()},set:function(){}}))}this._xmlroot=root;var xmlcollada=root.querySelector("COLLADA");xmlcollada&&(this._current_DAE_version=xmlcollada.getAttribute("version"),console.log("DAE Version:"+this._current_DAE_version));var xmlvisual_scene=root.getElementsByTagName("visual_scene").item(0);if(!xmlvisual_scene)throw"visual_scene XML node not found in DAE";this._nodes_by_id={},this._controllers_found={},this._geometries_found={};var scene={object_type:"SceneTree",light:null,materials:{},meshes:{},resources:{},root:{children:[]},external_files:{}},xmlasset=root.getElementsByTagName("asset")[0];xmlasset&&(scene.metadata=this.readAsset(xmlasset));for(var xmlnodes=xmlvisual_scene.childNodes,i=0;i<xmlnodes.length;i++)if("node"==xmlnodes.item(i).localName){var node=this.readNodeTree(xmlnodes.item(i),scene,0,!1);node&&scene.root.children.push(node)}for(var i=0;i<xmlnodes.length;i++)"node"==xmlnodes.item(i).localName&&this.readNodeInfo(xmlnodes.item(i),scene,0,!1);this.readLibraryControllers(scene);var animations=this.readAnimations(root,scene);if(animations){var animations_name="#animations_"+filename.substr(0,filename.indexOf("."));scene.resources[animations_name]=animations,scene.root.animations=animations_name}return scene.images=this.readImages(root),this._nodes_by_id={},this._controllers_found={},this._geometries_found={},this._xmlroot=null,scene},readAsset:function(xmlasset){for(var metadata={},i=0;i<xmlasset.childNodes.length;i++){var xmlchild=xmlasset.childNodes.item(i);if(1==xmlchild.nodeType)switch(xmlchild.localName){case"contributor":var tool=xmlchild.querySelector("authoring_tool");tool&&(metadata.authoring_tool=tool.textContext);break;case"unit":metadata.unit=xmlchild.getAttribute("name");break;default:metadata[xmlchild.localName]=xmlchild.textContent}}return metadata},readNodeTree:function(xmlnode,scene,level,flip){var node_id=this.safeString(xmlnode.getAttribute("id")),node_sid=this.safeString(xmlnode.getAttribute("sid"));if(!node_id&&!node_sid)return null;var node={id:node_sid||node_id,children:[],_depth:level},node_type=xmlnode.getAttribute("type");node_type&&(node.type=node_type);var node_name=xmlnode.getAttribute("name");node_name&&(node.name=node_name),this._nodes_by_id[node.id]=node,node_id&&(this._nodes_by_id[node_id]=node),node_sid&&(this._nodes_by_id[node_sid]=node),node.model=this.readTransform(xmlnode,level,flip);for(var i=0;i<xmlnode.childNodes.length;i++){var xmlchild=xmlnode.childNodes.item(i);if(1==xmlchild.nodeType)if("node"!=xmlchild.localName);else{var child_node=this.readNodeTree(xmlchild,scene,level+1,flip);child_node&&node.children.push(child_node)}}return node},readNodeInfo:function(xmlnode,scene,level,flip,parent){var node,node_id=this.safeString(xmlnode.getAttribute("id")),node_sid=this.safeString(xmlnode.getAttribute("sid"));if(node_id||node_sid)node=this._nodes_by_id[node_id||node_sid];else{if(!parent)return null;node=this._nodes_by_id[parent.id||parent.sid]}if(!node)return console.warn("Collada: Node not found by id: "+(node_id||node_sid)),null;for(var i=0;i<xmlnode.childNodes.length;i++){var xmlchild=xmlnode.childNodes.item(i);if(1==xmlchild.nodeType)if("node"!=xmlchild.localName){if("instance_geometry"==xmlchild.localName){var url=xmlchild.getAttribute("url"),mesh_id=url.toString().substr(1);if(node.mesh=mesh_id,!scene.meshes[url]){var mesh_data=this.readGeometry(url,flip);mesh_data&&(mesh_data.name=mesh_id,scene.meshes[mesh_id]=mesh_data)}var xmlmaterials=xmlchild.querySelectorAll("instance_material");if(xmlmaterials)for(var iMat=0;iMat<xmlmaterials.length;++iMat){var xmlmaterial=xmlmaterials.item(iMat);if(xmlmaterial){var matname=xmlmaterial.getAttribute("target").toString().substr(1);if(!scene.materials[matname]){var material=this.readMaterial(matname);material&&(material.id=matname,scene.materials[material.id]=material)}0==iMat?node.material=matname:(node.materials||(node.materials=[]),node.materials.push(matname))}else console.warn("instance_material not found: "+i)}}if("instance_controller"==xmlchild.localName){var url=xmlchild.getAttribute("url"),xmlcontroller=this._xmlroot.querySelector("controller"+url);if(xmlcontroller){var mesh_data=this.readController(xmlcontroller,flip,scene),xmlbind_material=xmlchild.querySelector("bind_material");if(xmlbind_material)for(var xmltechniques=xmlbind_material.querySelectorAll("technique_common"),iTec=0;iTec<xmltechniques.length;iTec++)for(var xmltechnique=xmltechniques.item(iTec),xmlinstance_materials=xmltechnique.querySelectorAll("instance_material"),iMat=0;iMat<xmlinstance_materials.length;iMat++){var xmlinstance_material=xmlinstance_materials.item(iMat);if(xmlinstance_material){var matname=xmlinstance_material.getAttribute("target").toString().substr(1);if(!scene.materials[matname]){var material=this.readMaterial(matname);material&&(material.id=matname,scene.materials[material.id]=material)}0==iMat?node.material=matname:(node.materials||(node.materials=[]),node.materials.push(matname))}else console.warn("instance_material for controller not found: "+xmlinstance_material)}if(mesh_data){var mesh=mesh_data;"morph"==mesh_data.type&&(mesh=mesh_data.mesh,node.morph_targets=mesh_data.morph_targets),mesh.name=url.toString(),node.mesh=url.toString(),scene.meshes[url]=mesh}}}if("instance_light"==xmlchild.localName){var url=xmlchild.getAttribute("url");this.readLight(node,url)}if("instance_camera"==xmlchild.localName){var url=xmlchild.getAttribute("url");this.readCamera(node,url)}}else this.readNodeInfo(xmlchild,scene,level+1,flip,xmlnode)}},material_translate_table:{},light_translate_table:{point:"omni",directional:"directional",spot:"spot"},camera_translate_table:{xfov:"fov",aspect_ratio:"aspect",znear:"near",zfar:"far"},querySelectorAndId:function(root,selector,id){for(var nodes=root.querySelectorAll(selector),i=0;i<nodes.length;i++){var attr_id=nodes.item(i).getAttribute("id");if(attr_id&&(attr_id=attr_id.toString())==id)return nodes.item(i)}return null},getFirstChildElement:function(root,localName){for(var c=root.childNodes,i=0;i<c.length;++i){var item=c.item(i);if(item.localName&&!localName||localName&&localName==item.localName)return item}return null},readMaterial:function(url){var xmlmaterial=this.querySelectorAndId(this._xmlroot,"library_materials material",url);if(!xmlmaterial)return null;var xmleffect=xmlmaterial.querySelector("instance_effect");if(!xmleffect)return null;var effect_url=xmleffect.getAttribute("url").substr(1),xmleffects=this.querySelectorAndId(this._xmlroot,"library_effects effect",effect_url);if(!xmleffects)return null;var xmltechnique=xmleffects.querySelector("technique");if(!xmltechnique)return null;for(var xmlnewparams=xmleffects.querySelectorAll("newparam"),newparams={},i=0;i<xmlnewparams.length;i++){var parent,init_from=xmlnewparams[i].querySelector("init_from");if(init_from)parent=init_from.innerHTML;else{parent=xmlnewparams[i].querySelector("source").innerHTML}newparams[xmlnewparams[i].getAttribute("sid")]={parent:parent}}var material={},images=this.readImages(this._xmlroot),xmlphong=xmltechnique.querySelector("phong");if(xmlphong||(xmlphong=xmltechnique.querySelector("blinn")),xmlphong||(xmlphong=xmltechnique.querySelector("lambert")),!xmlphong)return null;for(var i=0;i<xmlphong.childNodes.length;++i){var xmlparam=xmlphong.childNodes.item(i);if(xmlparam.localName){var param_name=xmlparam.localName.toString();this.material_translate_table[param_name]&&(param_name=this.material_translate_table[param_name]);var xmlparam_value=this.getFirstChildElement(xmlparam);if(xmlparam_value)if("color"!=xmlparam_value.localName.toString())if("float"!=xmlparam_value.localName.toString()){if("texture"==xmlparam_value.localName.toString()){material.textures||(material.textures={});var map_id=xmlparam_value.getAttribute("texture");if(!map_id)continue;-1===map_id.indexOf(".")&&(map_id=this.getParentParam(newparams,map_id),images[map_id]&&(map_id=images[map_id].path));var map_info={map_id:map_id},uvs=xmlparam_value.getAttribute("texcoord");map_info.uvs=uvs,material.textures[param_name]=map_info}}else material[param_name]=this.readContentAsFloats(xmlparam_value)[0];else{var value=this.readContentAsFloats(xmlparam_value);"RGB_ZERO"==xmlparam.getAttribute("opaque")?material[param_name]=value.subarray(0,4):material[param_name]=value.subarray(0,3)}}}return material.object_type="Material",material},getParentParam:function(newparams,param){return newparams[param]&&newparams[param].parent?this.getParentParam(newparams,newparams[param].parent):param},readLight:function(node,url){function parse_params(light,xml){for(var i=0;i<xml.childNodes.length;i++){var child=xml.childNodes.item(i);if(child&&1==child.nodeType)switch(child.localName){case"color":light.color=Collada.readContentAsFloats(child);break;case"falloff_angle":light.angle_end=Collada.readContentAsFloats(child)[0],light.angle=light.angle_end-10}}}var light={},xmlnode=null;if(url.length>1)xmlnode=this._xmlroot.querySelector("library_lights "+url);else{var xmlliblights=this._xmlroot.querySelector("library_lights");xmlnode=this.getFirstChildElement(xmlliblights,"light")}if(!xmlnode)return null;var children=[],xml=xmlnode.querySelector("technique_common");if(xml)for(var i=0;i<xml.childNodes.length;i++)1==xml.childNodes.item(i).nodeType&&children.push(xml.childNodes.item(i));for(var xmls=xmlnode.querySelectorAll("technique"),i=0;i<xmls.length;i++)for(var xml2=xmls.item(i),j=0;j<xml2.childNodes.length;j++)1==xml2.childNodes.item(j).nodeType&&children.push(xml2.childNodes.item(j));for(var i=0;i<children.length;i++){var xml=children[i];switch(xml.localName){case"point":case"directional":case"spot":light.type=this.light_translate_table[xml.localName],parse_params(light,xml);break;case"intensity":light.intensity=this.readContentAsFloats(xml)[0]}}if(node.model){light.position=[node.model[12],node.model[13],node.model[14]];var forward=[-node.model[8],-node.model[9],-node.model[10]];light.target=[light.position[0]+forward[0],light.position[1]+forward[1],light.position[2]+forward[2]]}else console.warn("Could not read light position for light: "+node.name+". Setting defaults."),light.position=[0,0,0],light.target=[0,-1,0];node.light=light},readCamera:function(node,url){var camera={},xmlnode=this._xmlroot.querySelector("library_cameras "+url);if(!xmlnode)return null;var children=[],xml=xmlnode.querySelector("technique_common");if(xml)for(var i=0;i<xml.childNodes.length;i++)1==xml.childNodes.item(i).nodeType&&children.push(xml.childNodes.item(i));for(var i=0;i<children.length;i++){var tag=children[i];!function(camera,xml){for(var i=0;i<xml.childNodes.length;i++){var child=xml.childNodes.item(i);child&&1==child.nodeType&&(camera[Collada.camera_translate_table[child.localName]||child.localName]=parseFloat(child.textContent))}}(camera,tag)}camera.yfov&&!camera.fov&&(camera.aspect?camera.fov=camera.yfov*camera.aspect:console.warn("Could not convert camera yfov to xfov because aspect ratio not set")),node.camera=camera},readTransform:function(xmlnode,level,flip){for(var matrix=_glMatrix.mat4.create(),temp=_glMatrix.mat4.create(),tmpq=_glMatrix.quat.create(),i=0;i<xmlnode.childNodes.length;i++){var xml=xmlnode.childNodes.item(i);if(xml&&1==xml.nodeType){if("matrix"==xml.localName){var matrix=this.readContentAsFloats(xml);return this.transformMatrix(matrix,0==level),matrix}if("translate"!=xml.localName)if("rotate"!=xml.localName){if("scale"==xml.localName){var values=this.readContentAsFloats(xml);if(flip){var tmp=values[1];values[1]=values[2],values[2]=-tmp}_glMatrix.mat4.scale(matrix,matrix,values)}}else{var values=this.readContentAsFloats(xml);if(4==values.length){var id=xml.getAttribute("sid");if("jointOrientX"==id&&(values[3]+=90,!0),flip){var tmp=values[1];values[1]=values[2],values[2]=-tmp}0!=values[3]&&(_glMatrix.quat.setAxisAngle(tmpq,values.subarray(0,3),values[3]*DEG2RAD),_glMatrix.mat4.fromQuat(temp,tmpq),_glMatrix.mat4.multiply(matrix,matrix,temp))}}else{var values=this.readContentAsFloats(xml);if(flip&&level>0){var tmp=values[1];values[1]=values[2],values[2]=-tmp}_glMatrix.mat4.translate(matrix,matrix,values)}}}return matrix},readTransform2:function(xmlnode,level,flip){for(var matrix=_glMatrix.mat4.create(),rotation=_glMatrix.quat.create(),tmpmatrix=_glMatrix.mat4.create(),tmpq=_glMatrix.quat.create(),translate=vec3.create(),scale=vec3.fromValues(1,1,1),i=0;i<xmlnode.childNodes.length;i++){var xml=xmlnode.childNodes.item(i);if("matrix"==xml.localName){var matrix=this.readContentAsFloats(xml);return this.transformMatrix(matrix,0==level),matrix}if("translate"!=xml.localName)if("rotate"!=xml.localName){if("scale"==xml.localName){var values=this.readContentAsFloats(xml);if(flip){var tmp=values[1];values[1]=values[2],values[2]=-tmp}scale.set(values)}}else{var values=this.readContentAsFloats(xml);if(4==values.length){var id=xml.getAttribute("sid");if("jointOrientX"==id&&(values[3]+=90,!0),flip){var tmp=values[1];values[1]=values[2],values[2]=-tmp}0!=values[3]&&(_glMatrix.quat.setAxisAngle(tmpq,values.subarray(0,3),values[3]*DEG2RAD),_glMatrix.quat.multiply(rotation,rotation,tmpq))}}else{var values=this.readContentAsFloats(xml);translate.set(values)}}if(flip&&level>0){var tmp=translate[1];translate[1]=translate[2],translate[2]=-tmp}return _glMatrix.mat4.translate(matrix,matrix,translate),_glMatrix.mat4.fromQuat(tmpmatrix,rotation),_glMatrix.mat4.multiply(matrix,matrix,tmpmatrix),_glMatrix.mat4.scale(matrix,matrix,scale),matrix},readGeometry:function(id,flip,scene){if(void 0!==this._geometries_found[id])return this._geometries_found[id];var xmlgeometry=this._xmlroot.getElementById(id.substr(1));if(!xmlgeometry)return console.warn("readGeometry: geometry not found: "+id),this._geometries_found[id]=null,null;if("controller"==xmlgeometry.localName){var geometry=this.readController(xmlgeometry,flip,scene);return this._geometries_found[id]=geometry,geometry}if("geometry"!=xmlgeometry.localName)return console.warn("readGeometry: tag should be geometry, instead it was found: "+xmlgeometry.localName),this._geometries_found[id]=null,null;var xmlmesh=xmlgeometry.querySelector("mesh");if(!xmlmesh)return console.warn("readGeometry: mesh not found in geometry: "+id),this._geometries_found[id]=null,null;for(var sources={},xmlsources=xmlmesh.querySelectorAll("source"),i=0;i<xmlsources.length;i++){var xmlsource=xmlsources.item(i);if(xmlsource.querySelector){var float_array=xmlsource.querySelector("float_array");if(float_array){var floats=this.readContentAsFloats(float_array),xmlaccessor=xmlsource.querySelector("accessor"),stride=parseInt(xmlaccessor.getAttribute("stride"));sources[xmlsource.getAttribute("id")]={stride:stride,data:floats}}}}var xmlvertices=xmlmesh.querySelector("vertices input"),vertices_source=sources[xmlvertices.getAttribute("source").substr(1)];sources[xmlmesh.querySelector("vertices").getAttribute("id")]=vertices_source;var mesh=null,xmlpolygons=xmlmesh.querySelector("polygons");if(xmlpolygons&&(mesh=this.readTriangles(xmlpolygons,sources)),!mesh){var xmltriangles=xmlmesh.querySelectorAll("triangles");xmltriangles&&xmltriangles.length&&(mesh=this.readTriangles(xmltriangles,sources))}if(!mesh){var xmlpolylist=xmlmesh.querySelector("polylist");xmlpolylist&&(mesh=this.readPolylist(xmlpolylist,sources))}if(!mesh){var xmllinestrip=xmlmesh.querySelector("linestrips");xmllinestrip&&(mesh=this.readLineStrip(sources,xmllinestrip))}if(!mesh)return console.log("no polygons or triangles in mesh: "+id),this._geometries_found[id]=null,null;if(flip&&!this.no_flip){for(var tmp=0,array=mesh.vertices,i=0,l=array.length;i<l;i+=3)tmp=array[i+1],array[i+1]=array[i+2],array[i+2]=-tmp;array=mesh.normals;for(var i=0,l=array.length;i<l;i+=3)tmp=array[i+1],array[i+1]=array[i+2],array[i+2]=-tmp}if(isWorker&&this.use_transferables)for(var i in mesh){var data=mesh[i];data&&data.buffer&&data.length>100&&this._transferables.push(data.buffer)}return mesh.filename=id,mesh.object_type="Mesh",this._geometries_found[id]=mesh,mesh},readTriangles:function(xmltriangles,sources){for(var groups=[],buffers=[],last_index=0,facemap={},vertex_remap=[],indicesArray=[],last_start=0,material_name="",tris=0;tris<xmltriangles.length;tris++){var xml_shape_root=xmltriangles.item(tris),triangles="triangles"==xml_shape_root.localName;material_name=xml_shape_root.getAttribute("material"),0==tris&&(buffers=this.readShapeInputs(xml_shape_root,sources));for(var xmlps=xml_shape_root.querySelectorAll("p"),i=(buffers.length,0);i<xmlps.length;i++){var xmlp=xmlps.item(i);if(!xmlp||!xmlp.textContent)break;var data=xmlp.textContent.trim().split(" "),first_index=-1,current_index=-1,prev_index=-1,num_values_per_vertex=1;for(var b in buffers)num_values_per_vertex=Math.max(num_values_per_vertex,buffers[b][4]+1);for(var k=0,l=data.length;k<l;k+=num_values_per_vertex){var vertex_id=data.slice(k,k+num_values_per_vertex).join(" ");if(prev_index=current_index,facemap.hasOwnProperty(vertex_id))current_index=facemap[vertex_id];else{for(var j=0;j<buffers.length;++j){var buffer=buffers[j],array=buffer[1],source=buffer[3],index=parseInt(data[k+buffer[4]]);0==j&&(vertex_remap[array.length/buffer[2]]=index),index*=buffer[2];for(var x=0;x<buffer[2];++x){if(void 0===source[index+x])throw"UNDEFINED!";array.push(source[index+x])}}current_index=last_index,last_index+=1,facemap[vertex_id]=current_index}triangles||(0==k&&(first_index=current_index),k>2&&(indicesArray.push(first_index),indicesArray.push(prev_index))),indicesArray.push(current_index)}}var group={name:"group"+tris,start:last_start,length:indicesArray.length-last_start,material:material_name||""};last_start=indicesArray.length,groups.push(group)}var mesh={vertices:new Float32Array(buffers[0][1]),info:{groups:groups},_remap:new Uint32Array(vertex_remap)};return this.transformMeshInfo(mesh,buffers,indicesArray),mesh},readPolylist:function(xml_shape_root,sources){var buffers=[],last_index=0,facemap={},vertex_remap=[],indicesArray=[];xml_shape_root.getAttribute("material"),buffers=this.readShapeInputs(xml_shape_root,sources);for(var xmlvcount=xml_shape_root.querySelector("vcount"),vcount=this.readContentAsUInt32(xmlvcount),xmlp=xml_shape_root.querySelector("p"),data=this.readContentAsUInt32(xmlp),num_data_vertex=buffers.length,pos=0,i=0,l=vcount.length;i<l;++i)for(var num_vertices=vcount[i],first_index=-1,current_index=-1,prev_index=-1,k=0;k<num_vertices;++k){var vertex_id=data.subarray(pos,pos+num_data_vertex).join(" ");if(prev_index=current_index,facemap.hasOwnProperty(vertex_id))current_index=facemap[vertex_id];else{for(var j=0;j<buffers.length;++j){var buffer=buffers[j],index=parseInt(data[pos+j]),array=buffer[1],source=buffer[3];0==j&&(vertex_remap[array.length/num_data_vertex]=index),index*=buffer[2];for(var x=0;x<buffer[2];++x)array.push(source[index+x])}current_index=last_index,last_index+=1,facemap[vertex_id]=current_index}num_vertices>3&&(0==k&&(first_index=current_index),k>2&&(indicesArray.push(first_index),indicesArray.push(prev_index))),indicesArray.push(current_index),pos+=num_data_vertex}var mesh={vertices:new Float32Array(buffers[0][1]),info:{},_remap:new Uint32Array(vertex_remap)};return this.transformMeshInfo(mesh,buffers,indicesArray),mesh},readShapeInputs:function(xml_shape_root,sources){for(var buffers=[],xmlinputs=xml_shape_root.querySelectorAll("input"),i=0;i<xmlinputs.length;i++){var xmlinput=xmlinputs.item(i);if(xmlinput.getAttribute){var semantic=xmlinput.getAttribute("semantic").toUpperCase(),stream_source=sources[xmlinput.getAttribute("source").substr(1)],offset=parseInt(xmlinput.getAttribute("offset")),data_set=0;xmlinput.getAttribute("set")&&(data_set=parseInt(xmlinput.getAttribute("set"))),buffers.push([semantic,[],stream_source.stride,stream_source.data,offset,data_set])}}return buffers},transformMeshInfo:function(mesh,buffers,indicesArray){for(var translator={normal:"normals",texcoord:"coords"},i=1;i<buffers.length;++i){var name=buffers[i][0].toLowerCase(),data=buffers[i][1];data.length&&(translator[name]&&(name=translator[name]),mesh[name]&&(name+=buffers[i][5]),mesh[name]=new Float32Array(data))}return indicesArray&&indicesArray.length&&(mesh.vertices.length>65536?mesh.triangles=new Uint32Array(indicesArray):mesh.triangles=new Uint16Array(indicesArray)),mesh},readLineStrip:function(sources,xmllinestrip){for(var buffers=[],last_index=0,facemap={},vertex_remap=[],indicesArray=[],xmlinputs=xmllinestrip.querySelectorAll("input"),i=0;i<xmlinputs.length;i++){var xmlinput=xmlinputs.item(i);if(xmlinput.getAttribute){var semantic=xmlinput.getAttribute("semantic").toUpperCase(),stream_source=sources[xmlinput.getAttribute("source").substr(1)],offset=parseInt(xmlinput.getAttribute("offset")),data_set=0;xmlinput.getAttribute("set")&&(data_set=parseInt(xmlinput.getAttribute("set"))),buffers.push([semantic,[],stream_source.stride,stream_source.data,offset,data_set])}}for(var xmlps=xmllinestrip.querySelectorAll("p"),num_data_vertex=buffers.length,i=0;i<xmlps.length;i++){var xmlp=xmlps.item(i);if(!xmlp||!xmlp.textContent)break;for(var data=xmlp.textContent.trim().split(" "),current_index=-1,k=0,l=data.length;k<l;k+=num_data_vertex){var vertex_id=data.slice(k,k+num_data_vertex).join(" ");if(current_index,facemap.hasOwnProperty(vertex_id))current_index=facemap[vertex_id];else{for(var j=0;j<buffers.length;++j){var buffer=buffers[j],index=parseInt(data[k+j]),array=buffer[1],source=buffer[3];0==j&&(vertex_remap[array.length/num_data_vertex]=index),index*=buffer[2];for(var x=0;x<buffer[2];++x)array.push(source[index+x])}current_index=last_index,last_index+=1,facemap[vertex_id]=current_index}indicesArray.push(current_index)}}var mesh={primitive:"line_strip",vertices:new Float32Array(buffers[0][1]),info:{}};return this.transformMeshInfo(mesh,buffers,indicesArray)},findXMLNodeById:function(root,nodename,id){if(this._xmlroot._nodes_by_id){var n=this._xmlroot._nodes_by_id[id];if(n&&n.localName==nodename)return n}else{var n=this._xmlroot.getElementById(id);if(n)return n}for(var childs=root.childNodes,i=0;i<childs.length;++i){var xmlnode=childs.item(i);if(1==xmlnode.nodeType&&xmlnode.localName==nodename){if(xmlnode.getAttribute("id")==id)return xmlnode}}return null},readImages:function(root){var xmlimages=root.querySelector("library_images");if(!xmlimages)return null;for(var images={},xmlimages_childs=xmlimages.childNodes,i=0;i<xmlimages_childs.length;++i){var xmlimage=xmlimages_childs.item(i);if(1==xmlimage.nodeType){var xmlinitfrom=xmlimage.querySelector("init_from");if(xmlinitfrom&&xmlinitfrom.textContent){var filename=this.getFilename(xmlinitfrom.textContent),id=xmlimage.getAttribute("id");images[id]={filename:filename,map:id,name:xmlimage.getAttribute("name"),path:xmlinitfrom.textContent}}}}return images},readAnimations:function(root,scene){var xmlanimations=root.querySelector("library_animations");if(!xmlanimations)return null;for(var xmlanimation_childs=xmlanimations.childNodes,animations={object_type:"Animation",takes:{}},default_take={tracks:[]},tracks=default_take.tracks,i=0;i<xmlanimation_childs.length;++i){var xmlanimation=xmlanimation_childs.item(i);if(1==xmlanimation.nodeType&&"animation"==xmlanimation.localName){if(xmlanimation.getAttribute("id"))this.readAnimation(xmlanimation,tracks);else{var xmlanimation2_childs=xmlanimation.querySelectorAll("animation");if(xmlanimation2_childs.length)for(var j=0;j<xmlanimation2_childs.length;++j){var xmlanimation2=xmlanimation2_childs.item(j);this.readAnimation(xmlanimation2,tracks)}else this.readAnimation(xmlanimation,tracks)}}}if(!tracks.length)return null;for(var max_time=0,i=0;i<tracks.length;++i)max_time<tracks[i].duration&&(max_time=tracks[i].duration);return default_take.name="default",default_take.duration=max_time,animations.takes[default_take.name]=default_take,animations},readAnimation:function(xmlanimation,result){if("animation"!=xmlanimation.localName)return null;var xmlchannel_list=(xmlanimation.getAttribute("id"),xmlanimation.querySelectorAll("channel"));if(!xmlchannel_list.length)return null;for(var tracks=result||[],i=0;i<xmlchannel_list.length;++i){var anim=this.readChannel(xmlchannel_list.item(i),xmlanimation);anim&&tracks.push(anim)}return tracks},readChannel:function(xmlchannel,xmlanimation){if("channel"!=xmlchannel.localName||"animation"!=xmlanimation.localName)return null;var source=xmlchannel.getAttribute("source"),target=xmlchannel.getAttribute("target"),xmlsampler=this.findXMLNodeById(xmlanimation,"sampler",source.substr(1));if(!xmlsampler)return console.error("Error DAE: Sampler not found in "+source),null;for(var inputs={},params={},sources={},xmlinputs=xmlsampler.querySelectorAll("input"),time_data=null,j=0;j<xmlinputs.length;j++){var xmlinput=xmlinputs.item(j),source_name=xmlinput.getAttribute("source"),semantic=xmlinput.getAttribute("semantic"),xmlsource=this.findXMLNodeById(xmlanimation,"source",source_name.substr(1));if(xmlsource){var xmlparam=xmlsource.querySelector("param");if(xmlparam){var type=xmlparam.getAttribute("type");inputs[semantic]={source:source_name,type:type};var data_array=null;if("float"==type||"float4x4"==type){var xmlfloatarray=xmlsource.querySelector("float_array"),floats=this.readContentAsFloats(xmlfloatarray);sources[source_name]=floats,data_array=floats;var param_name=xmlparam.getAttribute("name");"TIME"==param_name&&(time_data=data_array),"OUTPUT"==semantic&&(param_name=semantic),param_name?params[param_name]=type:console.warn("Collada: <param> without name attribute in <animation>")}}}}if(!time_data)return console.error("Error DAE: no TIME info found in <channel>: "+xmlchannel.getAttribute("source")),null;var path=target.split("/"),anim={},nodename=path[0],node=this._nodes_by_id[nodename],locator=node.id+"/"+path[1];anim.name=path[1],anim.property=locator;var type="number",element_size=1,param_type=params.OUTPUT;switch(param_type){case"float":element_size=1;break;case"float3x3":element_size=9,type="mat3";break;case"float4x4":element_size=16,type="mat4"}anim.type=type,anim.value_size=element_size,anim.duration=time_data[time_data.length-1];var value_data=sources[inputs.OUTPUT.source];if(!value_data)return null;for(var num_samples=time_data.length,sample_size=element_size+1,anim_data=new Float32Array(num_samples*sample_size),j=0;j<time_data.length;++j){anim_data[j*sample_size]=time_data[j];var value=value_data.subarray(j*element_size,(j+1)*element_size);"float4x4"==param_type&&this.transformMatrix(value,node?0==node._depth:0),anim_data.set(value,j*sample_size+1)}if(isWorker&&this.use_transferables){var data=anim_data;data&&data.buffer&&data.length>100&&this._transferables.push(data.buffer)}return anim.data=anim_data,anim},findNode:function(root,id){if(root.id==id)return root;if(root.children)for(var i in root.children){var ret=this.findNode(root.children[i],id);if(ret)return ret}return null},readLibraryControllers:function(scene){var xmllibrarycontrollers=this._xmlroot.querySelector("library_controllers");if(!xmllibrarycontrollers)return null;for(var xmllibrarycontrollers_childs=xmllibrarycontrollers.childNodes,i=0;i<xmllibrarycontrollers_childs.length;++i){var xmlcontroller=xmllibrarycontrollers_childs.item(i);if(1==xmlcontroller.nodeType&&"controller"==xmlcontroller.localName){var id=xmlcontroller.getAttribute("id");this._controllers_found[id]||this.readController(xmlcontroller,null,scene)}}},readController:function(xmlcontroller,flip,scene){if("controller"==!xmlcontroller.localName)return console.warn("readController: not a controller: "+xmlcontroller.localName),null;var id=xmlcontroller.getAttribute("id");if(this._controllers_found[id])return this._controllers_found[id];var mesh=null,xmlskin=xmlcontroller.querySelector("skin");xmlskin&&(mesh=this.readSkinController(xmlskin,flip,scene));var xmlmorph=xmlcontroller.querySelector("morph");return xmlmorph&&(mesh=this.readMorphController(xmlmorph,flip,scene,mesh)),this._controllers_found[id]?id+="_1blah":this._controllers_found[id]=mesh,mesh},readSkinController:function(xmlskin,flip,scene){var id_geometry=xmlskin.getAttribute("source"),mesh=this.readGeometry(id_geometry,flip,scene);if(!mesh)return null;var sources=this.readSources(xmlskin,flip);if(!sources)return null;var bind_matrix=null,xmlbindmatrix=xmlskin.querySelector("bind_shape_matrix");xmlbindmatrix?(bind_matrix=this.readContentAsFloats(xmlbindmatrix),this.transformMatrix(bind_matrix,!0,!0)):bind_matrix=_glMatrix.mat4.create();var joints=[],xmljoints=xmlskin.querySelector("joints");if(xmljoints){for(var joints_source=null,inv_bind_source=null,xmlinputs=xmljoints.querySelectorAll("input"),i=0;i<xmlinputs.length;i++){var xmlinput=xmlinputs[i],sem=xmlinput.getAttribute("semantic").toUpperCase(),src=xmlinput.getAttribute("source"),source=sources[src.substr(1)];"JOINT"==sem?joints_source=source:"INV_BIND_MATRIX"==sem&&(inv_bind_source=source)}if(!inv_bind_source||!joints_source)return console.error("Error DAE: no joints or inv_bind sources found"),null;for(var i in joints_source){var inv_mat=inv_bind_source.subarray(16*i,16*i+16),nodename=joints_source[i],node=this._nodes_by_id[nodename];node?(this.transformMatrix(inv_mat,0==node._depth,!0),joints.push([nodename,inv_mat])):console.warn("Node "+nodename+" not found")}}var xmlvertexweights=xmlskin.querySelector("vertex_weights");if(xmlvertexweights){for(var weights_indexed_array=null,xmlinputs=xmlvertexweights.querySelectorAll("input"),i=0;i<xmlinputs.length;i++)"WEIGHT"==xmlinputs[i].getAttribute("semantic").toUpperCase()&&(weights_indexed_array=sources[xmlinputs.item(i).getAttribute("source").substr(1)]);if(!weights_indexed_array)throw"no weights found";for(var xmlvcount=xmlvertexweights.querySelector("vcount"),vcount=this.readContentAsUInt32(xmlvcount),xmlv=xmlvertexweights.querySelector("v"),v=this.readContentAsUInt32(xmlv),num_vertices=mesh.vertices.length/3,weights_array=new Float32Array(4*num_vertices),bone_index_array=new Uint8Array(4*num_vertices),pos=0,remap=mesh._remap,max_bone=0,i=0,l=vcount.length;i<l;++i){for(var num_bones=vcount[i],offset=pos,b=bone_index_array.subarray(4*i,4*i+4),w=weights_array.subarray(4*i,4*i+4),sum=0,j=0;j<num_bones&&j<4;++j)b[j]=v[offset+2*j],b[j]>max_bone&&(max_bone=b[j]),w[j]=weights_indexed_array[v[offset+2*j+1]],sum+=w[j];if(num_bones>4&&sum<1)for(var inv_sum=1/sum,j=0;j<4;++j)w[j]*=inv_sum;pos+=2*num_bones}for(var final_weights=new Float32Array(4*num_vertices),final_bone_indices=new Uint8Array(4*num_vertices),used_joints=[],i=0;i<num_vertices;++i){for(var p=4*remap[i],w=weights_array.subarray(p,p+4),b=bone_index_array.subarray(p,p+4),k=0;k<3;++k){for(var max_pos=k,max_value=w[k],j=k+1;j<4;++j)w[j]<=max_value||(max_pos=j,max_value=w[j]);if(max_pos!=k){var tmp=w[k];w[k]=w[max_pos],w[max_pos]=tmp,tmp=b[k],b[k]=b[max_pos],b[max_pos]=tmp}}final_weights.set(w,4*i),final_bone_indices.set(b,4*i),w[0]&&(used_joints[b[0]]=!0),w[1]&&(used_joints[b[1]]=!0),w[2]&&(used_joints[b[2]]=!0),w[3]&&(used_joints[b[3]]=!0)}max_bone>=joints.length&&console.warn("Mesh uses higher bone index than bones found");for(var new_bones=[],bones_translation={},i=0;i<used_joints.length;++i)used_joints[i]&&(bones_translation[i]=new_bones.length,new_bones.push(joints[i]));if(new_bones.length<joints.length){for(var i=0;i<final_bone_indices.length;i++)final_bone_indices[i]=bones_translation[final_bone_indices[i]];joints=new_bones}mesh.weights=final_weights,mesh.bone_indices=final_bone_indices,mesh.bones=joints,mesh.bind_matrix=bind_matrix}return mesh},readMorphController:function(xmlmorph,flip,scene,mesh){var id_geometry=xmlmorph.getAttribute("source"),base_mesh=this.readGeometry(id_geometry,flip,scene);if(!base_mesh)return null;var sources=this.readSources(xmlmorph,flip),morphs=[],xmltargets=xmlmorph.querySelector("targets");if(!xmltargets)return null;for(var xmlinputs=xmltargets.querySelectorAll("input"),targets=null,weights=null,i=0;i<xmlinputs.length;i++){var xmlinput=xmlinputs.item(i),semantic=xmlinput.getAttribute("semantic").toUpperCase(),data=sources[xmlinput.getAttribute("source").substr(1)];"MORPH_TARGET"==semantic?targets=data:"MORPH_WEIGHT"==semantic&&(weights=data)}if(!targets||!weights)return console.warn("Morph controller without targets or weights. Skipping it."),null;for(var i in targets){var id="#"+targets[i],geometry=this.readGeometry(id,flip,scene);scene.meshes[id]=geometry,morphs.push({mesh:id,weight:weights[i]})}return base_mesh.morph_targets=morphs,base_mesh},readBindMaterials:function(xmlbind_material,mesh){for(var materials=[],xmltechniques=xmlbind_material.querySelectorAll("technique_common"),i=0;i<xmltechniques.length;i++)for(var xmltechnique=xmltechniques.item(i),xmlinstance_materials=xmltechnique.querySelectorAll("instance_material"),j=0;j<xmlinstance_materials.length;j++){var xmlinstance_material=xmlinstance_materials.item(j);xmlinstance_material&&materials.push(xmlinstance_material.getAttribute("symbol"))}return materials},readSources:function(xmlnode,flip){for(var sources={},xmlsources=xmlnode.querySelectorAll("source"),i=0;i<xmlsources.length;i++){var xmlsource=xmlsources.item(i);if(xmlsource.querySelector){if(xmlsource.querySelector("float_array")){var floats=this.readContentAsFloats(xmlsource);sources[xmlsource.getAttribute("id")]=floats}else{var name_array=xmlsource.querySelector("Name_array");if(name_array){var names=this.readContentAsStringsArray(name_array);if(!names)continue;sources[xmlsource.getAttribute("id")]=names}else{var ref_array=xmlsource.querySelector("IDREF_array");if(ref_array){var names=this.readContentAsStringsArray(ref_array);if(!names)continue;sources[xmlsource.getAttribute("id")]=names}else;}}}}return sources},readContentAsUInt32:function(xmlnode){if(!xmlnode)return null;var text=xmlnode.textContent;if(text=text.replace(/\n/gi," "),text=text.trim(),0==text.length)return null;for(var numbers=text.split(" "),floats=new Uint32Array(numbers.length),k=0;k<numbers.length;k++)floats[k]=parseInt(numbers[k]);return floats},readContentAsFloats:function(xmlnode){if(!xmlnode)return null;var text=xmlnode.textContent;text=text.replace(/\n/gi," "),text=text.replace(/\s\s+/gi," "),text=text.replace(/\t/gi,""),text=text.trim();for(var numbers=text.split(" "),count=xmlnode.getAttribute("count"),length=count?parseInt(count):numbers.length,floats=new Float32Array(length),k=0;k<numbers.length;k++)floats[k]=parseFloat(numbers[k]);return floats},readContentAsStringsArray:function(xmlnode){if(!xmlnode)return null;var text=xmlnode.textContent;text=text.replace(/\n/gi," "),text=text.replace(/\s\s/gi," "),text=text.trim();for(var words=text.split(" "),k=0;k<words.length;k++)words[k]=words[k].trim();if(xmlnode.getAttribute("count")&&parseInt(xmlnode.getAttribute("count"))!=words.length){var merged_words=[],name="";for(var i in words)name?name+=" "+words[i]:name=words[i],this._nodes_by_id[this.safeString(name)]&&(merged_words.push(this.safeString(name)),name="");var count=parseInt(xmlnode.getAttribute("count"));return merged_words.length==count?merged_words:(console.error("Error: bone names have spaces, avoid using spaces in names"),null)}return words},max3d_matrix_0:new Float32Array([0,-1,0,0,0,0,-1,0,1,0,0,-0,0,0,0,1]),transformMatrix:function(matrix,first_level,inverted){if(_glMatrix.mat4.transpose(matrix,matrix),this.no_flip)return matrix;if(first_level){var temp=new Float32Array(matrix.subarray(4,8));matrix.set(matrix.subarray(8,12),4),matrix.set(temp,8),temp=matrix.subarray(8,12),vec4.scale(temp,temp,-1)}else{var M=_glMatrix.mat4.create(),m=matrix;M.set([m[0],m[2],-m[1]],0),M.set([m[8],m[10],-m[9]],4),M.set([-m[4],-m[6],m[5]],8),M.set([m[12],m[14],-m[13]],12),m.set(M)}return matrix}};exports.default=Collada,module.exports=exports.default}).call(exports,__webpack_require__(70))},function(module,exports,__webpack_require__){"use strict";var g,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":_typeof(window))&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Pass=__webpack_require__(9),_GLTool=(_interopRequireDefault(_Pass),__webpack_require__(0)),_GLTool2=_interopRequireDefault(_GLTool),_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_FrameBuffer=__webpack_require__(12),_FrameBuffer2=_interopRequireDefault(_FrameBuffer),EffectComposer=function(){function EffectComposer(mWidth,mHeight){arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,EffectComposer),this._width=mWidth||_GLTool2.default.width,this._height=mHeight||_GLTool2.default.height,this._params={},this.setSize(mWidth,mHeight),this._mesh=_Geom2.default.bigTriangle(),this._passes=[],this._returnTexture}return _createClass(EffectComposer,[{key:"addPass",value:function(pass){if(pass.passes)return void this.addPass(pass.passes);if(pass.length)for(var i=0;i<pass.length;i++)this._passes.push(pass[i]);else this._passes.push(pass)}},{key:"render",value:function(mSource){var _this=this,source=mSource,fboTarget=void 0;return this._passes.forEach(function(pass){fboTarget=pass.hasFbo?pass.fbo:_this._fboTarget,fboTarget.bind(),_GLTool2.default.clear(0,0,0,0),pass.render(source),_GLTool2.default.draw(_this._mesh),fboTarget.unbind(),pass.hasFbo?source=pass.fbo.getTexture():(_this._swap(),source=_this._fboCurrent.getTexture())}),this._returnTexture=source,source}},{key:"_swap",value:function(){var tmp=this._fboCurrent;this._fboCurrent=this._fboTarget,this._fboTarget=tmp,this._current=this._fboCurrent,this._target=this._fboTarget}},{key:"setSize",value:function(mWidth,mHeight){this._width=mWidth,this._height=mHeight,this._fboCurrent=new _FrameBuffer2.default(this._width,this._height,this._params),this._fboTarget=new _FrameBuffer2.default(this._width,this._height,this._params)}},{key:"getTexture",value:function(){return this._returnTexture}},{key:"passes",get:function(){return this._passes}}]),EffectComposer}();exports.default=EffectComposer},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _PassVBlur=__webpack_require__(37),_PassVBlur2=_interopRequireDefault(_PassVBlur),_PassHBlur=__webpack_require__(39),_PassHBlur2=_interopRequireDefault(_PassHBlur),_PassMacro2=__webpack_require__(36),_PassMacro3=_interopRequireDefault(_PassMacro2),PassBlur=function(_PassMacro){function PassBlur(){var mQuality=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,mWidth=arguments[1],mHeight=arguments[2],mParams=arguments[3];_classCallCheck(this,PassBlur);var _this=_possibleConstructorReturn(this,(PassBlur.__proto__||Object.getPrototypeOf(PassBlur)).call(this)),vBlur=new _PassVBlur2.default(mQuality,mWidth,mHeight,mParams),hBlur=new _PassHBlur2.default(mQuality,mWidth,mHeight,mParams);return _this.addPass(vBlur),_this.addPass(hBlur),_this}return _inherits(PassBlur,_PassMacro),PassBlur}(_PassMacro3.default);exports.default=PassBlur},function(module,exports){module.exports="// blur5.frag\n// source  : https://github.com/Jam3/glsl-fast-gaussian-blur\n\n#define SHADER_NAME BLUR_5\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform vec2 uDirection;\nuniform vec2 uResolution;\n\nvec4 blur5(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n\tvec4 color = vec4(0.0);\n\tvec2 off1 = vec2(1.3333333333333333) * direction;\n\tcolor += texture2D(image, uv) * 0.29411764705882354;\n\tcolor += texture2D(image, uv + (off1 / resolution)) * 0.35294117647058826;\n\tcolor += texture2D(image, uv - (off1 / resolution)) * 0.35294117647058826;\n\treturn color; \n}\n\n\nvoid main(void) {\n    gl_FragColor = blur5(texture, vTextureCoord, uResolution, uDirection);\n}"},function(module,exports){module.exports="// blur9.frag\n// source  : https://github.com/Jam3/glsl-fast-gaussian-blur\n\n#define SHADER_NAME BLUR_9\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform vec2 uDirection;\nuniform vec2 uResolution;\n\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n\tvec4 color = vec4(0.0);\n\tvec2 off1 = vec2(1.3846153846) * direction;\n\tvec2 off2 = vec2(3.2307692308) * direction;\n\tcolor += texture2D(image, uv) * 0.2270270270;\n\tcolor += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n\tcolor += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n\tcolor += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n\tcolor += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n\treturn color;\n}\n\n\nvoid main(void) {\n    gl_FragColor = blur9(texture, vTextureCoord, uResolution, uDirection);\n}"},function(module,exports){module.exports="// blur13.frag\n// source  : https://github.com/Jam3/glsl-fast-gaussian-blur\n\n#define SHADER_NAME BLUR_13\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform vec2 uDirection;\nuniform vec2 uResolution;\n\nvec4 blur13(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n\tvec4 color = vec4(0.0);\n\tvec2 off1 = vec2(1.411764705882353) * direction;\n\tvec2 off2 = vec2(3.2941176470588234) * direction;\n\tvec2 off3 = vec2(5.176470588235294) * direction;\n\tcolor += texture2D(image, uv) * 0.1964825501511404;\n\tcolor += texture2D(image, uv + (off1 / resolution)) * 0.2969069646728344;\n\tcolor += texture2D(image, uv - (off1 / resolution)) * 0.2969069646728344;\n\tcolor += texture2D(image, uv + (off2 / resolution)) * 0.09447039785044732;\n\tcolor += texture2D(image, uv - (off2 / resolution)) * 0.09447039785044732;\n\tcolor += texture2D(image, uv + (off3 / resolution)) * 0.010381362401148057;\n\tcolor += texture2D(image, uv - (off3 / resolution)) * 0.010381362401148057;\n\treturn color;\n}\n\n\nvoid main(void) {\n    gl_FragColor = blur13(texture, vTextureCoord, uResolution, uDirection);\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Pass2=__webpack_require__(9),_Pass3=_interopRequireDefault(_Pass2),_fxaa=__webpack_require__(40),_fxaa2=_interopRequireDefault(_fxaa),PassFxaa=function(_Pass){function PassFxaa(){_classCallCheck(this,PassFxaa);var _this=_possibleConstructorReturn(this,(PassFxaa.__proto__||Object.getPrototypeOf(PassFxaa)).call(this,_fxaa2.default));return _this.uniform("uResolution",[1/_GLTool2.default.width,1/_GLTool2.default.height]),_this}return _inherits(PassFxaa,_Pass),PassFxaa}(_Pass3.default);exports.default=PassFxaa},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(18),fs=__webpack_require__(19),BatchCopy=function(_Batch){function BatchCopy(){_classCallCheck(this,BatchCopy);var mesh=_Geom2.default.bigTriangle(),shader=new _GLShader2.default(vs,fs),_this=_possibleConstructorReturn(this,(BatchCopy.__proto__||Object.getPrototypeOf(BatchCopy)).call(this,mesh,shader));return shader.bind(),shader.uniform("texture","uniform1i",0),_this}return _inherits(BatchCopy,_Batch),_createClass(BatchCopy,[{key:"draw",value:function(texture){this.shader.bind(),texture.bind(0),_get(BatchCopy.prototype.__proto__||Object.getPrototypeOf(BatchCopy.prototype),"draw",this).call(this)}}]),BatchCopy}(_Batch3.default);exports.default=BatchCopy},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(79),fs=__webpack_require__(80),BatchAxis=function(_Batch){function BatchAxis(){_classCallCheck(this,BatchAxis);var positions=[],colors=[],indices=[0,1,2,3,4,5],r=9999;positions.push([-r,0,0]),positions.push([r,0,0]),positions.push([0,-r,0]),positions.push([0,r,0]),positions.push([0,0,-r]),positions.push([0,0,r]),colors.push([1,0,0]),colors.push([1,0,0]),colors.push([0,1,0]),colors.push([0,1,0]),colors.push([0,0,1]),colors.push([0,0,1]);var mesh=new _Mesh2.default(_GLTool2.default.LINES);mesh.bufferVertex(positions),mesh.bufferIndex(indices),mesh.bufferData(colors,"aColor",3);var shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchAxis.__proto__||Object.getPrototypeOf(BatchAxis)).call(this,mesh,shader))}return _inherits(BatchAxis,_Batch),BatchAxis}(_Batch3.default);exports.default=BatchAxis},function(module,exports){module.exports="// axis.vert\n\n#define SHADER_NAME BASIC_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec3 aColor;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec3 vColor;\nvarying vec3 vNormal;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vColor = aColor;\n    vNormal = aNormal;\n}"},function(module,exports){module.exports="// axis.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\n\nprecision lowp float;\n#define GLSLIFY 1\nvarying vec3 vColor;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\t// vec3 color = vNormal;\n\tvec3 color = vColor + vNormal * 0.0001;\n    gl_FragColor = vec4(color, 1.0);\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(33),fs=__webpack_require__(10),BatchBall=function(_Batch){function BatchBall(){_classCallCheck(this,BatchBall);var mesh=_Geom2.default.sphere(1,24),shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchBall.__proto__||Object.getPrototypeOf(BatchBall)).call(this,mesh,shader))}return _inherits(BatchBall,_Batch),_createClass(BatchBall,[{key:"draw",value:function(){var position=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],scale=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],color=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1,1],opacity=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.shader.bind(),this.shader.uniform("position","uniform3fv",position),this.shader.uniform("scale","uniform3fv",scale),this.shader.uniform("color","uniform3fv",color),this.shader.uniform("opacity","uniform1f",opacity),_get(BatchBall.prototype.__proto__||Object.getPrototypeOf(BatchBall.prototype),"draw",this).call(this)}}]),BatchBall}(_Batch3.default);exports.default=BatchBall},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(83),fs=__webpack_require__(10),BatchDotsPlane=function(_Batch){function BatchDotsPlane(){_classCallCheck(this,BatchDotsPlane);var positions=[],indices=[],index=0,i=void 0,j=void 0;for(i=-100;i<100;i+=1)for(j=-100;j<100;j+=1)positions.push([i,j,0]),indices.push(index),index++,positions.push([i,0,j]),indices.push(index),index++;var mesh=new _Mesh2.default(_GLTool2.default.POINTS);mesh.bufferVertex(positions),mesh.bufferIndex(indices);var shader=new _GLShader2.default(vs,fs),_this=_possibleConstructorReturn(this,(BatchDotsPlane.__proto__||Object.getPrototypeOf(BatchDotsPlane)).call(this,mesh,shader));return _this.color=[1,1,1],_this.opacity=.5,_this}return _inherits(BatchDotsPlane,_Batch),_createClass(BatchDotsPlane,[{key:"draw",value:function(){this.shader.bind(),this.shader.uniform("color","uniform3fv",this.color),this.shader.uniform("opacity","uniform1f",this.opacity),_get(BatchDotsPlane.prototype.__proto__||Object.getPrototypeOf(BatchDotsPlane.prototype),"draw",this).call(this)}}]),BatchDotsPlane}(_Batch3.default);exports.default=BatchDotsPlane},function(module,exports){module.exports="// basic.vert\n\n#define SHADER_NAME DOTS_PLANE_VERTEX\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec3 vNormal;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition + aNormal * 0.000001, 1.0);\n    gl_PointSize = 1.0;\n    vNormal = aNormal;\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Mesh=__webpack_require__(5),_Mesh2=_interopRequireDefault(_Mesh),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(11),fs=__webpack_require__(10),BatchAxis=function(_Batch){function BatchAxis(){_classCallCheck(this,BatchAxis);var positions=[],indices=[0,1],coords=[[0,0],[1,1]];positions.push([0,0,0]),positions.push([0,0,0]);var mesh=new _Mesh2.default(_GLTool2.default.LINES);mesh.bufferVertex(positions),mesh.bufferTexCoord(coords),mesh.bufferIndex(indices);var shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchAxis.__proto__||Object.getPrototypeOf(BatchAxis)).call(this,mesh,shader))}return _inherits(BatchAxis,_Batch),_createClass(BatchAxis,[{key:"draw",value:function(mPositionA,mPositionB){var color=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1,1],opacity=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this._mesh.bufferVertex([mPositionA,mPositionB]),this._shader.bind(),this._shader.uniform("color","vec3",color),this._shader.uniform("opacity","float",opacity),_get(BatchAxis.prototype.__proto__||Object.getPrototypeOf(BatchAxis.prototype),"draw",this).call(this)}}]),BatchAxis}(_Batch3.default);exports.default=BatchAxis},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(34),fs=__webpack_require__(35),BatchSkybox=function(_Batch){function BatchSkybox(){var size=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;_classCallCheck(this,BatchSkybox);var mesh=_Geom2.default.skybox(size),shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchSkybox.__proto__||Object.getPrototypeOf(BatchSkybox)).call(this,mesh,shader))}return _inherits(BatchSkybox,_Batch),_createClass(BatchSkybox,[{key:"draw",value:function(texture){this.shader.bind(),texture.bind(0),_get(BatchSkybox.prototype.__proto__||Object.getPrototypeOf(BatchSkybox.prototype),"draw",this).call(this)}}]),BatchSkybox}(_Batch3.default);exports.default=BatchSkybox},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(87),fs=__webpack_require__(19),BatchSky=function(_Batch){function BatchSky(){var size=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,seg=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;_classCallCheck(this,BatchSky);var mesh=_Geom2.default.sphere(size,seg,!0),shader=new _GLShader2.default(vs,fs);return _possibleConstructorReturn(this,(BatchSky.__proto__||Object.getPrototypeOf(BatchSky)).call(this,mesh,shader))}return _inherits(BatchSky,_Batch),_createClass(BatchSky,[{key:"draw",value:function(texture){this.shader.bind(),texture.bind(0),_get(BatchSky.prototype.__proto__||Object.getPrototypeOf(BatchSky.prototype),"draw",this).call(this)}}]),BatchSky}(_Batch3.default);exports.default=BatchSky},function(module,exports){module.exports="// sky.vert\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tmat4 matView = uViewMatrix;\n\tmatView[3][0] = 0.0;\n\tmatView[3][1] = 0.0;\n\tmatView[3][2] = 0.0;\n\t\n    gl_Position = uProjectionMatrix * matView * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n    vNormal = aNormal;\n}"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_Geom=__webpack_require__(7),_Geom2=_interopRequireDefault(_Geom),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_Batch2=__webpack_require__(4),_Batch3=_interopRequireDefault(_Batch2),vs=__webpack_require__(18),fs=__webpack_require__(40),BatchFXAA=function(_Batch){function BatchFXAA(){_classCallCheck(this,BatchFXAA);var mesh=_Geom2.default.bigTriangle(),shader=new _GLShader2.default(vs,fs),_this=_possibleConstructorReturn(this,(BatchFXAA.__proto__||Object.getPrototypeOf(BatchFXAA)).call(this,mesh,shader));return shader.bind(),shader.uniform("texture","uniform1i",0),_this}return _inherits(BatchFXAA,_Batch),_createClass(BatchFXAA,[{key:"draw",value:function(texture){this.shader.bind(),texture.bind(0),this.shader.uniform("uResolution","vec2",[1/_GLTool2.default.width,1/_GLTool2.default.height]),_get(BatchFXAA.prototype.__proto__||Object.getPrototypeOf(BatchFXAA.prototype),"draw",this).call(this)}}]),BatchFXAA}(_Batch3.default);exports.default=BatchFXAA},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_scheduling=__webpack_require__(6),_scheduling2=_interopRequireDefault(_scheduling),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),_CameraPerspective=__webpack_require__(16),_CameraPerspective2=_interopRequireDefault(_CameraPerspective),_CameraOrtho=__webpack_require__(30),_CameraOrtho2=_interopRequireDefault(_CameraOrtho),_OrbitalControl=__webpack_require__(29),_OrbitalControl2=_interopRequireDefault(_OrbitalControl),Scene=function(){function Scene(){var _this=this;_classCallCheck(this,Scene),this._children=[],this._matrixIdentity=mat4.create(),_GLTool2.default.enableAlphaBlending(),this._init(),this._initTextures(),this._initViews(),this._efIndex=_scheduling2.default.addEF(function(){return _this._loop()}),window.addEventListener("resize",function(){return _this.resize()})}return _createClass(Scene,[{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"stop",value:function(){-1!==this._efIndex&&(this._efIndex=_scheduling2.default.removeEF(this._efIndex))}},{key:"start",value:function(){var _this2=this;-1===this._efIndex&&(this._efIndex=_scheduling2.default.addEF(function(){return _this2._loop()}))}},{key:"resize",value:function(){_GLTool2.default.setSize(window.innerWidth,window.innerHeight),this.camera.setAspectRatio(_GLTool2.default.aspectRatio)}},{key:"addChild",value:function(mChild){this._children.push(mChild)}},{key:"removeChild",value:function(mChild){var index=this._children.indexOf(mChild);if(-1==index)return void console.warn("Child no exist");this._children.splice(index,1)}},{key:"_initTextures",value:function(){}},{key:"_initViews",value:function(){}},{key:"_renderChildren",value:function(){for(var child=void 0,i=0;i<this._children.length;i++)child=this._children[i],child.toRender();_GLTool2.default.rotate(this._matrixIdentity)}},{key:"_init",value:function(){this.camera=new _CameraPerspective2.default,this.camera.setPerspective(45*Math.PI/180,_GLTool2.default.aspectRatio,.1,100),this.orbitalControl=new _OrbitalControl2.default(this.camera,window,15),this.orbitalControl.radius.value=10,this.cameraOrtho=new _CameraOrtho2.default}},{key:"_loop",value:function(){_GLTool2.default.viewport(0,0,_GLTool2.default.width,_GLTool2.default.height),_GLTool2.default.setMatrices(this.camera),this.update(),this._renderChildren(),this.render()}}]),Scene}();exports.default=Scene},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_GLShader=__webpack_require__(2),_GLShader2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GLShader),View=function(){function View(mStrVertex,mStrFrag){_classCallCheck(this,View),this.shader=new _GLShader2.default(mStrVertex,mStrFrag),this._init()}return _createClass(View,[{key:"_init",value:function(){}},{key:"render",value:function(){}}]),View}();exports.default=View},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Object3D2=__webpack_require__(31),_Object3D3=_interopRequireDefault(_Object3D2),_GLShader=__webpack_require__(2),_GLShader2=_interopRequireDefault(_GLShader),_GLTool=__webpack_require__(0),_GLTool2=_interopRequireDefault(_GLTool),View3D=function(_Object3D){function View3D(mStrVertex,mStrFrag){_classCallCheck(this,View3D);var _this=_possibleConstructorReturn(this,(View3D.__proto__||Object.getPrototypeOf(View3D)).call(this));return _this._children=[],_this.shader=new _GLShader2.default(mStrVertex,mStrFrag),_this._init(),_this._matrixTemp=mat4.create(),_this}return _inherits(View3D,_Object3D),_createClass(View3D,[{key:"_init",value:function(){}},{key:"addChild",value:function(mChild){this._children.push(mChild)}},{key:"removeChild",value:function(mChild){var index=this._children.indexOf(mChild);if(-1==index)return void console.warn("Child no exist");this._children.splice(index,1)}},{key:"toRender",value:function(matrix){void 0===matrix&&(matrix=mat4.create()),mat4.mul(this._matrixTemp,matrix,this.matrix),_GLTool2.default.rotate(this._matrixTemp),this.render();for(var i=0;i<this._children.length;i++){this._children[i].toRender(this.matrix)}}},{key:"render",value:function(){}}]),View3D}(_Object3D3.default);exports.default=View3D}])});

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});
// Config.js

exports.default = {
	numTrees: 50,
	treeScale: 1.5,
	floorRadius: 3,
	maxFloorHeight: 0.6,
	treeBumpHeight: 0.25,
	numSlides: 30,
	noiseNum: 8,
	noiseScale: 3,
	animated: false,
	fxaa: true,
	overlayOpacity: .25
};

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _assetList = __webpack_require__(4);

var _assetList2 = _interopRequireDefault(_assetList);

var _alfrid = __webpack_require__(0);

var _alfrid2 = _interopRequireDefault(_alfrid);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Assets.js

var Assets = {};
var _assets = [];

var getAsset = function getAsset(id) {
	return assets.find(function (a) {
		return a.id === id;
	}).file;
};

var getExtension = function getExtension(mFile) {
	var ary = mFile.split('.');
	return ary[ary.length - 1];
};

Assets.init = function () {
	var hdrCubemaps = {};
	_assets = _assetList2.default.map(function (o) {
		var ext = getExtension(o.url);
		var file = getAsset(o.id);
		var texture = void 0;

		switch (ext) {
			case 'jpg':
			case 'png':
				texture = new _alfrid.GLTexture(file);
				return {
					id: o.id,
					file: texture
				};
				break;

			case 'hdr':
				var cubemapName = o.id.split('_')[0];
				texture = _alfrid2.default.HDRLoader.parse(file);

				var oAsset = {
					id: o.id,
					file: texture
				};

				if (!hdrCubemaps[cubemapName]) {
					hdrCubemaps[cubemapName] = [];
				}

				hdrCubemaps[cubemapName].push(oAsset);
				return oAsset;

				break;
			case 'dds':
				texture = _alfrid.GLCubeTexture.parseDDS(file);
				return {
					id: o.id,
					file: texture
				};
				break;

			case 'obj':
				var mesh = _alfrid.ObjLoader.parse(file);
				return {
					id: o.id,
					file: mesh
				};
				break;
		}
	});

	for (var s in hdrCubemaps) {
		if (hdrCubemaps[s].length == 6) {
			console.log('Generate Cubemap :', s);

			var ary = [Assets.get(s + '_posx'), Assets.get(s + '_negx'), Assets.get(s + '_posy'), Assets.get(s + '_negy'), Assets.get(s + '_posz'), Assets.get(s + '_negz')];

			var texture = new _alfrid2.default.GLCubeTexture(ary);
			_assets.push({
				id: s,
				file: texture
			});
		}
	}

	if (_assets.length > 0) {
		console.debug('ASSETS:');
		console.table(_assets);
	}
};

Assets.get = function (mId) {
	return _assets.find(function (a) {
		return a.id === mId;
	}).file;
};

exports.default = Assets;

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(11)(undefined);
// imports


// module
exports.push([module.i, "html, body {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n  position: static;\n  /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#6d6d6d+0,000000+100 */\n  background: #333333;\n  /* Old browsers */\n  background: -moz-radial-gradient(center, ellipse cover, #333333 0%, #000000 100%);\n  /* FF3.6-15 */\n  background: -webkit-radial-gradient(center, ellipse cover, #333333 0%, #000000 100%);\n  /* Chrome10-25,Safari5.1-6 */\n  background: radial-gradient(ellipse at center, #333333 0%, #000000 100%);\n  /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */ }\n\nhtml {\n  -webkit-text-size-adjust: none;\n  -moz-text-size-adjust: none;\n  text-size-adjust: none; }\n\nh1, h2, h3, h4, text, p {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-webkit-font-smoothing: antialiased;\n  font-family: 'Open Sans', sans-serif; }\n\n.Main-Canvas {\n  width: 100%;\n  height: 100%;\n  top: 0px;\n  left: 0px;\n  position: absolute;\n  user-select: none;\n  opacity: 1;\n  transition: opacity .5s ease-out .25s; }\n  .isLoading .Main-Canvas {\n    opacity: 0; }\n\n.Message {\n  position: absolute;\n  z-index: 999;\n  width: 100%;\n  top: calc(50% - 50px);\n  text-align: center;\n  letter-spacing: 11px;\n  color: white;\n  opacity: 0;\n  transition: opacity .5s ease-out, letter-spacing .5s ease-out; }\n  .isLoading .Message {\n    letter-spacing: 10px;\n    opacity: 1; }\n\n.Loading-Bar {\n  position: absolute;\n  z-index: 998;\n  width: 0%;\n  height: 1px;\n  top: 50%;\n  background: rgba(255, 255, 255, 0.5);\n  opacity: 0;\n  transition: width .5s ease-out, opacity .5s ease-out; }\n  .isLoading .Loading-Bar {\n    opacity: 1; }\n", ""]);

// exports


/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var assetsToLoad = [{ "id": "noise", "url": "assets/img/noise.jpg", "type": "jpg" }, { "id": "tree1", "url": "assets/obj/tree1.obj", "type": "text" }, { "id": "tree2", "url": "assets/obj/tree2.obj", "type": "text" }];

exports.default = assetsToLoad;

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _Config = __webpack_require__(1);

var _Config2 = _interopRequireDefault(_Config);

var _fastUrlParser = __webpack_require__(19);

var _fastUrlParser2 = _interopRequireDefault(_fastUrlParser);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Settings.js

_fastUrlParser2.default.queryString = __webpack_require__(26);

var enabled = true;

var reload = function reload() {
	if (!enabled) {
		return;
	}
	window.location.href = window.location.origin + window.location.pathname + '?config=' + JSON.stringify(_Config2.default);
};

var refresh = function refresh() {
	if (!enabled) {
		return;
	}
	window.history.pushState('experiment', 'Title', window.location.origin + window.location.pathname + '?config=' + JSON.stringify(_Config2.default));
};

var delayIndex = -1;

var delayReload = function delayReload() {
	if (!enabled) {
		return;
	}
	window.clearTimeout(delayIndex);

	delayIndex = window.setTimeout(function () {
		window.location.href = window.location.origin + window.location.pathname + '?config=' + JSON.stringify(_Config2.default);
	}, 500);
};

var init = function init() {
	var mEnabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

	enabled = mEnabled;
	var parsed = _fastUrlParser2.default.parse(window.location.search, true);

	if (parsed.query.config) {
		var oConfig = JSON.parse(parsed.query.config);

		for (var key in oConfig) {
			_Config2.default[key] = oConfig[key];
		}
	}

	console.log('Config :', _Config2.default);
	refresh();
};

exports.default = {
	enabled: enabled,
	reload: reload,
	refresh: refresh,
	delayReload: delayReload,
	init: init
};

/***/ }),
/* 6 */
/***/ (function(module, exports) {

module.exports = "precision highp float;\n#define GLSLIFY 1\nvarying vec4 vScreenPosition;\n\nvoid main(void) {\n\tfloat z = vScreenPosition.z / vScreenPosition.w;\n    gl_FragColor = vec4(vec3(z * 0.25), 1.0);\n}"

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var EventEmitter = __webpack_require__(57).EventEmitter;

function Emitter() {
    EventEmitter.call(this);
    this.setMaxListeners(20);
}

Emitter.prototype = Object.create(EventEmitter.prototype);
Emitter.prototype.constructor = Emitter;

Emitter.prototype.off = function(type, listener) {
    if (listener) {
        return this.removeListener(type, listener);
    }
    if (type) {
        return this.removeAllListeners(type);
    }
    return this.removeAllListeners();
};

module.exports = Emitter;


/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = {
    mbs: 0,
    secs: 0,
    update: function(request, startTime, url, log) {
        var length;
        var headers = request.getAllResponseHeaders();
        if (headers) {
            var match = headers.match(/content-length: (\d+)/i);
            if (match && match.length) {
                length = match[1];
            }
        }
        // var length = request.getResponseHeader('Content-Length');
        if (length) {
            length = parseInt(length, 10);
            var mbs = length / 1024 / 1024;
            var secs = (Date.now() - startTime) / 1000;
            this.secs += secs;
            this.mbs += mbs;
            if (log) {
                this.log(url, mbs, secs);
            }
        } else if(log) {
            console.warn.call(console, 'Can\'t get Content-Length:', url);
        }
    },
    log: function(url, mbs, secs) {
        if (url) {
            var file = 'File loaded: ' +
                url.substr(url.lastIndexOf('/') + 1) +
                ' size:' + mbs.toFixed(2) + 'mb' +
                ' time:' + secs.toFixed(2) + 's' +
                ' speed:' + (mbs / secs).toFixed(2) + 'mbps';

            console.log.call(console, file);
        }
        var total = 'Total loaded: ' + this.mbs.toFixed(2) + 'mb' +
            ' time:' + this.secs.toFixed(2) + 's' +
            ' speed:' + this.getMbps().toFixed(2) + 'mbps';
        console.log.call(console, total);
    },
    getMbps: function() {
        return this.mbs / this.secs;
    }
};


/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


__webpack_require__(10);

var _debugPolyfill = __webpack_require__(14);

var _debugPolyfill2 = _interopRequireDefault(_debugPolyfill);

var _alfrid = __webpack_require__(0);

var _alfrid2 = _interopRequireDefault(_alfrid);

var _SceneApp = __webpack_require__(15);

var _SceneApp2 = _interopRequireDefault(_SceneApp);

var _assetsLoader = __webpack_require__(55);

var _assetsLoader2 = _interopRequireDefault(_assetsLoader);

var _assetList = __webpack_require__(4);

var _assetList2 = _interopRequireDefault(_assetList);

var _Assets = __webpack_require__(2);

var _Assets2 = _interopRequireDefault(_Assets);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

if (document.body) {
	_init();
} else {
	window.addEventListener('DOMContentLoaded', _init);
}

function _init() {

	//	LOADING ASSETS
	if (_assetList2.default.length > 0) {
		document.body.classList.add('isLoading');

		var loader = new _assetsLoader2.default({
			assets: _assetList2.default
		}).on('error', function (error) {
			console.log('Error :', error);
		}).on('progress', function (p) {
			// console.log('Progress : ', p);
			var loader = document.body.querySelector('.Loading-Bar');
			if (loader) loader.style.width = p * 100 + '%';
		}).on('complete', _onImageLoaded).start();
	} else {
		_init3D();
	}
}

function _onImageLoaded(o) {
	//	ASSETS
	console.log('Image Loaded : ', o);
	window.assets = o;
	var loader = document.body.querySelector('.Loading-Bar');
	console.log('Loader :', loader);
	loader.style.width = '100%';

	_init3D();

	setTimeout(function () {
		document.body.classList.remove('isLoading');
	}, 250);
}

function _init3D() {
	//	CREATE CANVAS
	var canvas = document.createElement('canvas');
	canvas.className = 'Main-Canvas';
	document.body.appendChild(canvas);

	//	INIT 3D TOOL
	_alfrid.GL.init(canvas, { ignoreWebgl2: true });

	//	INIT ASSETS
	_Assets2.default.init();

	//	CREATE SCENE
	var scene = new _SceneApp2.default();
}

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(3);
if(typeof content === 'string') content = [[module.i, content, '']];
// Prepare cssTransformation
var transform;

var options = {}
options.transform = transform
// add the styles to the DOM
var update = __webpack_require__(12)(content, options);
if(content.locals) module.exports = content.locals;
// Hot Module Replacement
if(true) {
	// When the styles change, update the <style> tags
	if(!content.locals) {
		module.hot.accept(3, function() {
			var newContent = __webpack_require__(3);
			if(typeof newContent === 'string') newContent = [[module.i, newContent, '']];
			update(newContent);
		});
	}
	// When the module is disposed, remove the <style> tags
	module.hot.dispose(function() { update(); });
}

/***/ }),
/* 11 */
/***/ (function(module, exports) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
module.exports = function(useSourceMap) {
	var list = [];

	// return the list of modules as css string
	list.toString = function toString() {
		return this.map(function (item) {
			var content = cssWithMappingToString(item, useSourceMap);
			if(item[2]) {
				return "@media " + item[2] + "{" + content + "}";
			} else {
				return content;
			}
		}).join("");
	};

	// import a list of modules into the list
	list.i = function(modules, mediaQuery) {
		if(typeof modules === "string")
			modules = [[null, modules, ""]];
		var alreadyImportedModules = {};
		for(var i = 0; i < this.length; i++) {
			var id = this[i][0];
			if(typeof id === "number")
				alreadyImportedModules[id] = true;
		}
		for(i = 0; i < modules.length; i++) {
			var item = modules[i];
			// skip already imported module
			// this implementation is not 100% perfect for weird media query combinations
			//  when a module is imported multiple times with different media queries.
			//  I hope this will never occur (Hey this way we have smaller bundles)
			if(typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {
				if(mediaQuery && !item[2]) {
					item[2] = mediaQuery;
				} else if(mediaQuery) {
					item[2] = "(" + item[2] + ") and (" + mediaQuery + ")";
				}
				list.push(item);
			}
		}
	};
	return list;
};

function cssWithMappingToString(item, useSourceMap) {
	var content = item[1] || '';
	var cssMapping = item[3];
	if (!cssMapping) {
		return content;
	}

	if (useSourceMap && typeof btoa === 'function') {
		var sourceMapping = toComment(cssMapping);
		var sourceURLs = cssMapping.sources.map(function (source) {
			return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'
		});

		return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
	}

	return [content].join('\n');
}

// Adapted from convert-source-map (MIT)
function toComment(sourceMap) {
	// eslint-disable-next-line no-undef
	var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
	var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;

	return '/*# ' + data + ' */';
}


/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

var stylesInDom = {};

var	memoize = function (fn) {
	var memo;

	return function () {
		if (typeof memo === "undefined") memo = fn.apply(this, arguments);
		return memo;
	};
};

var isOldIE = memoize(function () {
	// Test for IE <= 9 as proposed by Browserhacks
	// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
	// Tests for existence of standard globals is to allow style-loader
	// to operate correctly into non-standard environments
	// @see https://github.com/webpack-contrib/style-loader/issues/177
	return window && document && document.all && !window.atob;
});

var getElement = (function (fn) {
	var memo = {};

	return function(selector) {
		if (typeof memo[selector] === "undefined") {
			memo[selector] = fn.call(this, selector);
		}

		return memo[selector]
	};
})(function (target) {
	return document.querySelector(target)
});

var singleton = null;
var	singletonCounter = 0;
var	stylesInsertedAtTop = [];

var	fixUrls = __webpack_require__(13);

module.exports = function(list, options) {
	if (typeof DEBUG !== "undefined" && DEBUG) {
		if (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");
	}

	options = options || {};

	options.attrs = typeof options.attrs === "object" ? options.attrs : {};

	// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
	// tags it will allow on a page
	if (!options.singleton) options.singleton = isOldIE();

	// By default, add <style> tags to the <head> element
	if (!options.insertInto) options.insertInto = "head";

	// By default, add <style> tags to the bottom of the target
	if (!options.insertAt) options.insertAt = "bottom";

	var styles = listToStyles(list, options);

	addStylesToDom(styles, options);

	return function update (newList) {
		var mayRemove = [];

		for (var i = 0; i < styles.length; i++) {
			var item = styles[i];
			var domStyle = stylesInDom[item.id];

			domStyle.refs--;
			mayRemove.push(domStyle);
		}

		if(newList) {
			var newStyles = listToStyles(newList, options);
			addStylesToDom(newStyles, options);
		}

		for (var i = 0; i < mayRemove.length; i++) {
			var domStyle = mayRemove[i];

			if(domStyle.refs === 0) {
				for (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();

				delete stylesInDom[domStyle.id];
			}
		}
	};
};

function addStylesToDom (styles, options) {
	for (var i = 0; i < styles.length; i++) {
		var item = styles[i];
		var domStyle = stylesInDom[item.id];

		if(domStyle) {
			domStyle.refs++;

			for(var j = 0; j < domStyle.parts.length; j++) {
				domStyle.parts[j](item.parts[j]);
			}

			for(; j < item.parts.length; j++) {
				domStyle.parts.push(addStyle(item.parts[j], options));
			}
		} else {
			var parts = [];

			for(var j = 0; j < item.parts.length; j++) {
				parts.push(addStyle(item.parts[j], options));
			}

			stylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};
		}
	}
}

function listToStyles (list, options) {
	var styles = [];
	var newStyles = {};

	for (var i = 0; i < list.length; i++) {
		var item = list[i];
		var id = options.base ? item[0] + options.base : item[0];
		var css = item[1];
		var media = item[2];
		var sourceMap = item[3];
		var part = {css: css, media: media, sourceMap: sourceMap};

		if(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});
		else newStyles[id].parts.push(part);
	}

	return styles;
}

function insertStyleElement (options, style) {
	var target = getElement(options.insertInto)

	if (!target) {
		throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
	}

	var lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];

	if (options.insertAt === "top") {
		if (!lastStyleElementInsertedAtTop) {
			target.insertBefore(style, target.firstChild);
		} else if (lastStyleElementInsertedAtTop.nextSibling) {
			target.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);
		} else {
			target.appendChild(style);
		}
		stylesInsertedAtTop.push(style);
	} else if (options.insertAt === "bottom") {
		target.appendChild(style);
	} else {
		throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");
	}
}

function removeStyleElement (style) {
	if (style.parentNode === null) return false;
	style.parentNode.removeChild(style);

	var idx = stylesInsertedAtTop.indexOf(style);
	if(idx >= 0) {
		stylesInsertedAtTop.splice(idx, 1);
	}
}

function createStyleElement (options) {
	var style = document.createElement("style");

	options.attrs.type = "text/css";

	addAttrs(style, options.attrs);
	insertStyleElement(options, style);

	return style;
}

function createLinkElement (options) {
	var link = document.createElement("link");

	options.attrs.type = "text/css";
	options.attrs.rel = "stylesheet";

	addAttrs(link, options.attrs);
	insertStyleElement(options, link);

	return link;
}

function addAttrs (el, attrs) {
	Object.keys(attrs).forEach(function (key) {
		el.setAttribute(key, attrs[key]);
	});
}

function addStyle (obj, options) {
	var style, update, remove, result;

	// If a transform function was defined, run it on the css
	if (options.transform && obj.css) {
	    result = options.transform(obj.css);

	    if (result) {
	    	// If transform returns a value, use that instead of the original css.
	    	// This allows running runtime transformations on the css.
	    	obj.css = result;
	    } else {
	    	// If the transform function returns a falsy value, don't add this css.
	    	// This allows conditional loading of css
	    	return function() {
	    		// noop
	    	};
	    }
	}

	if (options.singleton) {
		var styleIndex = singletonCounter++;

		style = singleton || (singleton = createStyleElement(options));

		update = applyToSingletonTag.bind(null, style, styleIndex, false);
		remove = applyToSingletonTag.bind(null, style, styleIndex, true);

	} else if (
		obj.sourceMap &&
		typeof URL === "function" &&
		typeof URL.createObjectURL === "function" &&
		typeof URL.revokeObjectURL === "function" &&
		typeof Blob === "function" &&
		typeof btoa === "function"
	) {
		style = createLinkElement(options);
		update = updateLink.bind(null, style, options);
		remove = function () {
			removeStyleElement(style);

			if(style.href) URL.revokeObjectURL(style.href);
		};
	} else {
		style = createStyleElement(options);
		update = applyToTag.bind(null, style);
		remove = function () {
			removeStyleElement(style);
		};
	}

	update(obj);

	return function updateStyle (newObj) {
		if (newObj) {
			if (
				newObj.css === obj.css &&
				newObj.media === obj.media &&
				newObj.sourceMap === obj.sourceMap
			) {
				return;
			}

			update(obj = newObj);
		} else {
			remove();
		}
	};
}

var replaceText = (function () {
	var textStore = [];

	return function (index, replacement) {
		textStore[index] = replacement;

		return textStore.filter(Boolean).join('\n');
	};
})();

function applyToSingletonTag (style, index, remove, obj) {
	var css = remove ? "" : obj.css;

	if (style.styleSheet) {
		style.styleSheet.cssText = replaceText(index, css);
	} else {
		var cssNode = document.createTextNode(css);
		var childNodes = style.childNodes;

		if (childNodes[index]) style.removeChild(childNodes[index]);

		if (childNodes.length) {
			style.insertBefore(cssNode, childNodes[index]);
		} else {
			style.appendChild(cssNode);
		}
	}
}

function applyToTag (style, obj) {
	var css = obj.css;
	var media = obj.media;

	if(media) {
		style.setAttribute("media", media)
	}

	if(style.styleSheet) {
		style.styleSheet.cssText = css;
	} else {
		while(style.firstChild) {
			style.removeChild(style.firstChild);
		}

		style.appendChild(document.createTextNode(css));
	}
}

function updateLink (link, options, obj) {
	var css = obj.css;
	var sourceMap = obj.sourceMap;

	/*
		If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled
		and there is no publicPath defined then lets turn convertToAbsoluteUrls
		on by default.  Otherwise default to the convertToAbsoluteUrls option
		directly
	*/
	var autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;

	if (options.convertToAbsoluteUrls || autoFixUrls) {
		css = fixUrls(css);
	}

	if (sourceMap) {
		// http://stackoverflow.com/a/26603875
		css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";
	}

	var blob = new Blob([css], { type: "text/css" });

	var oldSrc = link.href;

	link.href = URL.createObjectURL(blob);

	if(oldSrc) URL.revokeObjectURL(oldSrc);
}


/***/ }),
/* 13 */
/***/ (function(module, exports) {


/**
 * When source maps are enabled, `style-loader` uses a link element with a data-uri to
 * embed the css on the page. This breaks all relative urls because now they are relative to a
 * bundle instead of the current page.
 *
 * One solution is to only use full urls, but that may be impossible.
 *
 * Instead, this function "fixes" the relative urls to be absolute according to the current page location.
 *
 * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.
 *
 */

module.exports = function (css) {
  // get current location
  var location = typeof window !== "undefined" && window.location;

  if (!location) {
    throw new Error("fixUrls requires window.location");
  }

	// blank or null?
	if (!css || typeof css !== "string") {
	  return css;
  }

  var baseUrl = location.protocol + "//" + location.host;
  var currentDir = baseUrl + location.pathname.replace(/\/[^\/]*$/, "/");

	// convert each url(...)
	/*
	This regular expression is just a way to recursively match brackets within
	a string.

	 /url\s*\(  = Match on the word "url" with any whitespace after it and then a parens
	   (  = Start a capturing group
	     (?:  = Start a non-capturing group
	         [^)(]  = Match anything that isn't a parentheses
	         |  = OR
	         \(  = Match a start parentheses
	             (?:  = Start another non-capturing groups
	                 [^)(]+  = Match anything that isn't a parentheses
	                 |  = OR
	                 \(  = Match a start parentheses
	                     [^)(]*  = Match anything that isn't a parentheses
	                 \)  = Match a end parentheses
	             )  = End Group
              *\) = Match anything and then a close parens
          )  = Close non-capturing group
          *  = Match anything
       )  = Close capturing group
	 \)  = Match a close parens

	 /gi  = Get all matches, not the first.  Be case insensitive.
	 */
	var fixedCss = css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(fullMatch, origUrl) {
		// strip quotes (if they exist)
		var unquotedOrigUrl = origUrl
			.trim()
			.replace(/^"(.*)"$/, function(o, $1){ return $1; })
			.replace(/^'(.*)'$/, function(o, $1){ return $1; });

		// already a full url? no change
		if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(unquotedOrigUrl)) {
		  return fullMatch;
		}

		// convert the url to a full url
		var newUrl;

		if (unquotedOrigUrl.indexOf("//") === 0) {
		  	//TODO: should we add protocol?
			newUrl = unquotedOrigUrl;
		} else if (unquotedOrigUrl.indexOf("/") === 0) {
			// path should be relative to the base url
			newUrl = baseUrl + unquotedOrigUrl; // already starts with '/'
		} else {
			// path should be relative to current directory
			newUrl = currentDir + unquotedOrigUrl.replace(/^\.\//, ""); // Strip leading './'
		}

		// send back the fixed url(...)
		return "url(" + JSON.stringify(newUrl) + ")";
	});

	// send back the fixed css
	return fixedCss;
};


/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// debugPolyfill.js

window.gui = {
	add: function add() {}
};

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _alfrid = __webpack_require__(0);

var _alfrid2 = _interopRequireDefault(_alfrid);

var _ViewObjModel = __webpack_require__(16);

var _ViewObjModel2 = _interopRequireDefault(_ViewObjModel);

var _Assets = __webpack_require__(2);

var _Assets2 = _interopRequireDefault(_Assets);

var _Settings = __webpack_require__(5);

var _Settings2 = _interopRequireDefault(_Settings);

var _Config = __webpack_require__(1);

var _Config2 = _interopRequireDefault(_Config);

var _Noise3DTexture = __webpack_require__(28);

var _Noise3DTexture2 = _interopRequireDefault(_Noise3DTexture);

var _utils = __webpack_require__(30);

var _ViewFloor = __webpack_require__(36);

var _ViewFloor2 = _interopRequireDefault(_ViewFloor);

var _ViewTrees = __webpack_require__(38);

var _ViewTrees2 = _interopRequireDefault(_ViewTrees);

var _ViewPlanes = __webpack_require__(40);

var _ViewPlanes2 = _interopRequireDefault(_ViewPlanes);

var _ViewBg = __webpack_require__(43);

var _ViewBg2 = _interopRequireDefault(_ViewBg);

var _ViewGround = __webpack_require__(46);

var _ViewGround2 = _interopRequireDefault(_ViewGround);

var _ViewFog = __webpack_require__(49);

var _ViewFog2 = _interopRequireDefault(_ViewFog);

var _ViewFXAA = __webpack_require__(52);

var _ViewFXAA2 = _interopRequireDefault(_ViewFXAA);

var _addControls = __webpack_require__(54);

var _addControls2 = _interopRequireDefault(_addControls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // SceneApp.js

var SceneApp = function (_Scene) {
	_inherits(SceneApp, _Scene);

	function SceneApp() {
		_classCallCheck(this, SceneApp);

		_Settings2.default.init();

		var _this = _possibleConstructorReturn(this, (SceneApp.__proto__ || Object.getPrototypeOf(SceneApp)).call(this));

		_this.resize();
		_alfrid.GL.enableAlphaBlending();
		_this.orbitalControl.radius.value = 5;
		// this.orbitalControl.radius.limit(5, 5);
		_this.orbitalControl.radius.limit(3, 6);
		// this.orbitalControl.rx.limit(0, 0);
		_this.orbitalControl.rx.limit(0, .2);

		_this.mtx = mat4.create();
		mat4.translate(_this.mtx, _this.mtx, vec3.fromValues(0, -1, 0));

		//	setup front camera for projection
		_this.cameraFront = new _alfrid2.default.CameraPerspective();
		var fov = 45 * Math.PI / 180;
		_this.camera.setPerspective(fov, _alfrid.GL.aspectRatio, 1, 15);
		_this.cameraFront.setPerspective(fov, _alfrid.GL.aspectRatio, 1, 15);
		_this.cameraFront.lookAt([0, 0, 5], [0, 0, 0]);

		_this._mtxFront = mat4.create();
		mat4.mul(_this._mtxFront, _this.cameraFront.projection, _this.cameraFront.matrix);

		_this._isInTransition = false;

		window.addEventListener('keydown', function (e) {
			// console.log(e.keyCode);

			if (e.keyCode === 32) {
				_this.next();
				// this.resetCamera();
			}
		});

		(0, _addControls2.default)(_this);
		return _this;
	}

	_createClass(SceneApp, [{
		key: '_initTextures',
		value: function _initTextures() {
			console.log('init textures', _alfrid.GL.width);

			window.GL = _alfrid.GL;
			var fboSize = 2048;

			this._fboCapture = new _alfrid2.default.FrameBuffer(_alfrid.GL.width, _alfrid.GL.height, {
				minFilter: _alfrid.GL.LINEAR,
				magFilter: _alfrid.GL.LINEAR
			});

			this._fboRender = new _alfrid2.default.FrameBuffer(_alfrid.GL.width, _alfrid.GL.height);

			this._noise3D = new _Noise3DTexture2.default(_Config2.default.noiseNum, _Config2.default.noiseScale);
			this._noise3D.render();
		}
	}, {
		key: '_initViews',
		value: function _initViews() {
			console.log('init views');

			this._bCopy = new _alfrid2.default.BatchCopy();
			this._bBall = new _alfrid2.default.BatchBall();

			this._vFloor = new _ViewFloor2.default();
			this._vTrees = new _ViewTrees2.default();
			this._vPlanes = new _ViewPlanes2.default();
			this._vBg = new _ViewBg2.default();
			this._vGround = new _ViewGround2.default();
			this._vFog = new _ViewFog2.default();
			this._vFxaa = new _ViewFXAA2.default();

			this._resetTreePosition();
		}
	}, {
		key: 'next',
		value: function next() {
			console.log('next');

			// let g = 0.5;
			//	take screen shot of current frame
			this._fboCapture.bind();
			_alfrid.GL.clear(0, 0, 0, 1);
			_alfrid.GL.setMatrices(this.camera);
			this.renderScene();
			this._fboCapture.unbind();

			//	set flag to start rendering the planes
			this._isInTransition = true;

			//	set camera position to front
			this.orbitalControl.rx.setTo(0);
			this.orbitalControl.ry.setTo(0);
			this.orbitalControl.radius.setTo(5);

			//	move camera to side to hide the planes

			//	reset planes position
			this._vPlanes.reset();
			this._vPlanes.open();

			// this._vTrees.reset();
			this._resetTreePosition();

			//	when camera in position ( planes not visible )
			//	disable rendering the planes
		}
	}, {
		key: '_resetTreePosition',
		value: function _resetTreePosition() {
			this._trees = (0, _utils.generateTrees)();
			this._vTrees.reset(this._trees);
			this._textureFloor = (0, _utils.generateHeightMap)(this._trees);
		}
	}, {
		key: 'resetCamera',
		value: function resetCamera() {
			//	set camera position to front
			this.orbitalControl.rx.setTo(0);
			this.orbitalControl.ry.setTo(0);
		}
	}, {
		key: 'render',
		value: function render() {
			_alfrid.GL.clear(0, 0, 0, 1);

			this._fboRender.bind();
			_alfrid.GL.clear(0, 0, 0, 1);
			this.renderScene();

			if (this._isInTransition) {
				this._vPlanes.render(this._mtxFront, this._fboCapture.getTexture());
			}

			this._fboRender.unbind();

			if (_Config2.default.fxaa) {
				this._vFxaa.render(this._fboRender.getTexture());
			} else {
				this._bCopy.draw(this._fboRender.getTexture());
			}

			_alfrid.GL.disable(_alfrid.GL.DEPTH_TEST);
			var s = 100;

			if (this._isInTransition) {
				_alfrid.GL.viewport(s, 0, s, s / _alfrid.GL.aspectRatio);
				this._bCopy.draw(this._fboCapture.getTexture());
			}

			_alfrid.GL.viewport(0, 0, s, s);
			// this._bCopy.draw(this._textureFloor);
			_alfrid.GL.enable(_alfrid.GL.DEPTH_TEST);
		}
	}, {
		key: 'renderScene',
		value: function renderScene() {
			_alfrid.GL.rotate(this.mtx);

			this._vBg.render();
			this._vGround.render();
			this._vFloor.render(this._textureFloor);
			this._vTrees.render();
			this._vFog.render(this._noise3D.getTexture());
		}
	}, {
		key: 'resize',
		value: function resize() {
			var _window = window,
			    innerWidth = _window.innerWidth,
			    innerHeight = _window.innerHeight,
			    devicePixelRatio = _window.devicePixelRatio;

			_alfrid.GL.setSize(innerWidth, innerHeight);
			this.camera.setAspectRatio(_alfrid.GL.aspectRatio);

			if (this.cameraFront) {
				this.cameraFront.setAspectRatio(_alfrid.GL.aspectRatio);
				mat4.identity(this._mtxFront, this._mtxFront);
				mat4.mul(this._mtxFront, this.cameraFront.projection, this.cameraFront.matrix);
			}
		}
	}]);

	return SceneApp;
}(_alfrid.Scene);

exports.default = SceneApp;

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _alfrid = __webpack_require__(0);

var _alfrid2 = _interopRequireDefault(_alfrid);

var _Assets = __webpack_require__(2);

var _Assets2 = _interopRequireDefault(_Assets);

var _pbr = __webpack_require__(17);

var _pbr2 = _interopRequireDefault(_pbr);

var _pbr3 = __webpack_require__(18);

var _pbr4 = _interopRequireDefault(_pbr3);

var _Config = __webpack_require__(1);

var _Config2 = _interopRequireDefault(_Config);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // ViewObjModel.js

var definesToString = function definesToString(defines) {
	var outStr = '';
	for (var def in defines) {
		if (defines[def]) {
			outStr += '#define ' + def + ' ' + defines[def] + '\n';
		}
	}
	return outStr;
};

var ViewObjModel = function (_alfrid$View) {
	_inherits(ViewObjModel, _alfrid$View);

	function ViewObjModel() {
		_classCallCheck(this, ViewObjModel);

		var defines = {
			'USE_IBL': 1,
			'HAS_BASECOLORMAP': 0,
			'HAS_NORMALMAP': 0,
			'HAS_EMISSIVEMAP': 0,
			'HAS_OCCLUSIONMAP': 1
		};
		var defineStr = definesToString(defines);
		console.log(defineStr);
		var _vs = defineStr + '\n' + _pbr2.default;
		var _fs = defineStr + '\n' + _pbr4.default;

		return _possibleConstructorReturn(this, (ViewObjModel.__proto__ || Object.getPrototypeOf(ViewObjModel)).call(this, _vs, _fs));
	}

	_createClass(ViewObjModel, [{
		key: '_init',
		value: function _init() {
			this.mesh = _Assets2.default.get('model');

			this.roughness = 1;
			this.metallic = 0;
			this.baseColor = [1, 1, 1];

			gui.add(this, 'roughness', 0, 1);
			gui.add(this, 'metallic', 0, 1);
		}
	}, {
		key: 'render',
		value: function render(textureRad, textureIrr, textureAO) {
			this.shader.bind();

			this.shader.uniform('uAoMap', 'uniform1i', 0);
			textureAO.bind(0);
			this.shader.uniform("uBRDFMap", "uniform1i", 1);
			_Assets2.default.get('brdfLUT').bind(1);

			this.shader.uniform('uRadianceMap', 'uniform1i', 3);
			this.shader.uniform('uIrradianceMap', 'uniform1i', 2);

			textureRad.bind(3);
			textureIrr.bind(2);

			this.shader.uniform('uBaseColor', 'uniform3fv', this.baseColor);
			this.shader.uniform('uRoughness', 'uniform1f', this.roughness);
			this.shader.uniform('uMetallic', 'uniform1f', this.metallic);
			this.shader.uniform('uSpecular', 'uniform1f', this.specular);

			//	pbr
			this.shader.uniform("uLightDirection", "vec3", [0.5, 0.5, 0.5]);
			this.shader.uniform("uLightColor", "vec3", [1, 1, 1]);

			this.shader.uniform("uScaleDiffBaseMR", "vec4", [0, 0, 0, 0]);
			this.shader.uniform("uScaleFGDSpec", "vec4", [0, 0, 0, 0]);
			this.shader.uniform("uScaleIBLAmbient", "vec4", [1, 1, 1, 1]);

			this.shader.uniform("uCameraPos", "vec3", _alfrid.GL.camera.position);
			this.shader.uniform("uOcclusionStrength", "float", 1);

			_alfrid.GL.draw(this.mesh);
		}
	}]);

	return ViewObjModel;
}(_alfrid2.default.View);

exports.default = ViewObjModel;

/***/ }),
/* 17 */
/***/ (function(module, exports) {

module.exports = "#define SHADER_NAME pbr_vert\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform mat3 uModelViewMatrixInverse;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\nvarying vec3 vPosition;\n\n\nvoid main(void) {\n\tvec4 position = uModelMatrix * vec4(aVertexPosition, 1.0);\n\tvPosition     = position.xyz / position.w;\n\t\n\tvNormal       = normalize(vec3(uModelMatrix * vec4(aNormal, 0.0)));\n\tvTextureCoord = aTextureCoord;\n\t\n\tgl_Position   = uProjectionMatrix * uViewMatrix * position;\n}\n"

/***/ }),
/* 18 */
/***/ (function(module, exports) {

module.exports = "#define SHADER_NAME pbr_frag\n\n#extension GL_EXT_shader_texture_lod: enable\n#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D \tuBRDFMap;\nuniform samplerCube uRadianceMap;\nuniform samplerCube uIrradianceMap;\n\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D uColorMap;\n#endif\n\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D uAoMap;\nuniform float uOcclusionStrength;\n#endif\n\n#ifdef HAS_NORMALMAP\nuniform sampler2D uNormalMap;\nuniform float uNormalScale;\n#endif\n\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D uEmissiveMap;\nuniform vec3 uEmissiveFactor;\n#endif\n\nuniform vec3 uLightDirection;\nuniform vec3 uLightColor;\nuniform vec3 uCameraPos;\n\nuniform vec4 uScaleDiffBaseMR;\nuniform vec4 uScaleFGDSpec;\nuniform vec4 uScaleIBLAmbient;\n\nuniform vec3 uBaseColor;\nuniform float uRoughness;\nuniform float uMetallic;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\nvarying vec3 vPosition;\n\n//\tFrom GLTF WebGL PBR :\n//\thttps://github.com/KhronosGroup/glTF-WebGL-PBR\n\n// Encapsulate the various inputs used by the various functions in the shading equation\n// We store values in this struct to simplify the integration of alternative implementations\n// of the shading terms, outlined in the Readme.MD Appendix.\nstruct PBRInfo\n{\n\tfloat NdotL;                  // cos angle between normal and light direction\n\tfloat NdotV;                  // cos angle between normal and view direction\n\tfloat NdotH;                  // cos angle between normal and half vector\n\tfloat LdotH;                  // cos angle between light direction and half vector\n\tfloat VdotH;                  // cos angle between view direction and half vector\n\tfloat perceptualRoughness;    // roughness value, as authored by the model creator (input to shader)\n\tfloat metalness;              // metallic value at the surface\n\tvec3 reflectance0;            // full reflectance color (normal incidence angle)\n\tvec3 reflectance90;           // reflectance color at grazing angle\n\tfloat alphaRoughness;         // roughness mapped to a more linear change in the roughness (proposed by [2])\n\tvec3 diffuseColor;            // color contribution from diffuse lighting\n\tvec3 specularColor;           // color contribution from specular lighting\n};\n\n\nconst float M_PI = 3.141592653589793;\nconst float c_MinRoughness = 0.04;\n\n\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n\t#ifdef MANUAL_SRGB\n\t#ifdef SRGB_FAST_APPROXIMATION\n\tvec3 linOut = pow(srgbIn.xyz,vec3(2.2));\n\t#else //SRGB_FAST_APPROXIMATION\n\tvec3 bLess = step(vec3(0.04045),srgbIn.xyz);\n\tvec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\n\t#endif //SRGB_FAST_APPROXIMATION\n\treturn vec4(linOut,srgbIn.w);;\n\t#else //MANUAL_SRGB\n\treturn srgbIn;\n\t#endif //MANUAL_SRGB\n}\n\n\nvec3 getNormal() {\n\tvec3 pos_dx = dFdx(vPosition);\n\tvec3 pos_dy = dFdy(vPosition);\n\tvec3 tex_dx = dFdx(vec3(vTextureCoord, 0.0));\n\tvec3 tex_dy = dFdy(vec3(vTextureCoord, 0.0));\n\tvec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n\tvec3 ng = normalize(vNormal);\n\n\tt = normalize(t - ng * dot(ng, t));\n\tvec3 b = normalize(cross(ng, t));\n\tmat3 tbn = mat3(t, b, ng);\n\n#ifdef HAS_NORMALMAP\n\tvec3 n = texture2D(uNormalMap, vTextureCoord).rgb;\n\tn = normalize(tbn * ((2.0 * n - 1.0) * vec3(uNormalScale, uNormalScale, 1.0)));\n#else\n\t// The tbn matrix is linearly interpolated, so we need to re-normalize\n\tvec3 n = normalize(tbn[2].xyz);\n#endif\n\n\treturn n;\n}\n\n\nvec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)\n{\n\tfloat mipCount = 7.0; // resolution of 512x512\n\tfloat lod = (pbrInputs.perceptualRoughness * mipCount);\n\t// retrieve a scale and bias to F0. See [1], Figure 3\n\tvec3 brdf = SRGBtoLINEAR(texture2D(uBRDFMap, vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;\n\tvec3 diffuseLight = SRGBtoLINEAR(textureCube(uIrradianceMap, n)).rgb;\n\n\tvec3 specularLight = SRGBtoLINEAR(textureCubeLodEXT(uRadianceMap, reflection, lod)).rgb;\n\n\tvec3 diffuse = diffuseLight * pbrInputs.diffuseColor;\n\tvec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);\n\n\t// For presentation, this allows us to disable IBL terms\n\tdiffuse *= uScaleIBLAmbient.x;\n\tspecular *= uScaleIBLAmbient.y;\n\n\treturn diffuse + specular;\n}\n\n\nvec3 diffuse(PBRInfo pbrInputs)\n{\n\treturn pbrInputs.diffuseColor / M_PI;\n}\n\n\nvec3 specularReflection(PBRInfo pbrInputs)\n{\n\treturn pbrInputs.reflectance0 + (pbrInputs.reflectance90 - pbrInputs.reflectance0) * pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\n}\n\nfloat geometricOcclusion(PBRInfo pbrInputs)\n{\n\tfloat NdotL = pbrInputs.NdotL;\n\tfloat NdotV = pbrInputs.NdotV;\n\tfloat r = pbrInputs.alphaRoughness;\n\n\tfloat attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\n\tfloat attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\n\treturn attenuationL * attenuationV;\n}\n\n\nfloat microfacetDistribution(PBRInfo pbrInputs)\n{\n\tfloat roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\n\tfloat f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\n\treturn roughnessSq / (M_PI * f * f);\n}\n\nvoid main() {\n\n\tfloat perceptualRoughness   = uRoughness;\n\tfloat metallic              = uMetallic;\n\tperceptualRoughness         = clamp(perceptualRoughness, c_MinRoughness, 1.0);\n\tmetallic                    = clamp(metallic, 0.0, 1.0);\n\tfloat alphaRoughness        = perceptualRoughness * perceptualRoughness;\n\n#ifdef HAS_BASECOLORMAP\t\n\tvec4 baseColor = SRGBtoLINEAR(texture2D(uColorMap, vTextureCoord));\n#else\n\tvec4 baseColor              = vec4(uBaseColor, 1.0);\n#endif\t\n\t\n\tvec3 f0                     = vec3(0.04);\n\tvec3 diffuseColor           = baseColor.rgb * (vec3(1.0) - f0);\n\tdiffuseColor                *= 1.0 - metallic;\n\tvec3 specularColor          = mix(f0, baseColor.rgb, metallic);\n\t\n\t// Compute reflectance.\n\tfloat reflectance           = max(max(specularColor.r, specularColor.g), specularColor.b);\n\t\n\t// For typical incident reflectance range (between 4% to 100%) set the grazing reflectance to 100% for typical fresnel effect.\n\t// For very low reflectance range on highly diffuse objects (below 4%), incrementally reduce grazing reflecance to 0%.\n\tfloat reflectance90         = clamp(reflectance * 25.0, 0.0, 1.0);\n\tvec3 specularEnvironmentR0  = specularColor.rgb;\n\tvec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\n\t\n\tvec3 n                      = getNormal();                             // normal at surface point\n\tvec3 v                      = normalize(uCameraPos - vPosition);        // Vector from surface point to camera\n\tvec3 l                      = normalize(uLightDirection);             // Vector from surface point to light\n\tvec3 h                      = normalize(l+v);                          // Half vector between both l and v\n\tvec3 reflection             = -normalize(reflect(v, n));\n\t\n\tfloat NdotL                 = clamp(dot(n, l), 0.001, 1.0);\n\tfloat NdotV                 = abs(dot(n, v)) + 0.001;\n\tfloat NdotH                 = clamp(dot(n, h), 0.0, 1.0);\n\tfloat LdotH                 = clamp(dot(l, h), 0.0, 1.0);\n\tfloat VdotH                 = clamp(dot(v, h), 0.0, 1.0);\n\n\tPBRInfo pbrInputs = PBRInfo(\n\t\tNdotL,\n\t\tNdotV,\n\t\tNdotH,\n\t\tLdotH,\n\t\tVdotH,\n\t\tperceptualRoughness,\n\t\tmetallic,\n\t\tspecularEnvironmentR0,\n\t\tspecularEnvironmentR90,\n\t\talphaRoughness,\n\t\tdiffuseColor,\n\t\tspecularColor\n\t);\n\n\t// Calculate the shading terms for the microfacet specular shading model\n\tvec3 F              = specularReflection(pbrInputs);\n\tfloat G             = geometricOcclusion(pbrInputs);\n\tfloat D             = microfacetDistribution(pbrInputs);\n\t\n\t// Calculation of analytical lighting contribution\n\tvec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\n\tvec3 specContrib    = F * G * D / (4.0 * NdotL * NdotV);\n\t// Obtain final intensity as reflectance (BRDF) scaled by the energy of the light (cosine law)\n\tvec3 color          = NdotL * uLightColor * (diffuseContrib + specContrib);\n\t\n#ifdef USE_IBL\n\tcolor += getIBLContribution(pbrInputs, n, reflection);\n#endif\n\n#ifdef HAS_OCCLUSIONMAP\t\n\tfloat ao            = texture2D(uAoMap, vTextureCoord).r;\n\tcolor               = mix(color, color * ao, uOcclusionStrength);\n#endif\t\n\n#ifdef HAS_EMISSIVEMAP\n    vec3 emissive = SRGBtoLINEAR(texture2D(uEmissiveMap, vTextureCoord)).rgb * uEmissiveFactor;\n    color += emissive;\n#endif\n\t\n\t// This section uses mix to override final color for reference app visualization\n\t// of various parameters in the lighting equation.\n\tcolor               = mix(color, F, uScaleFGDSpec.x);\n\tcolor               = mix(color, vec3(G), uScaleFGDSpec.y);\n\tcolor               = mix(color, vec3(D), uScaleFGDSpec.z);\n\tcolor               = mix(color, specContrib, uScaleFGDSpec.w);\n\t\n\tcolor               = mix(color, diffuseContrib, uScaleDiffBaseMR.x);\n\tcolor               = mix(color, baseColor.rgb, uScaleDiffBaseMR.y);\n\tcolor               = mix(color, vec3(metallic), uScaleDiffBaseMR.z);\n\tcolor               = mix(color, vec3(perceptualRoughness), uScaleDiffBaseMR.w);\n\t\n\t// output the fragment color\n\tgl_FragColor        = vec4(pow(color,vec3(1.0/2.2)), baseColor.a);\n\n}"

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/*
Copyright (c) 2014 Petka Antonov

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/
function Url() {
    //For more efficient internal representation and laziness.
    //The non-underscore versions of these properties are accessor functions
    //defined on the prototype.
    this._protocol = null;
    this._href = "";
    this._port = -1;
    this._query = null;

    this.auth = null;
    this.slashes = null;
    this.host = null;
    this.hostname = null;
    this.hash = null;
    this.search = null;
    this.pathname = null;

    this._prependSlash = false;
}

var querystring = __webpack_require__(20);

Url.queryString = querystring;

Url.prototype.parse =
function Url$parse(str, parseQueryString, hostDenotesSlash, disableAutoEscapeChars) {
    if (typeof str !== "string") {
        throw new TypeError("Parameter 'url' must be a string, not " +
            typeof str);
    }
    var start = 0;
    var end = str.length - 1;

    //Trim leading and trailing ws
    while (str.charCodeAt(start) <= 0x20 /*' '*/) start++;
    while (str.charCodeAt(end) <= 0x20 /*' '*/) end--;

    start = this._parseProtocol(str, start, end);

    //Javascript doesn't have host
    if (this._protocol !== "javascript") {
        start = this._parseHost(str, start, end, hostDenotesSlash);
        var proto = this._protocol;
        if (!this.hostname &&
            (this.slashes || (proto && !slashProtocols[proto]))) {
            this.hostname = this.host = "";
        }
    }

    if (start <= end) {
        var ch = str.charCodeAt(start);

        if (ch === 0x2F /*'/'*/ || ch === 0x5C /*'\'*/) {
            this._parsePath(str, start, end, disableAutoEscapeChars);
        }
        else if (ch === 0x3F /*'?'*/) {
            this._parseQuery(str, start, end, disableAutoEscapeChars);
        }
        else if (ch === 0x23 /*'#'*/) {
          this._parseHash(str, start, end, disableAutoEscapeChars);
        }
        else if (this._protocol !== "javascript") {
            this._parsePath(str, start, end, disableAutoEscapeChars);
        }
        else { //For javascript the pathname is just the rest of it
            this.pathname = str.slice(start, end + 1 );
        }

    }

    if (!this.pathname && this.hostname &&
        this._slashProtocols[this._protocol]) {
        this.pathname = "/";
    }

    if (parseQueryString) {
        var search = this.search;
        if (search == null) {
            search = this.search = "";
        }
        if (search.charCodeAt(0) === 0x3F /*'?'*/) {
            search = search.slice(1);
        }
        //This calls a setter function, there is no .query data property
        this.query = Url.queryString.parse(search);
    }
};

Url.prototype.resolve = function Url$resolve(relative) {
    return this.resolveObject(Url.parse(relative, false, true)).format();
};

Url.prototype.format = function Url$format() {
    var auth = this.auth || "";

    if (auth) {
        auth = encodeURIComponent(auth);
        auth = auth.replace(/%3A/i, ":");
        auth += "@";
    }

    var protocol = this.protocol || "";
    var pathname = this.pathname || "";
    var hash = this.hash || "";
    var search = this.search || "";
    var query = "";
    var hostname = this.hostname || "";
    var port = this.port || "";
    var host = false;
    var scheme = "";

    //Cache the result of the getter function
    var q = this.query;
    if (q && typeof q === "object") {
        query = Url.queryString.stringify(q);
    }

    if (!search) {
        search = query ? "?" + query : "";
    }

    if (protocol && protocol.charCodeAt(protocol.length - 1) !== 0x3A /*':'*/)
        protocol += ":";

    if (this.host) {
        host = auth + this.host;
    }
    else if (hostname) {
        var ip6 = hostname.indexOf(":") > -1;
        if (ip6) hostname = "[" + hostname + "]";
        host = auth + hostname + (port ? ":" + port : "");
    }

    var slashes = this.slashes ||
        ((!protocol ||
        slashProtocols[protocol]) && host !== false);


    if (protocol) scheme = protocol + (slashes ? "//" : "");
    else if (slashes) scheme = "//";

    if (slashes && pathname && pathname.charCodeAt(0) !== 0x2F /*'/'*/) {
        pathname = "/" + pathname;
    }
    if (search && search.charCodeAt(0) !== 0x3F /*'?'*/)
        search = "?" + search;
    if (hash && hash.charCodeAt(0) !== 0x23 /*'#'*/)
        hash = "#" + hash;

    pathname = escapePathName(pathname);
    search = escapeSearch(search);

    return scheme + (host === false ? "" : host) + pathname + search + hash;
};

Url.prototype.resolveObject = function Url$resolveObject(relative) {
    if (typeof relative === "string")
        relative = Url.parse(relative, false, true);

    var result = this._clone();

    // hash is always overridden, no matter what.
    // even href="" will remove it.
    result.hash = relative.hash;

    // if the relative url is empty, then there"s nothing left to do here.
    if (!relative.href) {
        result._href = "";
        return result;
    }

    // hrefs like //foo/bar always cut to the protocol.
    if (relative.slashes && !relative._protocol) {
        relative._copyPropsTo(result, true);

        if (slashProtocols[result._protocol] &&
            result.hostname && !result.pathname) {
            result.pathname = "/";
        }
        result._href = "";
        return result;
    }

    if (relative._protocol && relative._protocol !== result._protocol) {
        // if it"s a known url protocol, then changing
        // the protocol does weird things
        // first, if it"s not file:, then we MUST have a host,
        // and if there was a path
        // to begin with, then we MUST have a path.
        // if it is file:, then the host is dropped,
        // because that"s known to be hostless.
        // anything else is assumed to be absolute.
        if (!slashProtocols[relative._protocol]) {
            relative._copyPropsTo(result, false);
            result._href = "";
            return result;
        }

        result._protocol = relative._protocol;
        if (!relative.host && relative._protocol !== "javascript") {
            var relPath = (relative.pathname || "").split("/");
            while (relPath.length && !(relative.host = relPath.shift()));
            if (!relative.host) relative.host = "";
            if (!relative.hostname) relative.hostname = "";
            if (relPath[0] !== "") relPath.unshift("");
            if (relPath.length < 2) relPath.unshift("");
            result.pathname = relPath.join("/");
        } else {
            result.pathname = relative.pathname;
        }

        result.search = relative.search;
        result.host = relative.host || "";
        result.auth = relative.auth;
        result.hostname = relative.hostname || relative.host;
        result._port = relative._port;
        result.slashes = result.slashes || relative.slashes;
        result._href = "";
        return result;
    }

    var isSourceAbs =
        (result.pathname && result.pathname.charCodeAt(0) === 0x2F /*'/'*/);
    var isRelAbs = (
            relative.host ||
            (relative.pathname &&
            relative.pathname.charCodeAt(0) === 0x2F /*'/'*/)
        );
    var mustEndAbs = (isRelAbs || isSourceAbs ||
                        (result.host && relative.pathname));

    var removeAllDots = mustEndAbs;

    var srcPath = result.pathname && result.pathname.split("/") || [];
    var relPath = relative.pathname && relative.pathname.split("/") || [];
    var psychotic = result._protocol && !slashProtocols[result._protocol];

    // if the url is a non-slashed url, then relative
    // links like ../.. should be able
    // to crawl up to the hostname, as well.  This is strange.
    // result.protocol has already been set by now.
    // Later on, put the first path part into the host field.
    if (psychotic) {
        result.hostname = "";
        result._port = -1;
        if (result.host) {
            if (srcPath[0] === "") srcPath[0] = result.host;
            else srcPath.unshift(result.host);
        }
        result.host = "";
        if (relative._protocol) {
            relative.hostname = "";
            relative._port = -1;
            if (relative.host) {
                if (relPath[0] === "") relPath[0] = relative.host;
                else relPath.unshift(relative.host);
            }
            relative.host = "";
        }
        mustEndAbs = mustEndAbs && (relPath[0] === "" || srcPath[0] === "");
    }

    if (isRelAbs) {
        // it"s absolute.
        result.host = relative.host ?
            relative.host : result.host;
        result.hostname = relative.hostname ?
            relative.hostname : result.hostname;
        result.search = relative.search;
        srcPath = relPath;
        // fall through to the dot-handling below.
    } else if (relPath.length) {
        // it"s relative
        // throw away the existing file, and take the new path instead.
        if (!srcPath) srcPath = [];
        srcPath.pop();
        srcPath = srcPath.concat(relPath);
        result.search = relative.search;
    } else if (relative.search) {
        // just pull out the search.
        // like href="?foo".
        // Put this after the other two cases because it simplifies the booleans
        if (psychotic) {
            result.hostname = result.host = srcPath.shift();
            //occationaly the auth can get stuck only in host
            //this especialy happens in cases like
            //url.resolveObject("mailto:local1@domain1", "local2@domain2")
            var authInHost = result.host && result.host.indexOf("@") > 0 ?
                result.host.split("@") : false;
            if (authInHost) {
                result.auth = authInHost.shift();
                result.host = result.hostname = authInHost.shift();
            }
        }
        result.search = relative.search;
        result._href = "";
        return result;
    }

    if (!srcPath.length) {
        // no path at all.  easy.
        // we"ve already handled the other stuff above.
        result.pathname = null;
        result._href = "";
        return result;
    }

    // if a url ENDs in . or .., then it must get a trailing slash.
    // however, if it ends in anything else non-slashy,
    // then it must NOT get a trailing slash.
    var last = srcPath.slice(-1)[0];
    var hasTrailingSlash = (
        (result.host || relative.host) && (last === "." || last === "..") ||
        last === "");

    // strip single dots, resolve double dots to parent dir
    // if the path tries to go above the root, `up` ends up > 0
    var up = 0;
    for (var i = srcPath.length; i >= 0; i--) {
        last = srcPath[i];
        if (last === ".") {
            srcPath.splice(i, 1);
        } else if (last === "..") {
            srcPath.splice(i, 1);
            up++;
        } else if (up) {
            srcPath.splice(i, 1);
            up--;
        }
    }

    // if the path is allowed to go above the root, restore leading ..s
    if (!mustEndAbs && !removeAllDots) {
        for (; up--; up) {
            srcPath.unshift("..");
        }
    }

    if (mustEndAbs && srcPath[0] !== "" &&
        (!srcPath[0] || srcPath[0].charCodeAt(0) !== 0x2F /*'/'*/)) {
        srcPath.unshift("");
    }

    if (hasTrailingSlash && (srcPath.join("/").substr(-1) !== "/")) {
        srcPath.push("");
    }

    var isAbsolute = srcPath[0] === "" ||
        (srcPath[0] && srcPath[0].charCodeAt(0) === 0x2F /*'/'*/);

    // put the host back
    if (psychotic) {
        result.hostname = result.host = isAbsolute ? "" :
            srcPath.length ? srcPath.shift() : "";
        //occationaly the auth can get stuck only in host
        //this especialy happens in cases like
        //url.resolveObject("mailto:local1@domain1", "local2@domain2")
        var authInHost = result.host && result.host.indexOf("@") > 0 ?
            result.host.split("@") : false;
        if (authInHost) {
            result.auth = authInHost.shift();
            result.host = result.hostname = authInHost.shift();
        }
    }

    mustEndAbs = mustEndAbs || (result.host && srcPath.length);

    if (mustEndAbs && !isAbsolute) {
        srcPath.unshift("");
    }

    result.pathname = srcPath.length === 0 ? null : srcPath.join("/");
    result.auth = relative.auth || result.auth;
    result.slashes = result.slashes || relative.slashes;
    result._href = "";
    return result;
};

var punycode = __webpack_require__(23);
Url.prototype._hostIdna = function Url$_hostIdna(hostname) {
    // IDNA Support: Returns a punycoded representation of "domain".
    // It only converts parts of the domain name that
    // have non-ASCII characters, i.e. it doesn't matter if
    // you call it with a domain that already is ASCII-only.
    return punycode.toASCII(hostname);
};

var escapePathName = Url.prototype._escapePathName =
function Url$_escapePathName(pathname) {
    if (!containsCharacter2(pathname, 0x23 /*'#'*/, 0x3F /*'?'*/)) {
        return pathname;
    }
    //Avoid closure creation to keep this inlinable
    return _escapePath(pathname);
};

var escapeSearch = Url.prototype._escapeSearch =
function Url$_escapeSearch(search) {
    if (!containsCharacter2(search, 0x23 /*'#'*/, -1)) return search;
    //Avoid closure creation to keep this inlinable
    return _escapeSearch(search);
};

Url.prototype._parseProtocol = function Url$_parseProtocol(str, start, end) {
    var doLowerCase = false;
    var protocolCharacters = this._protocolCharacters;

    for (var i = start; i <= end; ++i) {
        var ch = str.charCodeAt(i);

        if (ch === 0x3A /*':'*/) {
            var protocol = str.slice(start, i);
            if (doLowerCase) protocol = protocol.toLowerCase();
            this._protocol = protocol;
            return i + 1;
        }
        else if (protocolCharacters[ch] === 1) {
            if (ch < 0x61 /*'a'*/)
                doLowerCase = true;
        }
        else {
            return start;
        }

    }
    return start;
};

Url.prototype._parseAuth = function Url$_parseAuth(str, start, end, decode) {
    var auth = str.slice(start, end + 1);
    if (decode) {
        auth = decodeURIComponent(auth);
    }
    this.auth = auth;
};

Url.prototype._parsePort = function Url$_parsePort(str, start, end) {
    //Internal format is integer for more efficient parsing
    //and for efficient trimming of leading zeros
    var port = 0;
    //Distinguish between :0 and : (no port number at all)
    var hadChars = false;
    var validPort = true;

    for (var i = start; i <= end; ++i) {
        var ch = str.charCodeAt(i);

        if (0x30 /*'0'*/ <= ch && ch <= 0x39 /*'9'*/) {
            port = (10 * port) + (ch - 0x30 /*'0'*/);
            hadChars = true;
        }
        else {
            validPort = false;
            if (ch === 0x5C/*'\'*/ || ch === 0x2F/*'/'*/) {
                validPort = true;
            }
            break;
        }

    }
    if ((port === 0 && !hadChars) || !validPort) {
        if (!validPort) {
            this._port = -2;
        }
        return 0;
    }

    this._port = port;
    return i - start;
};

Url.prototype._parseHost =
function Url$_parseHost(str, start, end, slashesDenoteHost) {
    var hostEndingCharacters = this._hostEndingCharacters;
    var first = str.charCodeAt(start);
    var second = str.charCodeAt(start + 1);
    if ((first === 0x2F /*'/'*/ || first === 0x5C /*'\'*/) &&
        (second === 0x2F /*'/'*/ || second === 0x5C /*'\'*/)) {
        this.slashes = true;

        //The string starts with //
        if (start === 0) {
            //The string is just "//"
            if (end < 2) return start;
            //If slashes do not denote host and there is no auth,
            //there is no host when the string starts with //
            var hasAuth =
                containsCharacter(str, 0x40 /*'@'*/, 2, hostEndingCharacters);
            if (!hasAuth && !slashesDenoteHost) {
                this.slashes = null;
                return start;
            }
        }
        //There is a host that starts after the //
        start += 2;
    }
    //If there is no slashes, there is no hostname if
    //1. there was no protocol at all
    else if (!this._protocol ||
        //2. there was a protocol that requires slashes
        //e.g. in 'http:asd' 'asd' is not a hostname
        slashProtocols[this._protocol]
    ) {
        return start;
    }

    var doLowerCase = false;
    var idna = false;
    var hostNameStart = start;
    var hostNameEnd = end;
    var lastCh = -1;
    var portLength = 0;
    var charsAfterDot = 0;
    var authNeedsDecoding = false;

    var j = -1;

    //Find the last occurrence of an @-sign until hostending character is met
    //also mark if decoding is needed for the auth portion
    for (var i = start; i <= end; ++i) {
        var ch = str.charCodeAt(i);

        if (ch === 0x40 /*'@'*/) {
            j = i;
        }
        //This check is very, very cheap. Unneeded decodeURIComponent is very
        //very expensive
        else if (ch === 0x25 /*'%'*/) {
            authNeedsDecoding = true;
        }
        else if (hostEndingCharacters[ch] === 1) {
            break;
        }
    }

    //@-sign was found at index j, everything to the left from it
    //is auth part
    if (j > -1) {
        this._parseAuth(str, start, j - 1, authNeedsDecoding);
        //hostname starts after the last @-sign
        start = hostNameStart = j + 1;
    }

    //Host name is starting with a [
    if (str.charCodeAt(start) === 0x5B /*'['*/) {
        for (var i = start + 1; i <= end; ++i) {
            var ch = str.charCodeAt(i);

            //Assume valid IP6 is between the brackets
            if (ch === 0x5D /*']'*/) {
                if (str.charCodeAt(i + 1) === 0x3A /*':'*/) {
                    portLength = this._parsePort(str, i + 2, end) + 1;
                }
                var hostname = str.slice(start + 1, i).toLowerCase();
                this.hostname = hostname;
                this.host = this._port > 0 ?
                    "[" + hostname + "]:" + this._port :
                    "[" + hostname + "]";
                this.pathname = "/";
                return i + portLength + 1;
            }
        }
        //Empty hostname, [ starts a path
        return start;
    }

    for (var i = start; i <= end; ++i) {
        if (charsAfterDot > 62) {
            this.hostname = this.host = str.slice(start, i);
            return i;
        }
        var ch = str.charCodeAt(i);

        if (ch === 0x3A /*':'*/) {
            portLength = this._parsePort(str, i + 1, end) + 1;
            hostNameEnd = i - 1;
            break;
        }
        else if (ch < 0x61 /*'a'*/) {
            if (ch === 0x2E /*'.'*/) {
                //Node.js ignores this error
                /*
                if (lastCh === DOT || lastCh === -1) {
                    this.hostname = this.host = "";
                    return start;
                }
                */
                charsAfterDot = -1;
            }
            else if (0x41 /*'A'*/ <= ch && ch <= 0x5A /*'Z'*/) {
                doLowerCase = true;
            }
            //Valid characters other than ASCII letters -, _, +, 0-9
            else if (!(ch === 0x2D /*'-'*/ ||
                       ch === 0x5F /*'_'*/ ||
                       ch === 0x2B /*'+'*/ ||
                       (0x30 /*'0'*/ <= ch && ch <= 0x39 /*'9'*/))
                ) {
                if (hostEndingCharacters[ch] === 0 &&
                    this._noPrependSlashHostEnders[ch] === 0) {
                    this._prependSlash = true;
                }
                hostNameEnd = i - 1;
                break;
            }
        }
        else if (ch >= 0x7B /*'{'*/) {
            if (ch <= 0x7E /*'~'*/) {
                if (this._noPrependSlashHostEnders[ch] === 0) {
                    this._prependSlash = true;
                }
                hostNameEnd = i - 1;
                break;
            }
            idna = true;
        }
        lastCh = ch;
        charsAfterDot++;
    }

    //Node.js ignores this error
    /*
    if (lastCh === DOT) {
        hostNameEnd--;
    }
    */

    if (hostNameEnd + 1 !== start &&
        hostNameEnd - hostNameStart <= 256) {
        var hostname = str.slice(hostNameStart, hostNameEnd + 1);
        if (doLowerCase) hostname = hostname.toLowerCase();
        if (idna) hostname = this._hostIdna(hostname);
        this.hostname = hostname;
        this.host = this._port > 0 ? hostname + ":" + this._port : hostname;
    }

    return hostNameEnd + 1 + portLength;

};

Url.prototype._copyPropsTo = function Url$_copyPropsTo(input, noProtocol) {
    if (!noProtocol) {
        input._protocol = this._protocol;
    }
    input._href = this._href;
    input._port = this._port;
    input._prependSlash = this._prependSlash;
    input.auth = this.auth;
    input.slashes = this.slashes;
    input.host = this.host;
    input.hostname = this.hostname;
    input.hash = this.hash;
    input.search = this.search;
    input.pathname = this.pathname;
};

Url.prototype._clone = function Url$_clone() {
    var ret = new Url();
    ret._protocol = this._protocol;
    ret._href = this._href;
    ret._port = this._port;
    ret._prependSlash = this._prependSlash;
    ret.auth = this.auth;
    ret.slashes = this.slashes;
    ret.host = this.host;
    ret.hostname = this.hostname;
    ret.hash = this.hash;
    ret.search = this.search;
    ret.pathname = this.pathname;
    return ret;
};

Url.prototype._getComponentEscaped =
function Url$_getComponentEscaped(str, start, end, isAfterQuery) {
    var cur = start;
    var i = start;
    var ret = "";
    var autoEscapeMap = isAfterQuery ?
        this._afterQueryAutoEscapeMap : this._autoEscapeMap;
    for (; i <= end; ++i) {
        var ch = str.charCodeAt(i);
        var escaped = autoEscapeMap[ch];

        if (escaped !== "" && escaped !== undefined) {
            if (cur < i) ret += str.slice(cur, i);
            ret += escaped;
            cur = i + 1;
        }
    }
    if (cur < i + 1) ret += str.slice(cur, i);
    return ret;
};

Url.prototype._parsePath =
function Url$_parsePath(str, start, end, disableAutoEscapeChars) {
    var pathStart = start;
    var pathEnd = end;
    var escape = false;
    var autoEscapeCharacters = this._autoEscapeCharacters;
    var prePath = this._port === -2 ? "/:" : "";

    for (var i = start; i <= end; ++i) {
        var ch = str.charCodeAt(i);
        if (ch === 0x23 /*'#'*/) {
          this._parseHash(str, i, end, disableAutoEscapeChars);
            pathEnd = i - 1;
            break;
        }
        else if (ch === 0x3F /*'?'*/) {
            this._parseQuery(str, i, end, disableAutoEscapeChars);
            pathEnd = i - 1;
            break;
        }
        else if (!disableAutoEscapeChars && !escape && autoEscapeCharacters[ch] === 1) {
            escape = true;
        }
    }

    if (pathStart > pathEnd) {
        this.pathname = prePath === "" ? "/" : prePath;
        return;
    }

    var path;
    if (escape) {
        path = this._getComponentEscaped(str, pathStart, pathEnd, false);
    }
    else {
        path = str.slice(pathStart, pathEnd + 1);
    }
    this.pathname = prePath === ""
        ? (this._prependSlash ? "/" + path : path)
        : prePath + path;
};

Url.prototype._parseQuery = function Url$_parseQuery(str, start, end, disableAutoEscapeChars) {
    var queryStart = start;
    var queryEnd = end;
    var escape = false;
    var autoEscapeCharacters = this._autoEscapeCharacters;

    for (var i = start; i <= end; ++i) {
        var ch = str.charCodeAt(i);

        if (ch === 0x23 /*'#'*/) {
            this._parseHash(str, i, end, disableAutoEscapeChars);
            queryEnd = i - 1;
            break;
        }
        else if (!disableAutoEscapeChars && !escape && autoEscapeCharacters[ch] === 1) {
            escape = true;
        }
    }

    if (queryStart > queryEnd) {
        this.search = "";
        return;
    }

    var query;
    if (escape) {
        query = this._getComponentEscaped(str, queryStart, queryEnd, true);
    }
    else {
        query = str.slice(queryStart, queryEnd + 1);
    }
    this.search = query;
};

Url.prototype._parseHash = function Url$_parseHash(str, start, end, disableAutoEscapeChars) {
    if (start > end) {
        this.hash = "";
        return;
    }

    this.hash = disableAutoEscapeChars ?
        str.slice(start, end + 1) : this._getComponentEscaped(str, start, end, true);
};

Object.defineProperty(Url.prototype, "port", {
    get: function() {
        if (this._port >= 0) {
            return ("" + this._port);
        }
        return null;
    },
    set: function(v) {
        if (v == null) {
            this._port = -1;
        }
        else {
            this._port = parseInt(v, 10);
        }
    }
});

Object.defineProperty(Url.prototype, "query", {
    get: function() {
        var query = this._query;
        if (query != null) {
            return query;
        }
        var search = this.search;

        if (search) {
            if (search.charCodeAt(0) === 0x3F /*'?'*/) {
                search = search.slice(1);
            }
            if (search !== "") {
                this._query = search;
                return search;
            }
        }
        return search;
    },
    set: function(v) {
        this._query = v;
    }
});

Object.defineProperty(Url.prototype, "path", {
    get: function() {
        var p = this.pathname || "";
        var s = this.search || "";
        if (p || s) {
            return p + s;
        }
        return (p == null && s) ? ("/" + s) : null;
    },
    set: function() {}
});

Object.defineProperty(Url.prototype, "protocol", {
    get: function() {
        var proto = this._protocol;
        return proto ? proto + ":" : proto;
    },
    set: function(v) {
        if (typeof v === "string") {
            var end = v.length - 1;
            if (v.charCodeAt(end) === 0x3A /*':'*/) {
                this._protocol = v.slice(0, end);
            }
            else {
                this._protocol = v;
            }
        }
        else if (v == null) {
            this._protocol = null;
        }
    }
});

Object.defineProperty(Url.prototype, "href", {
    get: function() {
        var href = this._href;
        if (!href) {
            href = this._href = this.format();
        }
        return href;
    },
    set: function(v) {
        this._href = v;
    }
});

Url.parse = function Url$Parse(str, parseQueryString, hostDenotesSlash, disableAutoEscapeChars) {
    if (str instanceof Url) return str;
    var ret = new Url();
    ret.parse(str, !!parseQueryString, !!hostDenotesSlash, !!disableAutoEscapeChars);
    return ret;
};

Url.format = function Url$Format(obj) {
    if (typeof obj === "string") {
        obj = Url.parse(obj);
    }
    if (!(obj instanceof Url)) {
        return Url.prototype.format.call(obj);
    }
    return obj.format();
};

Url.resolve = function Url$Resolve(source, relative) {
    return Url.parse(source, false, true).resolve(relative);
};

Url.resolveObject = function Url$ResolveObject(source, relative) {
    if (!source) return relative;
    return Url.parse(source, false, true).resolveObject(relative);
};

function _escapePath(pathname) {
    return pathname.replace(/[?#]/g, function(match) {
        return encodeURIComponent(match);
    });
}

function _escapeSearch(search) {
    return search.replace(/#/g, function(match) {
        return encodeURIComponent(match);
    });
}

//Search `char1` (integer code for a character) in `string`
//starting from `fromIndex` and ending at `string.length - 1`
//or when a stop character is found
function containsCharacter(string, char1, fromIndex, stopCharacterTable) {
    var len = string.length;
    for (var i = fromIndex; i < len; ++i) {
        var ch = string.charCodeAt(i);

        if (ch === char1) {
            return true;
        }
        else if (stopCharacterTable[ch] === 1) {
            return false;
        }
    }
    return false;
}

//See if `char1` or `char2` (integer codes for characters)
//is contained in `string`
function containsCharacter2(string, char1, char2) {
    for (var i = 0, len = string.length; i < len; ++i) {
        var ch = string.charCodeAt(i);
        if (ch === char1 || ch === char2) return true;
    }
    return false;
}

//Makes an array of 128 uint8's which represent boolean values.
//Spec is an array of ascii code points or ascii code point ranges
//ranges are expressed as [start, end]

//Create a table with the characters 0x30-0x39 (decimals '0' - '9') and
//0x7A (lowercaseletter 'z') as `true`:
//
//var a = makeAsciiTable([[0x30, 0x39], 0x7A]);
//a[0x30]; //1
//a[0x15]; //0
//a[0x35]; //1
function makeAsciiTable(spec) {
    var ret = new Uint8Array(128);
    spec.forEach(function(item){
        if (typeof item === "number") {
            ret[item] = 1;
        }
        else {
            var start = item[0];
            var end = item[1];
            for (var j = start; j <= end; ++j) {
                ret[j] = 1;
            }
        }
    });

    return ret;
}


var autoEscape = ["<", ">", "\"", "`", " ", "\r", "\n",
    "\t", "{", "}", "|", "\\", "^", "`", "'"];

var autoEscapeMap = new Array(128);



for (var i = 0, len = autoEscapeMap.length; i < len; ++i) {
    autoEscapeMap[i] = "";
}

for (var i = 0, len = autoEscape.length; i < len; ++i) {
    var c = autoEscape[i];
    var esc = encodeURIComponent(c);
    if (esc === c) {
        esc = escape(c);
    }
    autoEscapeMap[c.charCodeAt(0)] = esc;
}
var afterQueryAutoEscapeMap = autoEscapeMap.slice();
autoEscapeMap[0x5C /*'\'*/] = "/";

var slashProtocols = Url.prototype._slashProtocols = {
    http: true,
    https: true,
    gopher: true,
    file: true,
    ftp: true,

    "http:": true,
    "https:": true,
    "gopher:": true,
    "file:": true,
    "ftp:": true
};

//Optimize back from normalized object caused by non-identifier keys
function f(){}
f.prototype = slashProtocols;

Url.prototype._protocolCharacters = makeAsciiTable([
    [0x61 /*'a'*/, 0x7A /*'z'*/],
    [0x41 /*'A'*/, 0x5A /*'Z'*/],
    0x2E /*'.'*/, 0x2B /*'+'*/, 0x2D /*'-'*/
]);

Url.prototype._hostEndingCharacters = makeAsciiTable([
    0x23 /*'#'*/, 0x3F /*'?'*/, 0x2F /*'/'*/, 0x5C /*'\'*/
]);

Url.prototype._autoEscapeCharacters = makeAsciiTable(
    autoEscape.map(function(v) {
        return v.charCodeAt(0);
    })
);

//If these characters end a host name, the path will not be prepended a /
Url.prototype._noPrependSlashHostEnders = makeAsciiTable(
    [
        "<", ">", "'", "`", " ", "\r",
        "\n", "\t", "{", "}", "|",
        "^", "`", "\"", "%", ";"
    ].map(function(v) {
        return v.charCodeAt(0);
    })
);

Url.prototype._autoEscapeMap = autoEscapeMap;
Url.prototype._afterQueryAutoEscapeMap = afterQueryAutoEscapeMap;

module.exports = Url;

Url.replace = function Url$Replace() {
    __webpack_require__.c.url = {
        exports: Url
    };
};


/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.decode = exports.parse = __webpack_require__(21);
exports.encode = exports.stringify = __webpack_require__(22);


/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



// If obj.hasOwnProperty has been overridden, then calling
// obj.hasOwnProperty(prop) will break.
// See: https://github.com/joyent/node/issues/1707
function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

module.exports = function(qs, sep, eq, options) {
  sep = sep || '&';
  eq = eq || '=';
  var obj = {};

  if (typeof qs !== 'string' || qs.length === 0) {
    return obj;
  }

  var regexp = /\+/g;
  qs = qs.split(sep);

  var maxKeys = 1000;
  if (options && typeof options.maxKeys === 'number') {
    maxKeys = options.maxKeys;
  }

  var len = qs.length;
  // maxKeys <= 0 means that we should not limit keys count
  if (maxKeys > 0 && len > maxKeys) {
    len = maxKeys;
  }

  for (var i = 0; i < len; ++i) {
    var x = qs[i].replace(regexp, '%20'),
        idx = x.indexOf(eq),
        kstr, vstr, k, v;

    if (idx >= 0) {
      kstr = x.substr(0, idx);
      vstr = x.substr(idx + 1);
    } else {
      kstr = x;
      vstr = '';
    }

    k = decodeURIComponent(kstr);
    v = decodeURIComponent(vstr);

    if (!hasOwnProperty(obj, k)) {
      obj[k] = v;
    } else if (isArray(obj[k])) {
      obj[k].push(v);
    } else {
      obj[k] = [obj[k], v];
    }
  }

  return obj;
};

var isArray = Array.isArray || function (xs) {
  return Object.prototype.toString.call(xs) === '[object Array]';
};


/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



var stringifyPrimitive = function(v) {
  switch (typeof v) {
    case 'string':
      return v;

    case 'boolean':
      return v ? 'true' : 'false';

    case 'number':
      return isFinite(v) ? v : '';

    default:
      return '';
  }
};

module.exports = function(obj, sep, eq, name) {
  sep = sep || '&';
  eq = eq || '=';
  if (obj === null) {
    obj = undefined;
  }

  if (typeof obj === 'object') {
    return map(objectKeys(obj), function(k) {
      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;
      if (isArray(obj[k])) {
        return map(obj[k], function(v) {
          return ks + encodeURIComponent(stringifyPrimitive(v));
        }).join(sep);
      } else {
        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));
      }
    }).join(sep);

  }

  if (!name) return '';
  return encodeURIComponent(stringifyPrimitive(name)) + eq +
         encodeURIComponent(stringifyPrimitive(obj));
};

var isArray = Array.isArray || function (xs) {
  return Object.prototype.toString.call(xs) === '[object Array]';
};

function map (xs, f) {
  if (xs.map) return xs.map(f);
  var res = [];
  for (var i = 0; i < xs.length; i++) {
    res.push(f(xs[i], i));
  }
  return res;
}

var objectKeys = Object.keys || function (obj) {
  var res = [];
  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);
  }
  return res;
};


/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module, global) {var __WEBPACK_AMD_DEFINE_RESULT__;/*! https://mths.be/punycode v1.4.1 by @mathias */
;(function(root) {

	/** Detect free variables */
	var freeExports = typeof exports == 'object' && exports &&
		!exports.nodeType && exports;
	var freeModule = typeof module == 'object' && module &&
		!module.nodeType && module;
	var freeGlobal = typeof global == 'object' && global;
	if (
		freeGlobal.global === freeGlobal ||
		freeGlobal.window === freeGlobal ||
		freeGlobal.self === freeGlobal
	) {
		root = freeGlobal;
	}

	/**
	 * The `punycode` object.
	 * @name punycode
	 * @type Object
	 */
	var punycode,

	/** Highest positive signed 32-bit float value */
	maxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1

	/** Bootstring parameters */
	base = 36,
	tMin = 1,
	tMax = 26,
	skew = 38,
	damp = 700,
	initialBias = 72,
	initialN = 128, // 0x80
	delimiter = '-', // '\x2D'

	/** Regular expressions */
	regexPunycode = /^xn--/,
	regexNonASCII = /[^\x20-\x7E]/, // unprintable ASCII chars + non-ASCII chars
	regexSeparators = /[\x2E\u3002\uFF0E\uFF61]/g, // RFC 3490 separators

	/** Error messages */
	errors = {
		'overflow': 'Overflow: input needs wider integers to process',
		'not-basic': 'Illegal input >= 0x80 (not a basic code point)',
		'invalid-input': 'Invalid input'
	},

	/** Convenience shortcuts */
	baseMinusTMin = base - tMin,
	floor = Math.floor,
	stringFromCharCode = String.fromCharCode,

	/** Temporary variable */
	key;

	/*--------------------------------------------------------------------------*/

	/**
	 * A generic error utility function.
	 * @private
	 * @param {String} type The error type.
	 * @returns {Error} Throws a `RangeError` with the applicable error message.
	 */
	function error(type) {
		throw new RangeError(errors[type]);
	}

	/**
	 * A generic `Array#map` utility function.
	 * @private
	 * @param {Array} array The array to iterate over.
	 * @param {Function} callback The function that gets called for every array
	 * item.
	 * @returns {Array} A new array of values returned by the callback function.
	 */
	function map(array, fn) {
		var length = array.length;
		var result = [];
		while (length--) {
			result[length] = fn(array[length]);
		}
		return result;
	}

	/**
	 * A simple `Array#map`-like wrapper to work with domain name strings or email
	 * addresses.
	 * @private
	 * @param {String} domain The domain name or email address.
	 * @param {Function} callback The function that gets called for every
	 * character.
	 * @returns {Array} A new string of characters returned by the callback
	 * function.
	 */
	function mapDomain(string, fn) {
		var parts = string.split('@');
		var result = '';
		if (parts.length > 1) {
			// In email addresses, only the domain name should be punycoded. Leave
			// the local part (i.e. everything up to `@`) intact.
			result = parts[0] + '@';
			string = parts[1];
		}
		// Avoid `split(regex)` for IE8 compatibility. See #17.
		string = string.replace(regexSeparators, '\x2E');
		var labels = string.split('.');
		var encoded = map(labels, fn).join('.');
		return result + encoded;
	}

	/**
	 * Creates an array containing the numeric code points of each Unicode
	 * character in the string. While JavaScript uses UCS-2 internally,
	 * this function will convert a pair of surrogate halves (each of which
	 * UCS-2 exposes as separate characters) into a single code point,
	 * matching UTF-16.
	 * @see `punycode.ucs2.encode`
	 * @see <https://mathiasbynens.be/notes/javascript-encoding>
	 * @memberOf punycode.ucs2
	 * @name decode
	 * @param {String} string The Unicode input string (UCS-2).
	 * @returns {Array} The new array of code points.
	 */
	function ucs2decode(string) {
		var output = [],
		    counter = 0,
		    length = string.length,
		    value,
		    extra;
		while (counter < length) {
			value = string.charCodeAt(counter++);
			if (value >= 0xD800 && value <= 0xDBFF && counter < length) {
				// high surrogate, and there is a next character
				extra = string.charCodeAt(counter++);
				if ((extra & 0xFC00) == 0xDC00) { // low surrogate
					output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);
				} else {
					// unmatched surrogate; only append this code unit, in case the next
					// code unit is the high surrogate of a surrogate pair
					output.push(value);
					counter--;
				}
			} else {
				output.push(value);
			}
		}
		return output;
	}

	/**
	 * Creates a string based on an array of numeric code points.
	 * @see `punycode.ucs2.decode`
	 * @memberOf punycode.ucs2
	 * @name encode
	 * @param {Array} codePoints The array of numeric code points.
	 * @returns {String} The new Unicode string (UCS-2).
	 */
	function ucs2encode(array) {
		return map(array, function(value) {
			var output = '';
			if (value > 0xFFFF) {
				value -= 0x10000;
				output += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);
				value = 0xDC00 | value & 0x3FF;
			}
			output += stringFromCharCode(value);
			return output;
		}).join('');
	}

	/**
	 * Converts a basic code point into a digit/integer.
	 * @see `digitToBasic()`
	 * @private
	 * @param {Number} codePoint The basic numeric code point value.
	 * @returns {Number} The numeric value of a basic code point (for use in
	 * representing integers) in the range `0` to `base - 1`, or `base` if
	 * the code point does not represent a value.
	 */
	function basicToDigit(codePoint) {
		if (codePoint - 48 < 10) {
			return codePoint - 22;
		}
		if (codePoint - 65 < 26) {
			return codePoint - 65;
		}
		if (codePoint - 97 < 26) {
			return codePoint - 97;
		}
		return base;
	}

	/**
	 * Converts a digit/integer into a basic code point.
	 * @see `basicToDigit()`
	 * @private
	 * @param {Number} digit The numeric value of a basic code point.
	 * @returns {Number} The basic code point whose value (when used for
	 * representing integers) is `digit`, which needs to be in the range
	 * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is
	 * used; else, the lowercase form is used. The behavior is undefined
	 * if `flag` is non-zero and `digit` has no uppercase form.
	 */
	function digitToBasic(digit, flag) {
		//  0..25 map to ASCII a..z or A..Z
		// 26..35 map to ASCII 0..9
		return digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);
	}

	/**
	 * Bias adaptation function as per section 3.4 of RFC 3492.
	 * https://tools.ietf.org/html/rfc3492#section-3.4
	 * @private
	 */
	function adapt(delta, numPoints, firstTime) {
		var k = 0;
		delta = firstTime ? floor(delta / damp) : delta >> 1;
		delta += floor(delta / numPoints);
		for (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {
			delta = floor(delta / baseMinusTMin);
		}
		return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));
	}

	/**
	 * Converts a Punycode string of ASCII-only symbols to a string of Unicode
	 * symbols.
	 * @memberOf punycode
	 * @param {String} input The Punycode string of ASCII-only symbols.
	 * @returns {String} The resulting string of Unicode symbols.
	 */
	function decode(input) {
		// Don't use UCS-2
		var output = [],
		    inputLength = input.length,
		    out,
		    i = 0,
		    n = initialN,
		    bias = initialBias,
		    basic,
		    j,
		    index,
		    oldi,
		    w,
		    k,
		    digit,
		    t,
		    /** Cached calculation results */
		    baseMinusT;

		// Handle the basic code points: let `basic` be the number of input code
		// points before the last delimiter, or `0` if there is none, then copy
		// the first basic code points to the output.

		basic = input.lastIndexOf(delimiter);
		if (basic < 0) {
			basic = 0;
		}

		for (j = 0; j < basic; ++j) {
			// if it's not a basic code point
			if (input.charCodeAt(j) >= 0x80) {
				error('not-basic');
			}
			output.push(input.charCodeAt(j));
		}

		// Main decoding loop: start just after the last delimiter if any basic code
		// points were copied; start at the beginning otherwise.

		for (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {

			// `index` is the index of the next character to be consumed.
			// Decode a generalized variable-length integer into `delta`,
			// which gets added to `i`. The overflow checking is easier
			// if we increase `i` as we go, then subtract off its starting
			// value at the end to obtain `delta`.
			for (oldi = i, w = 1, k = base; /* no condition */; k += base) {

				if (index >= inputLength) {
					error('invalid-input');
				}

				digit = basicToDigit(input.charCodeAt(index++));

				if (digit >= base || digit > floor((maxInt - i) / w)) {
					error('overflow');
				}

				i += digit * w;
				t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);

				if (digit < t) {
					break;
				}

				baseMinusT = base - t;
				if (w > floor(maxInt / baseMinusT)) {
					error('overflow');
				}

				w *= baseMinusT;

			}

			out = output.length + 1;
			bias = adapt(i - oldi, out, oldi == 0);

			// `i` was supposed to wrap around from `out` to `0`,
			// incrementing `n` each time, so we'll fix that now:
			if (floor(i / out) > maxInt - n) {
				error('overflow');
			}

			n += floor(i / out);
			i %= out;

			// Insert `n` at position `i` of the output
			output.splice(i++, 0, n);

		}

		return ucs2encode(output);
	}

	/**
	 * Converts a string of Unicode symbols (e.g. a domain name label) to a
	 * Punycode string of ASCII-only symbols.
	 * @memberOf punycode
	 * @param {String} input The string of Unicode symbols.
	 * @returns {String} The resulting Punycode string of ASCII-only symbols.
	 */
	function encode(input) {
		var n,
		    delta,
		    handledCPCount,
		    basicLength,
		    bias,
		    j,
		    m,
		    q,
		    k,
		    t,
		    currentValue,
		    output = [],
		    /** `inputLength` will hold the number of code points in `input`. */
		    inputLength,
		    /** Cached calculation results */
		    handledCPCountPlusOne,
		    baseMinusT,
		    qMinusT;

		// Convert the input in UCS-2 to Unicode
		input = ucs2decode(input);

		// Cache the length
		inputLength = input.length;

		// Initialize the state
		n = initialN;
		delta = 0;
		bias = initialBias;

		// Handle the basic code points
		for (j = 0; j < inputLength; ++j) {
			currentValue = input[j];
			if (currentValue < 0x80) {
				output.push(stringFromCharCode(currentValue));
			}
		}

		handledCPCount = basicLength = output.length;

		// `handledCPCount` is the number of code points that have been handled;
		// `basicLength` is the number of basic code points.

		// Finish the basic string - if it is not empty - with a delimiter
		if (basicLength) {
			output.push(delimiter);
		}

		// Main encoding loop:
		while (handledCPCount < inputLength) {

			// All non-basic code points < n have been handled already. Find the next
			// larger one:
			for (m = maxInt, j = 0; j < inputLength; ++j) {
				currentValue = input[j];
				if (currentValue >= n && currentValue < m) {
					m = currentValue;
				}
			}

			// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,
			// but guard against overflow
			handledCPCountPlusOne = handledCPCount + 1;
			if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {
				error('overflow');
			}

			delta += (m - n) * handledCPCountPlusOne;
			n = m;

			for (j = 0; j < inputLength; ++j) {
				currentValue = input[j];

				if (currentValue < n && ++delta > maxInt) {
					error('overflow');
				}

				if (currentValue == n) {
					// Represent delta as a generalized variable-length integer
					for (q = delta, k = base; /* no condition */; k += base) {
						t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);
						if (q < t) {
							break;
						}
						qMinusT = q - t;
						baseMinusT = base - t;
						output.push(
							stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))
						);
						q = floor(qMinusT / baseMinusT);
					}

					output.push(stringFromCharCode(digitToBasic(q, 0)));
					bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);
					delta = 0;
					++handledCPCount;
				}
			}

			++delta;
			++n;

		}
		return output.join('');
	}

	/**
	 * Converts a Punycode string representing a domain name or an email address
	 * to Unicode. Only the Punycoded parts of the input will be converted, i.e.
	 * it doesn't matter if you call it on a string that has already been
	 * converted to Unicode.
	 * @memberOf punycode
	 * @param {String} input The Punycoded domain name or email address to
	 * convert to Unicode.
	 * @returns {String} The Unicode representation of the given Punycode
	 * string.
	 */
	function toUnicode(input) {
		return mapDomain(input, function(string) {
			return regexPunycode.test(string)
				? decode(string.slice(4).toLowerCase())
				: string;
		});
	}

	/**
	 * Converts a Unicode string representing a domain name or an email address to
	 * Punycode. Only the non-ASCII parts of the domain name will be converted,
	 * i.e. it doesn't matter if you call it with a domain that's already in
	 * ASCII.
	 * @memberOf punycode
	 * @param {String} input The domain name or email address to convert, as a
	 * Unicode string.
	 * @returns {String} The Punycode representation of the given domain name or
	 * email address.
	 */
	function toASCII(input) {
		return mapDomain(input, function(string) {
			return regexNonASCII.test(string)
				? 'xn--' + encode(string)
				: string;
		});
	}

	/*--------------------------------------------------------------------------*/

	/** Define the public API */
	punycode = {
		/**
		 * A string representing the current Punycode.js version number.
		 * @memberOf punycode
		 * @type String
		 */
		'version': '1.4.1',
		/**
		 * An object of methods to convert from JavaScript's internal character
		 * representation (UCS-2) to Unicode code points, and back.
		 * @see <https://mathiasbynens.be/notes/javascript-encoding>
		 * @memberOf punycode
		 * @type Object
		 */
		'ucs2': {
			'decode': ucs2decode,
			'encode': ucs2encode
		},
		'decode': decode,
		'encode': encode,
		'toASCII': toASCII,
		'toUnicode': toUnicode
	};

	/** Expose `punycode` */
	// Some AMD build optimizers, like r.js, check for specific condition patterns
	// like the following:
	if (
		true
	) {
		!(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {
			return punycode;
		}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else if (freeExports && freeModule) {
		if (module.exports == freeExports) {
			// in Node.js, io.js, or RingoJS v0.8.0+
			freeModule.exports = punycode;
		} else {
			// in Narwhal or RingoJS v0.7.0-
			for (key in punycode) {
				punycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);
			}
		}
	} else {
		// in Rhino or a web browser
		root.punycode = punycode;
	}

}(this));

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(24)(module), __webpack_require__(25)))

/***/ }),
/* 24 */
/***/ (function(module, exports) {

module.exports = function(module) {
	if(!module.webpackPolyfill) {
		module.deprecate = function() {};
		module.paths = [];
		// module.parent = undefined by default
		if(!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),
/* 25 */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || Function("return this")() || (1,eval)("this");
} catch(e) {
	// This works if the window reference is available
	if(typeof window === "object")
		g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:</p>
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */

var QueryStringSerializer = __webpack_require__(27);
module.exports = QueryStringParser;

var rplus = /\+/g;
var rint = /^[0-9]+$/;
var isArray = Array.isArray;
var haveProp = {}.hasOwnProperty;

function QueryStringParser() {
    this.containsSparse = false;
    this.cacheKey = "";
    this.cacheVal = null;
}

QueryStringParser.maxLength = 32768;
QueryStringParser.maxDepth = 4;
QueryStringParser.maxKeys = 256;

QueryStringParser.parse = function QueryStringParser$Parse(str) {
    if (typeof str === "string") {
        var maxLength = QueryStringParser.maxLength;
        if (str.length > maxLength) {
            throw new RangeError(
                "str is too large (" +
                "QueryStringParser.maxLength=" + maxLength + ")"
            );
        }
        var parser = new QueryStringParser();
        return parser.parseString(str, false);
    }
    else if (str !== null && typeof str === "object") {
        var parser = new QueryStringParser();
        return parser.parseObject(str);
    }
    return {};
};

QueryStringParser.stringify =
function QueryStringParser$Stringify(value) {
    var serializer = new QueryStringSerializer();
    return serializer.serialize(value);
};

QueryStringParser.prototype.decode =
function QueryStringParser$decode(str, shouldDecode, containsPlus) {
    if (shouldDecode === false) return str;
    if (containsPlus === true) str = str.replace(rplus, " ");
    try {
        return decodeURIComponent(str);
    }
    catch (e) {
        return str;
    }
};

QueryStringParser.prototype.maybeArrayIndex =
function QueryStringParser$maybeArrayIndex(str, arrayLength) {
    var len = str.length;
    if (len === 0) {
        return arrayLength;
    }
    var ch = str.charCodeAt(0);

    if (ch === 48) {
        return len > 1 ? -1 : 0;
    }
    else if (48 <= ch && ch <= 57) {
        if (len === 1) {
            return ch - 48;
        }
        else if (rint.test(str)) {
            var v = parseInt(str, 10);
            if (0 < v && v <= 1073741822) {
                return v;
            }
        }
    }
    return -1;
};

QueryStringParser.prototype.getSlot =
function QueryStringParser$getSlot(dictionary, prevKey, curKey) {
    var slot;
    if (!(haveProp.call(dictionary, prevKey))) {
        var index = this.maybeArrayIndex(curKey, 0);
        if (index > -1) {
            slot = [];
        }
        else {
            slot = {};
        }
        dictionary[prevKey] = slot;
    }
    else {
        slot = dictionary[prevKey];
    }
    return slot;
};

QueryStringParser.prototype.placeNestedValue =
function QueryStringParser$placeNestedValue
(dictionary, key, value, i, prevKey, curKey) {
    var slot = this.getSlot(dictionary, prevKey, curKey);
    var index = -1;

    if (isArray(slot)) {
        index = this.maybeArrayIndex(curKey, slot.length);
    }

    var len = key.length;
    var depth = 2;
    var maxDepth = QueryStringParser.maxDepth;
    var start = -1;
    for (; i < len; ++i) {
        var ch = key.charCodeAt(i);
        if (ch === 91) {
            start = i + 1;
        }
        else if (ch === 93 &&
                start > -1) {
            prevKey = curKey;
            curKey = start === i ? "" : key.substring(start, i);
            start = -1;
            depth++;
            if (depth > maxDepth) {
                throw new RangeError("Nesting depth of keys is too large " +
                    "(QueryStringParser.maxDepth="+maxDepth+")" );
            }
            slot = this.getSlot(slot, prevKey, curKey);

            index = isArray(slot)
                ? this.maybeArrayIndex(curKey, slot.length)
                : -1;
        }
    }

    if(index > -1) {
        if (value !== "") {
            if (index === slot.length) {
                slot.push(value);
            }
            else {
                this.containsSparse = true;
                slot[index] = value;
            }
        }
    }
    else {
        this.insert(slot, curKey, value);
    }
};

QueryStringParser.prototype.insert =
function QueryStringParser$insert(dictionary, key, value) {
    var ret = null;
    if (haveProp.call(dictionary, key)) {
        var prev = dictionary[key];
        if( isArray(prev) ) {
            prev.push(value);
            ret = prev;
        }
        else {
            ret = [prev, value];
            dictionary[key] = ret;
        }
    }
    else {
        dictionary[key] = value;
    }
    return ret;
};

QueryStringParser.prototype.push =
function QueryStringParser$push(dictionary, key, value) {
    var ret = null;
    if (haveProp.call(dictionary, key)) {
        var prev = dictionary[key];
        prev.push(value);
        ret = prev;
    }
    else {
        ret = [value];
        dictionary[key] = ret;
    }
    return ret;
};

QueryStringParser.prototype.maybePlaceNestedValue =
function QueryStringParser$maybePlaceNestedValue(dictionary, key, value) {
    var len = key.length;
    if (key.charCodeAt(len - 1) !== 93) {
        this.placeValue(dictionary, key, value, false);
        return;
    }
    var start = -1;

    var i = 0;
    var curKey;
    var prevKey;

    for (; i < len; ++i) {
        var ch = key.charCodeAt(i);

        if (ch === 91) {
            start = i + 1;
            prevKey = key.slice(0, i);
        }
        else if (ch === 93) {
            if (start < 0) {
                this.placeValue(dictionary, key, value, false);
                return;
            }
            curKey = start === i ? "" : key.slice(start, i);
            i++;
            break;
        }
    }

    if (curKey === void 0) {
        this.placeValue(dictionary, key, value, false);
        return;
    }

    if (curKey === "" && value !== "" && i === len) {
        if (key === this.cacheKey) {
            this.cacheVal.push(value);
        }
        else {
            this.cacheKey = key;
            this.cacheVal = this.push(dictionary, prevKey, value);
        }
    }
    else {
        this.placeNestedValue(dictionary, key, value, i, prevKey, curKey);
    }
};

QueryStringParser.prototype.placeValue =
function QueryStringParser$placeValue(dictionary, key, value, possiblyNested) {
    if (possiblyNested === true) {
        this.maybePlaceNestedValue(dictionary, key, value);
        return;
    }
    if (key === this.cacheKey) {
        this.cacheVal.push(value);
        return;
    }
    var cache = this.insert(dictionary, key, value);
    if (cache !== null) {
        this.cacheKey = key;
        this.cacheVal = cache;
    }
};

QueryStringParser.prototype.compact =
function QueryStringParser$compact(obj) {
    if (isArray(obj)) {
        var ret = [];
        var keys = Object.keys(obj);
        for( var i = 0, len = keys.length; i < len; ++i ) {
            ret.push(obj[keys[i]]);
        }
        return ret;
    }
    else if (typeof obj === "object") {
        var keys = Object.keys(obj);
        for( var i = 0, len = keys.length; i < len; ++i ) {
            var key = keys[i];
            obj[key] = this.compact(obj[key]);
        }
    }
    else {
        return obj;
    }
};

QueryStringParser.prototype.parseObject =
function QueryStringParser$parseObject(obj) {
    var keys = Object.keys(obj);
    var len = keys.length;
    if (len === 0) {
        return {};
    }
    len--;
    var ret = "";
    var key;
    for( var i = 0; i < len; ++i ) {
        key = keys[i];
        ret += key + "=" + obj[key] + "&";
    }
    key = keys[i];
    ret += key + "=" + obj[key];
    return this.parseString(ret, true);
};

QueryStringParser.prototype.parseString =
function QueryStringParser$parseString(str, noDecode) {
    var maxKeys = QueryStringParser.maxKeys;
    var keys = 0;
    var decodeKey = false;
    var decodeValue = false;
    var possiblyNested = false;
    var len = str.length;
    var i = 0;
    var dictionary = {};
    var keyStart = 0;
    var keyEnd = 0;
    var valueStart = 0;
    var valueEnd = 0;
    var left = 0;
    var lastIndex = len - 1;
    var containsPlus = false;


    for (; i < len; ++i) {
        var ch = str.charCodeAt(i);

        if (ch === 91) {
            left++;
        }
        else if (left > 0 && ch === 93) {
            possiblyNested = true;
            left--;
        }
        else if (left === 0 && ch === 61) {
            var j = i + 1;

            keyEnd = i - 1;
            valueEnd = valueStart = j;
            var key = str.slice(keyStart, keyEnd + 1);
            key = this.decode(key, decodeKey, containsPlus);
            decodeKey = false;

            for (; j < len; ++j) {
                ch = str.charCodeAt(j);
                if ((ch === 43 || ch === 37) && !noDecode) {
                    if (ch === 43) containsPlus = true;
                    decodeValue = true;
                }
                if (ch === 38 || j === lastIndex) {
                    valueEnd = j;
                    i = j;

                    if (ch === 38) {
                        valueEnd--;
                    }

                    var value = str.slice(valueStart, valueEnd + 1);
                    value = this.decode(value, decodeValue, containsPlus);

                    this.placeValue(dictionary, key, value, possiblyNested);

                    containsPlus = decodeValue = false;
                    possiblyNested = false;

                    keyStart = j + 1;
                    keys++;
                    if (keys > maxKeys) {
                        throw new RangeError("Amount of keys is too large " +
                            "(QueryStringParser.maxKeys=" + maxKeys + ")");
                    }
                    break;
                }
            }
        }
        else if ((ch === 43 || ch === 37) && !noDecode) {
            if (ch === 43) containsPlus = true;
            decodeKey = true;
        }
    }
    if (keyStart !== len) {
        var value = "";
        var key = str.slice(keyStart, len);
        key = this.decode(key, decodeKey, containsPlus);
        this.placeValue(dictionary, key, value, possiblyNested);
    }


    if (this.containsSparse) {
        this.compact(dictionary);
    }

    return dictionary;
};


/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:</p>
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */

module.exports = QueryStringSerializer;
var enc = encodeURIComponent;
var ARRAY = [];
var isArray = Array.isArray;
var getProto = Object.getPrototypeOf;
var oProto = getProto({});

function isObject(obj) {
    if (isArray(obj)) {
        return true;
    }
    if (obj === null || typeof obj !== "object") {
        return false;
    }
    var proto = getProto(obj);

    return proto === oProto || proto === null;
}

function QueryStringSerializer() {

}

QueryStringSerializer.prototype.serialize =
function QueryStringSerializer$serialize(obj) {
    if (obj === null ||
        typeof obj !== "object") {
        throw new TypeError("the obj to stringify must be an object");
    }
    var keys = Object.keys(obj);
    var len = keys.length;
    var array = ARRAY;
    var stack = [];
    var ret = [];
    var cur = obj;
    var keyPrefix = "";

    for (var i = 0; i < len; ++i) {
        var key = keys === array ? i : keys[i];
        var value = cur[key];
        if (isObject(value)) {
            stack.push(keyPrefix, cur, keys, len, i);

            if (keyPrefix === "") {
                keyPrefix = key;
            }
            else {
                keyPrefix = keyPrefix + "[" + enc(key) + "]";
            }

            if (isArray(value)) {
                keys = array;
                len = value.length;
            }
            else {
                keys = Object.keys(value);
                len = keys.length;
            }
            i = -1;
            cur = value;
        }
        else {
            if (typeof value !== "string") {
                value = "" + value;
            }

            var serializedKey = keyPrefix === ""
                                ? enc(key)
                                : keyPrefix + "[" + enc(key) + "]";
            ret.push(serializedKey + "=" + enc(value));
        }

        if(i === len - 1 && stack.length > 0) {
            i = stack.pop();
            len = stack.pop();
            keys = stack.pop();
            cur = stack.pop();
            keyPrefix = stack.pop();
        }
    }

    return ret.join("&");
};


/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // Noise3DTexture.js

var _alfrid = __webpack_require__(0);

var _alfrid2 = _interopRequireDefault(_alfrid);

var _noise = __webpack_require__(29);

var _noise2 = _interopRequireDefault(_noise);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Noise3DTexture = function () {
	function Noise3DTexture() {
		var mNum = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 8.0;
		var mNoiseScale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1.0;

		_classCallCheck(this, Noise3DTexture);

		this._num = mNum;
		this.noiseScale = mNoiseScale;
		this._seed = Math.random() * 0xFF;

		this._init();
	}

	_createClass(Noise3DTexture, [{
		key: '_init',
		value: function _init() {
			this.mesh = _alfrid.Geom.bigTriangle();
			this.shader = new _alfrid.GLShader(_alfrid2.default.ShaderLibs.bigTriangleVert, _noise2.default);

			this._noiseSize = this._num * this._num;
			var fboSize = Math.pow(this._num, 3);

			this._fboNoise = new _alfrid2.default.FrameBuffer(fboSize, fboSize, {
				minFilter: _alfrid.GL.LINEAR,
				magFilter: _alfrid.GL.LINEAR,
				wrapS: _alfrid.GL.MIRRORED_REPEAT,
				wrapT: _alfrid.GL.MIRRORED_REPEAT
			});
		}
	}, {
		key: 'render',
		value: function render() {
			this._seed += 0.003;
			this._fboNoise.bind();
			_alfrid.GL.clear(0, 0, 0, 0);
			var size = this._noiseSize;
			var index = void 0;
			for (var i = 0; i < this._num; i++) {
				for (var j = 0; j < this._num; j++) {
					_alfrid.GL.viewport(i * size, j * size, size, size);
					index = (i + j * this._num) / this._noiseSize;

					this.shader.bind();
					this.shader.uniform("uNoiseScale", "float", this.noiseScale);
					this.shader.uniform("uZ", "float", index);
					this.shader.uniform("uSeed", "float", this._seed);
					_alfrid.GL.draw(this.mesh);
				}
			}

			this._fboNoise.unbind();
		}
	}, {
		key: 'getTexture',
		value: function getTexture() {
			return this._fboNoise.getTexture();
		}
	}, {
		key: 'num',
		get: function get() {
			return this._num;
		}
	}]);

	return Noise3DTexture;
}();

exports.default = Noise3DTexture;

/***/ }),
/* 29 */
/***/ (function(module, exports) {

module.exports = "// noise.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform float uZ;\nuniform float uSeed;\nuniform float uNoiseScale;\n\n\nvec3 mod289(vec3 x) {\treturn x - floor(x * (1.0 / 289.0)) * 289.0;\t}\n\nvec4 mod289(vec4 x) {\treturn x - floor(x * (1.0 / 289.0)) * 289.0;\t}\n\nvec4 permute(vec4 x) {\treturn mod289(((x*34.0)+1.0)*x);\t}\n\nvec4 taylorInvSqrt(vec4 r) {\treturn 1.79284291400159 - 0.85373472095314 * r;}\n\nfloat snoise(vec3 v) { \n\tconst vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n\tconst vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n\tvec3 i  = floor(v + dot(v, C.yyy) );\n\tvec3 x0 =   v - i + dot(i, C.xxx) ;\n\n\tvec3 g = step(x0.yzx, x0.xyz);\n\tvec3 l = 1.0 - g;\n\tvec3 i1 = min( g.xyz, l.zxy );\n\tvec3 i2 = max( g.xyz, l.zxy );\n\n\tvec3 x1 = x0 - i1 + C.xxx;\n\tvec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n\tvec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n\ti = mod289(i); \n\tvec4 p = permute( permute( permute( \n\t\t\t\t\t\t i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n\t\t\t\t\t + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \n\t\t\t\t\t + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n\tfloat n_ = 0.142857142857; // 1.0/7.0\n\tvec3  ns = n_ * D.wyz - D.xzx;\n\n\tvec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n\tvec4 x_ = floor(j * ns.z);\n\tvec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n\tvec4 x = x_ *ns.x + ns.yyyy;\n\tvec4 y = y_ *ns.x + ns.yyyy;\n\tvec4 h = 1.0 - abs(x) - abs(y);\n\n\tvec4 b0 = vec4( x.xy, y.xy );\n\tvec4 b1 = vec4( x.zw, y.zw );\n\n\tvec4 s0 = floor(b0)*2.0 + 1.0;\n\tvec4 s1 = floor(b1)*2.0 + 1.0;\n\tvec4 sh = -step(h, vec4(0.0));\n\n\tvec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n\tvec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n\tvec3 p0 = vec3(a0.xy,h.x);\n\tvec3 p1 = vec3(a0.zw,h.y);\n\tvec3 p2 = vec3(a1.xy,h.z);\n\tvec3 p3 = vec3(a1.zw,h.w);\n\n\tvec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n\tp0 *= norm.x;\n\tp1 *= norm.y;\n\tp2 *= norm.z;\n\tp3 *= norm.w;\n\n\tvec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n\tm = m * m;\n\treturn 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdot(p2,x2), dot(p3,x3) ) );\n}\n\nvec3 snoiseVec3( vec3 x ){\n\n\tfloat s  = snoise(vec3( x ));\n\tfloat s1 = snoise(vec3( x.y - 19.1 , x.z + 33.4 , x.x + 47.2 ));\n\tfloat s2 = snoise(vec3( x.z + 74.2 , x.x - 124.5 , x.y + 99.4 ));\n\tvec3 c = vec3( s , s1 , s2 );\n\treturn c;\n}\n\nvec3 curlNoise( vec3 p ){\n\t\n\tconst float e = .1;\n\tvec3 dx = vec3( e   , 0.0 , 0.0 );\n\tvec3 dy = vec3( 0.0 , e   , 0.0 );\n\tvec3 dz = vec3( 0.0 , 0.0 , e   );\n\n\tvec3 p_x0 = snoiseVec3( p - dx );\n\tvec3 p_x1 = snoiseVec3( p + dx );\n\tvec3 p_y0 = snoiseVec3( p - dy );\n\tvec3 p_y1 = snoiseVec3( p + dy );\n\tvec3 p_z0 = snoiseVec3( p - dz );\n\tvec3 p_z1 = snoiseVec3( p + dz );\n\n\tfloat x = p_y1.z - p_y0.z - p_z1.y + p_z0.y;\n\tfloat y = p_z1.x - p_z0.x - p_x1.z + p_x0.z;\n\tfloat z = p_x1.y - p_x0.y - p_y1.x + p_y0.x;\n\n\tconst float divisor = 1.0 / ( 2.0 * e );\n\treturn normalize( vec3( x , y , z ) * divisor );\n}\n\nvoid main(void) {\n\n\tvec3 offset = curlNoise(vec3(vTextureCoord, uSeed)) * .5 + .5;\n\toffset = mix(offset, vec3(1.0), .5);\n\toffset += 0.5;\n\tvec3 noise = curlNoise(vec3(vTextureCoord, uZ ) * uNoiseScale * offset);\n\n\tnoise = noise * .5 + .5;\n\n\tgl_FragColor = vec4(noise, 1.0);\n}"

/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _generateTrees = __webpack_require__(31);

Object.defineProperty(exports, 'generateTrees', {
  enumerable: true,
  get: function get() {
    return _generateTrees.generateTrees;
  }
});

var _generateHeightMap = __webpack_require__(32);

Object.defineProperty(exports, 'generateHeightMap', {
  enumerable: true,
  get: function get() {
    return _generateHeightMap.generateHeightMap;
  }
});

/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.generateTrees = undefined;

var _Config = __webpack_require__(1);

var _Config2 = _interopRequireDefault(_Config);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var random = function random(min, max) {
	return min + Math.random() * (max - min);
}; // generateTrees.js

var generateTrees = function generateTrees() {
	var positions = [];
	var r = _Config2.default.floorRadius;
	var i = _Config2.default.numTrees;

	while (i--) {
		var rr = Math.sqrt(Math.random()) * r;
		var a = Math.random() * Math.PI * 2.0;

		positions.push([Math.cos(a) * rr, 0, Math.sin(a) * rr]);
	}

	return positions;
};

exports.generateTrees = generateTrees;

/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.generateHeightMap = undefined;

var _alfrid = __webpack_require__(0);

var _alfrid2 = _interopRequireDefault(_alfrid);

var _Config = __webpack_require__(1);

var _Config2 = _interopRequireDefault(_Config);

var _FboPingPong = __webpack_require__(33);

var _FboPingPong2 = _interopRequireDefault(_FboPingPong);

var _Assets = __webpack_require__(2);

var _Assets2 = _interopRequireDefault(_Assets);

var _treeHeight = __webpack_require__(34);

var _treeHeight2 = _interopRequireDefault(_treeHeight);

var _hill = __webpack_require__(35);

var _hill2 = _interopRequireDefault(_hill);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// generateHeightMap.js

var random = function random(min, max) {
	return min + Math.random() * (max - min);
};
var fbo = void 0,
    shader = void 0,
    shaderHill = void 0,
    mesh = void 0;

var generateHeightMap = function generateHeightMap(trees) {
	var size = 1024;
	if (!fbo) {
		fbo = new _FboPingPong2.default(size, size, { minFilter: GL.LINEAR_MIPMAP_NEAREST });
		shader = new _alfrid2.default.GLShader(_alfrid2.default.ShaderLibs.bigTriangleVert, _treeHeight2.default);
		shaderHill = new _alfrid2.default.GLShader(_alfrid2.default.ShaderLibs.bigTriangleVert, _hill2.default);
		mesh = _alfrid2.default.Geom.bigTriangle();
	}

	var floorSize = _Config2.default.floorRadius;

	fbo.read.bind();
	GL.clear(0, 0, 0, 1);
	fbo.read.unbind();

	//	generate height
	fbo.write.bind();
	GL.clear(0, 0, 0, 1);
	shaderHill.bind();
	shaderHill.uniform("uSeed", "float", Math.random() * 0xFF);
	shaderHill.uniform("uNoiseScale", "float", random(2, 5));
	GL.draw(mesh);
	fbo.write.unbind();

	fbo.swap();

	var i = trees.length;
	while (i--) {
		var pos = trees[i];
		var u = pos[0] / floorSize * .5 + .5;
		var v = 1.0 - (pos[2] / floorSize * .5 + .5);

		fbo.write.bind();
		GL.clear(0, 0, 0, 0);
		shader.bind();
		shader.uniform("texture", "uniform1i", 0);
		fbo.readTexture.bind(0);
		shader.uniform("uPos", "vec2", [u, v]);
		shader.uniform("uHeight", "float", Math.random());
		shader.uniform("uRange", "float", random(0.05, 0.1));
		shader.uniform("uPower", "float", random(2, 3));
		shader.uniform("uBumpHeight", "float", _Config2.default.treeBumpHeight);
		GL.draw(mesh);
		fbo.write.unbind();

		fbo.swap();
	}

	return fbo.readTexture;
};

exports.generateHeightMap = generateHeightMap;

/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // FboPingPong.js


var _alfrid = __webpack_require__(0);

var _alfrid2 = _interopRequireDefault(_alfrid);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var FboPingPong = function () {
	function FboPingPong(width, height, settings) {
		_classCallCheck(this, FboPingPong);

		var a = new _alfrid2.default.FrameBuffer(width, height, settings);
		var b = new _alfrid2.default.FrameBuffer(width, height, settings);
		this._fbos = [a, b];
	}

	_createClass(FboPingPong, [{
		key: 'swap',
		value: function swap() {
			this._fbos.reverse();
		}
	}, {
		key: 'read',
		get: function get() {
			return this._fbos[0];
		}
	}, {
		key: 'write',
		get: function get() {
			return this._fbos[1];
		}
	}, {
		key: 'readTexture',
		get: function get() {
			return this._fbos[0].getTexture();
		}
	}, {
		key: 'writeTexture',
		get: function get() {
			return this._fbos[1].getTexture();
		}
	}]);

	return FboPingPong;
}();

exports.default = FboPingPong;

/***/ }),
/* 34 */
/***/ (function(module, exports) {

module.exports = "// copy.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform float uHeight;\nuniform float uRange;\nuniform float uPower;\nuniform float uBumpHeight;\nuniform vec2 uPos;\n\nvoid main(void) {\n\tfloat d = distance(uPos, vTextureCoord);\n\td = smoothstep(uRange, 0.0, d);\n\td = pow(d, uPower);\n    gl_FragColor = texture2D(texture, vTextureCoord);\n    gl_FragColor.rgb += vec3(d * mix(uHeight, 1.0, 0.5) * uBumpHeight);\n}"

/***/ }),
/* 35 */
/***/ (function(module, exports) {

module.exports = "// copy.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform float uSeed;\nuniform float uNoiseScale;\n\nvec4 permute(vec4 x) {  return mod(((x*34.0)+1.0)*x, 289.0);    }\nvec4 taylorInvSqrt(vec4 r) {    return 1.79284291400159 - 0.85373472095314 * r; }\n\nfloat snoise(vec3 v){\n    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n    const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n    \n    vec3 i  = floor(v + dot(v, C.yyy) );\n    vec3 x0 = v - i + dot(i, C.xxx) ;\n    \n    vec3 g = step(x0.yzx, x0.xyz);\n    vec3 l = 1.0 - g;\n    vec3 i1 = min( g.xyz, l.zxy );\n    vec3 i2 = max( g.xyz, l.zxy );\n    \n    vec3 x1 = x0 - i1 + 1.0 * C.xxx;\n    vec3 x2 = x0 - i2 + 2.0 * C.xxx;\n    vec3 x3 = x0 - 1. + 3.0 * C.xxx;\n    \n    i = mod(i, 289.0 );\n    vec4 p = permute( permute( permute( i.z + vec4(0.0, i1.z, i2.z, 1.0 )) + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n    \n    float n_ = 1.0/7.0;\n    vec3  ns = n_ * D.wyz - D.xzx;\n    \n    vec4 j = p - 49.0 * floor(p * ns.z *ns.z);\n    \n    vec4 x_ = floor(j * ns.z);\n    vec4 y_ = floor(j - 7.0 * x_ );\n    \n    vec4 x = x_ *ns.x + ns.yyyy;\n    vec4 y = y_ *ns.x + ns.yyyy;\n    vec4 h = 1.0 - abs(x) - abs(y);\n    \n    vec4 b0 = vec4( x.xy, y.xy );\n    vec4 b1 = vec4( x.zw, y.zw );\n    \n    vec4 s0 = floor(b0)*2.0 + 1.0;\n    vec4 s1 = floor(b1)*2.0 + 1.0;\n    vec4 sh = -step(h, vec4(0.0));\n    \n    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n    \n    vec3 p0 = vec3(a0.xy,h.x);\n    vec3 p1 = vec3(a0.zw,h.y);\n    vec3 p2 = vec3(a1.xy,h.z);\n    vec3 p3 = vec3(a1.zw,h.w);\n    \n    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n    p0 *= norm.x;\n    p1 *= norm.y;\n    p2 *= norm.z;\n    p3 *= norm.w;\n    \n    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n    m = m * m;\n    return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3) ) );\n}\n\nfloat snoise(float x, float y, float z){\n    return snoise(vec3(x, y, z));\n}\n\n\n#define PI 3.141592653\n\n\nvoid main(void) {\n\tfloat d = distance(vTextureCoord, vec2(.5));\n\td = smoothstep(0.5, 0.0, d);\n\td = sin(d * PI * 0.5);\n\n\tfloat noise = snoise(vec3(vTextureCoord * uNoiseScale, uSeed)) * .5 + .5;\n\n\td = mix(0.0, noise, d);\n\n    gl_FragColor = vec4(vec3(d), 1.0);\n}"

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _alfrid = __webpack_require__(0);

var _alfrid2 = _interopRequireDefault(_alfrid);

var _Assets = __webpack_require__(2);

var _Assets2 = _interopRequireDefault(_Assets);

var _Config = __webpack_require__(1);

var _Config2 = _interopRequireDefault(_Config);

var _floor = __webpack_require__(37);

var _floor2 = _interopRequireDefault(_floor);

var _depth = __webpack_require__(6);

var _depth2 = _interopRequireDefault(_depth);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // ViewFloor.js

var ViewFloor = function (_alfrid$View) {
	_inherits(ViewFloor, _alfrid$View);

	function ViewFloor() {
		_classCallCheck(this, ViewFloor);

		return _possibleConstructorReturn(this, (ViewFloor.__proto__ || Object.getPrototypeOf(ViewFloor)).call(this, _floor2.default, _depth2.default));
	}

	_createClass(ViewFloor, [{
		key: '_init',
		value: function _init() {
			var floorRadius = _Config2.default.floorRadius;

			this.mesh = _alfrid2.default.Geom.plane(floorRadius * 2, floorRadius * 2, 100, 'xz');
		}
	}, {
		key: 'render',
		value: function render(texture) {
			this.shader.bind();
			this.shader.uniform("texture", "uniform1i", 0);
			texture.bind(0);
			this.shader.uniform("uFloorHeight", "float", _Config2.default.maxFloorHeight);
			_alfrid.GL.draw(this.mesh);
		}
	}]);

	return ViewFloor;
}(_alfrid2.default.View);

exports.default = ViewFloor;

/***/ }),
/* 37 */
/***/ (function(module, exports) {

module.exports = "// basic.vert\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uFloorHeight;\n\nuniform sampler2D texture;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\nvarying vec4 vScreenPosition;\n\nvoid main(void) {\n\tvec3 pos        = aVertexPosition;\n\tfloat h         = texture2D(texture, aTextureCoord).r;\n\tpos.y           = h * uFloorHeight;\n\tvScreenPosition = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(pos, 1.0);\n\tgl_Position     = vScreenPosition;\n\tvTextureCoord   = aTextureCoord;\n\tvNormal         = aNormal;\n}"

/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _alfrid = __webpack_require__(0);

var _alfrid2 = _interopRequireDefault(_alfrid);

var _Assets = __webpack_require__(2);

var _Assets2 = _interopRequireDefault(_Assets);

var _Config = __webpack_require__(1);

var _Config2 = _interopRequireDefault(_Config);

var _trees = __webpack_require__(39);

var _trees2 = _interopRequireDefault(_trees);

var _depth = __webpack_require__(6);

var _depth2 = _interopRequireDefault(_depth);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // ViewTrees.js

var ViewTrees = function (_alfrid$View) {
	_inherits(ViewTrees, _alfrid$View);

	function ViewTrees() {
		_classCallCheck(this, ViewTrees);

		return _possibleConstructorReturn(this, (ViewTrees.__proto__ || Object.getPrototypeOf(ViewTrees)).call(this, _trees2.default, _depth2.default));
	}

	_createClass(ViewTrees, [{
		key: '_init',
		value: function _init() {
			// this.mesh = Assets.get('pillar');
			this.mesh1 = _Assets2.default.get('tree1');
			this.mesh2 = _Assets2.default.get('tree2');

			this.mesh = [this.mesh1, this.mesh2];
		}
	}, {
		key: 'reset',
		value: function reset(trees) {

			var i = trees.length;
			var half = i / 2;

			var data1 = [];
			var data2 = [];

			while (i--) {
				var pos = trees[i];
				if (i < half) {
					data1.push([pos[0], pos[2], Math.random(), Math.random() * Math.PI * 2]);
				} else {
					data2.push([pos[0], pos[2], Math.random(), Math.random() * Math.PI * 2]);
				}
			}

			this.mesh1.bufferInstance(data1, 'aPosOffset');
			this.mesh2.bufferInstance(data2, 'aPosOffset');
		}
	}, {
		key: 'render',
		value: function render() {
			this.shader.bind();
			this.shader.uniform("uTreeScale", "float", _Config2.default.treeScale);
			_alfrid.GL.draw(this.mesh);
		}
	}]);

	return ViewTrees;
}(_alfrid2.default.View);

exports.default = ViewTrees;

/***/ }),
/* 39 */
/***/ (function(module, exports) {

module.exports = "// basic.vert\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\nattribute vec4 aPosOffset;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uTreeScale;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\nvarying vec4 vScreenPosition;\n\nvec2 rotate(vec2 v, float a) {\n\tfloat s = sin(a);\n\tfloat c = cos(a);\n\tmat2 m = mat2(c, -s, s, c);\n\treturn m * v;\n}\n\nvoid main(void) {\n\tvec3 pos        = aVertexPosition;\n\tfloat scale     = mix(aPosOffset.z, 1.0, .25);\n\tpos.xz          = rotate(pos.xz, aPosOffset.w);\n\tpos.y           *= 3.0;\n\tpos.y           -= 2.0;\n\tpos             *= scale * uTreeScale;\n\tpos.xz          += aPosOffset.xy;\n\t\n\tvScreenPosition = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(pos, 1.0);\n\tgl_Position     = vScreenPosition;\n\tvTextureCoord   = aTextureCoord;\n\tvNormal         = aNormal;\n}"

/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _alfrid = __webpack_require__(0);

var _alfrid2 = _interopRequireDefault(_alfrid);

var _planes = __webpack_require__(41);

var _planes2 = _interopRequireDefault(_planes);

var _planes3 = __webpack_require__(42);

var _planes4 = _interopRequireDefault(_planes3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // ViewPlanes.js

var random = function random(min, max) {
	return min + Math.random() * (max - min);
};

var ViewPlanes = function (_alfrid$View) {
	_inherits(ViewPlanes, _alfrid$View);

	function ViewPlanes() {
		_classCallCheck(this, ViewPlanes);

		return _possibleConstructorReturn(this, (ViewPlanes.__proto__ || Object.getPrototypeOf(ViewPlanes)).call(this, _planes2.default, _planes4.default));
	}

	_createClass(ViewPlanes, [{
		key: '_init',
		value: function _init() {
			var size = 2;
			this.mesh = _alfrid2.default.Geom.plane(size, size, 1);
			this.offset = new _alfrid2.default.EaseNumber(0, 0.01);
			// this.offset = new alfrid.TweenNumber(0, 'linear');
			this.reset();
		}
	}, {
		key: 'open',
		value: function open() {
			var _this2 = this;

			this.offset.setTo(0);

			setTimeout(function () {
				_this2.offset.value = 1;
			}, 500);
		}
	}, {
		key: 'reset',
		value: function reset() {
			var i = 1000;
			var positions = [];
			var extras = [];
			var r = 3.5;

			while (i--) {
				positions.push([random(-r, r), random(-r / 2, r), random(-r, r)]);
				extras.push([Math.random(), Math.random(), Math.random()]);
			}

			this.mesh.bufferInstance(positions, 'aPosOffset');
			this.mesh.bufferInstance(extras, 'aExtra');
		}
	}, {
		key: 'render',
		value: function render(mMatrix, mTexture) {
			this.shader.bind();
			this.shader.uniform("texture", "uniform1i", 0);
			mTexture.bind(0);
			this.shader.uniform("uMatrix", "mat4", mMatrix);
			this.shader.uniform("uOffset", "float", this.offset.value);
			_alfrid.GL.draw(this.mesh);
		}
	}]);

	return ViewPlanes;
}(_alfrid2.default.View);

exports.default = ViewPlanes;

/***/ }),
/* 41 */
/***/ (function(module, exports) {

module.exports = "// basic.vert\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\nattribute vec3 aPosOffset;\nattribute vec3 aExtra;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat4 uMatrix;\nuniform float uOffset;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\nvarying vec2 vUV;\nvarying vec4 vScreenPosition;\n\nfloat cubicInOut(float t) {\n  return t < 0.5\n    ? 4.0 * t * t * t\n    : 0.5 * pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\n\nfloat circularIn(float t) {\n  return 1.0 - sqrt(1.0 - t * t);\n}\n\n\n\nfloat circularOut(float t) {\n  return sqrt((2.0 - t) * t);\n}\n\nfloat circularInOut(float t) {\n  return t < 0.5\n    ? 0.5 * (1.0 - sqrt(1.0 - 4.0 * t * t))\n    : 0.5 * (sqrt((3.0 - 2.0 * t) * (2.0 * t - 1.0)) + 1.0);\n}\n\nfloat cubicOut(float t) {\n  float f = t - 1.0;\n  return f * f * f + 1.0;\n}\n\n\n\nvoid main(void) {\n\tvec3 pos    = aVertexPosition;\n\tfloat scale = -aExtra.z + uOffset * 2.0;\n\tscale       = smoothstep(0.0, 1.0, scale);\n\tscale       = 1.0 - circularInOut(scale);\n\n\tpos           *= mix(aExtra.x, 1.0, .5) * scale;\n\tpos           += aPosOffset;\n\tvScreenPosition   = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(pos, 1.0);\n\tgl_Position   = vScreenPosition;\n\tvTextureCoord = aTextureCoord;\n\tvNormal       = aNormal;\n\t\n\tvec4 coord    = uMatrix * uModelMatrix * vec4(pos, 1.0);\n\tvUV           = coord.xy / coord.w * .5 + .5;\n}"

/***/ }),
/* 42 */
/***/ (function(module, exports) {

module.exports = "// copy.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nvarying vec2 vUV;\nuniform sampler2D texture;\n\nvoid main(void) {\n    gl_FragColor = vec4(vUV, 0.0, 1.0);\n    gl_FragColor = texture2D(texture, vUV);\n}"

/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _alfrid = __webpack_require__(0);

var _alfrid2 = _interopRequireDefault(_alfrid);

var _Config = __webpack_require__(1);

var _Config2 = _interopRequireDefault(_Config);

var _bg = __webpack_require__(44);

var _bg2 = _interopRequireDefault(_bg);

var _bg3 = __webpack_require__(45);

var _bg4 = _interopRequireDefault(_bg3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // ViewBg.js

var ViewBg = function (_alfrid$View) {
	_inherits(ViewBg, _alfrid$View);

	function ViewBg() {
		_classCallCheck(this, ViewBg);

		return _possibleConstructorReturn(this, (ViewBg.__proto__ || Object.getPrototypeOf(ViewBg)).call(this, _bg2.default, _bg4.default));
	}

	_createClass(ViewBg, [{
		key: '_init',
		value: function _init() {
			// const radius = Config.floorRadius * Math.sqrt(2);
			var radius = _Config2.default.floorRadius * 2;
			this.mesh = _alfrid2.default.Geom.sphere(radius, 12, true);
		}
	}, {
		key: 'render',
		value: function render() {
			this.shader.bind();
			_alfrid.GL.draw(this.mesh);
		}
	}]);

	return ViewBg;
}(_alfrid2.default.View);

exports.default = ViewBg;

/***/ }),
/* 44 */
/***/ (function(module, exports) {

module.exports = "// basic.vert\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tgl_Position   = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n\tvTextureCoord = aTextureCoord;\n\tvNormal       = uNormalMatrix * aNormal;\n}"

/***/ }),
/* 45 */
/***/ (function(module, exports) {

module.exports = "// copy.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec3 vNormal;\n// uniform sampler2D texture;\n\nfloat diffuse(vec3 N, vec3 L) {\n\treturn max(dot(N, normalize(L)), 0.0);\n}\n\n\nvec3 diffuse(vec3 N, vec3 L, vec3 C) {\n\treturn diffuse(N, L) * C;\n}\n\n\n#define FRONT vec3(0.0, 0.0, -1.0)\n\nvoid main(void) {\n\tfloat d = diffuse(vNormal, FRONT);\n    gl_FragColor = vec4(vec3(d), 1.0);\n}"

/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _alfrid = __webpack_require__(0);

var _alfrid2 = _interopRequireDefault(_alfrid);

var _Config = __webpack_require__(1);

var _Config2 = _interopRequireDefault(_Config);

var _ground = __webpack_require__(47);

var _ground2 = _interopRequireDefault(_ground);

var _ground3 = __webpack_require__(48);

var _ground4 = _interopRequireDefault(_ground3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // ViewGround.js

var ViewGround = function (_alfrid$View) {
	_inherits(ViewGround, _alfrid$View);

	function ViewGround() {
		_classCallCheck(this, ViewGround);

		return _possibleConstructorReturn(this, (ViewGround.__proto__ || Object.getPrototypeOf(ViewGround)).call(this, _ground2.default, _ground4.default));
	}

	_createClass(ViewGround, [{
		key: '_init',
		value: function _init() {
			var r = _Config2.default.floorRadius * 4;
			this.mesh = _alfrid2.default.Geom.plane(r, r, 1, 'xz');
		}
	}, {
		key: 'render',
		value: function render() {
			this.shader.bind();
			_alfrid.GL.draw(this.mesh);
		}
	}]);

	return ViewGround;
}(_alfrid2.default.View);

exports.default = ViewGround;

/***/ }),
/* 47 */
/***/ (function(module, exports) {

module.exports = "// basic.vert\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\nvarying vec4 vScreenPosition;\n\nvoid main(void) {\n\tvec3 pos        = aVertexPosition;\n\tpos.y           -= 0.01;\n\tvScreenPosition = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(pos, 1.0);\n\tgl_Position     = vScreenPosition;\n\tvTextureCoord   = aTextureCoord;\n\tvNormal         = aNormal;\n}"

/***/ }),
/* 48 */
/***/ (function(module, exports) {

module.exports = "// copy.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\n\nvarying vec4 vScreenPosition;\n\nvoid main(void) {\n\n\tfloat d = distance(vTextureCoord, vec2(.5));\n\td = smoothstep(0.5, 0.35, d);\n\n    float z = vScreenPosition.z / vScreenPosition.w;\n    gl_FragColor = vec4(vec3(z * 0.25), d);\n}"

/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _alfrid = __webpack_require__(0);

var _alfrid2 = _interopRequireDefault(_alfrid);

var _Config = __webpack_require__(1);

var _Config2 = _interopRequireDefault(_Config);

var _fog = __webpack_require__(50);

var _fog2 = _interopRequireDefault(_fog);

var _fog3 = __webpack_require__(51);

var _fog4 = _interopRequireDefault(_fog3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // ViewFog.js

var ViewFog = function (_alfrid$View) {
	_inherits(ViewFog, _alfrid$View);

	function ViewFog() {
		_classCallCheck(this, ViewFog);

		return _possibleConstructorReturn(this, (ViewFog.__proto__ || Object.getPrototypeOf(ViewFog)).call(this, _fog2.default, _fog4.default));
	}

	_createClass(ViewFog, [{
		key: '_init',
		value: function _init() {
			var s = _Config2.default.floorRadius * 2;
			this.mesh = _alfrid2.default.Geom.plane(s, s, 1);

			var numSlides = _Config2.default.numSlides;

			this.matrices = [];

			for (var i = 0; i < numSlides; i++) {
				var mtx = mat4.create();
				var z = (i / numSlides - 0.5) * s;
				mat4.translate(mtx, mtx, vec3.fromValues(0, s / 2, z));
				this.matrices.push(mtx);
			}

			this.offset = 0.5;

			// setTimeout(()=> {
			// 	gui.add(this, 'offset', 0, 1);
			// }, 600);
		}
	}, {
		key: 'render',
		value: function render(texture) {
			var _this2 = this;

			_alfrid.GL.enableAdditiveBlending();
			this.shader.bind();
			this.shader.uniform("uOffset", "float", this.offset);
			this.shader.uniform("uNum", "float", _Config2.default.noiseNum);
			this.shader.uniform("uNumSlices", "float", _Config2.default.numSlides);
			this.shader.uniform("texture", "uniform1i", 0);
			texture.bind(0);

			this.matrices.forEach(function (mtx) {
				_this2.shader.uniform("uLocalMatrix", "mat4", mtx);
				_alfrid.GL.draw(_this2.mesh);
			});
			_alfrid.GL.enableAlphaBlending();
		}
	}]);

	return ViewFog;
}(_alfrid2.default.View);

exports.default = ViewFog;

/***/ }),
/* 50 */
/***/ (function(module, exports) {

module.exports = "// basic.vert\n\nprecision highp float;\n#define GLSLIFY 1\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat4 uLocalMatrix;\nuniform mat3 uModelViewMatrixInverse;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\nvarying vec3 vPosition;\n\nvoid main(void) {\n\tvec3 position = uModelViewMatrixInverse * (uModelMatrix * uLocalMatrix * vec4(aVertexPosition, 1.0)).xyz;\n\t// vec3 position = (uModelMatrix * uLocalMatrix * vec4(aVertexPosition, 1.0)).xyz;\n\tgl_Position   = uProjectionMatrix * uViewMatrix * vec4(position, 1.0);\n\tvTextureCoord = aTextureCoord;\n\tvNormal       = aNormal;\n\tvPosition \t  = position;\n}"

/***/ }),
/* 51 */
/***/ (function(module, exports) {

module.exports = "precision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nvarying vec3 vPosition;\nuniform sampler2D texture;\nuniform float uNum;\nuniform float uNumSlices;\nuniform float uOffset;\n\n\nvec2 getUVOffset(float index) {\n\tfloat x = mod(index, uNum);\n\tfloat y = floor(index/uNum);\n\treturn vec2(x, y) / uNum;\n}\n\nvec3 texture3D(vec3 pos) {\n\tvec3 posAdj = (pos * .25 + .5);\n\t\n\tfloat tz    = posAdj.z;\n\tfloat num   = uNum * uNum;\n\t\n\tfloat i0    = floor(tz * num);\n\tfloat i1    = ceil(tz * num);\n\tvec2 uv0    = posAdj.xy / uNum + getUVOffset(i0);\n\tvec2 uv1    = posAdj.xy / uNum + getUVOffset(i1);\n\tvec3 color0 = texture2D(texture, uv0).xyz;\n\tvec3 color1 = texture2D(texture, uv1).xyz;\n\tfloat p     = mod(tz * num - i0, 1.0);\n\tvec3 color  = mix(color0, color1, p);\n\t\n\tcolor       /= uNumSlices;\n\treturn color;\n}\n\n\n\nvoid main(void) {\n\tvec3 color = texture3D(vPosition);\n\n\tfloat a = smoothstep(-0.5, 0.25, vPosition.y);\n    gl_FragColor = vec4( pow(color.r, 1.0 + uOffset) * 2.0 * a);\n    gl_FragColor = vec4( vec3(pow(color.r, 1.0 + uOffset) * 2.0 * a), 1.0 );\n    // gl_FragColor = vec4( a);\n}"

/***/ }),
/* 52 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _alfrid = __webpack_require__(0);

var _alfrid2 = _interopRequireDefault(_alfrid);

var _Assets = __webpack_require__(2);

var _Assets2 = _interopRequireDefault(_Assets);

var _Config = __webpack_require__(1);

var _Config2 = _interopRequireDefault(_Config);

var _fxaa = __webpack_require__(53);

var _fxaa2 = _interopRequireDefault(_fxaa);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // ViewFXAA.js

var ViewFXAA = function (_alfrid$View) {
	_inherits(ViewFXAA, _alfrid$View);

	function ViewFXAA() {
		_classCallCheck(this, ViewFXAA);

		return _possibleConstructorReturn(this, (ViewFXAA.__proto__ || Object.getPrototypeOf(ViewFXAA)).call(this, _alfrid2.default.ShaderLibs.bigTriangleVert, _fxaa2.default));
	}

	_createClass(ViewFXAA, [{
		key: '_init',
		value: function _init() {
			this.mesh = _alfrid2.default.Geom.bigTriangle();
			this.textureNoise = _Assets2.default.get('noise');
			this.textureNoise.wrapS = this.textureNoise.wrapT = _alfrid.GL.REPEAT;
			this.textureNoise.minFilter = this.textureNoise.magFilter = _alfrid.GL.NEAREST;
		}
	}, {
		key: 'render',
		value: function render(texture) {
			this.shader.bind();
			this.shader.uniform("texture", "uniform1i", 0);
			texture.bind(0);
			this.shader.uniform("textureNoise", "uniform1i", 1);
			this.textureNoise.bind(1);
			this.shader.uniform("uResolution", "vec2", [1 / _alfrid.GL.width, 1 / _alfrid.GL.height]);
			this.shader.uniform("uOverlay", "float", _Config2.default.overlayOpacity);
			_alfrid.GL.draw(this.mesh);
		}
	}]);

	return ViewFXAA;
}(_alfrid2.default.View);

exports.default = ViewFXAA;

/***/ }),
/* 53 */
/***/ (function(module, exports) {

module.exports = "// fxaa.frag\n\n#define SHADER_NAME FXAA\n\nprecision highp float;\n#define GLSLIFY 1\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform sampler2D textureNoise;\nuniform vec2 uResolution;\nuniform float uOverlay;\n\n\nfloat FXAA_SUBPIX_SHIFT = 1.0/4.0;\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#define FXAA_SPAN_MAX     8.0\n\n\nvec4 applyFXAA(sampler2D tex) {\n    vec4 color;\n    vec2 fragCoord = gl_FragCoord.xy;\n    vec3 rgbNW = texture2D(tex, (fragCoord + vec2(-1.0, -1.0)) * uResolution).xyz;\n    vec3 rgbNE = texture2D(tex, (fragCoord + vec2(1.0, -1.0)) * uResolution).xyz;\n    vec3 rgbSW = texture2D(tex, (fragCoord + vec2(-1.0, 1.0)) * uResolution).xyz;\n    vec3 rgbSE = texture2D(tex, (fragCoord + vec2(1.0, 1.0)) * uResolution).xyz;\n    vec3 rgbM  = texture2D(tex, fragCoord  * uResolution).xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * uResolution;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * uResolution + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * uResolution + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * uResolution + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * uResolution + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, 1.0);\n    else\n        color = vec4(rgbB, 1.0);\n    return color;\n}\n\nvec3 blendOverlay(vec3 base, vec3 blend) {\n    return mix(1.0 - 2.0 * (1.0 - base) * (1.0 - blend), 2.0 * base * blend, step(base, vec3(0.5)));\n}\n\nvec3 blendOverlay(vec3 base, vec3 blend, float opacity) {\n\tvec3 blended = mix(1.0 - 2.0 * (1.0 - base) * (1.0 - blend), 2.0 * base * blend, step(base, vec3(0.5)));\n\treturn mix(base, blended, opacity);\n}\n\nvoid main(void) {\n\tvec4 color = applyFXAA(texture);\n\tvec2 uv = vTextureCoord * 5.0;\n\tvec3 noise = texture2D(textureNoise, uv).rgb;\n\tcolor.rgb = blendOverlay(color.rgb, noise, uOverlay);\n\tgl_FragColor = color;\n}"

/***/ }),
/* 54 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _Settings = __webpack_require__(5);

var _Settings2 = _interopRequireDefault(_Settings);

var _Config = __webpack_require__(1);

var _Config2 = _interopRequireDefault(_Config);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// addControls.js

exports.default = function (scene) {
	setTimeout(function () {
		gui.add(_Config2.default, 'numTrees', 1, 100).onFinishChange(_Settings2.default.reload);
		gui.add(_Config2.default, 'treeScale', 0, 5).onChange(_Settings2.default.refresh);
		gui.add(_Config2.default, 'floorRadius', 1, 5).onFinishChange(_Settings2.default.reload);
		gui.add(_Config2.default, 'maxFloorHeight', 0, 1).onFinishChange(_Settings2.default.refresh);
		gui.add(_Config2.default, 'treeBumpHeight', 0, 1).onFinishChange(_Settings2.default.reload);
		gui.add(_Config2.default, 'numSlides', 1, 50).step(1).onFinishChange(_Settings2.default.reload);
		gui.add(_Config2.default, 'noiseScale', 1, 10).onFinishChange(_Settings2.default.reload);
		gui.add(_Config2.default, 'overlayOpacity', 0, 1).onChange(_Settings2.default.refresh);
		gui.add(_Config2.default, 'fxaa').name('Post Effect').onChange(_Settings2.default.refresh);
		gui.add(scene, 'resetCamera');
	}, 500);
};

/***/ }),
/* 55 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var assetsLoader = __webpack_require__(56);
assetsLoader.stats = __webpack_require__(8);

module.exports = assetsLoader;


/***/ }),
/* 56 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var Emitter = __webpack_require__(7);
var createLoader = __webpack_require__(58);
var autoId = 0;

module.exports = function createGroup(config) {
    var group;
    var map = {};
    var assets = [];
    var queue = [];
    var numLoaded = 0;
    var numTotal = 0;
    var loaders = {};

    var add = function(options) {
        // console.debug('add', options);
        if (Array.isArray(options)) {
            options.forEach(add);
            return group;
        }
        var isGroup = !!options.assets && Array.isArray(options.assets);
        // console.debug('isGroup', isGroup);
        var loader;
        if (isGroup) {
            loader = createGroup(configure(options, config));
        } else {
            loader = createLoader(configure(options, config));
        }
        loader.once('destroy', destroyHandler);
        queue.push(loader);
        loaders[loader.id] = loader;
        return group;
    };

    var get = function(id) {
        if (!arguments.length) {
            return assets;
        }
        if (map[id]) {
            return map[id];
        }
        return loaders[id];
    };

    var find = function(id) {
        if (get(id)) {
            return get(id);
        }
        var found = null;
        Object.keys(loaders).some(function(key) {
            found = loaders[key].find && loaders[key].find(id);
            return !!found;
        });
        return found;
    };

    var getExtension = function(url) {
        return url && url.split('?')[0].split('.').pop().toLowerCase();
    };

    var configure = function(options, defaults) {
        if (typeof options === 'string') {
            var url = options;
            options = {
                url: url
            };
        }

        if (options.isTouchLocked === undefined) {
            options.isTouchLocked = defaults.isTouchLocked;
        }

        if (options.blob === undefined) {
            options.blob = defaults.blob;
        }

        if (options.basePath === undefined) {
            options.basePath = defaults.basePath;
        }

        options.id = options.id || options.url || String(++autoId);
        options.type = options.type || getExtension(options.url);
        options.crossOrigin = options.crossOrigin || defaults.crossOrigin;
        options.webAudioContext = options.webAudioContext || defaults.webAudioContext;
        options.log = defaults.log;

        return options;
    };

    var start = function() {
        numTotal = queue.length;

        queue.forEach(function(loader) {
            loader
                .on('progress', progressHandler)
                .once('complete', completeHandler)
                .once('error', errorHandler)
                .start();
        });

        queue = [];

        return group;
    };

    var progressHandler = function(progress) {
        var loaded = numLoaded + progress;
        group.emit('progress', loaded / numTotal);
    };

    var completeHandler = function(asset, id, type) {
        if (Array.isArray(asset)) {
            asset = { id: id, file: asset, type: type };
        }
        numLoaded++;
        group.emit('progress', numLoaded / numTotal);
        map[asset.id] = asset.file;
        assets.push(asset);
        group.emit('childcomplete', asset);
        checkComplete();
    };

    var errorHandler = function(err) {
        numTotal--;
        if (group.listeners('error').length) {
            group.emit('error', err);
        } else {
            console.error(err);
        }
        checkComplete();
    };

    var destroyHandler = function(id) {
        loaders[id] = null;
        delete loaders[id];

        map[id] = null;
        delete map[id];

        assets.some(function(asset, i) {
            if (asset.id === id) {
                assets.splice(i, 1);
                return true;
            }
        });
    };

    var checkComplete = function() {
        if (numLoaded >= numTotal) {
            group.emit('complete', assets, map, config.id, 'group');
        }
    };

    var destroy = function() {
        while (queue.length) {
            queue.pop().destroy();
        }
        group.off('error');
        group.off('progress');
        group.off('complete');
        assets = [];
        map = {};
        config.webAudioContext = null;
        numTotal = 0;
        numLoaded = 0;

        Object.keys(loaders).forEach(function(key) {
            loaders[key].destroy();
        });
        loaders = {};

        group.emit('destroy', group.id);

        return group;
    };

    // emits: progress, error, complete, destroy

    group = Object.create(Emitter.prototype, {
        _events: {
            value: {}
        },
        id: {
            get: function() {
                return config.id;
            }
        },
        add: {
            value: add
        },
        start: {
            value: start
        },
        get: {
            value: get
        },
        find: {
            value: find
        },
        getLoader: {
            value: function(id) {
                return loaders[id];
            }
        },
        loaded: {
            get: function() {
                return numLoaded >= numTotal;
            }
        },
        file: {
            get: function() {
                return assets;
            }
        },
        destroy: {
            value: destroy
        }
    });

    config = configure(config || {}, {
        basePath: '',
        blob: false,
        touchLocked: false,
        crossOrigin: null,
        webAudioContext: null,
        log: false
    });

    if (Array.isArray(config.assets)) {
        add(config.assets);
    }

    return Object.freeze(group);
};


/***/ }),
/* 57 */
/***/ (function(module, exports) {

// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

function EventEmitter() {
  this._events = this._events || {};
  this._maxListeners = this._maxListeners || undefined;
}
module.exports = EventEmitter;

// Backwards-compat with node 0.10.x
EventEmitter.EventEmitter = EventEmitter;

EventEmitter.prototype._events = undefined;
EventEmitter.prototype._maxListeners = undefined;

// By default EventEmitters will print a warning if more than 10 listeners are
// added to it. This is a useful default which helps finding memory leaks.
EventEmitter.defaultMaxListeners = 10;

// Obviously not all Emitters should be limited to 10. This function allows
// that to be increased. Set to zero for unlimited.
EventEmitter.prototype.setMaxListeners = function(n) {
  if (!isNumber(n) || n < 0 || isNaN(n))
    throw TypeError('n must be a positive number');
  this._maxListeners = n;
  return this;
};

EventEmitter.prototype.emit = function(type) {
  var er, handler, len, args, i, listeners;

  if (!this._events)
    this._events = {};

  // If there is no 'error' event listener then throw.
  if (type === 'error') {
    if (!this._events.error ||
        (isObject(this._events.error) && !this._events.error.length)) {
      er = arguments[1];
      if (er instanceof Error) {
        throw er; // Unhandled 'error' event
      } else {
        // At least give some kind of context to the user
        var err = new Error('Uncaught, unspecified "error" event. (' + er + ')');
        err.context = er;
        throw err;
      }
    }
  }

  handler = this._events[type];

  if (isUndefined(handler))
    return false;

  if (isFunction(handler)) {
    switch (arguments.length) {
      // fast cases
      case 1:
        handler.call(this);
        break;
      case 2:
        handler.call(this, arguments[1]);
        break;
      case 3:
        handler.call(this, arguments[1], arguments[2]);
        break;
      // slower
      default:
        args = Array.prototype.slice.call(arguments, 1);
        handler.apply(this, args);
    }
  } else if (isObject(handler)) {
    args = Array.prototype.slice.call(arguments, 1);
    listeners = handler.slice();
    len = listeners.length;
    for (i = 0; i < len; i++)
      listeners[i].apply(this, args);
  }

  return true;
};

EventEmitter.prototype.addListener = function(type, listener) {
  var m;

  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  if (!this._events)
    this._events = {};

  // To avoid recursion in the case that type === "newListener"! Before
  // adding it to the listeners, first emit "newListener".
  if (this._events.newListener)
    this.emit('newListener', type,
              isFunction(listener.listener) ?
              listener.listener : listener);

  if (!this._events[type])
    // Optimize the case of one listener. Don't need the extra array object.
    this._events[type] = listener;
  else if (isObject(this._events[type]))
    // If we've already got an array, just append.
    this._events[type].push(listener);
  else
    // Adding the second element, need to change to array.
    this._events[type] = [this._events[type], listener];

  // Check for listener leak
  if (isObject(this._events[type]) && !this._events[type].warned) {
    if (!isUndefined(this._maxListeners)) {
      m = this._maxListeners;
    } else {
      m = EventEmitter.defaultMaxListeners;
    }

    if (m && m > 0 && this._events[type].length > m) {
      this._events[type].warned = true;
      console.error('(node) warning: possible EventEmitter memory ' +
                    'leak detected. %d listeners added. ' +
                    'Use emitter.setMaxListeners() to increase limit.',
                    this._events[type].length);
      if (typeof console.trace === 'function') {
        // not supported in IE 10
        console.trace();
      }
    }
  }

  return this;
};

EventEmitter.prototype.on = EventEmitter.prototype.addListener;

EventEmitter.prototype.once = function(type, listener) {
  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  var fired = false;

  function g() {
    this.removeListener(type, g);

    if (!fired) {
      fired = true;
      listener.apply(this, arguments);
    }
  }

  g.listener = listener;
  this.on(type, g);

  return this;
};

// emits a 'removeListener' event iff the listener was removed
EventEmitter.prototype.removeListener = function(type, listener) {
  var list, position, length, i;

  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  if (!this._events || !this._events[type])
    return this;

  list = this._events[type];
  length = list.length;
  position = -1;

  if (list === listener ||
      (isFunction(list.listener) && list.listener === listener)) {
    delete this._events[type];
    if (this._events.removeListener)
      this.emit('removeListener', type, listener);

  } else if (isObject(list)) {
    for (i = length; i-- > 0;) {
      if (list[i] === listener ||
          (list[i].listener && list[i].listener === listener)) {
        position = i;
        break;
      }
    }

    if (position < 0)
      return this;

    if (list.length === 1) {
      list.length = 0;
      delete this._events[type];
    } else {
      list.splice(position, 1);
    }

    if (this._events.removeListener)
      this.emit('removeListener', type, listener);
  }

  return this;
};

EventEmitter.prototype.removeAllListeners = function(type) {
  var key, listeners;

  if (!this._events)
    return this;

  // not listening for removeListener, no need to emit
  if (!this._events.removeListener) {
    if (arguments.length === 0)
      this._events = {};
    else if (this._events[type])
      delete this._events[type];
    return this;
  }

  // emit removeListener for all listeners on all events
  if (arguments.length === 0) {
    for (key in this._events) {
      if (key === 'removeListener') continue;
      this.removeAllListeners(key);
    }
    this.removeAllListeners('removeListener');
    this._events = {};
    return this;
  }

  listeners = this._events[type];

  if (isFunction(listeners)) {
    this.removeListener(type, listeners);
  } else if (listeners) {
    // LIFO order
    while (listeners.length)
      this.removeListener(type, listeners[listeners.length - 1]);
  }
  delete this._events[type];

  return this;
};

EventEmitter.prototype.listeners = function(type) {
  var ret;
  if (!this._events || !this._events[type])
    ret = [];
  else if (isFunction(this._events[type]))
    ret = [this._events[type]];
  else
    ret = this._events[type].slice();
  return ret;
};

EventEmitter.prototype.listenerCount = function(type) {
  if (this._events) {
    var evlistener = this._events[type];

    if (isFunction(evlistener))
      return 1;
    else if (evlistener)
      return evlistener.length;
  }
  return 0;
};

EventEmitter.listenerCount = function(emitter, type) {
  return emitter.listenerCount(type);
};

function isFunction(arg) {
  return typeof arg === 'function';
}

function isNumber(arg) {
  return typeof arg === 'number';
}

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}

function isUndefined(arg) {
  return arg === void 0;
}


/***/ }),
/* 58 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var Emitter = __webpack_require__(7);
var browserHasBlob = __webpack_require__(59);
var stats = __webpack_require__(8);

module.exports = function(options) {
    var id = options.id;
    var basePath = options.basePath || '';
    var url = options.url;
    var type = options.type;
    var crossOrigin = options.crossOrigin;
    var isTouchLocked = options.isTouchLocked;
    var blob = options.blob && browserHasBlob;
    var webAudioContext = options.webAudioContext;
    var log = options.log;

    var loader;
    var loadHandler;
    var request;
    var startTime;
    var timeout;
    var file;

    var start = function() {
        startTime = Date.now();

        switch (type) {
            case 'json':
                loadJSON();
                break;
            case 'jpg':
            case 'png':
            case 'gif':
            case 'webp':
                loadImage();
                break;
            case 'mp3':
            case 'ogg':
            case 'opus':
            case 'wav':
            case 'm4a':
                loadAudio();
                break;
            case 'ogv':
            case 'mp4':
            case 'webm':
            case 'hls':
                loadVideo();
                break;
            case 'bin':
            case 'binary':
                loadXHR('arraybuffer');
                break;
            case 'txt':
            case 'text':
                loadXHR('text');
                break;
            default:
                throw 'AssetsLoader ERROR: Unknown type for file with URL: ' + basePath + url + ' (' + type + ')';
        }
    };

    var dispatchComplete = function(data) {
        if (!data) {
            return;
        }
        file = {id: id, file: data, type: type};
        loader.emit('progress', 1);
        loader.emit('complete', file, id, type);
        removeListeners();
    };

    var loadXHR = function(responseType, customLoadHandler) {
        loadHandler = customLoadHandler || completeHandler;

        request = new XMLHttpRequest();
        request.open('GET', basePath + url, true);
        request.responseType = responseType;
        request.addEventListener('progress', progressHandler);
        request.addEventListener('load', loadHandler);
        request.addEventListener('error', errorHandler);
        request.send();
    };

    var progressHandler = function(event) {
        if (event.lengthComputable) {
            loader.emit('progress', event.loaded / event.total);
        }
    };

    var completeHandler = function() {
        if (success()) {
            dispatchComplete(request.response);
        }
    };

    var success = function() {
        // console.log('success', url, request.status);
        if (request && request.status < 400) {
            stats.update(request, startTime, url, log);
            return true;
        }
        errorHandler(request && request.statusText);
        return false;
    };

    // json

    var loadJSON = function() {
        loadXHR('json', function() {
            if (success()) {
                var data = request.response;
                if (typeof data === 'string') {
                    data = JSON.parse(data);
                }
                dispatchComplete(data);
            }
        });
    };

    // image

    var loadImage = function() {
        if (blob) {
            loadImageBlob();
        } else {
            loadImageElement();
        }
    };

    var loadImageElement = function() {
        request = new Image();
        if (crossOrigin) {
            request.crossOrigin = 'anonymous';
        }
        request.addEventListener('error', errorHandler, false);
        request.addEventListener('load', elementLoadHandler, false);
        request.src = basePath + url;
    };

    var elementLoadHandler = function(event) {
        window.clearTimeout(timeout);
        if (!event && (request.error || !request.readyState)) {
            errorHandler();
            return;
        }
        dispatchComplete(request);
    };

    var loadImageBlob = function() {
        loadXHR('blob', function() {
            if (success()) {
                request = new Image();
                request.addEventListener('error', errorHandler, false);
                request.addEventListener('load', imageBlobHandler, false);
                request.src = window.URL.createObjectURL(request.response);
            }
        });
    };

    var imageBlobHandler = function() {
        window.URL.revokeObjectURL(request.src);
        dispatchComplete(request);
    };

    // audio

    var loadAudio = function() {
        if (webAudioContext) {
            loadAudioBuffer();
        } else {
            loadMediaElement('audio');
        }
    };

    // video

    var loadVideo = function() {
        if (blob) {
            loadXHR('blob');
        } else {
            loadMediaElement('video');
        }
    };

    // audio buffer

    var loadAudioBuffer = function() {
        loadXHR('arraybuffer', function() {
            if (success()) {
                webAudioContext.decodeAudioData(
                    request.response,
                    function(buffer) {
                        request = null;
                        dispatchComplete(buffer);
                    },
                    function(e) {
                        errorHandler(e);
                    }
                );
            }
        });
    };

    // media element

    var loadMediaElement = function(tagName) {
        request = document.createElement(tagName);

        if (!isTouchLocked) {
            // timeout because sometimes canplaythrough doesn't fire
            window.clearTimeout(timeout);
            timeout = window.setTimeout(elementLoadHandler, 2000);
            request.addEventListener('canplaythrough', elementLoadHandler, false);
        }

        request.addEventListener('error', errorHandler, false);
        request.preload = 'auto';
        request.src = basePath + url;
        request.load();

        if (isTouchLocked) {
            dispatchComplete(request);
        }
    };

    // error

    var errorHandler = function(err) {
        // console.log('errorHandler', url, err);
        window.clearTimeout(timeout);

        var message = err;

        if (request && request.tagName && request.error) {
            var ERROR_STATE = ['', 'ABORTED', 'NETWORK', 'DECODE', 'SRC_NOT_SUPPORTED'];
            message = 'MediaError: ' + ERROR_STATE[request.error.code] + ' ' + request.src;
        } else if (request && request.statusText) {
            message = request.statusText;
        } else if (err && err.message) {
            message = err.message;
        } else if (err && err.type) {
            message = err.type;
        }

        loader.emit('error', 'Error loading "' + basePath + url + '" ' + message);

        destroy();
    };

    // clean up

    var removeListeners = function() {
        loader.off('error');
        loader.off('progress');
        loader.off('complete');

        if (request) {
            request.removeEventListener('progress', progressHandler);
            request.removeEventListener('load', loadHandler);
            request.removeEventListener('error', errorHandler);
            request.removeEventListener('load', elementLoadHandler);
            request.removeEventListener('canplaythrough', elementLoadHandler);
            request.removeEventListener('load', imageBlobHandler);
        }
    };

    var destroy = function() {
        removeListeners();

        if (request && request.abort && request.readyState < 4) {
            request.abort();
        }

        request = null;
        webAudioContext = null;
        file = null;

        window.clearTimeout(timeout);

        loader.emit('destroy', id);
    };

    // emits: progress, error, complete

    loader = Object.create(Emitter.prototype, {
        _events: {
            value: {}
        },
        id: {
            value: options.id
        },
        start: {
            value: start
        },
        loaded: {
            get: function() {
                return !!file;
            }
        },
        file: {
            get: function() {
                return file;
            }
        },
        destroy: {
            value: destroy
        }
    });

    return Object.freeze(loader);
};


/***/ }),
/* 59 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = (function() {
    try {
        return !!new Blob();
    } catch (e) {
        return false;
    }
}());


/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgNDZjZWE5YjkxODJlZTBiMDMxZTEiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FsZnJpZC9idWlsZC9hbGZyaWQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0NvbmZpZy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvQXNzZXRzLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3NzL2dsb2JhbC5zY3NzIiwid2VicGFjazovLy8uL3NyYy9qcy9hc3NldC1saXN0LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9TZXR0aW5ncy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2hhZGVycy9kZXB0aC5mcmFnIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hc3NldHMtbG9hZGVyL3NyYy9lbWl0dGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hc3NldHMtbG9hZGVyL3NyYy9zdGF0cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvYXBwLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3NzL2dsb2JhbC5zY3NzPzk3MzUiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9kZWJ1Zy9kZWJ1Z1BvbHlmaWxsLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9TY2VuZUFwcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvVmlld09iak1vZGVsLmpzIiwid2VicGFjazovLy8uL3NyYy9zaGFkZXJzL3Bici52ZXJ0Iiwid2VicGFjazovLy8uL3NyYy9zaGFkZXJzL3Bici5mcmFnIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYXN0LXVybC1wYXJzZXIvc3JjL3VybHBhcnNlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvZGVjb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvZW5jb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wdW55Y29kZS9wdW55Y29kZS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5ncGFyc2VyL2pzL3F1ZXJ5c3RyaW5ncGFyc2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZ3BhcnNlci9qcy9xdWVyeXN0cmluZ3NlcmlhbGl6ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL05vaXNlM0RUZXh0dXJlLmpzIiwid2VicGFjazovLy8uL3NyYy9zaGFkZXJzL25vaXNlLmZyYWciLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3V0aWxzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy91dGlscy9nZW5lcmF0ZVRyZWVzLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy91dGlscy9nZW5lcmF0ZUhlaWdodE1hcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbHMvRmJvUGluZ1BvbmcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NoYWRlcnMvdHJlZUhlaWdodC5mcmFnIiwid2VicGFjazovLy8uL3NyYy9zaGFkZXJzL2hpbGwuZnJhZyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvVmlld0Zsb29yLmpzIiwid2VicGFjazovLy8uL3NyYy9zaGFkZXJzL2Zsb29yLnZlcnQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL1ZpZXdUcmVlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2hhZGVycy90cmVlcy52ZXJ0Iiwid2VicGFjazovLy8uL3NyYy9qcy9WaWV3UGxhbmVzLmpzIiwid2VicGFjazovLy8uL3NyYy9zaGFkZXJzL3BsYW5lcy52ZXJ0Iiwid2VicGFjazovLy8uL3NyYy9zaGFkZXJzL3BsYW5lcy5mcmFnIiwid2VicGFjazovLy8uL3NyYy9qcy9WaWV3QmcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NoYWRlcnMvYmcudmVydCIsIndlYnBhY2s6Ly8vLi9zcmMvc2hhZGVycy9iZy5mcmFnIiwid2VicGFjazovLy8uL3NyYy9qcy9WaWV3R3JvdW5kLmpzIiwid2VicGFjazovLy8uL3NyYy9zaGFkZXJzL2dyb3VuZC52ZXJ0Iiwid2VicGFjazovLy8uL3NyYy9zaGFkZXJzL2dyb3VuZC5mcmFnIiwid2VicGFjazovLy8uL3NyYy9qcy9WaWV3Rm9nLmpzIiwid2VicGFjazovLy8uL3NyYy9zaGFkZXJzL2ZvZy52ZXJ0Iiwid2VicGFjazovLy8uL3NyYy9zaGFkZXJzL2ZvZy5mcmFnIiwid2VicGFjazovLy8uL3NyYy9qcy9WaWV3RlhBQS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2hhZGVycy9meGFhLmZyYWciLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2RlYnVnL2FkZENvbnRyb2xzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hc3NldHMtbG9hZGVyL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXNzZXRzLWxvYWRlci9zcmMvZ3JvdXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Fzc2V0cy1sb2FkZXIvc3JjL2xvYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXNzZXRzLWxvYWRlci9zcmMvYnJvd3Nlci1oYXMtYmxvYi5qcyJdLCJuYW1lcyI6WyJudW1UcmVlcyIsInRyZWVTY2FsZSIsImZsb29yUmFkaXVzIiwibWF4Rmxvb3JIZWlnaHQiLCJ0cmVlQnVtcEhlaWdodCIsIm51bVNsaWRlcyIsIm5vaXNlTnVtIiwibm9pc2VTY2FsZSIsImFuaW1hdGVkIiwiZnhhYSIsIm92ZXJsYXlPcGFjaXR5IiwiQXNzZXRzIiwiX2Fzc2V0cyIsImdldEFzc2V0IiwiaWQiLCJhc3NldHMiLCJmaW5kIiwiYSIsImZpbGUiLCJnZXRFeHRlbnNpb24iLCJtRmlsZSIsImFyeSIsInNwbGl0IiwibGVuZ3RoIiwiaW5pdCIsImhkckN1YmVtYXBzIiwibWFwIiwibyIsImV4dCIsInVybCIsInRleHR1cmUiLCJjdWJlbWFwTmFtZSIsIkhEUkxvYWRlciIsInBhcnNlIiwib0Fzc2V0IiwicHVzaCIsInBhcnNlRERTIiwibWVzaCIsInMiLCJjb25zb2xlIiwibG9nIiwiZ2V0IiwiR0xDdWJlVGV4dHVyZSIsImRlYnVnIiwidGFibGUiLCJtSWQiLCJhc3NldHNUb0xvYWQiLCJxdWVyeVN0cmluZyIsInJlcXVpcmUiLCJlbmFibGVkIiwicmVsb2FkIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwib3JpZ2luIiwicGF0aG5hbWUiLCJKU09OIiwic3RyaW5naWZ5IiwicmVmcmVzaCIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJkZWxheUluZGV4IiwiZGVsYXlSZWxvYWQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwibUVuYWJsZWQiLCJwYXJzZWQiLCJzZWFyY2giLCJxdWVyeSIsImNvbmZpZyIsIm9Db25maWciLCJrZXkiLCJkb2N1bWVudCIsImJvZHkiLCJfaW5pdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJsb2FkZXIiLCJvbiIsImVycm9yIiwicCIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZSIsIndpZHRoIiwiX29uSW1hZ2VMb2FkZWQiLCJzdGFydCIsIl9pbml0M0QiLCJyZW1vdmUiLCJjYW52YXMiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiYXBwZW5kQ2hpbGQiLCJpZ25vcmVXZWJnbDIiLCJzY2VuZSIsImd1aSIsIlNjZW5lQXBwIiwicmVzaXplIiwiZW5hYmxlQWxwaGFCbGVuZGluZyIsIm9yYml0YWxDb250cm9sIiwicmFkaXVzIiwidmFsdWUiLCJsaW1pdCIsInJ4IiwibXR4IiwibWF0NCIsImNyZWF0ZSIsInRyYW5zbGF0ZSIsInZlYzMiLCJmcm9tVmFsdWVzIiwiY2FtZXJhRnJvbnQiLCJDYW1lcmFQZXJzcGVjdGl2ZSIsImZvdiIsIk1hdGgiLCJQSSIsImNhbWVyYSIsInNldFBlcnNwZWN0aXZlIiwiYXNwZWN0UmF0aW8iLCJsb29rQXQiLCJfbXR4RnJvbnQiLCJtdWwiLCJwcm9qZWN0aW9uIiwibWF0cml4IiwiX2lzSW5UcmFuc2l0aW9uIiwiZSIsImtleUNvZGUiLCJuZXh0IiwiR0wiLCJmYm9TaXplIiwiX2Zib0NhcHR1cmUiLCJGcmFtZUJ1ZmZlciIsImhlaWdodCIsIm1pbkZpbHRlciIsIkxJTkVBUiIsIm1hZ0ZpbHRlciIsIl9mYm9SZW5kZXIiLCJfbm9pc2UzRCIsInJlbmRlciIsIl9iQ29weSIsIkJhdGNoQ29weSIsIl9iQmFsbCIsIkJhdGNoQmFsbCIsIl92Rmxvb3IiLCJfdlRyZWVzIiwiX3ZQbGFuZXMiLCJfdkJnIiwiX3ZHcm91bmQiLCJfdkZvZyIsIl92RnhhYSIsIl9yZXNldFRyZWVQb3NpdGlvbiIsImJpbmQiLCJjbGVhciIsInNldE1hdHJpY2VzIiwicmVuZGVyU2NlbmUiLCJ1bmJpbmQiLCJzZXRUbyIsInJ5IiwicmVzZXQiLCJvcGVuIiwiX3RyZWVzIiwiX3RleHR1cmVGbG9vciIsImdldFRleHR1cmUiLCJkcmF3IiwiZGlzYWJsZSIsIkRFUFRIX1RFU1QiLCJ2aWV3cG9ydCIsImVuYWJsZSIsInJvdGF0ZSIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImRldmljZVBpeGVsUmF0aW8iLCJzZXRTaXplIiwic2V0QXNwZWN0UmF0aW8iLCJpZGVudGl0eSIsImRlZmluZXNUb1N0cmluZyIsImRlZmluZXMiLCJvdXRTdHIiLCJkZWYiLCJWaWV3T2JqTW9kZWwiLCJkZWZpbmVTdHIiLCJfdnMiLCJfZnMiLCJyb3VnaG5lc3MiLCJtZXRhbGxpYyIsImJhc2VDb2xvciIsInRleHR1cmVSYWQiLCJ0ZXh0dXJlSXJyIiwidGV4dHVyZUFPIiwic2hhZGVyIiwidW5pZm9ybSIsInNwZWN1bGFyIiwicG9zaXRpb24iLCJWaWV3IiwiTm9pc2UzRFRleHR1cmUiLCJtTnVtIiwibU5vaXNlU2NhbGUiLCJfbnVtIiwiX3NlZWQiLCJyYW5kb20iLCJiaWdUcmlhbmdsZSIsIlNoYWRlckxpYnMiLCJiaWdUcmlhbmdsZVZlcnQiLCJfbm9pc2VTaXplIiwicG93IiwiX2Zib05vaXNlIiwid3JhcFMiLCJNSVJST1JFRF9SRVBFQVQiLCJ3cmFwVCIsInNpemUiLCJpbmRleCIsImkiLCJqIiwiZ2VuZXJhdGVUcmVlcyIsImdlbmVyYXRlSGVpZ2h0TWFwIiwibWluIiwibWF4IiwicG9zaXRpb25zIiwiciIsInJyIiwic3FydCIsImNvcyIsInNpbiIsImZibyIsInNoYWRlckhpbGwiLCJ0cmVlcyIsIkxJTkVBUl9NSVBNQVBfTkVBUkVTVCIsIkdMU2hhZGVyIiwiR2VvbSIsImZsb29yU2l6ZSIsInJlYWQiLCJ3cml0ZSIsInN3YXAiLCJwb3MiLCJ1IiwidiIsInJlYWRUZXh0dXJlIiwiRmJvUGluZ1BvbmciLCJzZXR0aW5ncyIsImIiLCJfZmJvcyIsInJldmVyc2UiLCJWaWV3Rmxvb3IiLCJwbGFuZSIsIlZpZXdUcmVlcyIsIm1lc2gxIiwibWVzaDIiLCJoYWxmIiwiZGF0YTEiLCJkYXRhMiIsImJ1ZmZlckluc3RhbmNlIiwiVmlld1BsYW5lcyIsIm9mZnNldCIsIkVhc2VOdW1iZXIiLCJleHRyYXMiLCJtTWF0cml4IiwibVRleHR1cmUiLCJWaWV3QmciLCJzcGhlcmUiLCJWaWV3R3JvdW5kIiwiVmlld0ZvZyIsIm1hdHJpY2VzIiwieiIsImVuYWJsZUFkZGl0aXZlQmxlbmRpbmciLCJmb3JFYWNoIiwiVmlld0ZYQUEiLCJ0ZXh0dXJlTm9pc2Ui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QUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUFtQiwyQkFBMkI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQWtCLGNBQWM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EscUJBQWEsNEJBQTRCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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RUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDs7QUFFQSw2QkFBNkIsbUJBQW1COztBQUVoRDs7QUFFQTs7QUFFQTtBQUNBOzs7Ozs7OztBQy9WQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsV0FBVyxFQUFFO0FBQ3JELHdDQUF3QyxXQUFXLEVBQUU7O0FBRXJEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esc0NBQXNDO0FBQ3RDLEdBQUc7QUFDSDtBQUNBLDhEQUE4RDtBQUM5RDs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUN4RkE7O0FBRUEzQyxPQUFPNEMsR0FBUCxHQUFhO0FBQ1psQixNQUFJLGVBQUksQ0FFUDtBQUhXLENBQWIsQzs7Ozs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBRUE7O0FBRUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFQTs7Ozs7Ozs7OzsrZUFuQkE7O0lBcUJNbUIsUTs7O0FBQ0wscUJBQWM7QUFBQTs7QUFDYixxQkFBU3hFLElBQVQ7O0FBRGE7O0FBSWIsUUFBS3lFLE1BQUw7QUFDQSxhQUFHQyxtQkFBSDtBQUNBLFFBQUtDLGNBQUwsQ0FBb0JDLE1BQXBCLENBQTJCQyxLQUEzQixHQUFtQyxDQUFuQztBQUNBO0FBQ0EsUUFBS0YsY0FBTCxDQUFvQkMsTUFBcEIsQ0FBMkJFLEtBQTNCLENBQWlDLENBQWpDLEVBQW9DLENBQXBDO0FBQ0E7QUFDQSxRQUFLSCxjQUFMLENBQW9CSSxFQUFwQixDQUF1QkQsS0FBdkIsQ0FBNkIsQ0FBN0IsRUFBZ0MsRUFBaEM7O0FBRUEsUUFBS0UsR0FBTCxHQUFXQyxLQUFLQyxNQUFMLEVBQVg7QUFDQUQsT0FBS0UsU0FBTCxDQUFlLE1BQUtILEdBQXBCLEVBQXlCLE1BQUtBLEdBQTlCLEVBQW1DSSxLQUFLQyxVQUFMLENBQWdCLENBQWhCLEVBQW1CLENBQUMsQ0FBcEIsRUFBdUIsQ0FBdkIsQ0FBbkM7O0FBRUE7QUFDQSxRQUFLQyxXQUFMLEdBQW1CLElBQUksaUJBQU9DLGlCQUFYLEVBQW5CO0FBQ0EsTUFBTUMsTUFBTSxLQUFLQyxLQUFLQyxFQUFWLEdBQWUsR0FBM0I7QUFDQSxRQUFLQyxNQUFMLENBQVlDLGNBQVosQ0FBMkJKLEdBQTNCLEVBQWdDLFdBQUdLLFdBQW5DLEVBQWdELENBQWhELEVBQW1ELEVBQW5EO0FBQ0EsUUFBS1AsV0FBTCxDQUFpQk0sY0FBakIsQ0FBZ0NKLEdBQWhDLEVBQXFDLFdBQUdLLFdBQXhDLEVBQXFELENBQXJELEVBQXdELEVBQXhEO0FBQ0EsUUFBS1AsV0FBTCxDQUFpQlEsTUFBakIsQ0FBd0IsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsQ0FBeEIsRUFBbUMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsQ0FBbkM7O0FBRUEsUUFBS0MsU0FBTCxHQUFpQmQsS0FBS0MsTUFBTCxFQUFqQjtBQUNBRCxPQUFLZSxHQUFMLENBQVMsTUFBS0QsU0FBZCxFQUF5QixNQUFLVCxXQUFMLENBQWlCVyxVQUExQyxFQUFzRCxNQUFLWCxXQUFMLENBQWlCWSxNQUF2RTs7QUFFQSxRQUFLQyxlQUFMLEdBQXVCLEtBQXZCOztBQUVBeEUsU0FBT3dCLGdCQUFQLENBQXdCLFNBQXhCLEVBQW1DLFVBQUNpRCxDQUFELEVBQU07QUFDeEM7O0FBRUEsT0FBR0EsRUFBRUMsT0FBRixLQUFjLEVBQWpCLEVBQXFCO0FBQ3BCLFVBQUtDLElBQUw7QUFDQTtBQUNBO0FBQ0QsR0FQRDs7QUFTQTtBQXBDYTtBQXFDYjs7OztrQ0FFZTtBQUNmdkYsV0FBUUMsR0FBUixDQUFZLGVBQVosRUFBNkIsV0FBRzRDLEtBQWhDOztBQUVBakMsVUFBTzRFLEVBQVA7QUFDQSxPQUFNQyxVQUFVLElBQWhCOztBQUVBLFFBQUtDLFdBQUwsR0FBbUIsSUFBSSxpQkFBT0MsV0FBWCxDQUF1QixXQUFHOUMsS0FBMUIsRUFBaUMsV0FBRytDLE1BQXBDLEVBQTRDO0FBQzlEQyxlQUFVLFdBQUdDLE1BRGlEO0FBRTlEQyxlQUFVLFdBQUdEO0FBRmlELElBQTVDLENBQW5COztBQUtBLFFBQUtFLFVBQUwsR0FBa0IsSUFBSSxpQkFBT0wsV0FBWCxDQUF1QixXQUFHOUMsS0FBMUIsRUFBaUMsV0FBRytDLE1BQXBDLENBQWxCOztBQUVBLFFBQUtLLFFBQUwsR0FBZ0IsNkJBQW1CLGlCQUFPbEksUUFBMUIsRUFBb0MsaUJBQU9DLFVBQTNDLENBQWhCO0FBQ0EsUUFBS2lJLFFBQUwsQ0FBY0MsTUFBZDtBQUNBOzs7K0JBR1k7QUFDWmxHLFdBQVFDLEdBQVIsQ0FBWSxZQUFaOztBQUVBLFFBQUtrRyxNQUFMLEdBQWMsSUFBSSxpQkFBT0MsU0FBWCxFQUFkO0FBQ0EsUUFBS0MsTUFBTCxHQUFjLElBQUksaUJBQU9DLFNBQVgsRUFBZDs7QUFFQSxRQUFLQyxPQUFMLEdBQWdCLHlCQUFoQjtBQUNBLFFBQUtDLE9BQUwsR0FBZ0IseUJBQWhCO0FBQ0EsUUFBS0MsUUFBTCxHQUFnQiwwQkFBaEI7QUFDQSxRQUFLQyxJQUFMLEdBQWdCLHNCQUFoQjtBQUNBLFFBQUtDLFFBQUwsR0FBZ0IsMEJBQWhCO0FBQ0EsUUFBS0MsS0FBTCxHQUFnQix1QkFBaEI7QUFDQSxRQUFLQyxNQUFMLEdBQWMsd0JBQWQ7O0FBRUEsUUFBS0Msa0JBQUw7QUFDQTs7O3lCQUdNO0FBQ045RyxXQUFRQyxHQUFSLENBQVksTUFBWjs7QUFFQTtBQUNBO0FBQ0EsUUFBS3lGLFdBQUwsQ0FBaUJxQixJQUFqQjtBQUNBLGNBQUdDLEtBQUgsQ0FBUyxDQUFULEVBQVksQ0FBWixFQUFlLENBQWYsRUFBa0IsQ0FBbEI7QUFDQSxjQUFHQyxXQUFILENBQWUsS0FBS3JDLE1BQXBCO0FBQ0EsUUFBS3NDLFdBQUw7QUFDQSxRQUFLeEIsV0FBTCxDQUFpQnlCLE1BQWpCOztBQUVBO0FBQ0EsUUFBSy9CLGVBQUwsR0FBdUIsSUFBdkI7O0FBRUE7QUFDQSxRQUFLeEIsY0FBTCxDQUFvQkksRUFBcEIsQ0FBdUJvRCxLQUF2QixDQUE2QixDQUE3QjtBQUNBLFFBQUt4RCxjQUFMLENBQW9CeUQsRUFBcEIsQ0FBdUJELEtBQXZCLENBQTZCLENBQTdCO0FBQ0EsUUFBS3hELGNBQUwsQ0FBb0JDLE1BQXBCLENBQTJCdUQsS0FBM0IsQ0FBaUMsQ0FBakM7O0FBRUE7O0FBRUE7QUFDQSxRQUFLWCxRQUFMLENBQWNhLEtBQWQ7QUFDQSxRQUFLYixRQUFMLENBQWNjLElBQWQ7O0FBRUE7QUFDQSxRQUFLVCxrQkFBTDs7QUFFQTtBQUNBO0FBRUE7Ozt1Q0FHb0I7QUFDcEIsUUFBS1UsTUFBTCxHQUFjLDJCQUFkO0FBQ0EsUUFBS2hCLE9BQUwsQ0FBYWMsS0FBYixDQUFtQixLQUFLRSxNQUF4QjtBQUNBLFFBQUtDLGFBQUwsR0FBcUIsOEJBQWtCLEtBQUtELE1BQXZCLENBQXJCO0FBQ0E7OztnQ0FHYTtBQUNiO0FBQ0EsUUFBSzVELGNBQUwsQ0FBb0JJLEVBQXBCLENBQXVCb0QsS0FBdkIsQ0FBNkIsQ0FBN0I7QUFDQSxRQUFLeEQsY0FBTCxDQUFvQnlELEVBQXBCLENBQXVCRCxLQUF2QixDQUE2QixDQUE3QjtBQUNBOzs7MkJBR1E7QUFDUixjQUFHSixLQUFILENBQVMsQ0FBVCxFQUFZLENBQVosRUFBZSxDQUFmLEVBQWtCLENBQWxCOztBQUVBLFFBQUtoQixVQUFMLENBQWdCZSxJQUFoQjtBQUNBLGNBQUdDLEtBQUgsQ0FBUyxDQUFULEVBQVksQ0FBWixFQUFlLENBQWYsRUFBa0IsQ0FBbEI7QUFDQSxRQUFLRSxXQUFMOztBQUVBLE9BQUcsS0FBSzlCLGVBQVIsRUFBeUI7QUFDeEIsU0FBS3FCLFFBQUwsQ0FBY1AsTUFBZCxDQUFxQixLQUFLbEIsU0FBMUIsRUFBcUMsS0FBS1UsV0FBTCxDQUFpQmdDLFVBQWpCLEVBQXJDO0FBQ0E7O0FBRUQsUUFBSzFCLFVBQUwsQ0FBZ0JtQixNQUFoQjs7QUFFQSxPQUFHLGlCQUFPakosSUFBVixFQUFnQjtBQUNmLFNBQUsySSxNQUFMLENBQVlYLE1BQVosQ0FBbUIsS0FBS0YsVUFBTCxDQUFnQjBCLFVBQWhCLEVBQW5CO0FBQ0EsSUFGRCxNQUVPO0FBQ04sU0FBS3ZCLE1BQUwsQ0FBWXdCLElBQVosQ0FBaUIsS0FBSzNCLFVBQUwsQ0FBZ0IwQixVQUFoQixFQUFqQjtBQUNBOztBQUlELGNBQUdFLE9BQUgsQ0FBVyxXQUFHQyxVQUFkO0FBQ0EsT0FBSTlILElBQUksR0FBUjs7QUFFQSxPQUFHLEtBQUtxRixlQUFSLEVBQXlCO0FBQ3hCLGVBQUcwQyxRQUFILENBQVkvSCxDQUFaLEVBQWUsQ0FBZixFQUFrQkEsQ0FBbEIsRUFBcUJBLElBQUUsV0FBRytFLFdBQTFCO0FBQ0EsU0FBS3FCLE1BQUwsQ0FBWXdCLElBQVosQ0FBaUIsS0FBS2pDLFdBQUwsQ0FBaUJnQyxVQUFqQixFQUFqQjtBQUNBOztBQUVELGNBQUdJLFFBQUgsQ0FBWSxDQUFaLEVBQWUsQ0FBZixFQUFrQi9ILENBQWxCLEVBQXFCQSxDQUFyQjtBQUNBO0FBQ0EsY0FBR2dJLE1BQUgsQ0FBVSxXQUFHRixVQUFiO0FBQ0E7OztnQ0FHYTtBQUNiLGNBQUdHLE1BQUgsQ0FBVSxLQUFLL0QsR0FBZjs7QUFFQSxRQUFLeUMsSUFBTCxDQUFVUixNQUFWO0FBQ0EsUUFBS1MsUUFBTCxDQUFjVCxNQUFkO0FBQ0EsUUFBS0ssT0FBTCxDQUFhTCxNQUFiLENBQW9CLEtBQUt1QixhQUF6QjtBQUNBLFFBQUtqQixPQUFMLENBQWFOLE1BQWI7QUFDQSxRQUFLVSxLQUFMLENBQVdWLE1BQVgsQ0FBa0IsS0FBS0QsUUFBTCxDQUFjeUIsVUFBZCxFQUFsQjtBQUVBOzs7MkJBR1E7QUFBQSxpQkFDOEM5RyxNQUQ5QztBQUFBLE9BQ0FxSCxVQURBLFdBQ0FBLFVBREE7QUFBQSxPQUNZQyxXQURaLFdBQ1lBLFdBRFo7QUFBQSxPQUN5QkMsZ0JBRHpCLFdBQ3lCQSxnQkFEekI7O0FBRVIsY0FBR0MsT0FBSCxDQUFXSCxVQUFYLEVBQXVCQyxXQUF2QjtBQUNBLFFBQUt0RCxNQUFMLENBQVl5RCxjQUFaLENBQTJCLFdBQUd2RCxXQUE5Qjs7QUFFQSxPQUFHLEtBQUtQLFdBQVIsRUFBcUI7QUFDcEIsU0FBS0EsV0FBTCxDQUFpQjhELGNBQWpCLENBQWdDLFdBQUd2RCxXQUFuQztBQUNBWixTQUFLb0UsUUFBTCxDQUFjLEtBQUt0RCxTQUFuQixFQUE4QixLQUFLQSxTQUFuQztBQUNBZCxTQUFLZSxHQUFMLENBQVMsS0FBS0QsU0FBZCxFQUF5QixLQUFLVCxXQUFMLENBQWlCVyxVQUExQyxFQUFzRCxLQUFLWCxXQUFMLENBQWlCWSxNQUF2RTtBQUNBO0FBQ0Q7Ozs7OztrQkFJYTFCLFE7Ozs7Ozs7Ozs7Ozs7OztBQzVNZjs7OztBQUNBOzs7O0FBRUE7Ozs7QUFDQTs7OztBQUVBOzs7Ozs7Ozs7OytlQVJBOztBQVdBLElBQU04RSxrQkFBa0IsU0FBbEJBLGVBQWtCLENBQVNDLE9BQVQsRUFBa0I7QUFDdEMsS0FBSUMsU0FBUyxFQUFiO0FBQ0EsTUFBSyxJQUFNQyxHQUFYLElBQWtCRixPQUFsQixFQUEyQjtBQUMxQixNQUFHQSxRQUFRRSxHQUFSLENBQUgsRUFBaUI7QUFDaEJELGFBQVUsYUFBYUMsR0FBYixHQUFtQixHQUFuQixHQUF5QkYsUUFBUUUsR0FBUixDQUF6QixHQUF3QyxJQUFsRDtBQUNBO0FBRUQ7QUFDRCxRQUFPRCxNQUFQO0FBQ0gsQ0FURDs7SUFXTUUsWTs7O0FBRUwseUJBQWM7QUFBQTs7QUFDYixNQUFNSCxVQUFVO0FBQ04sY0FBVyxDQURMO0FBRU4sdUJBQW9CLENBRmQ7QUFHTixvQkFBaUIsQ0FIWDtBQUlOLHNCQUFtQixDQUpiO0FBS04sdUJBQW9CO0FBTGQsR0FBaEI7QUFPTSxNQUFNSSxZQUFZTCxnQkFBZ0JDLE9BQWhCLENBQWxCO0FBQ0F4SSxVQUFRQyxHQUFSLENBQVkySSxTQUFaO0FBQ0EsTUFBSUMsTUFBU0QsU0FBVCx1QkFBSjtBQUNBLE1BQUlFLE1BQVNGLFNBQVQsdUJBQUo7O0FBWE8scUhBYVBDLEdBYk8sRUFhRkMsR0FiRTtBQWNiOzs7OzBCQUdPO0FBQ1AsUUFBS2hKLElBQUwsR0FBWSxpQkFBT0ksR0FBUCxDQUFXLE9BQVgsQ0FBWjs7QUFFQSxRQUFLNkksU0FBTCxHQUFpQixDQUFqQjtBQUNBLFFBQUtDLFFBQUwsR0FBZ0IsQ0FBaEI7QUFDQSxRQUFLQyxTQUFMLEdBQWlCLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLENBQWpCOztBQUVBekYsT0FBSWxCLEdBQUosQ0FBUSxJQUFSLEVBQWMsV0FBZCxFQUEyQixDQUEzQixFQUE4QixDQUE5QjtBQUNBa0IsT0FBSWxCLEdBQUosQ0FBUSxJQUFSLEVBQWMsVUFBZCxFQUEwQixDQUExQixFQUE2QixDQUE3QjtBQUNBOzs7eUJBR000RyxVLEVBQVlDLFUsRUFBWUMsUyxFQUFXO0FBQ3pDLFFBQUtDLE1BQUwsQ0FBWXRDLElBQVo7O0FBRUEsUUFBS3NDLE1BQUwsQ0FBWUMsT0FBWixDQUFvQixRQUFwQixFQUE4QixXQUE5QixFQUEyQyxDQUEzQztBQUNBRixhQUFVckMsSUFBVixDQUFlLENBQWY7QUFDQSxRQUFLc0MsTUFBTCxDQUFZQyxPQUFaLENBQW9CLFVBQXBCLEVBQWdDLFdBQWhDLEVBQTZDLENBQTdDO0FBQ0Esb0JBQU9wSixHQUFQLENBQVcsU0FBWCxFQUFzQjZHLElBQXRCLENBQTJCLENBQTNCOztBQUVBLFFBQUtzQyxNQUFMLENBQVlDLE9BQVosQ0FBb0IsY0FBcEIsRUFBb0MsV0FBcEMsRUFBaUQsQ0FBakQ7QUFDQSxRQUFLRCxNQUFMLENBQVlDLE9BQVosQ0FBb0IsZ0JBQXBCLEVBQXNDLFdBQXRDLEVBQW1ELENBQW5EOztBQUVBSixjQUFXbkMsSUFBWCxDQUFnQixDQUFoQjtBQUNBb0MsY0FBV3BDLElBQVgsQ0FBZ0IsQ0FBaEI7O0FBRUEsUUFBS3NDLE1BQUwsQ0FBWUMsT0FBWixDQUFvQixZQUFwQixFQUFrQyxZQUFsQyxFQUFnRCxLQUFLTCxTQUFyRDtBQUNBLFFBQUtJLE1BQUwsQ0FBWUMsT0FBWixDQUFvQixZQUFwQixFQUFrQyxXQUFsQyxFQUErQyxLQUFLUCxTQUFwRDtBQUNBLFFBQUtNLE1BQUwsQ0FBWUMsT0FBWixDQUFvQixXQUFwQixFQUFpQyxXQUFqQyxFQUE4QyxLQUFLTixRQUFuRDtBQUNBLFFBQUtLLE1BQUwsQ0FBWUMsT0FBWixDQUFvQixXQUFwQixFQUFpQyxXQUFqQyxFQUE4QyxLQUFLQyxRQUFuRDs7QUFFQTtBQUNBLFFBQUtGLE1BQUwsQ0FBWUMsT0FBWixDQUFvQixpQkFBcEIsRUFBdUMsTUFBdkMsRUFBK0MsQ0FBQyxHQUFELEVBQU0sR0FBTixFQUFXLEdBQVgsQ0FBL0M7QUFDQSxRQUFLRCxNQUFMLENBQVlDLE9BQVosQ0FBb0IsYUFBcEIsRUFBbUMsTUFBbkMsRUFBMkMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsQ0FBM0M7O0FBRUEsUUFBS0QsTUFBTCxDQUFZQyxPQUFaLENBQW9CLGtCQUFwQixFQUF3QyxNQUF4QyxFQUFnRCxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsQ0FBaEQ7QUFDQSxRQUFLRCxNQUFMLENBQVlDLE9BQVosQ0FBb0IsZUFBcEIsRUFBcUMsTUFBckMsRUFBNkMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFWLENBQTdDO0FBQ0EsUUFBS0QsTUFBTCxDQUFZQyxPQUFaLENBQW9CLGtCQUFwQixFQUF3QyxNQUF4QyxFQUFnRCxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsQ0FBaEQ7O0FBRUEsUUFBS0QsTUFBTCxDQUFZQyxPQUFaLENBQW9CLFlBQXBCLEVBQWtDLE1BQWxDLEVBQTBDLFdBQUcxRSxNQUFILENBQVU0RSxRQUFwRDtBQUNBLFFBQUtILE1BQUwsQ0FBWUMsT0FBWixDQUFvQixvQkFBcEIsRUFBMEMsT0FBMUMsRUFBbUQsQ0FBbkQ7O0FBRUEsY0FBRzNCLElBQUgsQ0FBUSxLQUFLN0gsSUFBYjtBQUNBOzs7O0VBOUR5QixpQkFBTzJKLEk7O2tCQW1FbkJkLFk7Ozs7OztBQ3pGZix3RUFBd0Usb0RBQW9ELCtCQUErQix5QkFBeUIsOEJBQThCLDJCQUEyQixpQ0FBaUMsNkJBQTZCLHVDQUF1QywrQkFBK0IsdUJBQXVCLHlCQUF5Qix1QkFBdUIsOERBQThELDhDQUE4QywyRUFBMkUsa0NBQWtDLG1FQUFtRSxHQUFHLEc7Ozs7OztBQ0F2dEIseUtBQXlLLG9EQUFvRCxtQ0FBbUMscUNBQXFDLHlEQUF5RCw4REFBOEQsbUNBQW1DLCtEQUErRCw2QkFBNkIsbUVBQW1FLCtCQUErQix5Q0FBeUMsMkJBQTJCLDBCQUEwQixrQ0FBa0MsNkJBQTZCLGdDQUFnQyw0QkFBNEIsMkJBQTJCLDBCQUEwQiwrQkFBK0IsdUJBQXVCLHlCQUF5QiwyVkFBMlYsZ0JBQWdCLGlGQUFpRixnRkFBZ0YsNkVBQTZFLHNGQUFzRixtR0FBbUcsOEZBQThGLG9FQUFvRSxxRkFBcUYseUVBQXlFLDZHQUE2Ryw4RUFBOEUsMkRBQTJELDJDQUEyQyxvQ0FBb0MsdUNBQXVDLG9HQUFvRyxtRkFBbUYsNEdBQTRHLHNFQUFzRSx5Q0FBeUMsMkJBQTJCLHdCQUF3QixrQ0FBa0Msa0NBQWtDLGlEQUFpRCxpREFBaUQsbUdBQW1HLG1DQUFtQyx5Q0FBeUMscUNBQXFDLDhCQUE4Qiw4RUFBOEUsbUZBQW1GLG9IQUFvSCx1QkFBdUIsR0FBRyw0RUFBNEUseUJBQXlCLG9GQUFvRiwyS0FBMksseUVBQXlFLDhGQUE4RiwyREFBMkQsZ0ZBQWdGLGdHQUFnRyxtQ0FBbUMsZ0NBQWdDLEdBQUcsd0NBQXdDLHlDQUF5QyxHQUFHLG1EQUFtRCwwSUFBMEksR0FBRyxrREFBa0Qsa0NBQWtDLGtDQUFrQyx1Q0FBdUMsaUdBQWlHLCtGQUErRix1Q0FBdUMsR0FBRyx3REFBd0QsNEVBQTRFLHdGQUF3Rix3Q0FBd0MsR0FBRyxpQkFBaUIsK0NBQStDLDRDQUE0QyxrRkFBa0YsNERBQTRELDRFQUE0RSxvR0FBb0csK0RBQStELDJEQUEyRCxtRUFBbUUsa0RBQWtELG1FQUFtRSw2SEFBNkgsc1VBQXNVLG9EQUFvRCxzRUFBc0Usa0RBQWtELDJIQUEySCwyR0FBMkcsbUdBQW1HLHlIQUF5SCxtRUFBbUUseURBQXlELDZEQUE2RCw2REFBNkQsNkRBQTZELGlRQUFpUSxzSUFBc0ksd0RBQXdELDREQUE0RCxtSEFBbUgsNERBQTRELGlMQUFpTCw4RUFBOEUsa0dBQWtHLHFFQUFxRSxxSUFBcUksd0JBQXdCLCtNQUErTSwrREFBK0QsK0RBQStELG1FQUFtRSw2RUFBNkUsd0VBQXdFLHlFQUF5RSxvRkFBb0YsMEdBQTBHLEtBQUssQzs7Ozs7OztBQ0FoMlM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsUUFBUTtBQUN4QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxNQUFNO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLFVBQVU7QUFDakM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVCQUF1QixVQUFVO0FBQ2pDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQXVCLFVBQVU7QUFDakM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrQkFBK0IsVUFBVTtBQUN6Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVCQUF1QixVQUFVO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxVQUFVO0FBQ3BCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVCQUF1QixVQUFVO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLFVBQVU7QUFDakM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixTQUFTO0FBQ3BDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsU0FBUztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixVQUFVO0FBQ1YsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixVQUFVO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7O0FBR0E7QUFDQSxZQUFZLEtBQUs7O0FBRWpCOzs7O0FBSUEsMkNBQTJDLFNBQVM7QUFDcEQ7QUFDQTs7QUFFQSx3Q0FBd0MsU0FBUztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLEtBQUs7QUFDM0IsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQ3BpQ0E7O0FBRUE7QUFDQTs7Ozs7Ozs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FDbkZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7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OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFBQTtBQUNILEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7Ozs7Ozs7QUNwaEJEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ3JCQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNENBQTRDOztBQUU1Qzs7Ozs7Ozs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLFNBQVM7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsVUFBVSxTQUFTO0FBQ25COztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxTQUFTO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxTQUFTO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsU0FBUztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSxVQUFVLFNBQVM7QUFDbkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7O0FDclpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qjs7QUFFeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQixTQUFTO0FBQzVCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O3FqQkN4R0E7O0FBRUE7Ozs7QUFDQTs7Ozs7Ozs7SUFFTWUsYztBQUNMLDJCQUEyQztBQUFBLE1BQS9CQyxJQUErQix1RUFBeEIsR0FBd0I7QUFBQSxNQUFuQkMsV0FBbUIsdUVBQUwsR0FBSzs7QUFBQTs7QUFDMUMsT0FBS0MsSUFBTCxHQUFZRixJQUFaO0FBQ0EsT0FBSzNMLFVBQUwsR0FBa0I0TCxXQUFsQjtBQUNBLE9BQUtFLEtBQUwsR0FBYXBGLEtBQUtxRixNQUFMLEtBQWdCLElBQTdCOztBQUVBLE9BQUs1SCxLQUFMO0FBQ0E7Ozs7MEJBR087QUFDUCxRQUFLckMsSUFBTCxHQUFZLGFBQUtrSyxXQUFMLEVBQVo7QUFDQSxRQUFLWCxNQUFMLEdBQWMscUJBQWEsaUJBQU9ZLFVBQVAsQ0FBa0JDLGVBQS9CLGtCQUFkOztBQUdBLFFBQUtDLFVBQUwsR0FBa0IsS0FBS04sSUFBTCxHQUFZLEtBQUtBLElBQW5DO0FBQ0EsT0FBTXBFLFVBQVVmLEtBQUswRixHQUFMLENBQVMsS0FBS1AsSUFBZCxFQUFvQixDQUFwQixDQUFoQjs7QUFFQSxRQUFLUSxTQUFMLEdBQWlCLElBQUksaUJBQU8xRSxXQUFYLENBQXVCRixPQUF2QixFQUFnQ0EsT0FBaEMsRUFBeUM7QUFDekRJLGVBQVUsV0FBR0MsTUFENEM7QUFFekRDLGVBQVUsV0FBR0QsTUFGNEM7QUFHekR3RSxXQUFNLFdBQUdDLGVBSGdEO0FBSXpEQyxXQUFNLFdBQUdEO0FBSmdELElBQXpDLENBQWpCO0FBT0E7OzsyQkFHUTtBQUNSLFFBQUtULEtBQUwsSUFBYyxLQUFkO0FBQ0EsUUFBS08sU0FBTCxDQUFldEQsSUFBZjtBQUNBLGNBQUdDLEtBQUgsQ0FBUyxDQUFULEVBQVksQ0FBWixFQUFlLENBQWYsRUFBa0IsQ0FBbEI7QUFDQSxPQUFNeUQsT0FBTyxLQUFLTixVQUFsQjtBQUNBLE9BQUlPLGNBQUo7QUFDQSxRQUFJLElBQUlDLElBQUUsQ0FBVixFQUFhQSxJQUFFLEtBQUtkLElBQXBCLEVBQTBCYyxHQUExQixFQUErQjtBQUM5QixTQUFJLElBQUlDLElBQUUsQ0FBVixFQUFhQSxJQUFFLEtBQUtmLElBQXBCLEVBQTBCZSxHQUExQixFQUErQjtBQUM5QixnQkFBRzlDLFFBQUgsQ0FBWTZDLElBQUlGLElBQWhCLEVBQXNCRyxJQUFJSCxJQUExQixFQUFnQ0EsSUFBaEMsRUFBc0NBLElBQXRDO0FBQ0FDLGFBQVEsQ0FBQ0MsSUFBSUMsSUFBSSxLQUFLZixJQUFkLElBQXNCLEtBQUtNLFVBQW5DOztBQUVBLFVBQUtkLE1BQUwsQ0FBWXRDLElBQVo7QUFDQSxVQUFLc0MsTUFBTCxDQUFZQyxPQUFaLENBQW9CLGFBQXBCLEVBQW1DLE9BQW5DLEVBQTRDLEtBQUt0TCxVQUFqRDtBQUNBLFVBQUtxTCxNQUFMLENBQVlDLE9BQVosQ0FBb0IsSUFBcEIsRUFBMEIsT0FBMUIsRUFBbUNvQixLQUFuQztBQUNBLFVBQUtyQixNQUFMLENBQVlDLE9BQVosQ0FBb0IsT0FBcEIsRUFBNkIsT0FBN0IsRUFBc0MsS0FBS1EsS0FBM0M7QUFDQSxnQkFBR25DLElBQUgsQ0FBUSxLQUFLN0gsSUFBYjtBQUNBO0FBQ0Q7O0FBRUQsUUFBS3VLLFNBQUwsQ0FBZWxELE1BQWY7QUFDQTs7OytCQUdZO0FBQUUsVUFBTyxLQUFLa0QsU0FBTCxDQUFlM0MsVUFBZixFQUFQO0FBQXFDOzs7c0JBRTFDO0FBQUUsVUFBTyxLQUFLbUMsSUFBWjtBQUFtQjs7Ozs7O2tCQUlqQkgsYzs7Ozs7O0FDOURmLCtGQUErRixnREFBZ0QsbUJBQW1CLHNCQUFzQiw0QkFBNEIsMkJBQTJCLDhDQUE4QyxHQUFHLHlCQUF5Qiw4Q0FBOEMsR0FBRywwQkFBMEIsa0NBQWtDLEdBQUcsZ0NBQWdDLGtEQUFrRCwwQkFBMEIsNkNBQTZDLDZDQUE2QywwQ0FBMEMsdUNBQXVDLG9DQUFvQyxxQkFBcUIsa0NBQWtDLGtDQUFrQyxnQ0FBZ0MsOEJBQThCLGdEQUFnRCx1REFBdUQsOExBQThMLGdDQUFnQyw2Q0FBNkMsaURBQWlELGdEQUFnRCxtQ0FBbUMsaURBQWlELGdDQUFnQyxtQ0FBbUMsbUNBQW1DLGlDQUFpQyxvQ0FBb0Msa0NBQWtDLGtDQUFrQywyQ0FBMkMseUNBQXlDLGdDQUFnQyw4QkFBOEIsOEJBQThCLDhCQUE4Qix1RkFBdUYsaUJBQWlCLGlCQUFpQixpQkFBaUIsaUJBQWlCLG9GQUFvRixjQUFjLHVIQUF1SCxHQUFHLDhCQUE4QixtQ0FBbUMsb0VBQW9FLHFFQUFxRSxpQ0FBaUMsYUFBYSxHQUFHLDZCQUE2QiwyQkFBMkIsc0NBQXNDLHNDQUFzQyxzQ0FBc0MsdUNBQXVDLHFDQUFxQyxxQ0FBcUMscUNBQXFDLHFDQUFxQyxxQ0FBcUMsa0RBQWtELGdEQUFnRCxnREFBZ0QsOENBQThDLG9EQUFvRCxHQUFHLHFCQUFxQixvRUFBb0Usd0NBQXdDLGtCQUFrQiw0RUFBNEUsOEJBQThCLHNDQUFzQyxHQUFHLEM7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkNFLzJHbUIsYTs7Ozs7Ozs7OzhCQUNBQyxpQjs7Ozs7Ozs7Ozs7Ozs7OztBQ0RUOzs7Ozs7QUFHQSxJQUFJZixTQUFTLFNBQVRBLE1BQVMsQ0FBU2dCLEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUFFLFFBQU9ELE1BQU1yRyxLQUFLcUYsTUFBTCxNQUFpQmlCLE1BQU1ELEdBQXZCLENBQWI7QUFBMkMsQ0FBN0UsQyxDQUxBOztBQU9BLElBQU1GLGdCQUFnQixTQUFoQkEsYUFBZ0IsR0FBTTtBQUMzQixLQUFNSSxZQUFZLEVBQWxCO0FBQ0EsS0FBTUMsSUFBSSxpQkFBT3ZOLFdBQWpCO0FBQ0EsS0FBSWdOLElBQUksaUJBQU9sTixRQUFmOztBQUVBLFFBQU1rTixHQUFOLEVBQVc7QUFDVixNQUFJUSxLQUFLekcsS0FBSzBHLElBQUwsQ0FBVTFHLEtBQUtxRixNQUFMLEVBQVYsSUFBMkJtQixDQUFwQztBQUNBLE1BQUl4TSxJQUFJZ0csS0FBS3FGLE1BQUwsS0FBZ0JyRixLQUFLQyxFQUFyQixHQUEwQixHQUFsQzs7QUFFQXNHLFlBQVVyTCxJQUFWLENBQWUsQ0FBQzhFLEtBQUsyRyxHQUFMLENBQVMzTSxDQUFULElBQWN5TSxFQUFmLEVBQW1CLENBQW5CLEVBQXNCekcsS0FBSzRHLEdBQUwsQ0FBUzVNLENBQVQsSUFBY3lNLEVBQXBDLENBQWY7QUFDQTs7QUFFRCxRQUFPRixTQUFQO0FBRUEsQ0FkRDs7UUFnQlNKLGEsR0FBQUEsYTs7Ozs7Ozs7Ozs7Ozs7QUNyQlQ7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFQTs7OztBQUNBOzs7Ozs7QUFSQTs7QUFVQSxJQUFJZCxTQUFTLFNBQVRBLE1BQVMsQ0FBU2dCLEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUFFLFFBQU9ELE1BQU1yRyxLQUFLcUYsTUFBTCxNQUFpQmlCLE1BQU1ELEdBQXZCLENBQWI7QUFBMkMsQ0FBN0U7QUFDQSxJQUFJUSxZQUFKO0FBQUEsSUFBU2xDLGVBQVQ7QUFBQSxJQUFpQm1DLG1CQUFqQjtBQUFBLElBQTZCMUwsYUFBN0I7O0FBR0EsSUFBTWdMLG9CQUFvQixTQUFwQkEsaUJBQW9CLENBQUNXLEtBQUQsRUFBVztBQUNwQyxLQUFJaEIsT0FBTyxJQUFYO0FBQ0EsS0FBRyxDQUFDYyxHQUFKLEVBQVM7QUFDUkEsUUFBYSwwQkFBZ0JkLElBQWhCLEVBQXNCQSxJQUF0QixFQUE0QixFQUFDNUUsV0FBVUwsR0FBR2tHLHFCQUFkLEVBQTVCLENBQWI7QUFDQXJDLFdBQWEsSUFBSSxpQkFBT3NDLFFBQVgsQ0FBb0IsaUJBQU8xQixVQUFQLENBQWtCQyxlQUF0Qyx1QkFBYjtBQUNBc0IsZUFBYSxJQUFJLGlCQUFPRyxRQUFYLENBQW9CLGlCQUFPMUIsVUFBUCxDQUFrQkMsZUFBdEMsaUJBQWI7QUFDQXBLLFNBQWEsaUJBQU84TCxJQUFQLENBQVk1QixXQUFaLEVBQWI7QUFDQTs7QUFHRCxLQUFNNkIsWUFBWSxpQkFBT2xPLFdBQXpCOztBQUVBNE4sS0FBSU8sSUFBSixDQUFTL0UsSUFBVDtBQUNBdkIsSUFBR3dCLEtBQUgsQ0FBUyxDQUFULEVBQVksQ0FBWixFQUFlLENBQWYsRUFBa0IsQ0FBbEI7QUFDQXVFLEtBQUlPLElBQUosQ0FBUzNFLE1BQVQ7O0FBRUE7QUFDQW9FLEtBQUlRLEtBQUosQ0FBVWhGLElBQVY7QUFDQXZCLElBQUd3QixLQUFILENBQVMsQ0FBVCxFQUFZLENBQVosRUFBZSxDQUFmLEVBQWtCLENBQWxCO0FBQ0F3RSxZQUFXekUsSUFBWDtBQUNBeUUsWUFBV2xDLE9BQVgsQ0FBbUIsT0FBbkIsRUFBNEIsT0FBNUIsRUFBcUM1RSxLQUFLcUYsTUFBTCxLQUFnQixJQUFyRDtBQUNBeUIsWUFBV2xDLE9BQVgsQ0FBbUIsYUFBbkIsRUFBa0MsT0FBbEMsRUFBMkNTLE9BQU8sQ0FBUCxFQUFVLENBQVYsQ0FBM0M7QUFDQXZFLElBQUdtQyxJQUFILENBQVE3SCxJQUFSO0FBQ0F5TCxLQUFJUSxLQUFKLENBQVU1RSxNQUFWOztBQUVBb0UsS0FBSVMsSUFBSjs7QUFJQSxLQUFJckIsSUFBSWMsTUFBTXpNLE1BQWQ7QUFDQSxRQUFNMkwsR0FBTixFQUFZO0FBQ1gsTUFBSXNCLE1BQU1SLE1BQU1kLENBQU4sQ0FBVjtBQUNBLE1BQUl1QixJQUFJRCxJQUFJLENBQUosSUFBU0osU0FBVCxHQUFxQixFQUFyQixHQUEwQixFQUFsQztBQUNBLE1BQUlNLElBQUksT0FBT0YsSUFBSSxDQUFKLElBQVNKLFNBQVQsR0FBcUIsRUFBckIsR0FBMEIsRUFBakMsQ0FBUjs7QUFHQU4sTUFBSVEsS0FBSixDQUFVaEYsSUFBVjtBQUNBdkIsS0FBR3dCLEtBQUgsQ0FBUyxDQUFULEVBQVksQ0FBWixFQUFlLENBQWYsRUFBa0IsQ0FBbEI7QUFDQXFDLFNBQU90QyxJQUFQO0FBQ0FzQyxTQUFPQyxPQUFQLENBQWUsU0FBZixFQUEwQixXQUExQixFQUF1QyxDQUF2QztBQUNBaUMsTUFBSWEsV0FBSixDQUFnQnJGLElBQWhCLENBQXFCLENBQXJCO0FBQ0FzQyxTQUFPQyxPQUFQLENBQWUsTUFBZixFQUF1QixNQUF2QixFQUErQixDQUFDNEMsQ0FBRCxFQUFJQyxDQUFKLENBQS9CO0FBQ0E5QyxTQUFPQyxPQUFQLENBQWUsU0FBZixFQUEwQixPQUExQixFQUFtQzVFLEtBQUtxRixNQUFMLEVBQW5DO0FBQ0FWLFNBQU9DLE9BQVAsQ0FBZSxRQUFmLEVBQXlCLE9BQXpCLEVBQWtDUyxPQUFPLElBQVAsRUFBYSxHQUFiLENBQWxDO0FBQ0FWLFNBQU9DLE9BQVAsQ0FBZSxRQUFmLEVBQXlCLE9BQXpCLEVBQWtDUyxPQUFPLENBQVAsRUFBVSxDQUFWLENBQWxDO0FBQ0FWLFNBQU9DLE9BQVAsQ0FBZSxhQUFmLEVBQThCLE9BQTlCLEVBQXVDLGlCQUFPekwsY0FBOUM7QUFDQTJILEtBQUdtQyxJQUFILENBQVE3SCxJQUFSO0FBQ0F5TCxNQUFJUSxLQUFKLENBQVU1RSxNQUFWOztBQUVBb0UsTUFBSVMsSUFBSjtBQUNBOztBQUVELFFBQU9ULElBQUlhLFdBQVg7QUFDQSxDQXJERDs7UUF3RFN0QixpQixHQUFBQSxpQjs7Ozs7Ozs7Ozs7OztxakJDdEVUOzs7QUFDQTs7Ozs7Ozs7SUFFTXVCLFc7QUFDTCxzQkFBWXhKLEtBQVosRUFBbUIrQyxNQUFuQixFQUEyQjBHLFFBQTNCLEVBQXFDO0FBQUE7O0FBQ3BDLE1BQU01TixJQUFJLElBQUksaUJBQU9pSCxXQUFYLENBQXVCOUMsS0FBdkIsRUFBOEIrQyxNQUE5QixFQUFzQzBHLFFBQXRDLENBQVY7QUFDQSxNQUFNQyxJQUFJLElBQUksaUJBQU81RyxXQUFYLENBQXVCOUMsS0FBdkIsRUFBOEIrQyxNQUE5QixFQUFzQzBHLFFBQXRDLENBQVY7QUFDQSxPQUFLRSxLQUFMLEdBQWEsQ0FBQzlOLENBQUQsRUFBSTZOLENBQUosQ0FBYjtBQUNBOzs7O3lCQUdNO0FBQ04sUUFBS0MsS0FBTCxDQUFXQyxPQUFYO0FBQ0E7OztzQkFHVTtBQUNWLFVBQU8sS0FBS0QsS0FBTCxDQUFXLENBQVgsQ0FBUDtBQUNBOzs7c0JBRVc7QUFDWCxVQUFPLEtBQUtBLEtBQUwsQ0FBVyxDQUFYLENBQVA7QUFDQTs7O3NCQUdpQjtBQUNqQixVQUFPLEtBQUtBLEtBQUwsQ0FBVyxDQUFYLEVBQWM5RSxVQUFkLEVBQVA7QUFDQTs7O3NCQUdrQjtBQUNsQixVQUFPLEtBQUs4RSxLQUFMLENBQVcsQ0FBWCxFQUFjOUUsVUFBZCxFQUFQO0FBQ0E7Ozs7OztrQkFJYTJFLFc7Ozs7OztBQ3BDZiw4RkFBOEYsZ0RBQWdELDRCQUE0Qix3QkFBd0IsdUJBQXVCLHVCQUF1Qiw0QkFBNEIsb0JBQW9CLHFCQUFxQiw0Q0FBNEMsbUNBQW1DLHVCQUF1Qix1REFBdUQseUVBQXlFLEdBQUcsQzs7Ozs7O0FDQTloQiw4RkFBOEYsZ0RBQWdELDRCQUE0QixzQkFBc0IsNEJBQTRCLDBCQUEwQixzQ0FBc0MsS0FBSyw4QkFBOEIsbURBQW1ELEVBQUUseUJBQXlCLDhDQUE4QywrQ0FBK0MsZ0RBQWdELHVDQUF1QywwQ0FBMEMsdUJBQXVCLG9DQUFvQyxvQ0FBb0MsNENBQTRDLHNDQUFzQyxzQ0FBc0MsK0JBQStCLHVKQUF1SiwrQkFBK0Isb0NBQW9DLHNEQUFzRCxzQ0FBc0MscUNBQXFDLHdDQUF3QyxrQ0FBa0MscUNBQXFDLHlDQUF5QyxtQ0FBbUMsMENBQTBDLG9DQUFvQyxvQ0FBb0MsaURBQWlELDJDQUEyQyxzQ0FBc0MsZ0NBQWdDLGdDQUFnQyxnQ0FBZ0MsNkZBQTZGLG1CQUFtQixtQkFBbUIsbUJBQW1CLG1CQUFtQiwwRkFBMEYsZ0JBQWdCLHVGQUF1RixHQUFHLDRDQUE0QyxtQ0FBbUMsR0FBRyxtREFBbUQsZ0RBQWdELGdDQUFnQywwQkFBMEIsK0VBQStFLDZCQUE2QiwwQ0FBMEMsR0FBRyxDOzs7Ozs7Ozs7Ozs7Ozs7QUNFaDhFOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7Ozs7K2VBTkE7O0lBUU1LLFM7OztBQUVMLHNCQUFjO0FBQUE7O0FBQUE7QUFFYjs7OzswQkFHTztBQUFBLE9BQ0MvTyxXQURELG9CQUNDQSxXQUREOztBQUVQLFFBQUttQyxJQUFMLEdBQVksaUJBQU84TCxJQUFQLENBQVllLEtBQVosQ0FBa0JoUCxjQUFjLENBQWhDLEVBQW1DQSxjQUFjLENBQWpELEVBQW9ELEdBQXBELEVBQXlELElBQXpELENBQVo7QUFDQTs7O3lCQUdNNEIsTyxFQUFTO0FBQ2YsUUFBSzhKLE1BQUwsQ0FBWXRDLElBQVo7QUFDQSxRQUFLc0MsTUFBTCxDQUFZQyxPQUFaLENBQW9CLFNBQXBCLEVBQStCLFdBQS9CLEVBQTRDLENBQTVDO0FBQ0EvSixXQUFRd0gsSUFBUixDQUFhLENBQWI7QUFDQSxRQUFLc0MsTUFBTCxDQUFZQyxPQUFaLENBQW9CLGNBQXBCLEVBQW9DLE9BQXBDLEVBQTZDLGlCQUFPMUwsY0FBcEQ7QUFDQSxjQUFHK0osSUFBSCxDQUFRLEtBQUs3SCxJQUFiO0FBQ0E7Ozs7RUFuQnNCLGlCQUFPMkosSTs7a0JBd0JoQmlELFM7Ozs7OztBQ2hDZix5REFBeUQsb0RBQW9ELCtCQUErQix5QkFBeUIsOEJBQThCLDJCQUEyQixpQ0FBaUMsNkJBQTZCLDhCQUE4QiwrQkFBK0IsdUJBQXVCLCtCQUErQixxQkFBcUIsc0NBQXNDLDBEQUEwRCx1Q0FBdUMsc0ZBQXNGLHNDQUFzQyxvQ0FBb0MsOEJBQThCLEdBQUcsQzs7Ozs7Ozs7Ozs7Ozs7O0FDRTV1Qjs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7OytlQU5BOztJQVFNRSxTOzs7QUFFTCxzQkFBYztBQUFBOztBQUFBO0FBRWI7Ozs7MEJBR087QUFDUDtBQUNBLFFBQUtDLEtBQUwsR0FBYSxpQkFBTzNNLEdBQVAsQ0FBVyxPQUFYLENBQWI7QUFDQSxRQUFLNE0sS0FBTCxHQUFhLGlCQUFPNU0sR0FBUCxDQUFXLE9BQVgsQ0FBYjs7QUFFQSxRQUFLSixJQUFMLEdBQVksQ0FBQyxLQUFLK00sS0FBTixFQUFhLEtBQUtDLEtBQWxCLENBQVo7QUFDQTs7O3dCQUVLckIsSyxFQUFPOztBQUVaLE9BQUlkLElBQUljLE1BQU16TSxNQUFkO0FBQ0EsT0FBSStOLE9BQU9wQyxJQUFFLENBQWI7O0FBRUEsT0FBTXFDLFFBQVEsRUFBZDtBQUNBLE9BQU1DLFFBQVEsRUFBZDs7QUFFQSxVQUFNdEMsR0FBTixFQUFXO0FBQ1YsUUFBSXNCLE1BQU1SLE1BQU1kLENBQU4sQ0FBVjtBQUNBLFFBQUdBLElBQUVvQyxJQUFMLEVBQVc7QUFDVkMsV0FBTXBOLElBQU4sQ0FBVyxDQUFDcU0sSUFBSSxDQUFKLENBQUQsRUFBU0EsSUFBSSxDQUFKLENBQVQsRUFBaUJ2SCxLQUFLcUYsTUFBTCxFQUFqQixFQUFnQ3JGLEtBQUtxRixNQUFMLEtBQWdCckYsS0FBS0MsRUFBckIsR0FBMEIsQ0FBMUQsQ0FBWDtBQUNBLEtBRkQsTUFFTztBQUNOc0ksV0FBTXJOLElBQU4sQ0FBVyxDQUFDcU0sSUFBSSxDQUFKLENBQUQsRUFBU0EsSUFBSSxDQUFKLENBQVQsRUFBaUJ2SCxLQUFLcUYsTUFBTCxFQUFqQixFQUFnQ3JGLEtBQUtxRixNQUFMLEtBQWdCckYsS0FBS0MsRUFBckIsR0FBMEIsQ0FBMUQsQ0FBWDtBQUNBO0FBQ0Q7O0FBR0QsUUFBS2tJLEtBQUwsQ0FBV0ssY0FBWCxDQUEwQkYsS0FBMUIsRUFBaUMsWUFBakM7QUFDQSxRQUFLRixLQUFMLENBQVdJLGNBQVgsQ0FBMEJELEtBQTFCLEVBQWlDLFlBQWpDO0FBQ0E7OzsyQkFHUTtBQUNSLFFBQUs1RCxNQUFMLENBQVl0QyxJQUFaO0FBQ0EsUUFBS3NDLE1BQUwsQ0FBWUMsT0FBWixDQUFvQixZQUFwQixFQUFrQyxPQUFsQyxFQUEyQyxpQkFBTzVMLFNBQWxEO0FBQ0EsY0FBR2lLLElBQUgsQ0FBUSxLQUFLN0gsSUFBYjtBQUNBOzs7O0VBMUNzQixpQkFBTzJKLEk7O2tCQStDaEJtRCxTOzs7Ozs7QUN2RGYseURBQXlELG9EQUFvRCwrQkFBK0IseUJBQXlCLDRCQUE0Qiw4QkFBOEIsMkJBQTJCLGlDQUFpQywyQkFBMkIsK0JBQStCLHVCQUF1QiwrQkFBK0Isa0NBQWtDLHFCQUFxQixxQkFBcUIsK0JBQStCLGlCQUFpQixHQUFHLHFCQUFxQixzQ0FBc0Msa0RBQWtELG1EQUFtRCwyQkFBMkIsMkJBQTJCLDBDQUEwQyxxQ0FBcUMsMEZBQTBGLHNDQUFzQyxvQ0FBb0MsOEJBQThCLEdBQUcsQzs7Ozs7Ozs7Ozs7Ozs7O0FDRXAvQjs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7Ozs7K2VBSkE7O0FBT0EsSUFBSTdDLFNBQVMsU0FBVEEsTUFBUyxDQUFTZ0IsR0FBVCxFQUFjQyxHQUFkLEVBQW1CO0FBQUUsUUFBT0QsTUFBTXJHLEtBQUtxRixNQUFMLE1BQWlCaUIsTUFBTUQsR0FBdkIsQ0FBYjtBQUEyQyxDQUE3RTs7SUFFTW9DLFU7OztBQUVMLHVCQUFjO0FBQUE7O0FBQUE7QUFFYjs7OzswQkFHTztBQUNQLE9BQUkxQyxPQUFPLENBQVg7QUFDQSxRQUFLM0ssSUFBTCxHQUFZLGlCQUFPOEwsSUFBUCxDQUFZZSxLQUFaLENBQWtCbEMsSUFBbEIsRUFBd0JBLElBQXhCLEVBQThCLENBQTlCLENBQVo7QUFDQSxRQUFLMkMsTUFBTCxHQUFjLElBQUksaUJBQU9DLFVBQVgsQ0FBc0IsQ0FBdEIsRUFBeUIsSUFBekIsQ0FBZDtBQUNBO0FBQ0EsUUFBSy9GLEtBQUw7QUFDQTs7O3lCQUdNO0FBQUE7O0FBQ04sUUFBSzhGLE1BQUwsQ0FBWWhHLEtBQVosQ0FBa0IsQ0FBbEI7O0FBRUEzRixjQUFXLFlBQUs7QUFDZixXQUFLMkwsTUFBTCxDQUFZdEosS0FBWixHQUFvQixDQUFwQjtBQUNBLElBRkQsRUFFRyxHQUZIO0FBSUE7OzswQkFHTztBQUNQLE9BQUk2RyxJQUFJLElBQVI7QUFDQSxPQUFJTSxZQUFZLEVBQWhCO0FBQ0EsT0FBSXFDLFNBQVMsRUFBYjtBQUNBLE9BQUlwQyxJQUFJLEdBQVI7O0FBRUEsVUFBTVAsR0FBTixFQUFXO0FBQ1ZNLGNBQVVyTCxJQUFWLENBQWUsQ0FBQ21LLE9BQU8sQ0FBQ21CLENBQVIsRUFBV0EsQ0FBWCxDQUFELEVBQWdCbkIsT0FBTyxDQUFDbUIsQ0FBRCxHQUFHLENBQVYsRUFBYUEsQ0FBYixDQUFoQixFQUFpQ25CLE9BQU8sQ0FBQ21CLENBQVIsRUFBV0EsQ0FBWCxDQUFqQyxDQUFmO0FBQ0FvQyxXQUFPMU4sSUFBUCxDQUFZLENBQUM4RSxLQUFLcUYsTUFBTCxFQUFELEVBQWdCckYsS0FBS3FGLE1BQUwsRUFBaEIsRUFBK0JyRixLQUFLcUYsTUFBTCxFQUEvQixDQUFaO0FBQ0E7O0FBRUQsUUFBS2pLLElBQUwsQ0FBVW9OLGNBQVYsQ0FBeUJqQyxTQUF6QixFQUFvQyxZQUFwQztBQUNBLFFBQUtuTCxJQUFMLENBQVVvTixjQUFWLENBQXlCSSxNQUF6QixFQUFpQyxRQUFqQztBQUNBOzs7eUJBR01DLE8sRUFBU0MsUSxFQUFVO0FBQ3pCLFFBQUtuRSxNQUFMLENBQVl0QyxJQUFaO0FBQ0EsUUFBS3NDLE1BQUwsQ0FBWUMsT0FBWixDQUFvQixTQUFwQixFQUErQixXQUEvQixFQUE0QyxDQUE1QztBQUNBa0UsWUFBU3pHLElBQVQsQ0FBYyxDQUFkO0FBQ0EsUUFBS3NDLE1BQUwsQ0FBWUMsT0FBWixDQUFvQixTQUFwQixFQUErQixNQUEvQixFQUF1Q2lFLE9BQXZDO0FBQ0EsUUFBS2xFLE1BQUwsQ0FBWUMsT0FBWixDQUFvQixTQUFwQixFQUErQixPQUEvQixFQUF3QyxLQUFLOEQsTUFBTCxDQUFZdEosS0FBcEQ7QUFDQSxjQUFHNkQsSUFBSCxDQUFRLEtBQUs3SCxJQUFiO0FBQ0E7Ozs7RUFqRHVCLGlCQUFPMkosSTs7a0JBc0RqQjBELFU7Ozs7OztBQy9EZix5REFBeUQsb0RBQW9ELCtCQUErQix5QkFBeUIsNEJBQTRCLHdCQUF3Qiw4QkFBOEIsMkJBQTJCLGlDQUFpQyx1QkFBdUIsd0JBQXdCLCtCQUErQix1QkFBdUIsbUJBQW1CLCtCQUErQiwrQkFBK0IscUZBQXFGLEdBQUcsK0JBQStCLG1DQUFtQyxHQUFHLG9DQUFvQywrQkFBK0IsR0FBRyxrQ0FBa0MsNkhBQTZILEdBQUcsNkJBQTZCLHNCQUFzQiwyQkFBMkIsR0FBRyx5QkFBeUIsa0NBQWtDLDRDQUE0Qyw4Q0FBOEMsNkNBQTZDLHNEQUFzRCxnQ0FBZ0Msd0ZBQXdGLG9DQUFvQyxrQ0FBa0MsNEJBQTRCLGdFQUFnRSxpREFBaUQsR0FBRyxDOzs7Ozs7QUNBcmdELDhGQUE4RixnREFBZ0QsbUJBQW1CLDRCQUE0QixxQkFBcUIseUNBQXlDLDZDQUE2QyxHQUFHLEM7Ozs7Ozs7Ozs7Ozs7OztBQ0UzUzs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7OzsrZUFMQTs7SUFPTU0sTTs7O0FBRUwsbUJBQWM7QUFBQTs7QUFBQTtBQUViOzs7OzBCQUdPO0FBQ1A7QUFDQSxPQUFNNUosU0FBUyxpQkFBT2xHLFdBQVAsR0FBcUIsQ0FBcEM7QUFDQSxRQUFLbUMsSUFBTCxHQUFZLGlCQUFPOEwsSUFBUCxDQUFZOEIsTUFBWixDQUFtQjdKLE1BQW5CLEVBQTJCLEVBQTNCLEVBQStCLElBQS9CLENBQVo7QUFDQTs7OzJCQUdRO0FBQ1IsUUFBS3dGLE1BQUwsQ0FBWXRDLElBQVo7QUFDQSxjQUFHWSxJQUFILENBQVEsS0FBSzdILElBQWI7QUFDQTs7OztFQWpCbUIsaUJBQU8ySixJOztrQkFzQmJnRSxNOzs7Ozs7QUM3QmYseURBQXlELG9EQUFvRCwrQkFBK0IseUJBQXlCLDhCQUE4QiwyQkFBMkIsaUNBQWlDLDZCQUE2QiwrQkFBK0IsdUJBQXVCLHFCQUFxQixnR0FBZ0csa0NBQWtDLDRDQUE0QyxHQUFHLEM7Ozs7OztBQ0F4aEIsOEZBQThGLDBDQUEwQywrQkFBK0IsbUNBQW1DLDBDQUEwQyxHQUFHLDRDQUE0Qyw2QkFBNkIsR0FBRyw2REFBNkQsc0NBQXNDLHdDQUF3QyxHQUFHLEM7Ozs7Ozs7Ozs7Ozs7OztBQ0VqZDs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7OzsrZUFMQTs7SUFPTUUsVTs7O0FBRUwsdUJBQWM7QUFBQTs7QUFBQTtBQUViOzs7OzBCQUdPO0FBQ1AsT0FBTXpDLElBQUksaUJBQU92TixXQUFQLEdBQXFCLENBQS9CO0FBQ0EsUUFBS21DLElBQUwsR0FBWSxpQkFBTzhMLElBQVAsQ0FBWWUsS0FBWixDQUFrQnpCLENBQWxCLEVBQXFCQSxDQUFyQixFQUF3QixDQUF4QixFQUEyQixJQUEzQixDQUFaO0FBQ0E7OzsyQkFHUTtBQUNSLFFBQUs3QixNQUFMLENBQVl0QyxJQUFaO0FBQ0EsY0FBR1ksSUFBSCxDQUFRLEtBQUs3SCxJQUFiO0FBQ0E7Ozs7RUFoQnVCLGlCQUFPMkosSTs7a0JBcUJqQmtFLFU7Ozs7OztBQzVCZix5REFBeUQsb0RBQW9ELCtCQUErQix5QkFBeUIsOEJBQThCLDJCQUEyQixpQ0FBaUMsK0JBQStCLHVCQUF1QiwrQkFBK0IscUJBQXFCLHNDQUFzQyw0QkFBNEIsc0ZBQXNGLHNDQUFzQyxvQ0FBb0MsOEJBQThCLEdBQUcsQzs7Ozs7O0FDQTVtQiw4RkFBOEYsZ0RBQWdELDRCQUE0QixpQ0FBaUMscUJBQXFCLGtEQUFrRCxpQ0FBaUMsd0RBQXdELDZDQUE2QyxHQUFHLEM7Ozs7Ozs7Ozs7Ozs7OztBQ0UzWjs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7OzsrZUFMQTs7SUFPTUMsTzs7O0FBRUwsb0JBQWM7QUFBQTs7QUFBQTtBQUViOzs7OzBCQUdPO0FBQ1AsT0FBSTdOLElBQUksaUJBQU9wQyxXQUFQLEdBQXFCLENBQTdCO0FBQ0EsUUFBS21DLElBQUwsR0FBWSxpQkFBTzhMLElBQVAsQ0FBWWUsS0FBWixDQUFrQjVNLENBQWxCLEVBQXFCQSxDQUFyQixFQUF3QixDQUF4QixDQUFaOztBQUZPLE9BSUNqQyxTQUpELG9CQUlDQSxTQUpEOztBQUtQLFFBQUsrUCxRQUFMLEdBQWdCLEVBQWhCOztBQUVBLFFBQUksSUFBSWxELElBQUUsQ0FBVixFQUFhQSxJQUFFN00sU0FBZixFQUEwQjZNLEdBQTFCLEVBQStCO0FBQzlCLFFBQU0xRyxNQUFNQyxLQUFLQyxNQUFMLEVBQVo7QUFDQSxRQUFJMkosSUFBSSxDQUFDbkQsSUFBRTdNLFNBQUYsR0FBYyxHQUFmLElBQXNCaUMsQ0FBOUI7QUFDQW1FLFNBQUtFLFNBQUwsQ0FBZUgsR0FBZixFQUFvQkEsR0FBcEIsRUFBeUJJLEtBQUtDLFVBQUwsQ0FBZ0IsQ0FBaEIsRUFBbUJ2RSxJQUFFLENBQXJCLEVBQXdCK04sQ0FBeEIsQ0FBekI7QUFDQSxTQUFLRCxRQUFMLENBQWNqTyxJQUFkLENBQW1CcUUsR0FBbkI7QUFDQTs7QUFFRCxRQUFLbUosTUFBTCxHQUFjLEdBQWQ7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7Ozt5QkFHTTdOLE8sRUFBUztBQUFBOztBQUNmLGNBQUd3TyxzQkFBSDtBQUNBLFFBQUsxRSxNQUFMLENBQVl0QyxJQUFaO0FBQ0EsUUFBS3NDLE1BQUwsQ0FBWUMsT0FBWixDQUFvQixTQUFwQixFQUErQixPQUEvQixFQUF3QyxLQUFLOEQsTUFBN0M7QUFDQSxRQUFLL0QsTUFBTCxDQUFZQyxPQUFaLENBQW9CLE1BQXBCLEVBQTRCLE9BQTVCLEVBQXFDLGlCQUFPdkwsUUFBNUM7QUFDQSxRQUFLc0wsTUFBTCxDQUFZQyxPQUFaLENBQW9CLFlBQXBCLEVBQWtDLE9BQWxDLEVBQTJDLGlCQUFPeEwsU0FBbEQ7QUFDQSxRQUFLdUwsTUFBTCxDQUFZQyxPQUFaLENBQW9CLFNBQXBCLEVBQStCLFdBQS9CLEVBQTRDLENBQTVDO0FBQ0EvSixXQUFRd0gsSUFBUixDQUFhLENBQWI7O0FBRUEsUUFBSzhHLFFBQUwsQ0FBY0csT0FBZCxDQUF1QixlQUFPO0FBQzdCLFdBQUszRSxNQUFMLENBQVlDLE9BQVosQ0FBb0IsY0FBcEIsRUFBb0MsTUFBcEMsRUFBNENyRixHQUE1QztBQUNBLGVBQUcwRCxJQUFILENBQVEsT0FBSzdILElBQWI7QUFDQSxJQUhEO0FBSUEsY0FBRzZELG1CQUFIO0FBQ0E7Ozs7RUE1Q29CLGlCQUFPOEYsSTs7a0JBaURkbUUsTzs7Ozs7O0FDeERmLHlEQUF5RCxvREFBb0QsK0JBQStCLHlCQUF5Qiw4QkFBOEIsMkJBQTJCLGlDQUFpQyw0QkFBNEIsdUNBQXVDLCtCQUErQix1QkFBdUIseUJBQXlCLHFCQUFxQiw2R0FBNkcsc0ZBQXNGLDBFQUEwRSxrQ0FBa0MsNEJBQTRCLDZCQUE2QixHQUFHLEM7Ozs7OztBQ0FqeEIsd0NBQXdDLGdEQUFnRCx5QkFBeUIsNEJBQTRCLHFCQUFxQiwyQkFBMkIsd0JBQXdCLHFDQUFxQywrQkFBK0IsZ0NBQWdDLDZCQUE2QixHQUFHLDhCQUE4QixtQ0FBbUMsK0JBQStCLDhCQUE4QixzQ0FBc0MsaUNBQWlDLHFEQUFxRCxxREFBcUQsOENBQThDLDhDQUE4QywwQ0FBMEMseUNBQXlDLGtDQUFrQyxpQkFBaUIsR0FBRyx5QkFBeUIsc0NBQXNDLG9EQUFvRCxrRUFBa0UsOEVBQThFLGlDQUFpQyxHQUFHLEM7Ozs7Ozs7Ozs7Ozs7OztBQ0VwcEM7Ozs7QUFFQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7Ozs7K2VBTkE7O0lBUU1LLFE7OztBQUVMLHFCQUFjO0FBQUE7O0FBQUEsNkdBQ1AsaUJBQU9oRSxVQUFQLENBQWtCQyxlQURYO0FBRWI7Ozs7MEJBR087QUFDUCxRQUFLcEssSUFBTCxHQUFZLGlCQUFPOEwsSUFBUCxDQUFZNUIsV0FBWixFQUFaO0FBQ0EsUUFBS2tFLFlBQUwsR0FBb0IsaUJBQU9oTyxHQUFQLENBQVcsT0FBWCxDQUFwQjtBQUNBLFFBQUtnTyxZQUFMLENBQWtCNUQsS0FBbEIsR0FBMEIsS0FBSzRELFlBQUwsQ0FBa0IxRCxLQUFsQixHQUEwQixXQUFHMkQsTUFBdkQ7QUFDQSxRQUFLRCxZQUFMLENBQWtCckksU0FBbEIsR0FBOEIsS0FBS3FJLFlBQUwsQ0FBa0JuSSxTQUFsQixHQUE4QixXQUFHcUksT0FBL0Q7QUFDQTs7O3lCQUdNN08sTyxFQUFTO0FBQ2YsUUFBSzhKLE1BQUwsQ0FBWXRDLElBQVo7QUFDQSxRQUFLc0MsTUFBTCxDQUFZQyxPQUFaLENBQW9CLFNBQXBCLEVBQStCLFdBQS9CLEVBQTRDLENBQTVDO0FBQ0EvSixXQUFRd0gsSUFBUixDQUFhLENBQWI7QUFDQSxRQUFLc0MsTUFBTCxDQUFZQyxPQUFaLENBQW9CLGNBQXBCLEVBQW9DLFdBQXBDLEVBQWlELENBQWpEO0FBQ0EsUUFBSzRFLFlBQUwsQ0FBa0JuSCxJQUFsQixDQUF1QixDQUF2QjtBQUNBLFFBQUtzQyxNQUFMLENBQVlDLE9BQVosQ0FBb0IsYUFBcEIsRUFBbUMsTUFBbkMsRUFBMkMsQ0FBQyxJQUFFLFdBQUd6RyxLQUFOLEVBQWEsSUFBRSxXQUFHK0MsTUFBbEIsQ0FBM0M7QUFDQSxRQUFLeUQsTUFBTCxDQUFZQyxPQUFaLENBQW9CLFVBQXBCLEVBQWdDLE9BQWhDLEVBQXlDLGlCQUFPbkwsY0FBaEQ7QUFDQSxjQUFHd0osSUFBSCxDQUFRLEtBQUs3SCxJQUFiO0FBQ0E7Ozs7RUF4QnFCLGlCQUFPMkosSTs7a0JBNkJmd0UsUTs7Ozs7O0FDckNmLG9GQUFvRixnREFBZ0QsNEJBQTRCLGlDQUFpQywyQkFBMkIseUJBQXlCLHdDQUF3QyxtSkFBbUosaUJBQWlCLHVDQUF1QyxvRkFBb0YsbUZBQW1GLG1GQUFtRixrRkFBa0YsZ0VBQWdFLDRDQUE0QyxzQ0FBc0Msc0NBQXNDLHNDQUFzQyxzQ0FBc0Msc0NBQXNDLGdGQUFnRixnRkFBZ0YsaUJBQWlCLHVEQUF1RCx1REFBdUQsMElBQTBJLDBFQUEwRSw0SkFBNEosNkxBQTZMLDhLQUE4SyxzQ0FBc0MsbUZBQW1GLDRDQUE0QyxtQkFBbUIsR0FBRyw4Q0FBOEMsc0dBQXNHLEdBQUcsNkRBQTZELDRHQUE0Ryx1Q0FBdUMsR0FBRyxxQkFBcUIsb0NBQW9DLGtDQUFrQyxpREFBaUQseURBQXlELHlCQUF5QixHQUFHLEM7Ozs7Ozs7Ozs7Ozs7QUNFOTFGOzs7O0FBQ0E7Ozs7OztBQUhBOztrQkFLZSxVQUFDMUssS0FBRCxFQUFXO0FBQ3pCOUIsWUFBVyxZQUFLO0FBQ2YrQixNQUFJbEIsR0FBSixtQkFBZ0IsVUFBaEIsRUFBNEIsQ0FBNUIsRUFBK0IsR0FBL0IsRUFBb0MrTCxjQUFwQyxDQUFtRCxtQkFBUzFOLE1BQTVEO0FBQ0E2QyxNQUFJbEIsR0FBSixtQkFBZ0IsV0FBaEIsRUFBNkIsQ0FBN0IsRUFBZ0MsQ0FBaEMsRUFBbUNnTSxRQUFuQyxDQUE0QyxtQkFBU25OLE9BQXJEO0FBQ0FxQyxNQUFJbEIsR0FBSixtQkFBZ0IsYUFBaEIsRUFBK0IsQ0FBL0IsRUFBa0MsQ0FBbEMsRUFBcUMrTCxjQUFyQyxDQUFvRCxtQkFBUzFOLE1BQTdEO0FBQ0E2QyxNQUFJbEIsR0FBSixtQkFBZ0IsZ0JBQWhCLEVBQWtDLENBQWxDLEVBQXFDLENBQXJDLEVBQXdDK0wsY0FBeEMsQ0FBdUQsbUJBQVNsTixPQUFoRTtBQUNBcUMsTUFBSWxCLEdBQUosbUJBQWdCLGdCQUFoQixFQUFrQyxDQUFsQyxFQUFxQyxDQUFyQyxFQUF3QytMLGNBQXhDLENBQXVELG1CQUFTMU4sTUFBaEU7QUFDQTZDLE1BQUlsQixHQUFKLG1CQUFnQixXQUFoQixFQUE2QixDQUE3QixFQUFnQyxFQUFoQyxFQUFvQ2lNLElBQXBDLENBQXlDLENBQXpDLEVBQTRDRixjQUE1QyxDQUEyRCxtQkFBUzFOLE1BQXBFO0FBQ0E2QyxNQUFJbEIsR0FBSixtQkFBZ0IsWUFBaEIsRUFBOEIsQ0FBOUIsRUFBaUMsRUFBakMsRUFBcUMrTCxjQUFyQyxDQUFvRCxtQkFBUzFOLE1BQTdEO0FBQ0E2QyxNQUFJbEIsR0FBSixtQkFBZ0IsZ0JBQWhCLEVBQWtDLENBQWxDLEVBQXFDLENBQXJDLEVBQXdDZ00sUUFBeEMsQ0FBaUQsbUJBQVNuTixPQUExRDtBQUNBcUMsTUFBSWxCLEdBQUosbUJBQWdCLE1BQWhCLEVBQXdCa00sSUFBeEIsQ0FBNkIsYUFBN0IsRUFBNENGLFFBQTVDLENBQXFELG1CQUFTbk4sT0FBOUQ7QUFDQXFDLE1BQUlsQixHQUFKLENBQVFpQixLQUFSLEVBQWUsYUFBZjtBQUNBLEVBWEQsRUFXRyxHQVhIO0FBWUEsQzs7Ozs7OztBQ2xCRDs7QUFFQTtBQUNBOztBQUVBOzs7Ozs7OztBQ0xBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7O0FDMU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNILG9CQUFvQixTQUFTO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7Ozs7OztBQzdTQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOzs7Ozs7OztBQ3hUQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLENBQUMiLCJmaWxlIjoiYXNzZXRzL2pzL2FwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdGZ1bmN0aW9uIGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKSB7XG4gXHRcdGRlbGV0ZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHR9XG4gXHR2YXIgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2sgPSB3aW5kb3dbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdO1xuIFx0d2luZG93W1wid2VicGFja0hvdFVwZGF0ZVwiXSA9IFxyXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcdGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcclxuIFx0XHRpZihwYXJlbnRIb3RVcGRhdGVDYWxsYmFjaykgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xyXG4gXHR9IDtcclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0dmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcbiBcdFx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XHJcbiBcdFx0c2NyaXB0LnR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiO1xyXG4gXHRcdHNjcmlwdC5jaGFyc2V0ID0gXCJ1dGYtOFwiO1xyXG4gXHRcdHNjcmlwdC5zcmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgY2h1bmtJZCArIFwiLlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzXCI7XHJcbiBcdFx0O1xyXG4gXHRcdGhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdChyZXF1ZXN0VGltZW91dCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0cmVxdWVzdFRpbWVvdXQgPSByZXF1ZXN0VGltZW91dCB8fCAxMDAwMDtcclxuIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiBcdFx0XHRpZih0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09IFwidW5kZWZpbmVkXCIpXHJcbiBcdFx0XHRcdHJldHVybiByZWplY3QobmV3IEVycm9yKFwiTm8gYnJvd3NlciBzdXBwb3J0XCIpKTtcclxuIFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiBcdFx0XHRcdHZhciByZXF1ZXN0UGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNvblwiO1xyXG4gXHRcdFx0XHRyZXF1ZXN0Lm9wZW4oXCJHRVRcIiwgcmVxdWVzdFBhdGgsIHRydWUpO1xyXG4gXHRcdFx0XHRyZXF1ZXN0LnRpbWVvdXQgPSByZXF1ZXN0VGltZW91dDtcclxuIFx0XHRcdFx0cmVxdWVzdC5zZW5kKG51bGwpO1xyXG4gXHRcdFx0fSBjYXRjaChlcnIpIHtcclxuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChlcnIpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuIFx0XHRcdFx0aWYocmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSByZXR1cm47XHJcbiBcdFx0XHRcdGlmKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XHJcbiBcdFx0XHRcdFx0Ly8gdGltZW91dFxyXG4gXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiB0aW1lZCBvdXQuXCIpKTtcclxuIFx0XHRcdFx0fSBlbHNlIGlmKHJlcXVlc3Quc3RhdHVzID09PSA0MDQpIHtcclxuIFx0XHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXHJcbiBcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG4gXHRcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XHJcbiBcdFx0XHRcdFx0Ly8gb3RoZXIgZmFpbHVyZVxyXG4gXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiBmYWlsZWQuXCIpKTtcclxuIFx0XHRcdFx0fSBlbHNlIHtcclxuIFx0XHRcdFx0XHQvLyBzdWNjZXNzXHJcbiBcdFx0XHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0XHRcdHZhciB1cGRhdGUgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcclxuIFx0XHRcdFx0XHR9IGNhdGNoKGUpIHtcclxuIFx0XHRcdFx0XHRcdHJlamVjdChlKTtcclxuIFx0XHRcdFx0XHRcdHJldHVybjtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0cmVzb2x2ZSh1cGRhdGUpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9O1xyXG4gXHRcdH0pO1xyXG4gXHR9XHJcblxuIFx0XHJcbiBcdFxyXG4gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XHJcbiBcdHZhciBob3RDdXJyZW50SGFzaCA9IFwiNDZjZWE5YjkxODJlZTBiMDMxZTFcIjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHR2YXIgaG90UmVxdWVzdFRpbWVvdXQgPSAxMDAwMDtcclxuIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XHJcbiBcdHZhciBob3RDdXJyZW50Q2hpbGRNb2R1bGU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgbWUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRpZighbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xyXG4gXHRcdHZhciBmbiA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcclxuIFx0XHRcdGlmKG1lLmhvdC5hY3RpdmUpIHtcclxuIFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xyXG4gXHRcdFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKSA8IDApXHJcbiBcdFx0XHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMucHVzaChtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHJlcXVlc3Q7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0aWYobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA8IDApXHJcbiBcdFx0XHRcdFx0bWUuY2hpbGRyZW4ucHVzaChyZXF1ZXN0KTtcclxuIFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdGNvbnNvbGUud2FybihcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlcXVlc3QgKyBcIikgZnJvbSBkaXNwb3NlZCBtb2R1bGUgXCIgKyBtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhyZXF1ZXN0KTtcclxuIFx0XHR9O1xyXG4gXHRcdHZhciBPYmplY3RGYWN0b3J5ID0gZnVuY3Rpb24gT2JqZWN0RmFjdG9yeShuYW1lKSB7XHJcbiBcdFx0XHRyZXR1cm4ge1xyXG4gXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXHJcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcbiBcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcbiBcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XHJcbiBcdFx0XHRcdH0sXHJcbiBcdFx0XHRcdHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuIFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH07XHJcbiBcdFx0fTtcclxuIFx0XHRmb3IodmFyIG5hbWUgaW4gX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpICYmIG5hbWUgIT09IFwiZVwiKSB7XHJcbiBcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgT2JqZWN0RmFjdG9yeShuYW1lKSk7XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcdGZuLmUgPSBmdW5jdGlvbihjaHVua0lkKSB7XHJcbiBcdFx0XHRpZihob3RTdGF0dXMgPT09IFwicmVhZHlcIilcclxuIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuIFx0XHRcdGhvdENodW5rc0xvYWRpbmcrKztcclxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoY2h1bmtJZCkudGhlbihmaW5pc2hDaHVua0xvYWRpbmcsIGZ1bmN0aW9uKGVycikge1xyXG4gXHRcdFx0XHRmaW5pc2hDaHVua0xvYWRpbmcoKTtcclxuIFx0XHRcdFx0dGhyb3cgZXJyO1xyXG4gXHRcdFx0fSk7XHJcbiBcdFxyXG4gXHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xyXG4gXHRcdFx0XHRob3RDaHVua3NMb2FkaW5nLS07XHJcbiBcdFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcclxuIFx0XHRcdFx0XHRpZighaG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdKSB7XHJcbiBcdFx0XHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0aWYoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuIFx0XHRcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9O1xyXG4gXHRcdHJldHVybiBmbjtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgaG90ID0ge1xyXG4gXHRcdFx0Ly8gcHJpdmF0ZSBzdHVmZlxyXG4gXHRcdFx0X2FjY2VwdGVkRGVwZW5kZW5jaWVzOiB7fSxcclxuIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXHJcbiBcdFx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcclxuIFx0XHRcdF9zZWxmRGVjbGluZWQ6IGZhbHNlLFxyXG4gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXHJcbiBcdFx0XHRfbWFpbjogaG90Q3VycmVudENoaWxkTW9kdWxlICE9PSBtb2R1bGVJZCxcclxuIFx0XHJcbiBcdFx0XHQvLyBNb2R1bGUgQVBJXHJcbiBcdFx0XHRhY3RpdmU6IHRydWUsXHJcbiBcdFx0XHRhY2NlcHQ6IGZ1bmN0aW9uKGRlcCwgY2FsbGJhY2spIHtcclxuIFx0XHRcdFx0aWYodHlwZW9mIGRlcCA9PT0gXCJ1bmRlZmluZWRcIilcclxuIFx0XHRcdFx0XHRob3QuX3NlbGZBY2NlcHRlZCA9IHRydWU7XHJcbiBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fc2VsZkFjY2VwdGVkID0gZGVwO1xyXG4gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXHJcbiBcdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcclxuIFx0XHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XHJcbiBcdFx0XHRcdGVsc2VcclxuIFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcF0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xyXG4gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fc2VsZkRlY2xpbmVkID0gdHJ1ZTtcclxuIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxyXG4gXHRcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xyXG4gXHRcdFx0XHRlbHNlXHJcbiBcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBdID0gdHJ1ZTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRkaXNwb3NlOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRhZGREaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuIFx0XHRcdFx0aWYoaWR4ID49IDApIGhvdC5fZGlzcG9zZUhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHJcbiBcdFx0XHQvLyBNYW5hZ2VtZW50IEFQSVxyXG4gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxyXG4gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxyXG4gXHRcdFx0c3RhdHVzOiBmdW5jdGlvbihsKSB7XHJcbiBcdFx0XHRcdGlmKCFsKSByZXR1cm4gaG90U3RhdHVzO1xyXG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcclxuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbiBcdFx0XHRcdHZhciBpZHggPSBob3RTdGF0dXNIYW5kbGVycy5pbmRleE9mKGwpO1xyXG4gXHRcdFx0XHRpZihpZHggPj0gMCkgaG90U3RhdHVzSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcclxuIFx0XHRcdC8vaW5oZXJpdCBmcm9tIHByZXZpb3VzIGRpc3Bvc2UgY2FsbFxyXG4gXHRcdFx0ZGF0YTogaG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdXHJcbiBcdFx0fTtcclxuIFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSB1bmRlZmluZWQ7XHJcbiBcdFx0cmV0dXJuIGhvdDtcclxuIFx0fVxyXG4gXHRcclxuIFx0dmFyIGhvdFN0YXR1c0hhbmRsZXJzID0gW107XHJcbiBcdHZhciBob3RTdGF0dXMgPSBcImlkbGVcIjtcclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdFNldFN0YXR1cyhuZXdTdGF0dXMpIHtcclxuIFx0XHRob3RTdGF0dXMgPSBuZXdTdGF0dXM7XHJcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGhvdFN0YXR1c0hhbmRsZXJzLmxlbmd0aDsgaSsrKVxyXG4gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xyXG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzID0gMDtcclxuIFx0dmFyIGhvdENodW5rc0xvYWRpbmcgPSAwO1xyXG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XHJcbiBcdHZhciBob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xyXG4gXHR2YXIgaG90QXZhaWxhYmxlRmlsZXNNYXAgPSB7fTtcclxuIFx0dmFyIGhvdERlZmVycmVkO1xyXG4gXHRcclxuIFx0Ly8gVGhlIHVwZGF0ZSBpbmZvXHJcbiBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2g7XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiB0b01vZHVsZUlkKGlkKSB7XHJcbiBcdFx0dmFyIGlzTnVtYmVyID0gKCtpZCkgKyBcIlwiID09PSBpZDtcclxuIFx0XHRyZXR1cm4gaXNOdW1iZXIgPyAraWQgOiBpZDtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90Q2hlY2soYXBwbHkpIHtcclxuIFx0XHRpZihob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJjaGVjaygpIGlzIG9ubHkgYWxsb3dlZCBpbiBpZGxlIHN0YXR1c1wiKTtcclxuIFx0XHRob3RBcHBseU9uVXBkYXRlID0gYXBwbHk7XHJcbiBcdFx0aG90U2V0U3RhdHVzKFwiY2hlY2tcIik7XHJcbiBcdFx0cmV0dXJuIGhvdERvd25sb2FkTWFuaWZlc3QoaG90UmVxdWVzdFRpbWVvdXQpLnRoZW4oZnVuY3Rpb24odXBkYXRlKSB7XHJcbiBcdFx0XHRpZighdXBkYXRlKSB7XHJcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XHJcbiBcdFx0XHRcdHJldHVybiBudWxsO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcclxuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xyXG4gXHRcdFx0aG90QXZhaWxhYmxlRmlsZXNNYXAgPSB1cGRhdGUuYztcclxuIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcclxuIFx0XHJcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xyXG4gXHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuIFx0XHRcdFx0aG90RGVmZXJyZWQgPSB7XHJcbiBcdFx0XHRcdFx0cmVzb2x2ZTogcmVzb2x2ZSxcclxuIFx0XHRcdFx0XHRyZWplY3Q6IHJlamVjdFxyXG4gXHRcdFx0XHR9O1xyXG4gXHRcdFx0fSk7XHJcbiBcdFx0XHRob3RVcGRhdGUgPSB7fTtcclxuIFx0XHRcdHZhciBjaHVua0lkID0gMDtcclxuIFx0XHRcdHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lLWJsb2Nrc1xyXG4gXHRcdFx0XHQvKmdsb2JhbHMgY2h1bmtJZCAqL1xyXG4gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0cmV0dXJuIHByb21pc2U7XHJcbiBcdFx0fSk7XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHRpZighaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gfHwgIWhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdKVxyXG4gXHRcdFx0cmV0dXJuO1xyXG4gXHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gZmFsc2U7XHJcbiBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0aG90VXBkYXRlW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFx0aWYoLS1ob3RXYWl0aW5nRmlsZXMgPT09IDAgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCkge1xyXG4gXHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4gXHRcdH1cclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xyXG4gXHRcdGlmKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSkge1xyXG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xyXG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzKys7XHJcbiBcdFx0XHRob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4gXHRcdH1cclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcclxuIFx0XHRob3RTZXRTdGF0dXMoXCJyZWFkeVwiKTtcclxuIFx0XHR2YXIgZGVmZXJyZWQgPSBob3REZWZlcnJlZDtcclxuIFx0XHRob3REZWZlcnJlZCA9IG51bGw7XHJcbiBcdFx0aWYoIWRlZmVycmVkKSByZXR1cm47XHJcbiBcdFx0aWYoaG90QXBwbHlPblVwZGF0ZSkge1xyXG4gXHRcdFx0Ly8gV3JhcCBkZWZlcnJlZCBvYmplY3QgaW4gUHJvbWlzZSB0byBtYXJrIGl0IGFzIGEgd2VsbC1oYW5kbGVkIFByb21pc2UgdG9cclxuIFx0XHRcdC8vIGF2b2lkIHRyaWdnZXJpbmcgdW5jYXVnaHQgZXhjZXB0aW9uIHdhcm5pbmcgaW4gQ2hyb21lLlxyXG4gXHRcdFx0Ly8gU2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ2NTY2NlxyXG4gXHRcdFx0UHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpIHtcclxuIFx0XHRcdFx0cmV0dXJuIGhvdEFwcGx5KGhvdEFwcGx5T25VcGRhdGUpO1xyXG4gXHRcdFx0fSkudGhlbihcclxuIFx0XHRcdFx0ZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiBcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xyXG4gXHRcdFx0XHR9LFxyXG4gXHRcdFx0XHRmdW5jdGlvbihlcnIpIHtcclxuIFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0KTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuIFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2godG9Nb2R1bGVJZChpZCkpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKG91dGRhdGVkTW9kdWxlcyk7XHJcbiBcdFx0fVxyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RBcHBseShvcHRpb25zKSB7XHJcbiBcdFx0aWYoaG90U3RhdHVzICE9PSBcInJlYWR5XCIpIHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcclxuIFx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuIFx0XHJcbiBcdFx0dmFyIGNiO1xyXG4gXHRcdHZhciBpO1xyXG4gXHRcdHZhciBqO1xyXG4gXHRcdHZhciBtb2R1bGU7XHJcbiBcdFx0dmFyIG1vZHVsZUlkO1xyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKHVwZGF0ZU1vZHVsZUlkKSB7XHJcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW3VwZGF0ZU1vZHVsZUlkXTtcclxuIFx0XHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xyXG4gXHRcclxuIFx0XHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpLm1hcChmdW5jdGlvbihpZCkge1xyXG4gXHRcdFx0XHRyZXR1cm4ge1xyXG4gXHRcdFx0XHRcdGNoYWluOiBbaWRdLFxyXG4gXHRcdFx0XHRcdGlkOiBpZFxyXG4gXHRcdFx0XHR9O1xyXG4gXHRcdFx0fSk7XHJcbiBcdFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiBcdFx0XHRcdHZhciBxdWV1ZUl0ZW0gPSBxdWV1ZS5wb3AoKTtcclxuIFx0XHRcdFx0dmFyIG1vZHVsZUlkID0gcXVldWVJdGVtLmlkO1xyXG4gXHRcdFx0XHR2YXIgY2hhaW4gPSBxdWV1ZUl0ZW0uY2hhaW47XHJcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRpZighbW9kdWxlIHx8IG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZClcclxuIFx0XHRcdFx0XHRjb250aW51ZTtcclxuIFx0XHRcdFx0aWYobW9kdWxlLmhvdC5fc2VsZkRlY2xpbmVkKSB7XHJcbiBcdFx0XHRcdFx0cmV0dXJuIHtcclxuIFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1kZWNsaW5lZFwiLFxyXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxyXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXHJcbiBcdFx0XHRcdFx0fTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRpZihtb2R1bGUuaG90Ll9tYWluKSB7XHJcbiBcdFx0XHRcdFx0cmV0dXJuIHtcclxuIFx0XHRcdFx0XHRcdHR5cGU6IFwidW5hY2NlcHRlZFwiLFxyXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxyXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXHJcbiBcdFx0XHRcdFx0fTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbW9kdWxlLnBhcmVudHMubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdFx0XHR2YXIgcGFyZW50SWQgPSBtb2R1bGUucGFyZW50c1tpXTtcclxuIFx0XHRcdFx0XHR2YXIgcGFyZW50ID0gaW5zdGFsbGVkTW9kdWxlc1twYXJlbnRJZF07XHJcbiBcdFx0XHRcdFx0aWYoIXBhcmVudCkgY29udGludWU7XHJcbiBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbiBcdFx0XHRcdFx0XHRyZXR1cm4ge1xyXG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcImRlY2xpbmVkXCIsXHJcbiBcdFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXHJcbiBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcclxuIFx0XHRcdFx0XHRcdFx0cGFyZW50SWQ6IHBhcmVudElkXHJcbiBcdFx0XHRcdFx0XHR9O1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRpZihvdXRkYXRlZE1vZHVsZXMuaW5kZXhPZihwYXJlbnRJZCkgPj0gMCkgY29udGludWU7XHJcbiBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbiBcdFx0XHRcdFx0XHRpZighb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdKVxyXG4gXHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0gPSBbXTtcclxuIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XHJcbiBcdFx0XHRcdFx0XHRjb250aW51ZTtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcclxuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaChwYXJlbnRJZCk7XHJcbiBcdFx0XHRcdFx0cXVldWUucHVzaCh7XHJcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxyXG4gXHRcdFx0XHRcdFx0aWQ6IHBhcmVudElkXHJcbiBcdFx0XHRcdFx0fSk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHJcbiBcdFx0XHRyZXR1cm4ge1xyXG4gXHRcdFx0XHR0eXBlOiBcImFjY2VwdGVkXCIsXHJcbiBcdFx0XHRcdG1vZHVsZUlkOiB1cGRhdGVNb2R1bGVJZCxcclxuIFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzOiBvdXRkYXRlZE1vZHVsZXMsXHJcbiBcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzOiBvdXRkYXRlZERlcGVuZGVuY2llc1xyXG4gXHRcdFx0fTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdGZ1bmN0aW9uIGFkZEFsbFRvU2V0KGEsIGIpIHtcclxuIFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdHZhciBpdGVtID0gYltpXTtcclxuIFx0XHRcdFx0aWYoYS5pbmRleE9mKGl0ZW0pIDwgMClcclxuIFx0XHRcdFx0XHRhLnB1c2goaXRlbSk7XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxyXG4gXHRcdC8vIHRoZSBcIm91dGRhdGVkXCIgc3RhdHVzIGNhbiBwcm9wYWdhdGUgdG8gcGFyZW50cyBpZiB0aGV5IGRvbid0IGFjY2VwdCB0aGUgY2hpbGRyZW5cclxuIFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcclxuIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XHJcbiBcdFx0dmFyIGFwcGxpZWRVcGRhdGUgPSB7fTtcclxuIFx0XHJcbiBcdFx0dmFyIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSA9IGZ1bmN0aW9uIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSgpIHtcclxuIFx0XHRcdGNvbnNvbGUud2FybihcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiKSB0byBkaXNwb3NlZCBtb2R1bGVcIik7XHJcbiBcdFx0fTtcclxuIFx0XHJcbiBcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xyXG4gXHRcdFx0XHRtb2R1bGVJZCA9IHRvTW9kdWxlSWQoaWQpO1xyXG4gXHRcdFx0XHR2YXIgcmVzdWx0O1xyXG4gXHRcdFx0XHRpZihob3RVcGRhdGVbaWRdKSB7XHJcbiBcdFx0XHRcdFx0cmVzdWx0ID0gZ2V0QWZmZWN0ZWRTdHVmZihtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdFx0cmVzdWx0ID0ge1xyXG4gXHRcdFx0XHRcdFx0dHlwZTogXCJkaXNwb3NlZFwiLFxyXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IGlkXHJcbiBcdFx0XHRcdFx0fTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR2YXIgYWJvcnRFcnJvciA9IGZhbHNlO1xyXG4gXHRcdFx0XHR2YXIgZG9BcHBseSA9IGZhbHNlO1xyXG4gXHRcdFx0XHR2YXIgZG9EaXNwb3NlID0gZmFsc2U7XHJcbiBcdFx0XHRcdHZhciBjaGFpbkluZm8gPSBcIlwiO1xyXG4gXHRcdFx0XHRpZihyZXN1bHQuY2hhaW4pIHtcclxuIFx0XHRcdFx0XHRjaGFpbkluZm8gPSBcIlxcblVwZGF0ZSBwcm9wYWdhdGlvbjogXCIgKyByZXN1bHQuY2hhaW4uam9pbihcIiAtPiBcIik7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0c3dpdGNoKHJlc3VsdC50eXBlKSB7XHJcbiBcdFx0XHRcdFx0Y2FzZSBcInNlbGYtZGVjbGluZWRcIjpcclxuIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25EZWNsaW5lZClcclxuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XHJcbiBcdFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcclxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBvZiBzZWxmIGRlY2xpbmU6IFwiICsgcmVzdWx0Lm1vZHVsZUlkICsgY2hhaW5JbmZvKTtcclxuIFx0XHRcdFx0XHRcdGJyZWFrO1xyXG4gXHRcdFx0XHRcdGNhc2UgXCJkZWNsaW5lZFwiOlxyXG4gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkRlY2xpbmVkKVxyXG4gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcclxuIFx0XHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxyXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIG9mIGRlY2xpbmVkIGRlcGVuZGVuY3k6IFwiICsgcmVzdWx0Lm1vZHVsZUlkICsgXCIgaW4gXCIgKyByZXN1bHQucGFyZW50SWQgKyBjaGFpbkluZm8pO1xyXG4gXHRcdFx0XHRcdFx0YnJlYWs7XHJcbiBcdFx0XHRcdFx0Y2FzZSBcInVuYWNjZXB0ZWRcIjpcclxuIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25VbmFjY2VwdGVkKVxyXG4gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uVW5hY2NlcHRlZChyZXN1bHQpO1xyXG4gXHRcdFx0XHRcdFx0aWYoIW9wdGlvbnMuaWdub3JlVW5hY2NlcHRlZClcclxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBcIiArIG1vZHVsZUlkICsgXCIgaXMgbm90IGFjY2VwdGVkXCIgKyBjaGFpbkluZm8pO1xyXG4gXHRcdFx0XHRcdFx0YnJlYWs7XHJcbiBcdFx0XHRcdFx0Y2FzZSBcImFjY2VwdGVkXCI6XHJcbiBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uQWNjZXB0ZWQpXHJcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25BY2NlcHRlZChyZXN1bHQpO1xyXG4gXHRcdFx0XHRcdFx0ZG9BcHBseSA9IHRydWU7XHJcbiBcdFx0XHRcdFx0XHRicmVhaztcclxuIFx0XHRcdFx0XHRjYXNlIFwiZGlzcG9zZWRcIjpcclxuIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25EaXNwb3NlZClcclxuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkRpc3Bvc2VkKHJlc3VsdCk7XHJcbiBcdFx0XHRcdFx0XHRkb0Rpc3Bvc2UgPSB0cnVlO1xyXG4gXHRcdFx0XHRcdFx0YnJlYWs7XHJcbiBcdFx0XHRcdFx0ZGVmYXVsdDpcclxuIFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVuZXhjZXB0aW9uIHR5cGUgXCIgKyByZXN1bHQudHlwZSk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0aWYoYWJvcnRFcnJvcikge1xyXG4gXHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcImFib3J0XCIpO1xyXG4gXHRcdFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChhYm9ydEVycm9yKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRpZihkb0FwcGx5KSB7XHJcbiBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSBob3RVcGRhdGVbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgcmVzdWx0Lm91dGRhdGVkTW9kdWxlcyk7XHJcbiBcdFx0XHRcdFx0Zm9yKG1vZHVsZUlkIGluIHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4gXHRcdFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdFx0XHRcdGlmKCFvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pXHJcbiBcdFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XHJcbiBcdFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSwgcmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSk7XHJcbiBcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGlmKGRvRGlzcG9zZSkge1xyXG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgW3Jlc3VsdC5tb2R1bGVJZF0pO1xyXG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gd2FyblVuZXhwZWN0ZWRSZXF1aXJlO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXHJcbiBcdFx0dmFyIG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdGZvcihpID0gMDsgaSA8IG91dGRhdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0bW9kdWxlSWQgPSBvdXRkYXRlZE1vZHVsZXNbaV07XHJcbiBcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZClcclxuIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xyXG4gXHRcdFx0XHRcdG1vZHVsZTogbW9kdWxlSWQsXHJcbiBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxyXG4gXHRcdFx0XHR9KTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImRpc3Bvc2VcIik7XHJcbiBcdFx0T2JqZWN0LmtleXMoaG90QXZhaWxhYmxlRmlsZXNNYXApLmZvckVhY2goZnVuY3Rpb24oY2h1bmtJZCkge1xyXG4gXHRcdFx0aWYoaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gPT09IGZhbHNlKSB7XHJcbiBcdFx0XHRcdGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKTtcclxuIFx0XHRcdH1cclxuIFx0XHR9KTtcclxuIFx0XHJcbiBcdFx0dmFyIGlkeDtcclxuIFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcclxuIFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiBcdFx0XHRtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xyXG4gXHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRpZighbW9kdWxlKSBjb250aW51ZTtcclxuIFx0XHJcbiBcdFx0XHR2YXIgZGF0YSA9IHt9O1xyXG4gXHRcclxuIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xyXG4gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcclxuIFx0XHRcdGZvcihqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xyXG4gXHRcdFx0XHRjYiA9IGRpc3Bvc2VIYW5kbGVyc1tqXTtcclxuIFx0XHRcdFx0Y2IoZGF0YSk7XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF0gPSBkYXRhO1xyXG4gXHRcclxuIFx0XHRcdC8vIGRpc2FibGUgbW9kdWxlICh0aGlzIGRpc2FibGVzIHJlcXVpcmVzIGZyb20gdGhpcyBtb2R1bGUpXHJcbiBcdFx0XHRtb2R1bGUuaG90LmFjdGl2ZSA9IGZhbHNlO1xyXG4gXHRcclxuIFx0XHRcdC8vIHJlbW92ZSBtb2R1bGUgZnJvbSBjYWNoZVxyXG4gXHRcdFx0ZGVsZXRlIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcclxuIFx0XHRcdC8vIHdoZW4gZGlzcG9zaW5nIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2FsbCBkaXNwb3NlIGhhbmRsZXJcclxuIFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbiBcdFxyXG4gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cclxuIFx0XHRcdGZvcihqID0gMDsgaiA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xyXG4gXHRcdFx0XHR2YXIgY2hpbGQgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZS5jaGlsZHJlbltqXV07XHJcbiBcdFx0XHRcdGlmKCFjaGlsZCkgY29udGludWU7XHJcbiBcdFx0XHRcdGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdGlmKGlkeCA+PSAwKSB7XHJcbiBcdFx0XHRcdFx0Y2hpbGQucGFyZW50cy5zcGxpY2UoaWR4LCAxKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gcmVtb3ZlIG91dGRhdGVkIGRlcGVuZGVuY3kgZnJvbSBtb2R1bGUgY2hpbGRyZW5cclxuIFx0XHR2YXIgZGVwZW5kZW5jeTtcclxuIFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXM7XHJcbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0aWYobW9kdWxlKSB7XHJcbiBcdFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdFx0Zm9yKGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tqXTtcclxuIFx0XHRcdFx0XHRcdGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xyXG4gXHRcdFx0XHRcdFx0aWYoaWR4ID49IDApIG1vZHVsZS5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIE5vdCBpbiBcImFwcGx5XCIgcGhhc2VcclxuIFx0XHRob3RTZXRTdGF0dXMoXCJhcHBseVwiKTtcclxuIFx0XHJcbiBcdFx0aG90Q3VycmVudEhhc2ggPSBob3RVcGRhdGVOZXdIYXNoO1xyXG4gXHRcclxuIFx0XHQvLyBpbnNlcnQgbmV3IGNvZGVcclxuIFx0XHRmb3IobW9kdWxlSWQgaW4gYXBwbGllZFVwZGF0ZSkge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFwcGxpZWRVcGRhdGUsIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gY2FsbCBhY2NlcHQgaGFuZGxlcnNcclxuIFx0XHR2YXIgZXJyb3IgPSBudWxsO1xyXG4gXHRcdGZvcihtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdGlmKG1vZHVsZSkge1xyXG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRcdHZhciBjYWxsYmFja3MgPSBbXTtcclxuIFx0XHRcdFx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldO1xyXG4gXHRcdFx0XHRcdFx0Y2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcclxuIFx0XHRcdFx0XHRcdGlmKGNiKSB7XHJcbiBcdFx0XHRcdFx0XHRcdGlmKGNhbGxiYWNrcy5pbmRleE9mKGNiKSA+PSAwKSBjb250aW51ZTtcclxuIFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xyXG4gXHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRmb3IoaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdFx0XHRcdGNiID0gY2FsbGJhY2tzW2ldO1xyXG4gXHRcdFx0XHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0XHRcdFx0Y2IobW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMpO1xyXG4gXHRcdFx0XHRcdFx0fSBjYXRjaChlcnIpIHtcclxuIFx0XHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkVycm9yZWQpIHtcclxuIFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XHJcbiBcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcImFjY2VwdC1lcnJvcmVkXCIsXHJcbiBcdFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXHJcbiBcdFx0XHRcdFx0XHRcdFx0XHRkZXBlbmRlbmN5SWQ6IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldLFxyXG4gXHRcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxyXG4gXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG4gXHRcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcclxuIFx0XHRcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbiBcdFx0XHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuIFx0XHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gTG9hZCBzZWxmIGFjY2VwdGVkIG1vZHVsZXNcclxuIFx0XHRmb3IoaSA9IDA7IGkgPCBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdHZhciBpdGVtID0gb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzW2ldO1xyXG4gXHRcdFx0bW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcclxuIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuIFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xyXG4gXHRcdFx0fSBjYXRjaChlcnIpIHtcclxuIFx0XHRcdFx0aWYodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuIFx0XHRcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcclxuIFx0XHRcdFx0XHR9IGNhdGNoKGVycjIpIHtcclxuIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25FcnJvcmVkKSB7XHJcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcclxuIFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yLWhhbmRsZXItZXJyb3JlZFwiLFxyXG4gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcclxuIFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyMixcclxuIFx0XHRcdFx0XHRcdFx0XHRvcmdpbmFsRXJyb3I6IGVyciwgLy8gVE9ETyByZW1vdmUgaW4gd2VicGFjayA0XHJcbiBcdFx0XHRcdFx0XHRcdFx0b3JpZ2luYWxFcnJvcjogZXJyXHJcbiBcdFx0XHRcdFx0XHRcdH0pO1xyXG4gXHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdFx0aWYoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xyXG4gXHRcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbiBcdFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnIyO1xyXG4gXHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkVycm9yZWQpIHtcclxuIFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcclxuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvcmVkXCIsXHJcbiBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcclxuIFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxyXG4gXHRcdFx0XHRcdFx0fSk7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcclxuIFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuIFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxyXG4gXHRcdGlmKGVycm9yKSB7XHJcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xyXG4gXHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XHJcbiBcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcclxuIFx0XHRcdHJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcclxuIFx0XHR9KTtcclxuIFx0fVxyXG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGhvdDogaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSxcbiBcdFx0XHRwYXJlbnRzOiAoaG90Q3VycmVudFBhcmVudHNUZW1wID0gaG90Q3VycmVudFBhcmVudHMsIGhvdEN1cnJlbnRQYXJlbnRzID0gW10sIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCksXG4gXHRcdFx0Y2hpbGRyZW46IFtdXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gX193ZWJwYWNrX2hhc2hfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5oID0gZnVuY3Rpb24oKSB7IHJldHVybiBob3RDdXJyZW50SGFzaDsgfTtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gaG90Q3JlYXRlUmVxdWlyZSg5KShfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA5KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCA0NmNlYTliOTE4MmVlMGIwMzFlMSIsIiFmdW5jdGlvbihyb290LGZhY3Rvcnkpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWZhY3RvcnkoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiYWxmcmlkXCIsW10sZmFjdG9yeSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5hbGZyaWQ9ZmFjdG9yeSgpOnJvb3QuYWxmcmlkPWZhY3RvcnkoKX0odGhpcyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihtb2R1bGVzKXtmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKXtpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0czt2YXIgbW9kdWxlPWluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdPXtpOm1vZHVsZUlkLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsbW9kdWxlLG1vZHVsZS5leHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pLG1vZHVsZS5sPSEwLG1vZHVsZS5leHBvcnRzfXZhciBpbnN0YWxsZWRNb2R1bGVzPXt9O3JldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLm09bW9kdWxlcyxfX3dlYnBhY2tfcmVxdWlyZV9fLmM9aW5zdGFsbGVkTW9kdWxlcyxfX3dlYnBhY2tfcmVxdWlyZV9fLmQ9ZnVuY3Rpb24oZXhwb3J0cyxuYW1lLGdldHRlcil7X193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsbmFtZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLG5hbWUse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpnZXR0ZXJ9KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5uPWZ1bmN0aW9uKG1vZHVsZSl7dmFyIGdldHRlcj1tb2R1bGUmJm1vZHVsZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIG1vZHVsZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBtb2R1bGV9O3JldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLFwiYVwiLGdldHRlciksZ2V0dGVyfSxfX3dlYnBhY2tfcmVxdWlyZV9fLm89ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCxwcm9wZXJ0eSl9LF9fd2VicGFja19yZXF1aXJlX18ucD1cIlwiLF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zPTQxKX0oW2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfZ2xNYXRyaXg9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxfZ2V0QW5kQXBwbHlFeHRlbnNpb249X193ZWJwYWNrX3JlcXVpcmVfXyg0NyksX2dldEFuZEFwcGx5RXh0ZW5zaW9uMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRBbmRBcHBseUV4dGVuc2lvbiksX2V4cG9zZUF0dHJpYnV0ZXM9X193ZWJwYWNrX3JlcXVpcmVfXyg0OCksX2V4cG9zZUF0dHJpYnV0ZXMyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4cG9zZUF0dHJpYnV0ZXMpLF9nZXRGbG9hdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KSxfZ2V0RmxvYXQyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldEZsb2F0KSxfZ2V0SGFsZkZsb2F0PV9fd2VicGFja19yZXF1aXJlX18oNTApLF9nZXRIYWxmRmxvYXQyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldEhhbGZGbG9hdCksX2dldEF0dHJpYkxvYz1fX3dlYnBhY2tfcmVxdWlyZV9fKDI0KSxfRXh0ZW5zaW9uc0xpc3Q9KF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldEF0dHJpYkxvYyksX193ZWJwYWNrX3JlcXVpcmVfXyg1MSkpLF9FeHRlbnNpb25zTGlzdDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXh0ZW5zaW9uc0xpc3QpLGdsPXZvaWQgMCxHTFRvb2w9ZnVuY3Rpb24oKXtmdW5jdGlvbiBHTFRvb2woKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxHTFRvb2wpLHRoaXMuY2FudmFzLHRoaXMuX3ZpZXdwb3J0PVswLDAsMCwwXSx0aGlzLl9lbmFibGVkVmVydGV4QXR0cmlidXRlPVtdLHRoaXMuaWRlbnRpdHlNYXRyaXg9X2dsTWF0cml4Lm1hdDQuY3JlYXRlKCksdGhpcy5fbm9ybWFsTWF0cml4PV9nbE1hdHJpeC5tYXQzLmNyZWF0ZSgpLHRoaXMuX2ludmVyc2VNb2RlbFZpZXdNYXRyaXg9X2dsTWF0cml4Lm1hdDMuY3JlYXRlKCksdGhpcy5fbW9kZWxNYXRyaXg9X2dsTWF0cml4Lm1hdDQuY3JlYXRlKCksdGhpcy5fbWF0cml4PV9nbE1hdHJpeC5tYXQ0LmNyZWF0ZSgpLHRoaXMuX21hdHJpeFN0YWNrcz1bXSx0aGlzLl9sYXN0TWVzaD1udWxsLHRoaXMuX3VzZVdlYkdMMj0hMSx0aGlzLl9oYXNBcnJheUluc3RhbmNlLHRoaXMuX2V4dEFycmF5SW5zdGFuY2UsdGhpcy5faGFzQ2hlY2tlZEV4dD0hMSxfZ2xNYXRyaXgubWF0NC5pZGVudGl0eSh0aGlzLmlkZW50aXR5TWF0cml4LHRoaXMuaWRlbnRpdHlNYXRyaXgpLHRoaXMuaXNNb2JpbGU9ITEsL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpJiYodGhpcy5pc01vYmlsZT0hMCl9cmV0dXJuIF9jcmVhdGVDbGFzcyhHTFRvb2wsW3trZXk6XCJpbml0XCIsdmFsdWU6ZnVuY3Rpb24obUNhbnZhcyl7dmFyIG1QYXJhbWV0ZXJzPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpZihudWxsPT09bUNhbnZhc3x8dm9pZCAwPT09bUNhbnZhcylyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKFwiQ2FudmFzIG5vdCBleGlzdFwiKTt2b2lkIDAhPT10aGlzLmNhbnZhcyYmbnVsbCE9PXRoaXMuY2FudmFzJiZ0aGlzLmRlc3Ryb3koKSx0aGlzLmNhbnZhcz1tQ2FudmFzLHRoaXMuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCx3aW5kb3cuaW5uZXJIZWlnaHQpLG1QYXJhbWV0ZXJzLnVzZVdlYmdsMj1tUGFyYW1ldGVycy51c2VXZWJnbDJ8fCExO3ZhciBjdHg9dm9pZCAwO21QYXJhbWV0ZXJzLnVzZVdlYmdsMj8oY3R4PXRoaXMuY2FudmFzLmdldENvbnRleHQoXCJleHBlcmltZW50YWwtd2ViZ2wyXCIsbVBhcmFtZXRlcnMpfHx0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2wyXCIsbVBhcmFtZXRlcnMpLGN0eD90aGlzLl91c2VXZWJHTDI9ITA6KGN0eD10aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIixtUGFyYW1ldGVycyl8fHRoaXMuY2FudmFzLmdldENvbnRleHQoXCJleHBlcmltZW50YWwtd2ViZ2xcIixtUGFyYW1ldGVycyksdGhpcy5fdXNlV2ViR0wyPSExKSk6KGN0eD10aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIixtUGFyYW1ldGVycyl8fHRoaXMuY2FudmFzLmdldENvbnRleHQoXCJleHBlcmltZW50YWwtd2ViZ2xcIixtUGFyYW1ldGVycyksdGhpcy5fdXNlV2ViR0wyPSExKSxjb25zb2xlLmxvZyhcIlVzaW5nIFdlYkdMIDIgP1wiLHRoaXMud2ViZ2wyKSx0aGlzLmluaXRXaXRoR0woY3R4KX19LHtrZXk6XCJpbml0V2l0aEdMXCIsdmFsdWU6ZnVuY3Rpb24oY3R4KXt0aGlzLmNhbnZhc3x8KHRoaXMuY2FudmFzPWN0eC5jYW52YXMpLGdsPXRoaXMuZ2w9Y3R4LHRoaXMuZXh0ZW5zaW9ucz17fTtmb3IodmFyIGk9MDtpPF9FeHRlbnNpb25zTGlzdDIuZGVmYXVsdC5sZW5ndGg7aSsrKXRoaXMuZXh0ZW5zaW9uc1tfRXh0ZW5zaW9uc0xpc3QyLmRlZmF1bHRbaV1dPWdsLmdldEV4dGVuc2lvbihfRXh0ZW5zaW9uc0xpc3QyLmRlZmF1bHRbaV0pOygwLF9leHBvc2VBdHRyaWJ1dGVzMi5kZWZhdWx0KSgpLCgwLF9nZXRBbmRBcHBseUV4dGVuc2lvbjIuZGVmYXVsdCkoZ2wsXCJPRVNfdmVydGV4X2FycmF5X29iamVjdFwiKSwoMCxfZ2V0QW5kQXBwbHlFeHRlbnNpb24yLmRlZmF1bHQpKGdsLFwiQU5HTEVfaW5zdGFuY2VkX2FycmF5c1wiKSwoMCxfZ2V0QW5kQXBwbHlFeHRlbnNpb24yLmRlZmF1bHQpKGdsLFwiV0VCR0xfZHJhd19idWZmZXJzXCIpLHRoaXMuZW5hYmxlKHRoaXMuREVQVEhfVEVTVCksdGhpcy5lbmFibGUodGhpcy5DVUxMX0ZBQ0UpLHRoaXMuZW5hYmxlKHRoaXMuQkxFTkQpLHRoaXMuZW5hYmxlQWxwaGFCbGVuZGluZygpfX0se2tleTpcInNldFZpZXdwb3J0XCIsdmFsdWU6ZnVuY3Rpb24oeCx5LHcsaCl7dmFyIGhhc0NoYW5nZWQ9ITE7eCE9PXRoaXMuX3ZpZXdwb3J0WzBdJiYoaGFzQ2hhbmdlZD0hMCkseSE9PXRoaXMuX3ZpZXdwb3J0WzFdJiYoaGFzQ2hhbmdlZD0hMCksdyE9PXRoaXMuX3ZpZXdwb3J0WzJdJiYoaGFzQ2hhbmdlZD0hMCksaCE9PXRoaXMuX3ZpZXdwb3J0WzNdJiYoaGFzQ2hhbmdlZD0hMCksaGFzQ2hhbmdlZCYmKGdsLnZpZXdwb3J0KHgseSx3LGgpLHRoaXMuX3ZpZXdwb3J0PVt4LHksdyxoXSl9fSx7a2V5Olwic2Npc3NvclwiLHZhbHVlOmZ1bmN0aW9uKHgseSx3LGgpe2dsLnNjaXNzb3IoeCx5LHcsaCl9fSx7a2V5OlwiY2xlYXJcIix2YWx1ZTpmdW5jdGlvbihyLGcsYixhKXtnbC5jbGVhckNvbG9yKHIsZyxiLGEpLGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVR8Z2wuREVQVEhfQlVGRkVSX0JJVCl9fSx7a2V5OlwiY3VsbEZhY2VcIix2YWx1ZTpmdW5jdGlvbihtVmFsdWUpe2dsLmN1bGxGYWNlKG1WYWx1ZSl9fSx7a2V5Olwic2V0TWF0cmljZXNcIix2YWx1ZTpmdW5jdGlvbihtQ2FtZXJhKXt0aGlzLmNhbWVyYT1tQ2FtZXJhLHRoaXMucm90YXRlKHRoaXMuaWRlbnRpdHlNYXRyaXgpfX0se2tleTpcInVzZVNoYWRlclwiLHZhbHVlOmZ1bmN0aW9uKG1TaGFkZXIpe3RoaXMuc2hhZGVyPW1TaGFkZXIsdGhpcy5zaGFkZXJQcm9ncmFtPXRoaXMuc2hhZGVyLnNoYWRlclByb2dyYW19fSx7a2V5Olwicm90YXRlXCIsdmFsdWU6ZnVuY3Rpb24obVJvdGF0aW9uKXtfZ2xNYXRyaXgubWF0NC5jb3B5KHRoaXMuX21vZGVsTWF0cml4LG1Sb3RhdGlvbiksX2dsTWF0cml4Lm1hdDQubXVsdGlwbHkodGhpcy5fbWF0cml4LHRoaXMuY2FtZXJhLm1hdHJpeCx0aGlzLl9tb2RlbE1hdHJpeCksX2dsTWF0cml4Lm1hdDMuZnJvbU1hdDQodGhpcy5fbm9ybWFsTWF0cml4LHRoaXMuX21hdHJpeCksX2dsTWF0cml4Lm1hdDMuaW52ZXJ0KHRoaXMuX25vcm1hbE1hdHJpeCx0aGlzLl9ub3JtYWxNYXRyaXgpLF9nbE1hdHJpeC5tYXQzLnRyYW5zcG9zZSh0aGlzLl9ub3JtYWxNYXRyaXgsdGhpcy5fbm9ybWFsTWF0cml4KSxfZ2xNYXRyaXgubWF0My5mcm9tTWF0NCh0aGlzLl9pbnZlcnNlTW9kZWxWaWV3TWF0cml4LHRoaXMuX21hdHJpeCksX2dsTWF0cml4Lm1hdDMuaW52ZXJ0KHRoaXMuX2ludmVyc2VNb2RlbFZpZXdNYXRyaXgsdGhpcy5faW52ZXJzZU1vZGVsVmlld01hdHJpeCl9fSx7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKG1NZXNoLG1EcmF3aW5nVHlwZSl7aWYobU1lc2gubGVuZ3RoKWZvcih2YXIgaT0wO2k8bU1lc2gubGVuZ3RoO2krKyl0aGlzLmRyYXcobU1lc2hbaV0pO2Vsc2V7bU1lc2guYmluZCh0aGlzLnNoYWRlclByb2dyYW0pLHZvaWQgMCE9PXRoaXMuY2FtZXJhJiYodGhpcy5zaGFkZXIudW5pZm9ybShcInVQcm9qZWN0aW9uTWF0cml4XCIsXCJtYXQ0XCIsdGhpcy5jYW1lcmEucHJvamVjdGlvbiksdGhpcy5zaGFkZXIudW5pZm9ybShcInVWaWV3TWF0cml4XCIsXCJtYXQ0XCIsdGhpcy5jYW1lcmEubWF0cml4KSksdGhpcy5zaGFkZXIudW5pZm9ybShcInVNb2RlbE1hdHJpeFwiLFwibWF0NFwiLHRoaXMuX21vZGVsTWF0cml4KSx0aGlzLnNoYWRlci51bmlmb3JtKFwidU5vcm1hbE1hdHJpeFwiLFwibWF0M1wiLHRoaXMuX25vcm1hbE1hdHJpeCksdGhpcy5zaGFkZXIudW5pZm9ybShcInVNb2RlbFZpZXdNYXRyaXhJbnZlcnNlXCIsXCJtYXQzXCIsdGhpcy5faW52ZXJzZU1vZGVsVmlld01hdHJpeCk7dmFyIGRyYXdUeXBlPW1NZXNoLmRyYXdUeXBlO3ZvaWQgMCE9PW1EcmF3aW5nVHlwZSYmKGRyYXdUeXBlPW1EcmF3aW5nVHlwZSksbU1lc2guaXNJbnN0YW5jZWQ/Z2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkKG1NZXNoLmRyYXdUeXBlLG1NZXNoLmlCdWZmZXIubnVtSXRlbXMsZ2wuVU5TSUdORURfU0hPUlQsMCxtTWVzaC5udW1JbnN0YW5jZSk6ZHJhd1R5cGU9PT1nbC5QT0lOVFM/Z2wuZHJhd0FycmF5cyhkcmF3VHlwZSwwLG1NZXNoLnZlcnRleFNpemUpOmdsLmRyYXdFbGVtZW50cyhkcmF3VHlwZSxtTWVzaC5pQnVmZmVyLm51bUl0ZW1zLGdsLlVOU0lHTkVEX1NIT1JULDApLG1NZXNoLnVuYmluZCgpfX19LHtrZXk6XCJkcmF3VHJhbnNmb3JtRmVlZGJhY2tcIix2YWx1ZTpmdW5jdGlvbihtVHJhbnNmb3JtT2JqZWN0KXt2YXIgbWVzaFNvdXJjZT1tVHJhbnNmb3JtT2JqZWN0Lm1lc2hTb3VyY2UsbWVzaERlc3RpbmF0aW9uPW1UcmFuc2Zvcm1PYmplY3QubWVzaERlc3RpbmF0aW9uLG51bVBvaW50cz1tVHJhbnNmb3JtT2JqZWN0Lm51bVBvaW50cyx0cmFuc2Zvcm1GZWVkYmFjaz1tVHJhbnNmb3JtT2JqZWN0LnRyYW5zZm9ybUZlZWRiYWNrO21lc2hTb3VyY2UuYmluZCh0aGlzLnNoYWRlclByb2dyYW0pLG1lc2hEZXN0aW5hdGlvbi5nZW5lcmF0ZUJ1ZmZlcnModGhpcy5zaGFkZXJQcm9ncmFtKSxnbC5iaW5kVHJhbnNmb3JtRmVlZGJhY2soZ2wuVFJBTlNGT1JNX0ZFRURCQUNLLHRyYW5zZm9ybUZlZWRiYWNrKSxtZXNoRGVzdGluYXRpb24uYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGF0dHIsaSl7Z2wuYmluZEJ1ZmZlckJhc2UoZ2wuVFJBTlNGT1JNX0ZFRURCQUNLX0JVRkZFUixpLGF0dHIuYnVmZmVyKX0pLGdsLmVuYWJsZShnbC5SQVNURVJJWkVSX0RJU0NBUkQpLGdsLmJlZ2luVHJhbnNmb3JtRmVlZGJhY2soZ2wuUE9JTlRTKSxnbC5kcmF3QXJyYXlzKGdsLlBPSU5UUywwLG51bVBvaW50cyksZ2wuZW5kVHJhbnNmb3JtRmVlZGJhY2soKSxnbC5kaXNhYmxlKGdsLlJBU1RFUklaRVJfRElTQ0FSRCksZ2wudXNlUHJvZ3JhbShudWxsKSxnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUixudWxsKSxtZXNoRGVzdGluYXRpb24uYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGF0dHIsaSl7Z2wuYmluZEJ1ZmZlckJhc2UoZ2wuVFJBTlNGT1JNX0ZFRURCQUNLX0JVRkZFUixpLG51bGwpfSksZ2wuYmluZFRyYW5zZm9ybUZlZWRiYWNrKGdsLlRSQU5TRk9STV9GRUVEQkFDSyxudWxsKSxtZXNoU291cmNlLnVuYmluZCgpfX0se2tleTpcInNldFNpemVcIix2YWx1ZTpmdW5jdGlvbihtV2lkdGgsbUhlaWdodCl7dGhpcy5fd2lkdGg9bVdpZHRoLHRoaXMuX2hlaWdodD1tSGVpZ2h0LHRoaXMuY2FudmFzLndpZHRoPXRoaXMuX3dpZHRoLHRoaXMuY2FudmFzLmhlaWdodD10aGlzLl9oZWlnaHQsdGhpcy5fYXNwZWN0UmF0aW89dGhpcy5fd2lkdGgvdGhpcy5faGVpZ2h0LGdsJiZ0aGlzLnZpZXdwb3J0KDAsMCx0aGlzLl93aWR0aCx0aGlzLl9oZWlnaHQpfX0se2tleTpcInNob3dFeHRlbnNpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXtjb25zb2xlLmxvZyhcIkV4dGVuc2lvbnMgOiBcIix0aGlzLmV4dGVuc2lvbnMpO2Zvcih2YXIgZXh0IGluIHRoaXMuZXh0ZW5zaW9ucyl0aGlzLmV4dGVuc2lvbnNbZXh0XSYmY29uc29sZS5sb2coZXh0LFwiOlwiLHRoaXMuZXh0ZW5zaW9uc1tleHRdKX19LHtrZXk6XCJjaGVja0V4dGVuc2lvblwiLHZhbHVlOmZ1bmN0aW9uKG1FeHRlbnNpb24pe3JldHVybiEhdGhpcy5leHRlbnNpb25zW21FeHRlbnNpb25dfX0se2tleTpcImdldEV4dGVuc2lvblwiLHZhbHVlOmZ1bmN0aW9uKG1FeHRlbnNpb24pe3JldHVybiB0aGlzLmV4dGVuc2lvbnNbbUV4dGVuc2lvbl19fSx7a2V5OlwiZW5hYmxlQWxwaGFCbGVuZGluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7Z2wuYmxlbmRGdW5jKGdsLlNSQ19BTFBIQSxnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKX19LHtrZXk6XCJlbmFibGVBZGRpdGl2ZUJsZW5kaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtnbC5ibGVuZEZ1bmMoZ2wuT05FLGdsLk9ORSl9fSx7a2V5OlwicHVzaE1hdHJpeFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIG10eD1fZ2xNYXRyaXgubWF0NC5jbG9uZSh0aGlzLl9tb2RlbE1hdHJpeCk7dGhpcy5fbWF0cml4U3RhY2tzLnB1c2gobXR4KX19LHtrZXk6XCJwb3BNYXRyaXhcIix2YWx1ZTpmdW5jdGlvbigpe2lmKDA9PXRoaXMuX21hdHJpeFN0YWNrcy5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIG10eD10aGlzLl9tYXRyaXhTdGFja3MucG9wKCk7dGhpcy5yb3RhdGUobXR4KX19LHtrZXk6XCJlbmFibGVcIix2YWx1ZTpmdW5jdGlvbihtUGFyYW1ldGVyKXtnbC5lbmFibGUobVBhcmFtZXRlcil9fSx7a2V5OlwiZGlzYWJsZVwiLHZhbHVlOmZ1bmN0aW9uKG1QYXJhbWV0ZXIpe2dsLmRpc2FibGUobVBhcmFtZXRlcil9fSx7a2V5Olwidmlld3BvcnRcIix2YWx1ZTpmdW5jdGlvbih4LHksdyxoKXt0aGlzLnNldFZpZXdwb3J0KHgseSx3LGgpfX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuY2FudmFzLnBhcmVudE5vZGUpdHJ5e3RoaXMuY2FudmFzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jYW52YXMpfWNhdGNoKGUpe2NvbnNvbGUubG9nKFwiRXJyb3IgOiBcIixlKX10aGlzLmNhbnZhcz1udWxsfX0se2tleTpcIkZMT0FUXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuKDAsX2dldEZsb2F0Mi5kZWZhdWx0KSgpfX0se2tleTpcIkhBTEZfRkxPQVRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4oMCxfZ2V0SGFsZkZsb2F0Mi5kZWZhdWx0KSgpfX0se2tleTpcIndpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dpZHRofX0se2tleTpcImhlaWdodFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWlnaHR9fSx7a2V5OlwiYXNwZWN0UmF0aW9cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXNwZWN0UmF0aW99fSx7a2V5Olwid2ViZ2wyXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VzZVdlYkdMMn19XSksR0xUb29sfSgpLEdMPW5ldyBHTFRvb2w7ZXhwb3J0cy5kZWZhdWx0PUdMfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmope2lmKG9iaiYmb2JqLl9fZXNNb2R1bGUpcmV0dXJuIG9iajt2YXIgbmV3T2JqPXt9O2lmKG51bGwhPW9iailmb3IodmFyIGtleSBpbiBvYmopT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaixrZXkpJiYobmV3T2JqW2tleV09b2JqW2tleV0pO3JldHVybiBuZXdPYmouZGVmYXVsdD1vYmosbmV3T2JqfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMudmVjND1leHBvcnRzLnZlYzM9ZXhwb3J0cy52ZWMyPWV4cG9ydHMucXVhdD1leHBvcnRzLm1hdDQ9ZXhwb3J0cy5tYXQzPWV4cG9ydHMubWF0MmQ9ZXhwb3J0cy5tYXQyPWV4cG9ydHMuZ2xNYXRyaXg9dm9pZCAwO3ZhciBfY29tbW9uPV9fd2VicGFja19yZXF1aXJlX18oMyksZ2xNYXRyaXg9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2NvbW1vbiksX21hdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDQyKSxtYXQyPV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9tYXQpLF9tYXQyZD1fX3dlYnBhY2tfcmVxdWlyZV9fKDQzKSxtYXQyZD1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfbWF0MmQpLF9tYXQyPV9fd2VicGFja19yZXF1aXJlX18oMjApLG1hdDM9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX21hdDIpLF9tYXQzPV9fd2VicGFja19yZXF1aXJlX18oNDQpLG1hdDQ9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX21hdDMpLF9xdWF0PV9fd2VicGFja19yZXF1aXJlX18oNDUpLHF1YXQ9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3F1YXQpLF92ZWM9X193ZWJwYWNrX3JlcXVpcmVfXyg0NiksdmVjMj1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfdmVjKSxfdmVjMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIxKSx2ZWMzPV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF92ZWMyKSxfdmVjMz1fX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSx2ZWM0PV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF92ZWMzKTtleHBvcnRzLmdsTWF0cml4PWdsTWF0cml4LGV4cG9ydHMubWF0Mj1tYXQyLGV4cG9ydHMubWF0MmQ9bWF0MmQsZXhwb3J0cy5tYXQzPW1hdDMsZXhwb3J0cy5tYXQ0PW1hdDQsZXhwb3J0cy5xdWF0PXF1YXQsZXhwb3J0cy52ZWMyPXZlYzIsZXhwb3J0cy52ZWMzPXZlYzMsZXhwb3J0cy52ZWM0PXZlYzR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfdHlwZW9mPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihvYmope3JldHVybiB0eXBlb2Ygb2JqfTpmdW5jdGlvbihvYmope3JldHVybiBvYmomJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmb2JqLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZvYmohPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIG9ian0sX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfR0xUb29sPV9fd2VicGFja19yZXF1aXJlX18oMCksX0dMVG9vbDI9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX0oX0dMVG9vbCksaXNTYW1lPShfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKSxmdW5jdGlvbihhcnJheTEsYXJyYXkyKXtpZihhcnJheTEubGVuZ3RoIT09YXJyYXkyLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGk9MDtpPGFycmF5MS5sZW5ndGg7aSsrKWlmKGFycmF5MVtpXSE9PWFycmF5MltpXSlyZXR1cm4hMTtyZXR1cm4hMH0pLGFkZExpbmVOdW1iZXJzPWZ1bmN0aW9uKHN0cmluZyl7Zm9yKHZhciBsaW5lcz1zdHJpbmcuc3BsaXQoXCJcXG5cIiksaT0wO2k8bGluZXMubGVuZ3RoO2krKylsaW5lc1tpXT1pKzErXCI6IFwiK2xpbmVzW2ldO3JldHVybiBsaW5lcy5qb2luKFwiXFxuXCIpfSxjbG9uZUFycmF5PWZ1bmN0aW9uKG1BcnJheSl7cmV0dXJuIG1BcnJheS5zbGljZT9tQXJyYXkuc2xpY2UoMCk6bmV3IEZsb2F0MzJBcnJheShtQXJyYXkpfSxnbD12b2lkIDAsZGVmYXVsdFZlcnRleFNoYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDExKSxkZWZhdWx0RnJhZ21lbnRTaGFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg1MyksdW5pZm9ybU1hcHBpbmc9e2Zsb2F0OlwidW5pZm9ybTFmXCIsdmVjMjpcInVuaWZvcm0yZnZcIix2ZWMzOlwidW5pZm9ybTNmdlwiLHZlYzQ6XCJ1bmlmb3JtNGZ2XCIsaW50OlwidW5pZm9ybTFpXCIsbWF0MzpcInVuaWZvcm1NYXRyaXgzZnZcIixtYXQ0OlwidW5pZm9ybU1hdHJpeDRmdlwifSxHTFNoYWRlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIEdMU2hhZGVyKCl7dmFyIHN0clZlcnRleFNoYWRlcj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06ZGVmYXVsdFZlcnRleFNoYWRlcixzdHJGcmFnbWVudFNoYWRlcj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ZGVmYXVsdEZyYWdtZW50U2hhZGVyLG1WYXJ5aW5ncz1hcmd1bWVudHNbMl07X2NsYXNzQ2FsbENoZWNrKHRoaXMsR0xTaGFkZXIpLGdsPV9HTFRvb2wyLmRlZmF1bHQuZ2wsdGhpcy5wYXJhbWV0ZXJzPVtdLHRoaXMudW5pZm9ybVRleHR1cmVzPVtdLHRoaXMuX3ZhcnlpbmdzPW1WYXJ5aW5ncyxzdHJWZXJ0ZXhTaGFkZXJ8fChzdHJWZXJ0ZXhTaGFkZXI9ZGVmYXVsdFZlcnRleFNoYWRlciksc3RyRnJhZ21lbnRTaGFkZXJ8fChzdHJGcmFnbWVudFNoYWRlcj1kZWZhdWx0VmVydGV4U2hhZGVyKTt2YXIgdnNTaGFkZXI9dGhpcy5fY3JlYXRlU2hhZGVyUHJvZ3JhbShzdHJWZXJ0ZXhTaGFkZXIsITApLGZzU2hhZGVyPXRoaXMuX2NyZWF0ZVNoYWRlclByb2dyYW0oc3RyRnJhZ21lbnRTaGFkZXIsITEpO3RoaXMuX2F0dGFjaFNoYWRlclByb2dyYW0odnNTaGFkZXIsZnNTaGFkZXIpfXJldHVybiBfY3JlYXRlQ2xhc3MoR0xTaGFkZXIsW3trZXk6XCJiaW5kXCIsdmFsdWU6ZnVuY3Rpb24oKXtfR0xUb29sMi5kZWZhdWx0LnNoYWRlciE9PXRoaXMmJihnbC51c2VQcm9ncmFtKHRoaXMuc2hhZGVyUHJvZ3JhbSksX0dMVG9vbDIuZGVmYXVsdC51c2VTaGFkZXIodGhpcyksdGhpcy51bmlmb3JtVGV4dHVyZXM9W10pfX0se2tleTpcInVuaWZvcm1cIix2YWx1ZTpmdW5jdGlvbihtTmFtZSxtVHlwZSxtVmFsdWUpe2lmKFwib2JqZWN0XCI9PT0odm9pZCAwPT09bU5hbWU/XCJ1bmRlZmluZWRcIjpfdHlwZW9mKG1OYW1lKSkpcmV0dXJuIHZvaWQgdGhpcy51bmlmb3JtT2JqZWN0KG1OYW1lKTtmb3IodmFyIHVuaWZvcm1UeXBlPXVuaWZvcm1NYXBwaW5nW21UeXBlXXx8bVR5cGUsaGFzVW5pZm9ybT0hMSxvVW5pZm9ybT12b2lkIDAscGFyYW1ldGVySW5kZXg9LTEsaT0wO2k8dGhpcy5wYXJhbWV0ZXJzLmxlbmd0aDtpKyspaWYob1VuaWZvcm09dGhpcy5wYXJhbWV0ZXJzW2ldLG9Vbmlmb3JtLm5hbWU9PT1tTmFtZSl7aGFzVW5pZm9ybT0hMCxwYXJhbWV0ZXJJbmRleD1pO2JyZWFrfXZhciBpc051bWJlcj0hMTtpZihoYXNVbmlmb3JtPyh0aGlzLnNoYWRlclByb2dyYW1bbU5hbWVdPW9Vbmlmb3JtLnVuaWZvcm1Mb2MsaXNOdW1iZXI9b1VuaWZvcm0uaXNOdW1iZXIpOihpc051bWJlcj1cInVuaWZvcm0xaVwiPT09dW5pZm9ybVR5cGV8fFwidW5pZm9ybTFmXCI9PT11bmlmb3JtVHlwZSx0aGlzLnNoYWRlclByb2dyYW1bbU5hbWVdPWdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnNoYWRlclByb2dyYW0sbU5hbWUpLGlzTnVtYmVyP3RoaXMucGFyYW1ldGVycy5wdXNoKHtuYW1lOm1OYW1lLHR5cGU6dW5pZm9ybVR5cGUsdmFsdWU6bVZhbHVlLHVuaWZvcm1Mb2M6dGhpcy5zaGFkZXJQcm9ncmFtW21OYW1lXSxpc051bWJlcjppc051bWJlcn0pOnRoaXMucGFyYW1ldGVycy5wdXNoKHtuYW1lOm1OYW1lLHR5cGU6dW5pZm9ybVR5cGUsdmFsdWU6Y2xvbmVBcnJheShtVmFsdWUpLHVuaWZvcm1Mb2M6dGhpcy5zaGFkZXJQcm9ncmFtW21OYW1lXSxpc051bWJlcjppc051bWJlcn0pLHBhcmFtZXRlckluZGV4PXRoaXMucGFyYW1ldGVycy5sZW5ndGgtMSksdGhpcy5wYXJhbWV0ZXJzW3BhcmFtZXRlckluZGV4XS51bmlmb3JtTG9jKWlmKC0xPT09dW5pZm9ybVR5cGUuaW5kZXhPZihcIk1hdHJpeFwiKSlpZihpc051bWJlcil7dmFyIG5lZWRVcGRhdGU9dGhpcy5wYXJhbWV0ZXJzW3BhcmFtZXRlckluZGV4XS52YWx1ZSE9PW1WYWx1ZXx8IWhhc1VuaWZvcm07bmVlZFVwZGF0ZSYmKGdsW3VuaWZvcm1UeXBlXSh0aGlzLnNoYWRlclByb2dyYW1bbU5hbWVdLG1WYWx1ZSksdGhpcy5wYXJhbWV0ZXJzW3BhcmFtZXRlckluZGV4XS52YWx1ZT1tVmFsdWUpfWVsc2UgaXNTYW1lKHRoaXMucGFyYW1ldGVyc1twYXJhbWV0ZXJJbmRleF0udmFsdWUsbVZhbHVlKSYmaGFzVW5pZm9ybXx8KGdsW3VuaWZvcm1UeXBlXSh0aGlzLnNoYWRlclByb2dyYW1bbU5hbWVdLG1WYWx1ZSksdGhpcy5wYXJhbWV0ZXJzW3BhcmFtZXRlckluZGV4XS52YWx1ZT1jbG9uZUFycmF5KG1WYWx1ZSkpO2Vsc2UgaXNTYW1lKHRoaXMucGFyYW1ldGVyc1twYXJhbWV0ZXJJbmRleF0udmFsdWUsbVZhbHVlKSYmaGFzVW5pZm9ybXx8KGdsW3VuaWZvcm1UeXBlXSh0aGlzLnNoYWRlclByb2dyYW1bbU5hbWVdLCExLG1WYWx1ZSksdGhpcy5wYXJhbWV0ZXJzW3BhcmFtZXRlckluZGV4XS52YWx1ZT1jbG9uZUFycmF5KG1WYWx1ZSkpfX0se2tleTpcInVuaWZvcm1PYmplY3RcIix2YWx1ZTpmdW5jdGlvbihtVW5pZm9ybU9iail7Zm9yKHZhciB1bmlmb3JtTmFtZSBpbiBtVW5pZm9ybU9iail7dmFyIHVuaWZvcm1WYWx1ZT1tVW5pZm9ybU9ialt1bmlmb3JtTmFtZV0sdW5pZm9ybVR5cGU9R0xTaGFkZXIuZ2V0VW5pZm9ybVR5cGUodW5pZm9ybVZhbHVlKTtpZih1bmlmb3JtVmFsdWUuY29uY2F0JiZ1bmlmb3JtVmFsdWVbMF0uY29uY2F0KXtmb3IodmFyIHRtcD1bXSxpPTA7aTx1bmlmb3JtVmFsdWUubGVuZ3RoO2krKyl0bXA9dG1wLmNvbmNhdCh1bmlmb3JtVmFsdWVbaV0pO3VuaWZvcm1WYWx1ZT10bXB9dGhpcy51bmlmb3JtKHVuaWZvcm1OYW1lLHVuaWZvcm1UeXBlLHVuaWZvcm1WYWx1ZSl9fX0se2tleTpcIl9jcmVhdGVTaGFkZXJQcm9ncmFtXCIsdmFsdWU6ZnVuY3Rpb24obVNoYWRlclN0cixpc1ZlcnRleFNoYWRlcil7dmFyIHNoYWRlclR5cGU9aXNWZXJ0ZXhTaGFkZXI/X0dMVG9vbDIuZGVmYXVsdC5WRVJURVhfU0hBREVSOl9HTFRvb2wyLmRlZmF1bHQuRlJBR01FTlRfU0hBREVSLHNoYWRlcj1nbC5jcmVhdGVTaGFkZXIoc2hhZGVyVHlwZSk7cmV0dXJuIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsbVNoYWRlclN0ciksZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpLGdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsZ2wuQ09NUElMRV9TVEFUVVMpP3NoYWRlcjooY29uc29sZS53YXJuKFwiRXJyb3IgaW4gU2hhZGVyIDogXCIsZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKSxjb25zb2xlLmxvZyhhZGRMaW5lTnVtYmVycyhtU2hhZGVyU3RyKSksbnVsbCl9fSx7a2V5OlwiX2F0dGFjaFNoYWRlclByb2dyYW1cIix2YWx1ZTpmdW5jdGlvbihtVmVydGV4U2hhZGVyLG1GcmFnbWVudFNoYWRlcil7dGhpcy5zaGFkZXJQcm9ncmFtPWdsLmNyZWF0ZVByb2dyYW0oKSxnbC5hdHRhY2hTaGFkZXIodGhpcy5zaGFkZXJQcm9ncmFtLG1WZXJ0ZXhTaGFkZXIpLGdsLmF0dGFjaFNoYWRlcih0aGlzLnNoYWRlclByb2dyYW0sbUZyYWdtZW50U2hhZGVyKSxnbC5kZWxldGVTaGFkZXIobVZlcnRleFNoYWRlciksZ2wuZGVsZXRlU2hhZGVyKG1GcmFnbWVudFNoYWRlciksdGhpcy5fdmFyeWluZ3MmJihjb25zb2xlLmxvZyhcIlRyYW5zZm9ybSBmZWVkYmFjayBzZXR1cCA6IFwiLHRoaXMuX3ZhcnlpbmdzKSxnbC50cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzKHRoaXMuc2hhZGVyUHJvZ3JhbSx0aGlzLl92YXJ5aW5ncyxnbC5TRVBBUkFURV9BVFRSSUJTKSksZ2wubGlua1Byb2dyYW0odGhpcy5zaGFkZXJQcm9ncmFtKX19XSksR0xTaGFkZXJ9KCk7R0xTaGFkZXIuZ2V0VW5pZm9ybVR5cGU9ZnVuY3Rpb24obVZhbHVlKXt2YXIgaXNBcnJheT0hIW1WYWx1ZS5jb25jYXQsZ2V0QXJyYXlVbmlmb3JtVHlwZT1mdW5jdGlvbihtVmFsdWUpe3JldHVybiA5PT09bVZhbHVlLmxlbmd0aD9cInVuaWZvcm1NYXRyaXgzZnZcIjoxNj09PW1WYWx1ZS5sZW5ndGg/XCJ1bmlmb3JtTWF0cml4NGZ2XCI6XCJ2ZWNcIittVmFsdWUubGVuZ3RofTtyZXR1cm4gaXNBcnJheT9nZXRBcnJheVVuaWZvcm1UeXBlKG1WYWx1ZVswXS5jb25jYXQ/bVZhbHVlWzBdOm1WYWx1ZSk6XCJmbG9hdFwifSxleHBvcnRzLmRlZmF1bHQ9R0xTaGFkZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHNldE1hdHJpeEFycmF5VHlwZSh0eXBlKXtleHBvcnRzLkFSUkFZX1RZUEU9QVJSQVlfVFlQRT10eXBlfWZ1bmN0aW9uIHRvUmFkaWFuKGEpe3JldHVybiBhKmRlZ3JlZX1mdW5jdGlvbiBlcXVhbHMoYSxiKXtyZXR1cm4gTWF0aC5hYnMoYS1iKTw9RVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEpLE1hdGguYWJzKGIpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLnNldE1hdHJpeEFycmF5VHlwZT1zZXRNYXRyaXhBcnJheVR5cGUsZXhwb3J0cy50b1JhZGlhbj10b1JhZGlhbixleHBvcnRzLmVxdWFscz1lcXVhbHM7dmFyIEVQU0lMT049ZXhwb3J0cy5FUFNJTE9OPTFlLTYsQVJSQVlfVFlQRT1leHBvcnRzLkFSUkFZX1RZUEU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZsb2F0MzJBcnJheT9GbG9hdDMyQXJyYXk6QXJyYXksZGVncmVlPShleHBvcnRzLlJBTkRPTT1NYXRoLnJhbmRvbSxNYXRoLlBJLzE4MCl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1mdW5jdGlvbihvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fShfR0xUb29sKSxCYXRjaD1mdW5jdGlvbigpe2Z1bmN0aW9uIEJhdGNoKG1NZXNoLG1TaGFkZXIpe19jbGFzc0NhbGxDaGVjayh0aGlzLEJhdGNoKSx0aGlzLl9tZXNoPW1NZXNoLHRoaXMuX3NoYWRlcj1tU2hhZGVyfXJldHVybiBfY3JlYXRlQ2xhc3MoQmF0Y2gsW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9zaGFkZXIuYmluZCgpLF9HTFRvb2wyLmRlZmF1bHQuZHJhdyh0aGlzLm1lc2gpfX0se2tleTpcIm1lc2hcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzaH19LHtrZXk6XCJzaGFkZXJcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZGVyfX1dKSxCYXRjaH0oKTtleHBvcnRzLmRlZmF1bHQ9QmF0Y2h9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfR0xUb29sPV9fd2VicGFja19yZXF1aXJlX18oMCksX0dMVG9vbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xUb29sKSxfZ2xNYXRyaXg9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxfZ2V0QXR0cmliTG9jPV9fd2VicGFja19yZXF1aXJlX18oMjQpLF9nZXRBdHRyaWJMb2MyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldEF0dHJpYkxvYyksZ2w9dm9pZCAwLGdldEJ1ZmZlcj1mdW5jdGlvbihhdHRyKXt2YXIgYnVmZmVyPXZvaWQgMDtyZXR1cm4gdm9pZCAwIT09YXR0ci5idWZmZXI/YnVmZmVyPWF0dHIuYnVmZmVyOihidWZmZXI9Z2wuY3JlYXRlQnVmZmVyKCksYXR0ci5idWZmZXI9YnVmZmVyKSxidWZmZXJ9LGZvcm1CdWZmZXI9ZnVuY3Rpb24obURhdGEsbU51bSl7Zm9yKHZhciBhcnk9W10saT0wO2k8bURhdGEubGVuZ3RoO2krPW1OdW0pe2Zvcih2YXIgbz1bXSxqPTA7ajxtTnVtO2orKylvLnB1c2gobURhdGFbaStqXSk7YXJ5LnB1c2gobyl9cmV0dXJuIGFyeX0sTWVzaD1mdW5jdGlvbigpe2Z1bmN0aW9uIE1lc2goKXt2YXIgbURyYXdpbmdUeXBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTo0LG1Vc2VWYW89IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxNZXNoKSxnbD1fR0xUb29sMi5kZWZhdWx0LmdsLHRoaXMuZHJhd1R5cGU9bURyYXdpbmdUeXBlLHRoaXMuX2F0dHJpYnV0ZXM9W10sdGhpcy5fbnVtSW5zdGFuY2U9LTEsdGhpcy5fZW5hYmxlZFZlcnRleEF0dHJpYnV0ZT1bXSx0aGlzLl9pbmRpY2VzPVtdLHRoaXMuX2ZhY2VzPVtdLHRoaXMuX2J1ZmZlckNoYW5nZWQ9W10sdGhpcy5faGFzSW5kZXhCdWZmZXJDaGFuZ2VkPSExLHRoaXMuX2hhc1ZBTz0hMSx0aGlzLl9pc0luc3RhbmNlZD0hMSx0aGlzLl9leHRWQU89ISFfR0xUb29sMi5kZWZhdWx0LmdsLmNyZWF0ZVZlcnRleEFycmF5LHRoaXMuX3VzZVZBTz0hIXRoaXMuX2V4dFZBTyYmbVVzZVZhb31yZXR1cm4gX2NyZWF0ZUNsYXNzKE1lc2gsW3trZXk6XCJidWZmZXJWZXJ0ZXhcIix2YWx1ZTpmdW5jdGlvbihtQXJyYXlWZXJ0aWNlcyl7dmFyIG1EcmF3VHlwZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MzUwNDQ7cmV0dXJuIHRoaXMuYnVmZmVyRGF0YShtQXJyYXlWZXJ0aWNlcyxcImFWZXJ0ZXhQb3NpdGlvblwiLDMsbURyYXdUeXBlKSx0aGlzLm5vcm1hbHMubGVuZ3RoPHRoaXMudmVydGljZXMubGVuZ3RoJiZ0aGlzLmJ1ZmZlck5vcm1hbChtQXJyYXlWZXJ0aWNlcyxtRHJhd1R5cGUpLHRoaXN9fSx7a2V5OlwiYnVmZmVyVGV4Q29vcmRcIix2YWx1ZTpmdW5jdGlvbihtQXJyYXlUZXhDb29yZHMpe3ZhciBtRHJhd1R5cGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjM1MDQ0O3JldHVybiB0aGlzLmJ1ZmZlckRhdGEobUFycmF5VGV4Q29vcmRzLFwiYVRleHR1cmVDb29yZFwiLDIsbURyYXdUeXBlKSx0aGlzfX0se2tleTpcImJ1ZmZlck5vcm1hbFwiLHZhbHVlOmZ1bmN0aW9uKG1Ob3JtYWxzKXt2YXIgbURyYXdUeXBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTozNTA0NDtyZXR1cm4gdGhpcy5idWZmZXJEYXRhKG1Ob3JtYWxzLFwiYU5vcm1hbFwiLDMsbURyYXdUeXBlKSx0aGlzfX0se2tleTpcImJ1ZmZlckluZGV4XCIsdmFsdWU6ZnVuY3Rpb24obUFycmF5SW5kaWNlcyl7dmFyIGlzRHluYW1pYz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3JldHVybiB0aGlzLl9kcmF3VHlwZT1pc0R5bmFtaWM/Z2wuRFlOQU1JQ19EUkFXOmdsLlNUQVRJQ19EUkFXLHRoaXMuX2luZGljZXM9bmV3IFVpbnQxNkFycmF5KG1BcnJheUluZGljZXMpLHRoaXMuX251bUl0ZW1zPXRoaXMuX2luZGljZXMubGVuZ3RoLHRoaXN9fSx7a2V5OlwiYnVmZmVyRmxhdHRlbkRhdGFcIix2YWx1ZTpmdW5jdGlvbihtRGF0YSxtTmFtZSxtSXRlbVNpemUpe3ZhciBkYXRhPShhcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSYmYXJndW1lbnRzWzNdLGFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdJiZhcmd1bWVudHNbNF0sZm9ybUJ1ZmZlcihtRGF0YSxtSXRlbVNpemUpKTtyZXR1cm4gdGhpcy5idWZmZXJEYXRhKGRhdGEsbU5hbWUsbUl0ZW1TaXplLDM1MDQ0LCExKSx0aGlzfX0se2tleTpcImJ1ZmZlckRhdGFcIix2YWx1ZTpmdW5jdGlvbihtRGF0YSxtTmFtZSxtSXRlbVNpemUpe3ZhciBtRHJhd1R5cGU9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjM1MDQ0LGlzSW5zdGFuY2VkPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdJiZhcmd1bWVudHNbNF0saT0wLGRyYXdUeXBlPW1EcmF3VHlwZSxidWZmZXJEYXRhPVtdO2ZvcihtSXRlbVNpemV8fChtSXRlbVNpemU9bURhdGFbMF0ubGVuZ3RoKSx0aGlzLl9pc0luc3RhbmNlZD1pc0luc3RhbmNlZHx8dGhpcy5faXNJbnN0YW5jZWQsaT0wO2k8bURhdGEubGVuZ3RoO2krKylmb3IodmFyIGo9MDtqPG1EYXRhW2ldLmxlbmd0aDtqKyspYnVmZmVyRGF0YS5wdXNoKG1EYXRhW2ldW2pdKTt2YXIgZGF0YUFycmF5PW5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyRGF0YSksYXR0cmlidXRlPXRoaXMuZ2V0QXR0cmlidXRlKG1OYW1lKTtyZXR1cm4gYXR0cmlidXRlPyhhdHRyaWJ1dGUuaXRlbVNpemU9bUl0ZW1TaXplLGF0dHJpYnV0ZS5kYXRhQXJyYXk9ZGF0YUFycmF5LGF0dHJpYnV0ZS5zb3VyY2U9bURhdGEpOnRoaXMuX2F0dHJpYnV0ZXMucHVzaCh7bmFtZTptTmFtZSxzb3VyY2U6bURhdGEsaXRlbVNpemU6bUl0ZW1TaXplLGRyYXdUeXBlOmRyYXdUeXBlLGRhdGFBcnJheTpkYXRhQXJyYXksaXNJbnN0YW5jZWQ6aXNJbnN0YW5jZWR9KSx0aGlzLl9idWZmZXJDaGFuZ2VkLnB1c2gobU5hbWUpLHRoaXN9fSx7a2V5OlwiYnVmZmVySW5zdGFuY2VcIix2YWx1ZTpmdW5jdGlvbihtRGF0YSxtTmFtZSl7aWYoIV9HTFRvb2wyLmRlZmF1bHQuZ2wudmVydGV4QXR0cmliRGl2aXNvcilyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKFwiRXh0ZW5zaW9uIDogQU5HTEVfaW5zdGFuY2VkX2FycmF5cyBpcyBub3Qgc3VwcG9ydGVkIHdpdGggdGhpcyBkZXZpY2UgIVwiKTt2YXIgaXRlbVNpemU9bURhdGFbMF0ubGVuZ3RoO3RoaXMuX251bUluc3RhbmNlPW1EYXRhLmxlbmd0aCx0aGlzLmJ1ZmZlckRhdGEobURhdGEsbU5hbWUsaXRlbVNpemUsMzUwNDQsITApfX0se2tleTpcImJpbmRcIix2YWx1ZTpmdW5jdGlvbihtU2hhZGVyUHJvZ3JhbSl7dGhpcy5nZW5lcmF0ZUJ1ZmZlcnMobVNoYWRlclByb2dyYW0pLHRoaXMuaGFzVkFPP2dsLmJpbmRWZXJ0ZXhBcnJheSh0aGlzLnZhbyk6KHRoaXMuYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGF0dHJpYnV0ZSl7Z2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsYXR0cmlidXRlLmJ1ZmZlcik7dmFyIGF0dHJQb3NpdGlvbj1hdHRyaWJ1dGUuYXR0clBvc2l0aW9uO2dsLnZlcnRleEF0dHJpYlBvaW50ZXIoYXR0clBvc2l0aW9uLGF0dHJpYnV0ZS5pdGVtU2l6ZSxnbC5GTE9BVCwhMSwwLDApLGF0dHJpYnV0ZS5pc0luc3RhbmNlZCYmZ2wudmVydGV4QXR0cmliRGl2aXNvcihhdHRyUG9zaXRpb24sMSl9KSxnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHRoaXMuaUJ1ZmZlcikpfX0se2tleTpcImdlbmVyYXRlQnVmZmVyc1wiLHZhbHVlOmZ1bmN0aW9uKG1TaGFkZXJQcm9ncmFtKXt2YXIgX3RoaXM9dGhpczswIT10aGlzLl9idWZmZXJDaGFuZ2VkLmxlbmd0aCYmKHRoaXMuX3VzZVZBTz8odGhpcy5fdmFvfHwodGhpcy5fdmFvPWdsLmNyZWF0ZVZlcnRleEFycmF5KCkpLGdsLmJpbmRWZXJ0ZXhBcnJheSh0aGlzLl92YW8pLHRoaXMuX2F0dHJpYnV0ZXMuZm9yRWFjaChmdW5jdGlvbihhdHRyT2JqKXtpZigtMSE9PV90aGlzLl9idWZmZXJDaGFuZ2VkLmluZGV4T2YoYXR0ck9iai5uYW1lKSl7dmFyIGJ1ZmZlcj1nZXRCdWZmZXIoYXR0ck9iaik7Z2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsYnVmZmVyKSxnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUixhdHRyT2JqLmRhdGFBcnJheSxhdHRyT2JqLmRyYXdUeXBlKTt2YXIgYXR0clBvc2l0aW9uPSgwLF9nZXRBdHRyaWJMb2MyLmRlZmF1bHQpKGdsLG1TaGFkZXJQcm9ncmFtLGF0dHJPYmoubmFtZSk7Z2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYXR0clBvc2l0aW9uKSxnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGF0dHJQb3NpdGlvbixhdHRyT2JqLml0ZW1TaXplLGdsLkZMT0FULCExLDAsMCksYXR0ck9iai5hdHRyUG9zaXRpb249YXR0clBvc2l0aW9uLGF0dHJPYmouaXNJbnN0YW5jZWQmJmdsLnZlcnRleEF0dHJpYkRpdmlzb3IoYXR0clBvc2l0aW9uLDEpfX0pLHRoaXMuX3VwZGF0ZUluZGV4QnVmZmVyKCksZ2wuYmluZFZlcnRleEFycmF5KG51bGwpLHRoaXMuX2hhc1ZBTz0hMCk6KHRoaXMuX2F0dHJpYnV0ZXMuZm9yRWFjaChmdW5jdGlvbihhdHRyT2JqKXtpZigtMSE9PV90aGlzLl9idWZmZXJDaGFuZ2VkLmluZGV4T2YoYXR0ck9iai5uYW1lKSl7dmFyIGJ1ZmZlcj1nZXRCdWZmZXIoYXR0ck9iaik7Z2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsYnVmZmVyKSxnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUixhdHRyT2JqLmRhdGFBcnJheSxhdHRyT2JqLmRyYXdUeXBlKTt2YXIgYXR0clBvc2l0aW9uPSgwLF9nZXRBdHRyaWJMb2MyLmRlZmF1bHQpKGdsLG1TaGFkZXJQcm9ncmFtLGF0dHJPYmoubmFtZSk7Z2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYXR0clBvc2l0aW9uKSxnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGF0dHJQb3NpdGlvbixhdHRyT2JqLml0ZW1TaXplLGdsLkZMT0FULCExLDAsMCksYXR0ck9iai5hdHRyUG9zaXRpb249YXR0clBvc2l0aW9uLGF0dHJPYmouaXNJbnN0YW5jZWQmJmdsLnZlcnRleEF0dHJpYkRpdmlzb3IoYXR0clBvc2l0aW9uLDEpfX0pLHRoaXMuX3VwZGF0ZUluZGV4QnVmZmVyKCkpLHRoaXMuX2hhc0luZGV4QnVmZmVyQ2hhbmdlZD0hMSx0aGlzLl9idWZmZXJDaGFuZ2VkPVtdKX19LHtrZXk6XCJ1bmJpbmRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3VzZVZBTyYmZ2wuYmluZFZlcnRleEFycmF5KG51bGwpLHRoaXMuX2F0dHJpYnV0ZXMuZm9yRWFjaChmdW5jdGlvbihhdHRyaWJ1dGUpe2F0dHJpYnV0ZS5pc0luc3RhbmNlZCYmZ2wudmVydGV4QXR0cmliRGl2aXNvcihhdHRyaWJ1dGUuYXR0clBvc2l0aW9uLDApfSl9fSx7a2V5OlwiX3VwZGF0ZUluZGV4QnVmZmVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9oYXNJbmRleEJ1ZmZlckNoYW5nZWR8fCh0aGlzLmlCdWZmZXJ8fCh0aGlzLmlCdWZmZXI9Z2wuY3JlYXRlQnVmZmVyKCkpLGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy5pQnVmZmVyKSxnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHRoaXMuX2luZGljZXMsdGhpcy5fZHJhd1R5cGUpLHRoaXMuaUJ1ZmZlci5pdGVtU2l6ZT0xLHRoaXMuaUJ1ZmZlci5udW1JdGVtcz10aGlzLl9udW1JdGVtcyl9fSx7a2V5OlwiY29tcHV0ZU5vcm1hbHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB1c2luZ0ZhY2VOb3JtYWxzPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07dGhpcy5nZW5lcmF0ZUZhY2VzKCksdXNpbmdGYWNlTm9ybWFscz90aGlzLl9jb21wdXRlRmFjZU5vcm1hbHMoKTp0aGlzLl9jb21wdXRlVmVydGV4Tm9ybWFscygpfX0se2tleTpcIl9jb21wdXRlRmFjZU5vcm1hbHNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgZmFjZUluZGV4PXZvaWQgMCxmYWNlPXZvaWQgMCxub3JtYWxzPVtdLGk9MDtpPHRoaXMuX2luZGljZXMubGVuZ3RoO2krPTMpe2ZhY2VJbmRleD1pLzMsZmFjZT10aGlzLl9mYWNlc1tmYWNlSW5kZXhdO3ZhciBOPWZhY2Uubm9ybWFsO25vcm1hbHNbZmFjZS5pbmRpY2VzWzBdXT1OLG5vcm1hbHNbZmFjZS5pbmRpY2VzWzFdXT1OLG5vcm1hbHNbZmFjZS5pbmRpY2VzWzJdXT1OfXRoaXMuYnVmZmVyTm9ybWFsKG5vcm1hbHMpfX0se2tleTpcIl9jb21wdXRlVmVydGV4Tm9ybWFsc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBmYWNlPXZvaWQgMCxzdW1Ob3JtYWw9X2dsTWF0cml4LnZlYzMuY3JlYXRlKCksbm9ybWFscz1bXSx2ZXJ0aWNlcz10aGlzLnZlcnRpY2VzLGk9MDtpPHZlcnRpY2VzLmxlbmd0aDtpKyspe19nbE1hdHJpeC52ZWMzLnNldChzdW1Ob3JtYWwsMCwwLDApO2Zvcih2YXIgaj0wO2o8dGhpcy5fZmFjZXMubGVuZ3RoO2orKylmYWNlPXRoaXMuX2ZhY2VzW2pdLGZhY2UuaW5kaWNlcy5pbmRleE9mKGkpPj0wJiYoc3VtTm9ybWFsWzBdKz1mYWNlLm5vcm1hbFswXSxzdW1Ob3JtYWxbMV0rPWZhY2Uubm9ybWFsWzFdLHN1bU5vcm1hbFsyXSs9ZmFjZS5ub3JtYWxbMl0pO19nbE1hdHJpeC52ZWMzLm5vcm1hbGl6ZShzdW1Ob3JtYWwsc3VtTm9ybWFsKSxub3JtYWxzLnB1c2goW3N1bU5vcm1hbFswXSxzdW1Ob3JtYWxbMV0sc3VtTm9ybWFsWzJdXSl9dGhpcy5idWZmZXJOb3JtYWwobm9ybWFscyl9fSx7a2V5OlwiZ2VuZXJhdGVGYWNlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBpYT12b2lkIDAsaWI9dm9pZCAwLGljPXZvaWQgMCxhPXZvaWQgMCxiPXZvaWQgMCxjPXZvaWQgMCx2ZXJ0aWNlcz0oX2dsTWF0cml4LnZlYzMuY3JlYXRlKCksX2dsTWF0cml4LnZlYzMuY3JlYXRlKCksX2dsTWF0cml4LnZlYzMuY3JlYXRlKCksdGhpcy52ZXJ0aWNlcyksaT0wO2k8dGhpcy5faW5kaWNlcy5sZW5ndGg7aSs9Myl7aWE9dGhpcy5faW5kaWNlc1tpXSxpYj10aGlzLl9pbmRpY2VzW2krMV0saWM9dGhpcy5faW5kaWNlc1tpKzJdLGE9dmVydGljZXNbaWFdLGI9dmVydGljZXNbaWJdLGM9dmVydGljZXNbaWNdO3ZhciBmYWNlPXtpbmRpY2VzOltpYSxpYixpY10sdmVydGljZXM6W2EsYixjXX07dGhpcy5fZmFjZXMucHVzaChmYWNlKX19fSx7a2V5OlwiZ2V0QXR0cmlidXRlXCIsdmFsdWU6ZnVuY3Rpb24obU5hbWUpe3JldHVybiB0aGlzLl9hdHRyaWJ1dGVzLmZpbmQoZnVuY3Rpb24oYSl7cmV0dXJuIGEubmFtZT09PW1OYW1lfSl9fSx7a2V5OlwiZ2V0U291cmNlXCIsdmFsdWU6ZnVuY3Rpb24obU5hbWUpe3ZhciBhdHRyPXRoaXMuZ2V0QXR0cmlidXRlKG1OYW1lKTtyZXR1cm4gYXR0cj9hdHRyLnNvdXJjZTpbXX19LHtrZXk6XCJ2ZXJ0aWNlc1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNvdXJjZShcImFWZXJ0ZXhQb3NpdGlvblwiKX19LHtrZXk6XCJub3JtYWxzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U291cmNlKFwiYU5vcm1hbFwiKX19LHtrZXk6XCJjb29yZHNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTb3VyY2UoXCJhVGV4dHVyZUNvb3JkXCIpfX0se2tleTpcImluZGljZXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5kaWNlc319LHtrZXk6XCJ2ZXJ0ZXhTaXplXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVydGljZXMubGVuZ3RofX0se2tleTpcImZhY2VzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZhY2VzfX0se2tleTpcImF0dHJpYnV0ZXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXR0cmlidXRlc319LHtrZXk6XCJoYXNWQU9cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFzVkFPfX0se2tleTpcInZhb1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92YW99fSx7a2V5OlwibnVtSW5zdGFuY2VcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbnVtSW5zdGFuY2V9fSx7a2V5OlwiaXNJbnN0YW5jZWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNJbnN0YW5jZWR9fV0pLE1lc2h9KCk7ZXhwb3J0cy5kZWZhdWx0PU1lc2h9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLFNjaGVkdWxlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIFNjaGVkdWxlcigpe19jbGFzc0NhbGxDaGVjayh0aGlzLFNjaGVkdWxlciksdGhpcy5fZGVsYXlUYXNrcz1bXSx0aGlzLl9uZXh0VGFza3M9W10sdGhpcy5fZGVmZXJUYXNrcz1bXSx0aGlzLl9oaWdoVGFza3M9W10sdGhpcy5fdXN1cnBUYXNrPVtdLHRoaXMuX2VudGVyZnJhbWVUYXNrcz1bXSx0aGlzLl9pZFRhYmxlPTAsdGhpcy5fc3RhcnRUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuX2RlbHRhVGltZT0wLHRoaXMuX2xvb3AoKX1yZXR1cm4gX2NyZWF0ZUNsYXNzKFNjaGVkdWxlcixbe2tleTpcImFkZEVGXCIsdmFsdWU6ZnVuY3Rpb24oZnVuYyxwYXJhbXMpe3BhcmFtcz1wYXJhbXN8fFtdO3ZhciBpZD10aGlzLl9pZFRhYmxlO3JldHVybiB0aGlzLl9lbnRlcmZyYW1lVGFza3NbaWRdPXtmdW5jOmZ1bmMscGFyYW1zOnBhcmFtc30sdGhpcy5faWRUYWJsZSsrLGlkfX0se2tleTpcInJlbW92ZUVGXCIsdmFsdWU6ZnVuY3Rpb24oaWQpe3JldHVybiB2b2lkIDAhPT10aGlzLl9lbnRlcmZyYW1lVGFza3NbaWRdJiYodGhpcy5fZW50ZXJmcmFtZVRhc2tzW2lkXT1udWxsKSwtMX19LHtrZXk6XCJkZWxheVwiLHZhbHVlOmZ1bmN0aW9uKGZ1bmMscGFyYW1zLF9kZWxheSl7dmFyIHRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksdD17ZnVuYzpmdW5jLHBhcmFtczpwYXJhbXMsZGVsYXk6X2RlbGF5LHRpbWU6dGltZX07dGhpcy5fZGVsYXlUYXNrcy5wdXNoKHQpfX0se2tleTpcImRlZmVyXCIsdmFsdWU6ZnVuY3Rpb24oZnVuYyxwYXJhbXMpe3ZhciB0PXtmdW5jOmZ1bmMscGFyYW1zOnBhcmFtc307dGhpcy5fZGVmZXJUYXNrcy5wdXNoKHQpfX0se2tleTpcIm5leHRcIix2YWx1ZTpmdW5jdGlvbihmdW5jLHBhcmFtcyl7dmFyIHQ9e2Z1bmM6ZnVuYyxwYXJhbXM6cGFyYW1zfTt0aGlzLl9uZXh0VGFza3MucHVzaCh0KX19LHtrZXk6XCJ1c3VycFwiLHZhbHVlOmZ1bmN0aW9uKGZ1bmMscGFyYW1zKXt2YXIgdD17ZnVuYzpmdW5jLHBhcmFtczpwYXJhbXN9O3RoaXMuX3VzdXJwVGFzay5wdXNoKHQpfX0se2tleTpcIl9wcm9jZXNzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgaT0wLHRhc2s9dm9pZCAwLGludGVydmFsPXZvaWQgMDtmb3IoaT0wO2k8dGhpcy5fZW50ZXJmcmFtZVRhc2tzLmxlbmd0aDtpKyspbnVsbCE9PSh0YXNrPXRoaXMuX2VudGVyZnJhbWVUYXNrc1tpXSkmJnZvaWQgMCE9PXRhc2smJnRhc2suZnVuYyh0YXNrLnBhcmFtcyk7Zm9yKDt0aGlzLl9oaWdoVGFza3MubGVuZ3RoPjA7KXRhc2s9dGhpcy5faGlnaFRhc2tzLnBvcCgpLHRhc2suZnVuYyh0YXNrLnBhcmFtcyk7dmFyIHN0YXJ0VGltZT0obmV3IERhdGUpLmdldFRpbWUoKTtmb3IodGhpcy5fZGVsdGFUaW1lPShzdGFydFRpbWUtdGhpcy5fc3RhcnRUaW1lKS8xZTMsaT0wO2k8dGhpcy5fZGVsYXlUYXNrcy5sZW5ndGg7aSsrKXRhc2s9dGhpcy5fZGVsYXlUYXNrc1tpXSxzdGFydFRpbWUtdGFzay50aW1lPnRhc2suZGVsYXkmJih0YXNrLmZ1bmModGFzay5wYXJhbXMpLHRoaXMuX2RlbGF5VGFza3Muc3BsaWNlKGksMSkpO2ZvcihzdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5fZGVsdGFUaW1lPShzdGFydFRpbWUtdGhpcy5fc3RhcnRUaW1lKS8xZTMsaW50ZXJ2YWw9MWUzLzYwO3RoaXMuX2RlZmVyVGFza3MubGVuZ3RoPjA7KXtpZih0YXNrPXRoaXMuX2RlZmVyVGFza3Muc2hpZnQoKSwhKChuZXcgRGF0ZSkuZ2V0VGltZSgpLXN0YXJ0VGltZTxpbnRlcnZhbCkpe3RoaXMuX2RlZmVyVGFza3MudW5zaGlmdCh0YXNrKTticmVha310YXNrLmZ1bmModGFzay5wYXJhbXMpfWZvcihzdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5fZGVsdGFUaW1lPShzdGFydFRpbWUtdGhpcy5fc3RhcnRUaW1lKS8xZTMsaW50ZXJ2YWw9MWUzLzYwO3RoaXMuX3VzdXJwVGFzay5sZW5ndGg+MDspdGFzaz10aGlzLl91c3VycFRhc2suc2hpZnQoKSwobmV3IERhdGUpLmdldFRpbWUoKS1zdGFydFRpbWU8aW50ZXJ2YWwmJnRhc2suZnVuYyh0YXNrLnBhcmFtcyk7dGhpcy5faGlnaFRhc2tzPXRoaXMuX2hpZ2hUYXNrcy5jb25jYXQodGhpcy5fbmV4dFRhc2tzKSx0aGlzLl9uZXh0VGFza3M9W10sdGhpcy5fdXN1cnBUYXNrPVtdfX0se2tleTpcIl9sb29wXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpczt0aGlzLl9wcm9jZXNzKCksd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe3JldHVybiBfdGhpcy5fbG9vcCgpfSl9fSx7a2V5OlwiZGVsdGFUaW1lXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbHRhVGltZX19XSksU2NoZWR1bGVyfSgpLHNjaGVkdWxlcj1uZXcgU2NoZWR1bGVyO2V4cG9ydHMuZGVmYXVsdD1zY2hlZHVsZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfTWVzaD1fX3dlYnBhY2tfcmVxdWlyZV9fKDUpLF9NZXNoMj1mdW5jdGlvbihvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fShfTWVzaCksR2VvbT17fSxtZXNoVHJpPXZvaWQgMDtHZW9tLnBsYW5lPWZ1bmN0aW9uKHdpZHRoLGhlaWdodCxudW1TZWdtZW50cyl7Zm9yKHZhciBheGlzPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTpcInh5XCIsZHJhd1R5cGU9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOjQscG9zaXRpb25zPVtdLGNvb3Jkcz1bXSxpbmRpY2VzPVtdLG5vcm1hbHM9W10sZ2FwWD13aWR0aC9udW1TZWdtZW50cyxnYXBZPWhlaWdodC9udW1TZWdtZW50cyxnYXBVVj0xL251bVNlZ21lbnRzLHN4PS41Ki13aWR0aCxzeT0uNSotaGVpZ2h0LGluZGV4PTAsaT0wO2k8bnVtU2VnbWVudHM7aSsrKWZvcih2YXIgaj0wO2o8bnVtU2VnbWVudHM7aisrKXt2YXIgdHg9Z2FwWCppK3N4LHR5PWdhcFkqaitzeSx1PWkvbnVtU2VnbWVudHMsdj1qL251bVNlZ21lbnRzO1wieHpcIj09PWF4aXM/KHBvc2l0aW9ucy5wdXNoKFt0eCwwLHR5K2dhcFldKSxwb3NpdGlvbnMucHVzaChbdHgrZ2FwWCwwLHR5K2dhcFldKSxwb3NpdGlvbnMucHVzaChbdHgrZ2FwWCwwLHR5XSkscG9zaXRpb25zLnB1c2goW3R4LDAsdHldKSxjb29yZHMucHVzaChbdSwxLSh2K2dhcFVWKV0pLGNvb3Jkcy5wdXNoKFt1K2dhcFVWLDEtKHYrZ2FwVVYpXSksY29vcmRzLnB1c2goW3UrZ2FwVVYsMS12XSksY29vcmRzLnB1c2goW3UsMS12XSksbm9ybWFscy5wdXNoKFswLDEsMF0pLG5vcm1hbHMucHVzaChbMCwxLDBdKSxub3JtYWxzLnB1c2goWzAsMSwwXSksbm9ybWFscy5wdXNoKFswLDEsMF0pKTpcInl6XCI9PT1heGlzPyhwb3NpdGlvbnMucHVzaChbMCx0eSx0eF0pLHBvc2l0aW9ucy5wdXNoKFswLHR5LHR4K2dhcFhdKSxwb3NpdGlvbnMucHVzaChbMCx0eStnYXBZLHR4K2dhcFhdKSxwb3NpdGlvbnMucHVzaChbMCx0eStnYXBZLHR4XSksY29vcmRzLnB1c2goW3Usdl0pLGNvb3Jkcy5wdXNoKFt1K2dhcFVWLHZdKSxjb29yZHMucHVzaChbdStnYXBVVix2K2dhcFVWXSksY29vcmRzLnB1c2goW3UsditnYXBVVl0pLG5vcm1hbHMucHVzaChbMSwwLDBdKSxub3JtYWxzLnB1c2goWzEsMCwwXSksbm9ybWFscy5wdXNoKFsxLDAsMF0pLG5vcm1hbHMucHVzaChbMSwwLDBdKSk6KHBvc2l0aW9ucy5wdXNoKFt0eCx0eSwwXSkscG9zaXRpb25zLnB1c2goW3R4K2dhcFgsdHksMF0pLHBvc2l0aW9ucy5wdXNoKFt0eCtnYXBYLHR5K2dhcFksMF0pLHBvc2l0aW9ucy5wdXNoKFt0eCx0eStnYXBZLDBdKSxjb29yZHMucHVzaChbdSx2XSksY29vcmRzLnB1c2goW3UrZ2FwVVYsdl0pLGNvb3Jkcy5wdXNoKFt1K2dhcFVWLHYrZ2FwVVZdKSxjb29yZHMucHVzaChbdSx2K2dhcFVWXSksbm9ybWFscy5wdXNoKFswLDAsMV0pLG5vcm1hbHMucHVzaChbMCwwLDFdKSxub3JtYWxzLnB1c2goWzAsMCwxXSksbm9ybWFscy5wdXNoKFswLDAsMV0pKSxpbmRpY2VzLnB1c2goNCppbmRleCswKSxpbmRpY2VzLnB1c2goNCppbmRleCsxKSxpbmRpY2VzLnB1c2goNCppbmRleCsyKSxpbmRpY2VzLnB1c2goNCppbmRleCswKSxpbmRpY2VzLnB1c2goNCppbmRleCsyKSxpbmRpY2VzLnB1c2goNCppbmRleCszKSxpbmRleCsrfXZhciBtZXNoPW5ldyBfTWVzaDIuZGVmYXVsdChkcmF3VHlwZSk7cmV0dXJuIG1lc2guYnVmZmVyVmVydGV4KHBvc2l0aW9ucyksbWVzaC5idWZmZXJUZXhDb29yZChjb29yZHMpLG1lc2guYnVmZmVySW5kZXgoaW5kaWNlcyksbWVzaC5idWZmZXJOb3JtYWwobm9ybWFscyksbWVzaH0sR2VvbS5zcGhlcmU9ZnVuY3Rpb24oc2l6ZSxudW1TZWdtZW50cyl7ZnVuY3Rpb24gZ2V0UG9zaXRpb24oaSxqKXt2YXIgaXNOb3JtYWw9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxyeD1pL251bVNlZ21lbnRzKk1hdGguUEktLjUqTWF0aC5QSSxyeT1qL251bVNlZ21lbnRzKk1hdGguUEkqMixyPWlzTm9ybWFsPzE6c2l6ZSxwb3M9W107cG9zWzFdPU1hdGguc2luKHJ4KSpyO3ZhciB0PU1hdGguY29zKHJ4KSpyO3Bvc1swXT1NYXRoLmNvcyhyeSkqdCxwb3NbMl09TWF0aC5zaW4ocnkpKnQ7cmV0dXJuIHBvc1swXT1NYXRoLmZsb29yKDFlNCpwb3NbMF0pLzFlNCxwb3NbMV09TWF0aC5mbG9vcigxZTQqcG9zWzFdKS8xZTQscG9zWzJdPU1hdGguZmxvb3IoMWU0KnBvc1syXSkvMWU0LHBvc31mb3IodmFyIGlzSW52ZXJ0PWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0sZHJhd1R5cGU9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjQscG9zaXRpb25zPVtdLGNvb3Jkcz1bXSxpbmRpY2VzPVtdLG5vcm1hbHM9W10sZ2FwVVY9MS9udW1TZWdtZW50cyxpbmRleD0wLGk9MDtpPG51bVNlZ21lbnRzO2krKylmb3IodmFyIGo9MDtqPG51bVNlZ21lbnRzO2orKyl7cG9zaXRpb25zLnB1c2goZ2V0UG9zaXRpb24oaSxqKSkscG9zaXRpb25zLnB1c2goZ2V0UG9zaXRpb24oaSsxLGopKSxwb3NpdGlvbnMucHVzaChnZXRQb3NpdGlvbihpKzEsaisxKSkscG9zaXRpb25zLnB1c2goZ2V0UG9zaXRpb24oaSxqKzEpKSxub3JtYWxzLnB1c2goZ2V0UG9zaXRpb24oaSxqLCEwKSksbm9ybWFscy5wdXNoKGdldFBvc2l0aW9uKGkrMSxqLCEwKSksbm9ybWFscy5wdXNoKGdldFBvc2l0aW9uKGkrMSxqKzEsITApKSxub3JtYWxzLnB1c2goZ2V0UG9zaXRpb24oaSxqKzEsITApKTt2YXIgdT1qL251bVNlZ21lbnRzLHY9aS9udW1TZWdtZW50cztjb29yZHMucHVzaChbMS11LHZdKSxjb29yZHMucHVzaChbMS11LHYrZ2FwVVZdKSxjb29yZHMucHVzaChbMS11LWdhcFVWLHYrZ2FwVVZdKSxjb29yZHMucHVzaChbMS11LWdhcFVWLHZdKSxpbmRpY2VzLnB1c2goNCppbmRleCswKSxpbmRpY2VzLnB1c2goNCppbmRleCsxKSxpbmRpY2VzLnB1c2goNCppbmRleCsyKSxpbmRpY2VzLnB1c2goNCppbmRleCswKSxpbmRpY2VzLnB1c2goNCppbmRleCsyKSxpbmRpY2VzLnB1c2goNCppbmRleCszKSxpbmRleCsrfWlzSW52ZXJ0JiZpbmRpY2VzLnJldmVyc2UoKTt2YXIgbWVzaD1uZXcgX01lc2gyLmRlZmF1bHQoZHJhd1R5cGUpO3JldHVybiBtZXNoLmJ1ZmZlclZlcnRleChwb3NpdGlvbnMpLG1lc2guYnVmZmVyVGV4Q29vcmQoY29vcmRzKSxtZXNoLmJ1ZmZlckluZGV4KGluZGljZXMpLG1lc2guYnVmZmVyTm9ybWFsKG5vcm1hbHMpLG1lc2h9LEdlb20uY3ViZT1mdW5jdGlvbih3LGgsZCl7dmFyIGRyYXdUeXBlPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTo0O2g9aHx8dyxkPWR8fHc7dmFyIHg9dy8yLHk9aC8yLHo9ZC8yLHBvc2l0aW9ucz1bXSxjb29yZHM9W10saW5kaWNlcz1bXSxub3JtYWxzPVtdLGNvdW50PTA7cG9zaXRpb25zLnB1c2goWy14LHksLXpdKSxwb3NpdGlvbnMucHVzaChbeCx5LC16XSkscG9zaXRpb25zLnB1c2goW3gsLXksLXpdKSxwb3NpdGlvbnMucHVzaChbLXgsLXksLXpdKSxub3JtYWxzLnB1c2goWzAsMCwtMV0pLG5vcm1hbHMucHVzaChbMCwwLC0xXSksbm9ybWFscy5wdXNoKFswLDAsLTFdKSxub3JtYWxzLnB1c2goWzAsMCwtMV0pLGNvb3Jkcy5wdXNoKFswLDBdKSxjb29yZHMucHVzaChbMSwwXSksY29vcmRzLnB1c2goWzEsMV0pLGNvb3Jkcy5wdXNoKFswLDFdKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsxKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCszKSxjb3VudCsrLHBvc2l0aW9ucy5wdXNoKFt4LHksLXpdKSxwb3NpdGlvbnMucHVzaChbeCx5LHpdKSxwb3NpdGlvbnMucHVzaChbeCwteSx6XSkscG9zaXRpb25zLnB1c2goW3gsLXksLXpdKSxub3JtYWxzLnB1c2goWzEsMCwwXSksbm9ybWFscy5wdXNoKFsxLDAsMF0pLG5vcm1hbHMucHVzaChbMSwwLDBdKSxub3JtYWxzLnB1c2goWzEsMCwwXSksY29vcmRzLnB1c2goWzAsMF0pLGNvb3Jkcy5wdXNoKFsxLDBdKSxjb29yZHMucHVzaChbMSwxXSksY29vcmRzLnB1c2goWzAsMV0pLGluZGljZXMucHVzaCg0KmNvdW50KzApLGluZGljZXMucHVzaCg0KmNvdW50KzEpLGluZGljZXMucHVzaCg0KmNvdW50KzIpLGluZGljZXMucHVzaCg0KmNvdW50KzApLGluZGljZXMucHVzaCg0KmNvdW50KzIpLGluZGljZXMucHVzaCg0KmNvdW50KzMpLGNvdW50KysscG9zaXRpb25zLnB1c2goW3gseSx6XSkscG9zaXRpb25zLnB1c2goWy14LHksel0pLHBvc2l0aW9ucy5wdXNoKFsteCwteSx6XSkscG9zaXRpb25zLnB1c2goW3gsLXksel0pLG5vcm1hbHMucHVzaChbMCwwLDFdKSxub3JtYWxzLnB1c2goWzAsMCwxXSksbm9ybWFscy5wdXNoKFswLDAsMV0pLG5vcm1hbHMucHVzaChbMCwwLDFdKSxjb29yZHMucHVzaChbMCwwXSksY29vcmRzLnB1c2goWzEsMF0pLGNvb3Jkcy5wdXNoKFsxLDFdKSxjb29yZHMucHVzaChbMCwxXSksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMSksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMyksY291bnQrKyxwb3NpdGlvbnMucHVzaChbLXgseSx6XSkscG9zaXRpb25zLnB1c2goWy14LHksLXpdKSxwb3NpdGlvbnMucHVzaChbLXgsLXksLXpdKSxwb3NpdGlvbnMucHVzaChbLXgsLXksel0pLG5vcm1hbHMucHVzaChbLTEsMCwwXSksbm9ybWFscy5wdXNoKFstMSwwLDBdKSxub3JtYWxzLnB1c2goWy0xLDAsMF0pLG5vcm1hbHMucHVzaChbLTEsMCwwXSksY29vcmRzLnB1c2goWzAsMF0pLGNvb3Jkcy5wdXNoKFsxLDBdKSxjb29yZHMucHVzaChbMSwxXSksY29vcmRzLnB1c2goWzAsMV0pLGluZGljZXMucHVzaCg0KmNvdW50KzApLGluZGljZXMucHVzaCg0KmNvdW50KzEpLGluZGljZXMucHVzaCg0KmNvdW50KzIpLGluZGljZXMucHVzaCg0KmNvdW50KzApLGluZGljZXMucHVzaCg0KmNvdW50KzIpLGluZGljZXMucHVzaCg0KmNvdW50KzMpLGNvdW50KysscG9zaXRpb25zLnB1c2goW3gseSwtel0pLHBvc2l0aW9ucy5wdXNoKFsteCx5LC16XSkscG9zaXRpb25zLnB1c2goWy14LHksel0pLHBvc2l0aW9ucy5wdXNoKFt4LHksel0pLG5vcm1hbHMucHVzaChbMCwxLDBdKSxub3JtYWxzLnB1c2goWzAsMSwwXSksbm9ybWFscy5wdXNoKFswLDEsMF0pLG5vcm1hbHMucHVzaChbMCwxLDBdKSxjb29yZHMucHVzaChbMCwwXSksY29vcmRzLnB1c2goWzEsMF0pLGNvb3Jkcy5wdXNoKFsxLDFdKSxjb29yZHMucHVzaChbMCwxXSksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMSksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMyksY291bnQrKyxwb3NpdGlvbnMucHVzaChbeCwteSx6XSkscG9zaXRpb25zLnB1c2goWy14LC15LHpdKSxwb3NpdGlvbnMucHVzaChbLXgsLXksLXpdKSxwb3NpdGlvbnMucHVzaChbeCwteSwtel0pLG5vcm1hbHMucHVzaChbMCwtMSwwXSksbm9ybWFscy5wdXNoKFswLC0xLDBdKSxub3JtYWxzLnB1c2goWzAsLTEsMF0pLG5vcm1hbHMucHVzaChbMCwtMSwwXSksY29vcmRzLnB1c2goWzAsMF0pLGNvb3Jkcy5wdXNoKFsxLDBdKSxjb29yZHMucHVzaChbMSwxXSksY29vcmRzLnB1c2goWzAsMV0pLGluZGljZXMucHVzaCg0KmNvdW50KzApLGluZGljZXMucHVzaCg0KmNvdW50KzEpLGluZGljZXMucHVzaCg0KmNvdW50KzIpLGluZGljZXMucHVzaCg0KmNvdW50KzApLGluZGljZXMucHVzaCg0KmNvdW50KzIpLGluZGljZXMucHVzaCg0KmNvdW50KzMpLGNvdW50Kys7dmFyIG1lc2g9bmV3IF9NZXNoMi5kZWZhdWx0KGRyYXdUeXBlKTtyZXR1cm4gbWVzaC5idWZmZXJWZXJ0ZXgocG9zaXRpb25zKSxtZXNoLmJ1ZmZlclRleENvb3JkKGNvb3JkcyksbWVzaC5idWZmZXJJbmRleChpbmRpY2VzKSxtZXNoLmJ1ZmZlck5vcm1hbChub3JtYWxzKSxtZXNofSxHZW9tLnNreWJveD1mdW5jdGlvbihzaXplKXt2YXIgZHJhd1R5cGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjQscG9zaXRpb25zPVtdLGNvb3Jkcz1bXSxpbmRpY2VzPVtdLG5vcm1hbHM9W10sY291bnQ9MDtwb3NpdGlvbnMucHVzaChbc2l6ZSxzaXplLC1zaXplXSkscG9zaXRpb25zLnB1c2goWy1zaXplLHNpemUsLXNpemVdKSxwb3NpdGlvbnMucHVzaChbLXNpemUsLXNpemUsLXNpemVdKSxwb3NpdGlvbnMucHVzaChbc2l6ZSwtc2l6ZSwtc2l6ZV0pLG5vcm1hbHMucHVzaChbMCwwLC0xXSksbm9ybWFscy5wdXNoKFswLDAsLTFdKSxub3JtYWxzLnB1c2goWzAsMCwtMV0pLG5vcm1hbHMucHVzaChbMCwwLC0xXSksY29vcmRzLnB1c2goWzAsMF0pLGNvb3Jkcy5wdXNoKFsxLDBdKSxjb29yZHMucHVzaChbMSwxXSksY29vcmRzLnB1c2goWzAsMV0pLGluZGljZXMucHVzaCg0KmNvdW50KzApLGluZGljZXMucHVzaCg0KmNvdW50KzEpLGluZGljZXMucHVzaCg0KmNvdW50KzIpLGluZGljZXMucHVzaCg0KmNvdW50KzApLGluZGljZXMucHVzaCg0KmNvdW50KzIpLGluZGljZXMucHVzaCg0KmNvdW50KzMpLGNvdW50KysscG9zaXRpb25zLnB1c2goW3NpemUsLXNpemUsLXNpemVdKSxwb3NpdGlvbnMucHVzaChbc2l6ZSwtc2l6ZSxzaXplXSkscG9zaXRpb25zLnB1c2goW3NpemUsc2l6ZSxzaXplXSkscG9zaXRpb25zLnB1c2goW3NpemUsc2l6ZSwtc2l6ZV0pLG5vcm1hbHMucHVzaChbMSwwLDBdKSxub3JtYWxzLnB1c2goWzEsMCwwXSksbm9ybWFscy5wdXNoKFsxLDAsMF0pLG5vcm1hbHMucHVzaChbMSwwLDBdKSxjb29yZHMucHVzaChbMCwwXSksY29vcmRzLnB1c2goWzEsMF0pLGNvb3Jkcy5wdXNoKFsxLDFdKSxjb29yZHMucHVzaChbMCwxXSksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMSksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMyksY291bnQrKyxwb3NpdGlvbnMucHVzaChbLXNpemUsc2l6ZSxzaXplXSkscG9zaXRpb25zLnB1c2goW3NpemUsc2l6ZSxzaXplXSkscG9zaXRpb25zLnB1c2goW3NpemUsLXNpemUsc2l6ZV0pLHBvc2l0aW9ucy5wdXNoKFstc2l6ZSwtc2l6ZSxzaXplXSksbm9ybWFscy5wdXNoKFswLDAsMV0pLG5vcm1hbHMucHVzaChbMCwwLDFdKSxub3JtYWxzLnB1c2goWzAsMCwxXSksbm9ybWFscy5wdXNoKFswLDAsMV0pLGNvb3Jkcy5wdXNoKFswLDBdKSxjb29yZHMucHVzaChbMSwwXSksY29vcmRzLnB1c2goWzEsMV0pLGNvb3Jkcy5wdXNoKFswLDFdKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsxKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCszKSxjb3VudCsrLHBvc2l0aW9ucy5wdXNoKFstc2l6ZSwtc2l6ZSxzaXplXSkscG9zaXRpb25zLnB1c2goWy1zaXplLC1zaXplLC1zaXplXSkscG9zaXRpb25zLnB1c2goWy1zaXplLHNpemUsLXNpemVdKSxwb3NpdGlvbnMucHVzaChbLXNpemUsc2l6ZSxzaXplXSksbm9ybWFscy5wdXNoKFstMSwwLDBdKSxub3JtYWxzLnB1c2goWy0xLDAsMF0pLG5vcm1hbHMucHVzaChbLTEsMCwwXSksbm9ybWFscy5wdXNoKFstMSwwLDBdKSxjb29yZHMucHVzaChbMCwwXSksY29vcmRzLnB1c2goWzEsMF0pLGNvb3Jkcy5wdXNoKFsxLDFdKSxjb29yZHMucHVzaChbMCwxXSksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMSksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMyksY291bnQrKyxwb3NpdGlvbnMucHVzaChbc2l6ZSxzaXplLHNpemVdKSxwb3NpdGlvbnMucHVzaChbLXNpemUsc2l6ZSxzaXplXSkscG9zaXRpb25zLnB1c2goWy1zaXplLHNpemUsLXNpemVdKSxwb3NpdGlvbnMucHVzaChbc2l6ZSxzaXplLC1zaXplXSksbm9ybWFscy5wdXNoKFswLDEsMF0pLG5vcm1hbHMucHVzaChbMCwxLDBdKSxub3JtYWxzLnB1c2goWzAsMSwwXSksbm9ybWFscy5wdXNoKFswLDEsMF0pLGNvb3Jkcy5wdXNoKFswLDBdKSxjb29yZHMucHVzaChbMSwwXSksY29vcmRzLnB1c2goWzEsMV0pLGNvb3Jkcy5wdXNoKFswLDFdKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsxKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCswKSxpbmRpY2VzLnB1c2goNCpjb3VudCsyKSxpbmRpY2VzLnB1c2goNCpjb3VudCszKSxjb3VudCsrLHBvc2l0aW9ucy5wdXNoKFtzaXplLC1zaXplLC1zaXplXSkscG9zaXRpb25zLnB1c2goWy1zaXplLC1zaXplLC1zaXplXSkscG9zaXRpb25zLnB1c2goWy1zaXplLC1zaXplLHNpemVdKSxwb3NpdGlvbnMucHVzaChbc2l6ZSwtc2l6ZSxzaXplXSksbm9ybWFscy5wdXNoKFswLC0xLDBdKSxub3JtYWxzLnB1c2goWzAsLTEsMF0pLG5vcm1hbHMucHVzaChbMCwtMSwwXSksbm9ybWFscy5wdXNoKFswLC0xLDBdKSxjb29yZHMucHVzaChbMCwwXSksY29vcmRzLnB1c2goWzEsMF0pLGNvb3Jkcy5wdXNoKFsxLDFdKSxjb29yZHMucHVzaChbMCwxXSksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMSksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMCksaW5kaWNlcy5wdXNoKDQqY291bnQrMiksaW5kaWNlcy5wdXNoKDQqY291bnQrMyk7dmFyIG1lc2g9bmV3IF9NZXNoMi5kZWZhdWx0KGRyYXdUeXBlKTtyZXR1cm4gbWVzaC5idWZmZXJWZXJ0ZXgocG9zaXRpb25zKSxtZXNoLmJ1ZmZlclRleENvb3JkKGNvb3JkcyksbWVzaC5idWZmZXJJbmRleChpbmRpY2VzKSxtZXNoLmJ1ZmZlck5vcm1hbChub3JtYWxzKSxtZXNofSxHZW9tLmJpZ1RyaWFuZ2xlPWZ1bmN0aW9uKCl7aWYoIW1lc2hUcmkpe3ZhciBpbmRpY2VzPVsyLDEsMF0scG9zaXRpb25zPVtbLTEsLTFdLFstMSw0XSxbNCwtMV1dO21lc2hUcmk9bmV3IF9NZXNoMi5kZWZhdWx0LG1lc2hUcmkuYnVmZmVyRGF0YShwb3NpdGlvbnMsXCJhUG9zaXRpb25cIiwyKSxtZXNoVHJpLmJ1ZmZlckluZGV4KGluZGljZXMpfXJldHVybiBtZXNoVHJpfSxleHBvcnRzLmRlZmF1bHQ9R2VvbX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9ezA6XCJOT05FXCIsMTpcIk9ORVwiLDI6XCJMSU5FX0xPT1BcIiwzOlwiTElORV9TVFJJUFwiLDQ6XCJUUklBTkdMRVNcIiw1OlwiVFJJQU5HTEVfU1RSSVBcIiw2OlwiVFJJQU5HTEVfRkFOXCIsMjU2OlwiREVQVEhfQlVGRkVSX0JJVFwiLDUxMjpcIk5FVkVSXCIsNTEzOlwiTEVTU1wiLDUxNDpcIkVRVUFMXCIsNTE1OlwiTEVRVUFMXCIsNTE2OlwiR1JFQVRFUlwiLDUxNzpcIk5PVEVRVUFMXCIsNTE4OlwiR0VRVUFMXCIsNTE5OlwiQUxXQVlTXCIsNzY4OlwiU1JDX0NPTE9SXCIsNzY5OlwiT05FX01JTlVTX1NSQ19DT0xPUlwiLDc3MDpcIlNSQ19BTFBIQVwiLDc3MTpcIk9ORV9NSU5VU19TUkNfQUxQSEFcIiw3NzI6XCJEU1RfQUxQSEFcIiw3NzM6XCJPTkVfTUlOVVNfRFNUX0FMUEhBXCIsNzc0OlwiRFNUX0NPTE9SXCIsNzc1OlwiT05FX01JTlVTX0RTVF9DT0xPUlwiLDc3NjpcIlNSQ19BTFBIQV9TQVRVUkFURVwiLDEwMjQ6XCJTVEVOQ0lMX0JVRkZFUl9CSVRcIiwxMDI4OlwiRlJPTlRcIiwxMDI5OlwiQkFDS1wiLDEwMzI6XCJGUk9OVF9BTkRfQkFDS1wiLDEyODA6XCJJTlZBTElEX0VOVU1cIiwxMjgxOlwiSU5WQUxJRF9WQUxVRVwiLDEyODI6XCJJTlZBTElEX09QRVJBVElPTlwiLDEyODU6XCJPVVRfT0ZfTUVNT1JZXCIsMTI4NjpcIklOVkFMSURfRlJBTUVCVUZGRVJfT1BFUkFUSU9OXCIsMjMwNDpcIkNXXCIsMjMwNTpcIkNDV1wiLDI4NDk6XCJMSU5FX1dJRFRIXCIsMjg4NDpcIkNVTExfRkFDRVwiLDI4ODU6XCJDVUxMX0ZBQ0VfTU9ERVwiLDI4ODY6XCJGUk9OVF9GQUNFXCIsMjkyODpcIkRFUFRIX1JBTkdFXCIsMjkyOTpcIkRFUFRIX1RFU1RcIiwyOTMwOlwiREVQVEhfV1JJVEVNQVNLXCIsMjkzMTpcIkRFUFRIX0NMRUFSX1ZBTFVFXCIsMjkzMjpcIkRFUFRIX0ZVTkNcIiwyOTYwOlwiU1RFTkNJTF9URVNUXCIsMjk2MTpcIlNURU5DSUxfQ0xFQVJfVkFMVUVcIiwyOTYyOlwiU1RFTkNJTF9GVU5DXCIsMjk2MzpcIlNURU5DSUxfVkFMVUVfTUFTS1wiLDI5NjQ6XCJTVEVOQ0lMX0ZBSUxcIiwyOTY1OlwiU1RFTkNJTF9QQVNTX0RFUFRIX0ZBSUxcIiwyOTY2OlwiU1RFTkNJTF9QQVNTX0RFUFRIX1BBU1NcIiwyOTY3OlwiU1RFTkNJTF9SRUZcIiwyOTY4OlwiU1RFTkNJTF9XUklURU1BU0tcIiwyOTc4OlwiVklFV1BPUlRcIiwzMDI0OlwiRElUSEVSXCIsMzA0MjpcIkJMRU5EXCIsMzA4ODpcIlNDSVNTT1JfQk9YXCIsMzA4OTpcIlNDSVNTT1JfVEVTVFwiLDMxMDY6XCJDT0xPUl9DTEVBUl9WQUxVRVwiLDMxMDc6XCJDT0xPUl9XUklURU1BU0tcIiwzMzE3OlwiVU5QQUNLX0FMSUdOTUVOVFwiLDMzMzM6XCJQQUNLX0FMSUdOTUVOVFwiLDMzNzk6XCJNQVhfVEVYVFVSRV9TSVpFXCIsMzM4NjpcIk1BWF9WSUVXUE9SVF9ESU1TXCIsMzQwODpcIlNVQlBJWEVMX0JJVFNcIiwzNDEwOlwiUkVEX0JJVFNcIiwzNDExOlwiR1JFRU5fQklUU1wiLDM0MTI6XCJCTFVFX0JJVFNcIiwzNDEzOlwiQUxQSEFfQklUU1wiLDM0MTQ6XCJERVBUSF9CSVRTXCIsMzQxNTpcIlNURU5DSUxfQklUU1wiLDM1NTM6XCJURVhUVVJFXzJEXCIsNDM1MjpcIkRPTlRfQ0FSRVwiLDQzNTM6XCJGQVNURVNUXCIsNDM1NDpcIk5JQ0VTVFwiLDUxMjA6XCJCWVRFXCIsNTEyMTpcIlVOU0lHTkVEX0JZVEVcIiw1MTIyOlwiU0hPUlRcIiw1MTIzOlwiVU5TSUdORURfU0hPUlRcIiw1MTI0OlwiSU5UXCIsNTEyNTpcIlVOU0lHTkVEX0lOVFwiLDUxMjY6XCJGTE9BVFwiLDUzODY6XCJJTlZFUlRcIiw1ODkwOlwiVEVYVFVSRVwiLDY0MDE6XCJTVEVOQ0lMX0lOREVYXCIsNjQwMjpcIkRFUFRIX0NPTVBPTkVOVFwiLDY0MDM6XCJSRURcIiw2NDA2OlwiQUxQSEFcIiw2NDA3OlwiUkdCXCIsNjQwODpcIlJHQkFcIiw2NDA5OlwiTFVNSU5BTkNFXCIsNjQxMDpcIkxVTUlOQU5DRV9BTFBIQVwiLDc2ODA6XCJLRUVQXCIsNzY4MTpcIlJFUExBQ0VcIiw3NjgyOlwiSU5DUlwiLDc2ODM6XCJERUNSXCIsNzkzNjpcIlZFTkRPUlwiLDc5Mzc6XCJSRU5ERVJFUlwiLDc5Mzg6XCJWRVJTSU9OXCIsOTcyODpcIk5FQVJFU1RcIiw5NzI5OlwiTElORUFSXCIsOTk4NDpcIk5FQVJFU1RfTUlQTUFQX05FQVJFU1RcIiw5OTg1OlwiTElORUFSX01JUE1BUF9ORUFSRVNUXCIsOTk4NjpcIk5FQVJFU1RfTUlQTUFQX0xJTkVBUlwiLDk5ODc6XCJMSU5FQVJfTUlQTUFQX0xJTkVBUlwiLDEwMjQwOlwiVEVYVFVSRV9NQUdfRklMVEVSXCIsMTAyNDE6XCJURVhUVVJFX01JTl9GSUxURVJcIiwxMDI0MjpcIlRFWFRVUkVfV1JBUF9TXCIsMTAyNDM6XCJURVhUVVJFX1dSQVBfVFwiLDEwNDk3OlwiUkVQRUFUXCIsMTA3NTI6XCJQT0xZR09OX09GRlNFVF9VTklUU1wiLDE2Mzg0OlwiQ09MT1JfQlVGRkVSX0JJVFwiLDMyNzY5OlwiQ09OU1RBTlRfQ09MT1JcIiwzMjc3MDpcIk9ORV9NSU5VU19DT05TVEFOVF9DT0xPUlwiLDMyNzcxOlwiQ09OU1RBTlRfQUxQSEFcIiwzMjc3MjpcIk9ORV9NSU5VU19DT05TVEFOVF9BTFBIQVwiLDMyNzczOlwiQkxFTkRfQ09MT1JcIiwzMjc3NDpcIkZVTkNfQUREXCIsMzI3Nzc6XCJCTEVORF9FUVVBVElPTl9SR0JcIiwzMjc3ODpcIkZVTkNfU1VCVFJBQ1RcIiwzMjc3OTpcIkZVTkNfUkVWRVJTRV9TVUJUUkFDVFwiLDMyODE5OlwiVU5TSUdORURfU0hPUlRfNF80XzRfNFwiLDMyODIwOlwiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiLDMyODIzOlwiUE9MWUdPTl9PRkZTRVRfRklMTFwiLDMyODI0OlwiUE9MWUdPTl9PRkZTRVRfRkFDVE9SXCIsMzI4NTQ6XCJSR0JBNFwiLDMyODU1OlwiUkdCNV9BMVwiLDMyODczOlwiVEVYVFVSRV9CSU5ESU5HXzJEXCIsMzI5MjY6XCJTQU1QTEVfQUxQSEFfVE9fQ09WRVJBR0VcIiwzMjkyODpcIlNBTVBMRV9DT1ZFUkFHRVwiLDMyOTM2OlwiU0FNUExFX0JVRkZFUlNcIiwzMjkzNzpcIlNBTVBMRVNcIiwzMjkzODpcIlNBTVBMRV9DT1ZFUkFHRV9WQUxVRVwiLDMyOTM5OlwiU0FNUExFX0NPVkVSQUdFX0lOVkVSVFwiLDMyOTY4OlwiQkxFTkRfRFNUX1JHQlwiLDMyOTY5OlwiQkxFTkRfU1JDX1JHQlwiLDMyOTcwOlwiQkxFTkRfRFNUX0FMUEhBXCIsMzI5NzE6XCJCTEVORF9TUkNfQUxQSEFcIiwzMzA3MTpcIkNMQU1QX1RPX0VER0VcIiwzMzE3MDpcIkdFTkVSQVRFX01JUE1BUF9ISU5UXCIsMzMxODk6XCJERVBUSF9DT01QT05FTlQxNlwiLDMzMzA2OlwiREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UXCIsMzMzMjE6XCJSOFwiLDMzNjM1OlwiVU5TSUdORURfU0hPUlRfNV82XzVcIiwzMzY0ODpcIk1JUlJPUkVEX1JFUEVBVFwiLDMzOTAxOlwiQUxJQVNFRF9QT0lOVF9TSVpFX1JBTkdFXCIsMzM5MDI6XCJBTElBU0VEX0xJTkVfV0lEVEhfUkFOR0VcIiwzMzk4NDpcIlRFWFRVUkUwXCIsMzM5ODU6XCJURVhUVVJFMVwiLDMzOTg2OlwiVEVYVFVSRTJcIiwzMzk4NzpcIlRFWFRVUkUzXCIsMzM5ODg6XCJURVhUVVJFNFwiLDMzOTg5OlwiVEVYVFVSRTVcIiwzMzk5MDpcIlRFWFRVUkU2XCIsMzM5OTE6XCJURVhUVVJFN1wiLDMzOTkyOlwiVEVYVFVSRThcIiwzMzk5MzpcIlRFWFRVUkU5XCIsMzM5OTQ6XCJURVhUVVJFMTBcIiwzMzk5NTpcIlRFWFRVUkUxMVwiLDMzOTk2OlwiVEVYVFVSRTEyXCIsMzM5OTc6XCJURVhUVVJFMTNcIiwzMzk5ODpcIlRFWFRVUkUxNFwiLDMzOTk5OlwiVEVYVFVSRTE1XCIsMzRlMzpcIlRFWFRVUkUxNlwiLDM0MDAxOlwiVEVYVFVSRTE3XCIsMzQwMDI6XCJURVhUVVJFMThcIiwzNDAwMzpcIlRFWFRVUkUxOVwiLDM0MDA0OlwiVEVYVFVSRTIwXCIsMzQwMDU6XCJURVhUVVJFMjFcIiwzNDAwNjpcIlRFWFRVUkUyMlwiLDM0MDA3OlwiVEVYVFVSRTIzXCIsMzQwMDg6XCJURVhUVVJFMjRcIiwzNDAwOTpcIlRFWFRVUkUyNVwiLDM0MDEwOlwiVEVYVFVSRTI2XCIsMzQwMTE6XCJURVhUVVJFMjdcIiwzNDAxMjpcIlRFWFRVUkUyOFwiLDM0MDEzOlwiVEVYVFVSRTI5XCIsMzQwMTQ6XCJURVhUVVJFMzBcIiwzNDAxNTpcIlRFWFRVUkUzMVwiLDM0MDE2OlwiQUNUSVZFX1RFWFRVUkVcIiwzNDAyNDpcIk1BWF9SRU5ERVJCVUZGRVJfU0laRVwiLDM0MDQxOlwiREVQVEhfU1RFTkNJTFwiLDM0MDU1OlwiSU5DUl9XUkFQXCIsMzQwNTY6XCJERUNSX1dSQVBcIiwzNDA2NzpcIlRFWFRVUkVfQ1VCRV9NQVBcIiwzNDA2ODpcIlRFWFRVUkVfQklORElOR19DVUJFX01BUFwiLDM0MDY5OlwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YXCIsMzQwNzA6XCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1hcIiwzNDA3MTpcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWVwiLDM0MDcyOlwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZXCIsMzQwNzM6XCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1pcIiwzNDA3NDpcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWlwiLDM0MDc2OlwiTUFYX0NVQkVfTUFQX1RFWFRVUkVfU0laRVwiLDM0MzM4OlwiVkVSVEVYX0FUVFJJQl9BUlJBWV9FTkFCTEVEXCIsMzQzMzk6XCJWRVJURVhfQVRUUklCX0FSUkFZX1NJWkVcIiwzNDM0MDpcIlZFUlRFWF9BVFRSSUJfQVJSQVlfU1RSSURFXCIsMzQzNDE6XCJWRVJURVhfQVRUUklCX0FSUkFZX1RZUEVcIiwzNDM0MjpcIkNVUlJFTlRfVkVSVEVYX0FUVFJJQlwiLDM0MzczOlwiVkVSVEVYX0FUVFJJQl9BUlJBWV9QT0lOVEVSXCIsMzQ0NjY6XCJOVU1fQ09NUFJFU1NFRF9URVhUVVJFX0ZPUk1BVFNcIiwzNDQ2NzpcIkNPTVBSRVNTRURfVEVYVFVSRV9GT1JNQVRTXCIsMzQ2NjA6XCJCVUZGRVJfU0laRVwiLDM0NjYxOlwiQlVGRkVSX1VTQUdFXCIsMzQ4MTY6XCJTVEVOQ0lMX0JBQ0tfRlVOQ1wiLDM0ODE3OlwiU1RFTkNJTF9CQUNLX0ZBSUxcIiwzNDgxODpcIlNURU5DSUxfQkFDS19QQVNTX0RFUFRIX0ZBSUxcIiwzNDgxOTpcIlNURU5DSUxfQkFDS19QQVNTX0RFUFRIX1BBU1NcIiwzNDg3NzpcIkJMRU5EX0VRVUFUSU9OX0FMUEhBXCIsMzQ5MjE6XCJNQVhfVkVSVEVYX0FUVFJJQlNcIiwzNDkyMjpcIlZFUlRFWF9BVFRSSUJfQVJSQVlfTk9STUFMSVpFRFwiLDM0OTMwOlwiTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFNcIiwzNDk2MjpcIkFSUkFZX0JVRkZFUlwiLDM0OTYzOlwiRUxFTUVOVF9BUlJBWV9CVUZGRVJcIiwzNDk2NDpcIkFSUkFZX0JVRkZFUl9CSU5ESU5HXCIsMzQ5NjU6XCJFTEVNRU5UX0FSUkFZX0JVRkZFUl9CSU5ESU5HXCIsMzQ5NzU6XCJWRVJURVhfQVRUUklCX0FSUkFZX0JVRkZFUl9CSU5ESU5HXCIsMzUwNDA6XCJTVFJFQU1fRFJBV1wiLDM1MDQ0OlwiU1RBVElDX0RSQVdcIiwzNTA0ODpcIkRZTkFNSUNfRFJBV1wiLDM1NjMyOlwiRlJBR01FTlRfU0hBREVSXCIsMzU2MzM6XCJWRVJURVhfU0hBREVSXCIsMzU2NjA6XCJNQVhfVkVSVEVYX1RFWFRVUkVfSU1BR0VfVU5JVFNcIiwzNTY2MTpcIk1BWF9DT01CSU5FRF9URVhUVVJFX0lNQUdFX1VOSVRTXCIsMzU2NjM6XCJTSEFERVJfVFlQRVwiLDM1NjY0OlwiRkxPQVRfVkVDMlwiLDM1NjY1OlwiRkxPQVRfVkVDM1wiLDM1NjY2OlwiRkxPQVRfVkVDNFwiLDM1NjY3OlwiSU5UX1ZFQzJcIiwzNTY2ODpcIklOVF9WRUMzXCIsMzU2Njk6XCJJTlRfVkVDNFwiLDM1NjcwOlwiQk9PTFwiLDM1NjcxOlwiQk9PTF9WRUMyXCIsMzU2NzI6XCJCT09MX1ZFQzNcIiwzNTY3MzpcIkJPT0xfVkVDNFwiLDM1Njc0OlwiRkxPQVRfTUFUMlwiLDM1Njc1OlwiRkxPQVRfTUFUM1wiLDM1Njc2OlwiRkxPQVRfTUFUNFwiLDM1Njc4OlwiU0FNUExFUl8yRFwiLDM1NjgwOlwiU0FNUExFUl9DVUJFXCIsMzU3MTI6XCJERUxFVEVfU1RBVFVTXCIsMzU3MTM6XCJDT01QSUxFX1NUQVRVU1wiLDM1NzE0OlwiTElOS19TVEFUVVNcIiwzNTcxNTpcIlZBTElEQVRFX1NUQVRVU1wiLDM1NzE2OlwiSU5GT19MT0dfTEVOR1RIXCIsMzU3MTc6XCJBVFRBQ0hFRF9TSEFERVJTXCIsMzU3MTg6XCJBQ1RJVkVfVU5JRk9STVNcIiwzNTcxOTpcIkFDVElWRV9VTklGT1JNX01BWF9MRU5HVEhcIiwzNTcyMDpcIlNIQURFUl9TT1VSQ0VfTEVOR1RIXCIsMzU3MjE6XCJBQ1RJVkVfQVRUUklCVVRFU1wiLDM1NzIyOlwiQUNUSVZFX0FUVFJJQlVURV9NQVhfTEVOR1RIXCIsMzU3MjQ6XCJTSEFESU5HX0xBTkdVQUdFX1ZFUlNJT05cIiwzNTcyNTpcIkNVUlJFTlRfUFJPR1JBTVwiLDM2MDAzOlwiU1RFTkNJTF9CQUNLX1JFRlwiLDM2MDA0OlwiU1RFTkNJTF9CQUNLX1ZBTFVFX01BU0tcIiwzNjAwNTpcIlNURU5DSUxfQkFDS19XUklURU1BU0tcIiwzNjAwNjpcIkZSQU1FQlVGRkVSX0JJTkRJTkdcIiwzNjAwNzpcIlJFTkRFUkJVRkZFUl9CSU5ESU5HXCIsMzYwNDg6XCJGUkFNRUJVRkZFUl9BVFRBQ0hNRU5UX09CSkVDVF9UWVBFXCIsMzYwNDk6XCJGUkFNRUJVRkZFUl9BVFRBQ0hNRU5UX09CSkVDVF9OQU1FXCIsMzYwNTA6XCJGUkFNRUJVRkZFUl9BVFRBQ0hNRU5UX1RFWFRVUkVfTEVWRUxcIiwzNjA1MTpcIkZSQU1FQlVGRkVSX0FUVEFDSE1FTlRfVEVYVFVSRV9DVUJFX01BUF9GQUNFXCIsMzYwNTM6XCJGUkFNRUJVRkZFUl9DT01QTEVURVwiLDM2MDU0OlwiRlJBTUVCVUZGRVJfSU5DT01QTEVURV9BVFRBQ0hNRU5UXCIsMzYwNTU6XCJGUkFNRUJVRkZFUl9JTkNPTVBMRVRFX01JU1NJTkdfQVRUQUNITUVOVFwiLDM2MDU3OlwiRlJBTUVCVUZGRVJfSU5DT01QTEVURV9ESU1FTlNJT05TXCIsMzYwNjE6XCJGUkFNRUJVRkZFUl9VTlNVUFBPUlRFRFwiLDM2MDY0OlwiQ09MT1JfQVRUQUNITUVOVDBcIiwzNjA5NjpcIkRFUFRIX0FUVEFDSE1FTlRcIiwzNjEyODpcIlNURU5DSUxfQVRUQUNITUVOVFwiLDM2MTYwOlwiRlJBTUVCVUZGRVJcIiwzNjE2MTpcIlJFTkRFUkJVRkZFUlwiLDM2MTYyOlwiUkVOREVSQlVGRkVSX1dJRFRIXCIsMzYxNjM6XCJSRU5ERVJCVUZGRVJfSEVJR0hUXCIsMzYxNjQ6XCJSRU5ERVJCVUZGRVJfSU5URVJOQUxfRk9STUFUXCIsMzYxNjg6XCJTVEVOQ0lMX0lOREVYOFwiLDM2MTc2OlwiUkVOREVSQlVGRkVSX1JFRF9TSVpFXCIsMzYxNzc6XCJSRU5ERVJCVUZGRVJfR1JFRU5fU0laRVwiLDM2MTc4OlwiUkVOREVSQlVGRkVSX0JMVUVfU0laRVwiLDM2MTc5OlwiUkVOREVSQlVGRkVSX0FMUEhBX1NJWkVcIiwzNjE4MDpcIlJFTkRFUkJVRkZFUl9ERVBUSF9TSVpFXCIsMzYxODE6XCJSRU5ERVJCVUZGRVJfU1RFTkNJTF9TSVpFXCIsMzYxOTQ6XCJSR0I1NjVcIiwzNjMzNjpcIkxPV19GTE9BVFwiLDM2MzM3OlwiTUVESVVNX0ZMT0FUXCIsMzYzMzg6XCJISUdIX0ZMT0FUXCIsMzYzMzk6XCJMT1dfSU5UXCIsMzYzNDA6XCJNRURJVU1fSU5UXCIsMzYzNDE6XCJISUdIX0lOVFwiLDM2MzQ2OlwiU0hBREVSX0NPTVBJTEVSXCIsMzYzNDc6XCJNQVhfVkVSVEVYX1VOSUZPUk1fVkVDVE9SU1wiLDM2MzQ4OlwiTUFYX1ZBUllJTkdfVkVDVE9SU1wiLDM2MzQ5OlwiTUFYX0ZSQUdNRU5UX1VOSUZPUk1fVkVDVE9SU1wiLDM3NDQwOlwiVU5QQUNLX0ZMSVBfWV9XRUJHTFwiLDM3NDQxOlwiVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMXCIsMzc0NDI6XCJDT05URVhUX0xPU1RfV0VCR0xcIiwzNzQ0MzpcIlVOUEFDS19DT0xPUlNQQUNFX0NPTlZFUlNJT05fV0VCR0xcIiwzNzQ0NDpcIkJST1dTRVJfREVGQVVMVF9XRUJHTFwifX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9HTFNoYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLF9HTFNoYWRlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xTaGFkZXIpLF9GcmFtZUJ1ZmZlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSxfRnJhbWVCdWZmZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZyYW1lQnVmZmVyKSxfU2hhZGVyTGlicz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMyKSxfU2hhZGVyTGliczI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2hhZGVyTGlicyksUGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIFBhc3MobVNvdXJjZSl7dmFyIG1XaWR0aD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxtSGVpZ2h0PWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowO2FyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM107X2NsYXNzQ2FsbENoZWNrKHRoaXMsUGFzcyksdGhpcy5zaGFkZXI9bmV3IF9HTFNoYWRlcjIuZGVmYXVsdChfU2hhZGVyTGliczIuZGVmYXVsdC5iaWdUcmlhbmdsZVZlcnQsbVNvdXJjZSksdGhpcy5fd2lkdGg9bVdpZHRoLHRoaXMuX2hlaWdodD1tSGVpZ2h0LHRoaXMuX3VuaWZvcm1zPXt9LHRoaXMuX2hhc093bkZibz10aGlzLl93aWR0aD4wJiZ0aGlzLl93aWR0aD4wLHRoaXMuX3VuaWZvcm1zPXt9LHRoaXMuX2hhc093bkZibyYmKHRoaXMuX2Zibz1uZXcgX0ZyYW1lQnVmZmVyMi5kZWZhdWx0KHRoaXMuX3dpZHRoLHRoaXMuaGVpZ2h0LG1QYXJtYXMpKX1yZXR1cm4gX2NyZWF0ZUNsYXNzKFBhc3MsW3trZXk6XCJ1bmlmb3JtXCIsdmFsdWU6ZnVuY3Rpb24obU5hbWUsbVZhbHVlKXt0aGlzLl91bmlmb3Jtc1ttTmFtZV09bVZhbHVlfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKHRleHR1cmUpe3RoaXMuc2hhZGVyLmJpbmQoKSx0aGlzLnNoYWRlci51bmlmb3JtKFwidGV4dHVyZVwiLFwidW5pZm9ybTFpXCIsMCksdGV4dHVyZS5iaW5kKDApLHRoaXMuc2hhZGVyLnVuaWZvcm0odGhpcy5fdW5pZm9ybXMpfX0se2tleTpcIndpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dpZHRofX0se2tleTpcImhlaWdodFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWlnaHR9fSx7a2V5OlwiZmJvXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Zib319LHtrZXk6XCJoYXNGYm9cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFzT3duRmJvfX1dKSxQYXNzfSgpO2V4cG9ydHMuZGVmYXVsdD1QYXNzfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9XCIvLyBzaW1wbGVDb2xvci5mcmFnXFxuXFxuI2RlZmluZSBTSEFERVJfTkFNRSBTSU1QTEVfQ09MT1JcXG5cXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZGVmaW5lIEdMU0xJRlkgMVxcblxcbnVuaWZvcm0gdmVjMyBjb2xvcjtcXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgb3BhY2l0eSk7XFxufVwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9XCIvLyBiYXNpYy52ZXJ0XFxuXFxuI2RlZmluZSBTSEFERVJfTkFNRSBCQVNJQ19WRVJURVhcXG5cXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG5hdHRyaWJ1dGUgdmVjMyBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5hdHRyaWJ1dGUgdmVjMyBhTm9ybWFsO1xcblxcbnVuaWZvcm0gbWF0NCB1TW9kZWxNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVWaWV3TWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1UHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG5cXG52b2lkIG1haW4odm9pZCkge1xcbiAgICBnbF9Qb3NpdGlvbiA9IHVQcm9qZWN0aW9uTWF0cml4ICogdVZpZXdNYXRyaXggKiB1TW9kZWxNYXRyaXggKiB2ZWM0KGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZOb3JtYWwgPSBhTm9ybWFsO1xcbn1cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRvb2wpLF9HTFRleHR1cmU9X193ZWJwYWNrX3JlcXVpcmVfXygyNiksX0dMVGV4dHVyZTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xUZXh0dXJlKSxfV2ViZ2xOdW1iZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg4KSxfV2ViZ2xOdW1iZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1dlYmdsTnVtYmVyKSxnbD12b2lkIDAsd2ViZ2xEZXB0aFRleHR1cmU9dm9pZCAwLGhhc0NoZWNrZWRNdWx0aVJlbmRlclN1cHBvcnQ9ITEsZXh0RHJhd0J1ZmZlcj12b2lkIDAsY2hlY2tNdWx0aVJlbmRlcj1mdW5jdGlvbigpe3JldHVybiEhX0dMVG9vbDIuZGVmYXVsdC53ZWJnbDJ8fCEhKGV4dERyYXdCdWZmZXI9X0dMVG9vbDIuZGVmYXVsdC5nZXRFeHRlbnNpb24oXCJXRUJHTF9kcmF3X2J1ZmZlcnNcIikpfSxGcmFtZUJ1ZmZlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIEZyYW1lQnVmZmVyKG1XaWR0aCxtSGVpZ2h0KXt2YXIgbVBhcmFtZXRlcnM9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG1OdW1UYXJnZXRzPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXToxO19jbGFzc0NhbGxDaGVjayh0aGlzLEZyYW1lQnVmZmVyKSxnbD1fR0xUb29sMi5kZWZhdWx0LmdsLHdlYmdsRGVwdGhUZXh0dXJlPV9HTFRvb2wyLmRlZmF1bHQuY2hlY2tFeHRlbnNpb24oXCJXRUJHTF9kZXB0aF90ZXh0dXJlXCIpLHRoaXMud2lkdGg9bVdpZHRoLHRoaXMuaGVpZ2h0PW1IZWlnaHQsdGhpcy5fbnVtVGFyZ2V0cz1tTnVtVGFyZ2V0cyx0aGlzLl9tdWx0aXBsZVRhcmdldHM9bU51bVRhcmdldHM+MSx0aGlzLl9wYXJhbWV0ZXJzPW1QYXJhbWV0ZXJzLGhhc0NoZWNrZWRNdWx0aVJlbmRlclN1cHBvcnR8fGNoZWNrTXVsdGlSZW5kZXIoKSx0aGlzLl9tdWx0aXBsZVRhcmdldHMmJnRoaXMuX2NoZWNrTWF4TnVtUmVuZGVyVGFyZ2V0KCksdGhpcy5faW5pdCgpfXJldHVybiBfY3JlYXRlQ2xhc3MoRnJhbWVCdWZmZXIsW3trZXk6XCJfaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5faW5pdFRleHR1cmVzKCksdGhpcy5mcmFtZUJ1ZmZlcj1nbC5jcmVhdGVGcmFtZWJ1ZmZlcigpLGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUix0aGlzLmZyYW1lQnVmZmVyKSxfR0xUb29sMi5kZWZhdWx0LndlYmdsMil7Zm9yKHZhciBidWZmZXJzPVtdLGk9MDtpPHRoaXMuX251bVRhcmdldHM7aSsrKWdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkRSQVdfRlJBTUVCVUZGRVIsZ2wuQ09MT1JfQVRUQUNITUVOVDAraSxnbC5URVhUVVJFXzJELHRoaXMuX3RleHR1cmVzW2ldLnRleHR1cmUsMCksYnVmZmVycy5wdXNoKGdsW1wiQ09MT1JfQVRUQUNITUVOVFwiK2ldKTtnbC5kcmF3QnVmZmVycyhidWZmZXJzKSxnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5EUkFXX0ZSQU1FQlVGRkVSLGdsLkRFUFRIX0FUVEFDSE1FTlQsZ2wuVEVYVFVSRV8yRCx0aGlzLmdsRGVwdGhUZXh0dXJlLnRleHR1cmUsMCl9ZWxzZXtmb3IodmFyIF9pPTA7X2k8dGhpcy5fbnVtVGFyZ2V0cztfaSsrKWdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLGdsLkNPTE9SX0FUVEFDSE1FTlQwK19pLGdsLlRFWFRVUkVfMkQsdGhpcy5fdGV4dHVyZXNbX2ldLnRleHR1cmUsMCk7aWYodGhpcy5fbXVsdGlwbGVUYXJnZXRzKXtmb3IodmFyIGRyYXdCdWZmZXJzPVtdLF9pMj0wO19pMjx0aGlzLl9udW1UYXJnZXRzO19pMisrKWRyYXdCdWZmZXJzLnB1c2goZXh0RHJhd0J1ZmZlcltcIkNPTE9SX0FUVEFDSE1FTlRcIitfaTIrXCJfV0VCR0xcIl0pO2V4dERyYXdCdWZmZXIuZHJhd0J1ZmZlcnNXRUJHTChkcmF3QnVmZmVycyl9d2ViZ2xEZXB0aFRleHR1cmUmJmdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLGdsLkRFUFRIX0FUVEFDSE1FTlQsZ2wuVEVYVFVSRV8yRCx0aGlzLmdsRGVwdGhUZXh0dXJlLnRleHR1cmUsMCl9dmFyIEZCT3N0YXR1cz1nbC5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKGdsLkZSQU1FQlVGRkVSKTtGQk9zdGF0dXMhPWdsLkZSQU1FQlVGRkVSX0NPTVBMRVRFJiZjb25zb2xlLmVycm9yKFwiR0xfRlJBTUVCVUZGRVJfQ09NUExFVEUgZmFpbGVkLCBDQU5OT1QgdXNlIEZyYW1lYnVmZmVyXCIsX1dlYmdsTnVtYmVyMi5kZWZhdWx0W0ZCT3N0YXR1c10pLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsbnVsbCksZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsbnVsbCksZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLG51bGwpLHRoaXMuY2xlYXIoKX19LHtrZXk6XCJfY2hlY2tNYXhOdW1SZW5kZXJUYXJnZXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBtYXhOdW1EcmF3QnVmZmVycz1fR0xUb29sMi5kZWZhdWx0LmdsLmdldFBhcmFtZXRlcihleHREcmF3QnVmZmVyLk1BWF9EUkFXX0JVRkZFUlNfV0VCR0wpO3RoaXMuX251bVRhcmdldHM+bWF4TnVtRHJhd0J1ZmZlcnMmJihjb25zb2xlLmVycm9yKFwiT3ZlciBtYXggbnVtYmVyIG9mIGRyYXcgYnVmZmVycyBzdXBwb3J0ZWQgOiBcIixtYXhOdW1EcmF3QnVmZmVycyksdGhpcy5fbnVtVGFyZ2V0cz1tYXhOdW1EcmF3QnVmZmVycyl9fSx7a2V5OlwiX2luaXRUZXh0dXJlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdGV4dHVyZXM9W107Zm9yKHZhciBpPTA7aTx0aGlzLl9udW1UYXJnZXRzO2krKyl7dmFyIGdsdD10aGlzLl9jcmVhdGVUZXh0dXJlKCk7dGhpcy5fdGV4dHVyZXMucHVzaChnbHQpfV9HTFRvb2wyLmRlZmF1bHQud2ViZ2wyP3RoaXMuZ2xEZXB0aFRleHR1cmU9dGhpcy5fY3JlYXRlVGV4dHVyZShnbC5ERVBUSF9DT01QT05FTlQxNixnbC5VTlNJR05FRF9TSE9SVCxnbC5ERVBUSF9DT01QT05FTlQsITApOnRoaXMuZ2xEZXB0aFRleHR1cmU9dGhpcy5fY3JlYXRlVGV4dHVyZShnbC5ERVBUSF9DT01QT05FTlQsZ2wuVU5TSUdORURfU0hPUlQsZ2wuREVQVEhfQ09NUE9ORU5ULHttaW5GaWx0ZXI6X0dMVG9vbDIuZGVmYXVsdC5MSU5FQVJ9KX19LHtrZXk6XCJfY3JlYXRlVGV4dHVyZVwiLHZhbHVlOmZ1bmN0aW9uKG1JbnRlcm5hbGZvcm1hdCxtVGV4ZWxUeXBlLG1Gb3JtYXQpe3ZhciBtUGFyYW1ldGVycz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e30scGFyYW1ldGVycz1PYmplY3QuYXNzaWduKHt9LHRoaXMuX3BhcmFtZXRlcnMpO21Gb3JtYXR8fChtRm9ybWF0PW1JbnRlcm5hbGZvcm1hdCkscGFyYW1ldGVycy5pbnRlcm5hbEZvcm1hdD1tSW50ZXJuYWxmb3JtYXR8fGdsLlJHQkEscGFyYW1ldGVycy5mb3JtYXQ9bUZvcm1hdCxwYXJhbWV0ZXJzLnR5cGU9bVRleGVsVHlwZXx8cGFyYW1ldGVycy50eXBlfHxfR0xUb29sMi5kZWZhdWx0LlVOU0lHTkVEX0JZVEU7Zm9yKHZhciBzIGluIG1QYXJhbWV0ZXJzKXBhcmFtZXRlcnNbc109bVBhcmFtZXRlcnNbc107cmV0dXJuIG5ldyBfR0xUZXh0dXJlMi5kZWZhdWx0KG51bGwscGFyYW1ldGVycyx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX19LHtrZXk6XCJiaW5kXCIsdmFsdWU6ZnVuY3Rpb24oKXsoIShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXSkmJl9HTFRvb2wyLmRlZmF1bHQudmlld3BvcnQoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUix0aGlzLmZyYW1lQnVmZmVyKX19LHtrZXk6XCJ1bmJpbmRcIix2YWx1ZTpmdW5jdGlvbigpeyghKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdKSYmX0dMVG9vbDIuZGVmYXVsdC52aWV3cG9ydCgwLDAsX0dMVG9vbDIuZGVmYXVsdC53aWR0aCxfR0xUb29sMi5kZWZhdWx0LmhlaWdodCksZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLG51bGwpLHRoaXMuX3RleHR1cmVzLmZvckVhY2goZnVuY3Rpb24odGV4dHVyZSl7dGV4dHVyZS5nZW5lcmF0ZU1pcG1hcCgpfSl9fSx7a2V5OlwiY2xlYXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLGc9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsYj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MCxhPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTowO3RoaXMuYmluZCgpLF9HTFRvb2wyLmRlZmF1bHQuY2xlYXIocixnLGIsYSksdGhpcy51bmJpbmQoKX19LHtrZXk6XCJnZXRUZXh0dXJlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgbUluZGV4PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowO3JldHVybiB0aGlzLl90ZXh0dXJlc1ttSW5kZXhdfX0se2tleTpcImdldERlcHRoVGV4dHVyZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2xEZXB0aFRleHR1cmV9fSx7a2V5Olwic2hvd1BhcmFtZXRlcnNcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3RleHR1cmVzWzBdLnNob3dQYXJhbWV0ZXJzKCl9fSx7a2V5OlwibWluRmlsdGVyXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmVzWzBdLm1pbkZpbHRlcn0sc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7dGhpcy5fdGV4dHVyZXMuZm9yRWFjaChmdW5jdGlvbih0ZXh0dXJlKXt0ZXh0dXJlLm1pbkZpbHRlcj1tVmFsdWV9KX19LHtrZXk6XCJtYWdGaWx0ZXJcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZXNbMF0ubWFnRmlsdGVyfSxzZXQ6ZnVuY3Rpb24obVZhbHVlKXt0aGlzLl90ZXh0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uKHRleHR1cmUpe3RleHR1cmUubWFnRmlsdGVyPW1WYWx1ZX0pfX0se2tleTpcIndyYXBTXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmVzWzBdLndyYXBTfSxzZXQ6ZnVuY3Rpb24obVZhbHVlKXt0aGlzLl90ZXh0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uKHRleHR1cmUpe3RleHR1cmUud3JhcFM9bVZhbHVlfSl9fSx7a2V5Olwid3JhcFRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZXNbMF0ud3JhcFR9LHNldDpmdW5jdGlvbihtVmFsdWUpe3RoaXMuX3RleHR1cmVzLmZvckVhY2goZnVuY3Rpb24odGV4dHVyZSl7dGV4dHVyZS53cmFwVD1tVmFsdWV9KX19LHtrZXk6XCJudW1UYXJnZXRzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX251bVRhcmdldHN9fV0pLEZyYW1lQnVmZmVyfSgpO2V4cG9ydHMuZGVmYXVsdD1GcmFtZUJ1ZmZlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX3NjaGVkdWxpbmc9X193ZWJwYWNrX3JlcXVpcmVfXyg2KSxfc2NoZWR1bGluZzI9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX0oX3NjaGVkdWxpbmcpLEVhc2VOdW1iZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBFYXNlTnVtYmVyKG1WYWx1ZSl7dmFyIF90aGlzPXRoaXMsbUVhc2luZz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06LjE7X2NsYXNzQ2FsbENoZWNrKHRoaXMsRWFzZU51bWJlciksdGhpcy5lYXNpbmc9bUVhc2luZyx0aGlzLl92YWx1ZT1tVmFsdWUsdGhpcy5fdGFyZ2V0VmFsdWU9bVZhbHVlLHRoaXMuX2VmSW5kZXg9X3NjaGVkdWxpbmcyLmRlZmF1bHQuYWRkRUYoZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMuX3VwZGF0ZSgpfSl9cmV0dXJuIF9jcmVhdGVDbGFzcyhFYXNlTnVtYmVyLFt7a2V5OlwiX3VwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fY2hlY2tMaW1pdCgpLHRoaXMuX3ZhbHVlKz0odGhpcy5fdGFyZ2V0VmFsdWUtdGhpcy5fdmFsdWUpKnRoaXMuZWFzaW5nLE1hdGguYWJzKHRoaXMuX3RhcmdldFZhbHVlLXRoaXMuX3ZhbHVlKTwxZS00JiYodGhpcy5fdmFsdWU9dGhpcy5fdGFyZ2V0VmFsdWUpfX0se2tleTpcInNldFRvXCIsdmFsdWU6ZnVuY3Rpb24obVZhbHVlKXt0aGlzLl90YXJnZXRWYWx1ZT10aGlzLl92YWx1ZT1tVmFsdWV9fSx7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24obUFkZCl7dGhpcy5fdGFyZ2V0VmFsdWUrPW1BZGR9fSx7a2V5OlwibGltaXRcIix2YWx1ZTpmdW5jdGlvbihtTWluLG1NYXgpe2lmKG1NaW4+bU1heClyZXR1cm4gdm9pZCB0aGlzLmxpbWl0KG1NYXgsbU1pbik7dGhpcy5fbWluPW1NaW4sdGhpcy5fbWF4PW1NYXgsdGhpcy5fY2hlY2tMaW1pdCgpfX0se2tleTpcIl9jaGVja0xpbWl0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2b2lkIDAhPT10aGlzLl9taW4mJnRoaXMuX3RhcmdldFZhbHVlPHRoaXMuX21pbiYmKHRoaXMuX3RhcmdldFZhbHVlPXRoaXMuX21pbiksdm9pZCAwIT09dGhpcy5fbWF4JiZ0aGlzLl90YXJnZXRWYWx1ZT50aGlzLl9tYXgmJih0aGlzLl90YXJnZXRWYWx1ZT10aGlzLl9tYXgpfX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbigpe19zY2hlZHVsaW5nMi5kZWZhdWx0LnJlbW92ZUVGKHRoaXMuX2VmSW5kZXgpfX0se2tleTpcInZhbHVlXCIsc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7dGhpcy5fdGFyZ2V0VmFsdWU9bVZhbHVlfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFsdWV9fSx7a2V5OlwidGFyZ2V0VmFsdWVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGFyZ2V0VmFsdWV9fV0pLEVhc2VOdW1iZXJ9KCk7ZXhwb3J0cy5kZWZhdWx0PUVhc2VOdW1iZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9nbE1hdHJpeD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLGE9X2dsTWF0cml4LnZlYzMuY3JlYXRlKCksYj1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSxjPV9nbE1hdHJpeC52ZWMzLmNyZWF0ZSgpLHRhcmdldD1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSxlZGdlMT1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSxlZGdlMj1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSxub3JtYWw9X2dsTWF0cml4LnZlYzMuY3JlYXRlKCksZGlmZj1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSxSYXk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBSYXkobU9yaWdpbixtRGlyZWN0aW9uKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxSYXkpLHRoaXMub3JpZ2luPV9nbE1hdHJpeC52ZWMzLmNsb25lKG1PcmlnaW4pLHRoaXMuZGlyZWN0aW9uPV9nbE1hdHJpeC52ZWMzLmNsb25lKG1EaXJlY3Rpb24pfXJldHVybiBfY3JlYXRlQ2xhc3MoUmF5LFt7a2V5OlwiYXRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gX2dsTWF0cml4LnZlYzMuY29weSh0YXJnZXQsdGhpcy5kaXJlY3Rpb24pLF9nbE1hdHJpeC52ZWMzLnNjYWxlKHRhcmdldCx0YXJnZXQsdCksX2dsTWF0cml4LnZlYzMuYWRkKHRhcmdldCx0YXJnZXQsdGhpcy5vcmlnaW4pLHRhcmdldH19LHtrZXk6XCJsb29rQXRcIix2YWx1ZTpmdW5jdGlvbihtVGFyZ2V0KXtfZ2xNYXRyaXgudmVjMy5zdWIodGhpcy5kaXJlY3Rpb24sbVRhcmdldCx0aGlzLm9yaWdpbiksX2dsTWF0cml4LnZlYzMubm9ybWFsaXplKHRoaXMub3JpZ2luLHRoaXMub3JpZ2luKX19LHtrZXk6XCJjbG9zZXN0UG9pbnRUb1BvaW50XCIsdmFsdWU6ZnVuY3Rpb24obVBvaW50KXt2YXIgcmVzdWx0PV9nbE1hdHJpeC52ZWMzLmNyZWF0ZSgpO19nbE1hdHJpeC52ZWMzLnN1YihtUG9pbnQsdGhpcy5vcmlnaW4pO3ZhciBkaXJlY3Rpb25EaXN0YW5jZT1fZ2xNYXRyaXgudmVjMy5kb3QocmVzdWx0LHRoaXMuZGlyZWN0aW9uKTtyZXR1cm4gZGlyZWN0aW9uRGlzdGFuY2U8MD9fZ2xNYXRyaXgudmVjMy5jbG9uZSh0aGlzLm9yaWdpbik6KF9nbE1hdHJpeC52ZWMzLmNvcHkocmVzdWx0LHRoaXMuZGlyZWN0aW9uKSxfZ2xNYXRyaXgudmVjMy5zY2FsZShyZXN1bHQscmVzdWx0LGRpcmVjdGlvbkRpc3RhbmNlKSxfZ2xNYXRyaXgudmVjMy5hZGQocmVzdWx0LHJlc3VsdCx0aGlzLm9yaWdpbikscmVzdWx0KX19LHtrZXk6XCJkaXN0YW5jZVRvUG9pbnRcIix2YWx1ZTpmdW5jdGlvbihtUG9pbnQpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0YW5jZVNxVG9Qb2ludChtUG9pbnQpKX19LHtrZXk6XCJkaXN0YW5jZVNxVG9Qb2ludFwiLHZhbHVlOmZ1bmN0aW9uKG1Qb2ludCl7dmFyIHYxPV9nbE1hdHJpeC52ZWMzLmNyZWF0ZSgpO19nbE1hdHJpeC52ZWMzLnN1Yih2MSxtUG9pbnQsdGhpcy5vcmlnaW4pO3ZhciBkaXJlY3Rpb25EaXN0YW5jZT1fZ2xNYXRyaXgudmVjMy5kb3QodjEsdGhpcy5kaXJlY3Rpb24pO3JldHVybiBkaXJlY3Rpb25EaXN0YW5jZTwwP19nbE1hdHJpeC52ZWMzLnNxdWFyZWREaXN0YW5jZSh0aGlzLm9yaWdpbixtUG9pbnQpOihfZ2xNYXRyaXgudmVjMy5jb3B5KHYxLHRoaXMuZGlyZWN0aW9uKSxfZ2xNYXRyaXgudmVjMy5zY2FsZSh2MSx2MSxkaXJlY3Rpb25EaXN0YW5jZSksX2dsTWF0cml4LnZlYzMuYWRkKHYxLHYxLHRoaXMub3JpZ2luKSxfZ2xNYXRyaXgudmVjMy5zcXVhcmVkRGlzdGFuY2UodjEsbVBvaW50KSl9fSx7a2V5OlwiaW50ZXJzZWN0c1NwaGVyZVwiLHZhbHVlOmZ1bmN0aW9uKG1DZW50ZXIsbVJhZGl1cyl7cmV0dXJuIHRoaXMuZGlzdGFuY2VUb1BvaW50KG1DZW50ZXIpPD1tUmFkaXVzfX0se2tleTpcImludGVyc2VjdFNwaGVyZVwiLHZhbHVlOmZ1bmN0aW9uKG1DZW50ZXIsbVJhZGl1cyl7dmFyIHYxPV9nbE1hdHJpeC52ZWMzLmNyZWF0ZSgpO19nbE1hdHJpeC52ZWMzLnN1Yih2MSxtQ2VudGVyLHRoaXMub3JpZ2luKTt2YXIgdGNhPV9nbE1hdHJpeC52ZWMzLmRvdCh2MSx0aGlzLmRpcmVjdGlvbiksZDI9X2dsTWF0cml4LnZlYzMuZG90KHYxLHYxKS10Y2EqdGNhLHJhZGl1czI9bVJhZGl1cyptUmFkaXVzO2lmKGQyPnJhZGl1czIpcmV0dXJuIG51bGw7dmFyIHRoYz1NYXRoLnNxcnQocmFkaXVzMi1kMiksdDA9dGNhLXRoYyx0MT10Y2ErdGhjO3JldHVybiB0MDwwJiZ0MTwwP251bGw6dDA8MD90aGlzLmF0KHQxKTp0aGlzLmF0KHQwKX19LHtrZXk6XCJkaXN0YW5jZVRvUGxhbmVcIix2YWx1ZTpmdW5jdGlvbihtUGxhbmVDZW50ZXIsbU5vcm1hbCl7X2dsTWF0cml4LnZlYzMuZG90KG1Ob3JtYWwsdGhpcy5kaXJlY3Rpb24pfX0se2tleTpcImludGVyc2VjdFRyaWFuZ2xlXCIsdmFsdWU6ZnVuY3Rpb24obVBBLG1QQixtUEMpe3ZhciBiYWNrZmFjZUN1bGxpbmc9IShhcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSl8fGFyZ3VtZW50c1szXTtfZ2xNYXRyaXgudmVjMy5jb3B5KGEsbVBBKSxfZ2xNYXRyaXgudmVjMy5jb3B5KGIsbVBCKSxfZ2xNYXRyaXgudmVjMy5jb3B5KGMsbVBDKSxfZ2xNYXRyaXgudmVjMy5zdWIoZWRnZTEsYixhKSxfZ2xNYXRyaXgudmVjMy5zdWIoZWRnZTIsYyxhKSxfZ2xNYXRyaXgudmVjMy5jcm9zcyhub3JtYWwsZWRnZTEsZWRnZTIpO3ZhciBEZE49X2dsTWF0cml4LnZlYzMuZG90KHRoaXMuZGlyZWN0aW9uLG5vcm1hbCksc2lnbj12b2lkIDA7aWYoRGROPjApe2lmKGJhY2tmYWNlQ3VsbGluZylyZXR1cm4gbnVsbDtzaWduPTF9ZWxzZXtpZighKERkTjwwKSlyZXR1cm4gbnVsbDtzaWduPS0xLERkTj0tRGROfV9nbE1hdHJpeC52ZWMzLnN1YihkaWZmLHRoaXMub3JpZ2luLGEpLF9nbE1hdHJpeC52ZWMzLmNyb3NzKGVkZ2UyLGRpZmYsZWRnZTIpO3ZhciBEZFF4RTI9c2lnbipfZ2xNYXRyaXgudmVjMy5kb3QodGhpcy5kaXJlY3Rpb24sZWRnZTIpO2lmKERkUXhFMjwwKXJldHVybiBudWxsO19nbE1hdHJpeC52ZWMzLmNyb3NzKGVkZ2UxLGVkZ2UxLGRpZmYpO3ZhciBEZEUxeFE9c2lnbipfZ2xNYXRyaXgudmVjMy5kb3QodGhpcy5kaXJlY3Rpb24sZWRnZTEpO2lmKERkRTF4UTwwKXJldHVybiBudWxsO2lmKERkUXhFMitEZEUxeFE+RGROKXJldHVybiBudWxsO3ZhciBRZG49LXNpZ24qX2dsTWF0cml4LnZlYzMuZG90KGRpZmYsbm9ybWFsKTtyZXR1cm4gUWRuPDA/bnVsbDp0aGlzLmF0KFFkbi9EZE4pfX1dKSxSYXl9KCk7ZXhwb3J0cy5kZWZhdWx0PVJheX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX2dsTWF0cml4PV9fd2VicGFja19yZXF1aXJlX18oMSksQ2FtZXJhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQ2FtZXJhKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQ2FtZXJhKSx0aGlzLl9tYXRyaXg9X2dsTWF0cml4Lm1hdDQuY3JlYXRlKCksdGhpcy5fcXVhdD1fZ2xNYXRyaXgucXVhdC5jcmVhdGUoKSx0aGlzLl9vcmllbnRhdGlvbj1fZ2xNYXRyaXgubWF0NC5jcmVhdGUoKSx0aGlzLl9wcm9qZWN0aW9uPV9nbE1hdHJpeC5tYXQ0LmNyZWF0ZSgpLHRoaXMucG9zaXRpb249dmVjMy5jcmVhdGUoKX1yZXR1cm4gX2NyZWF0ZUNsYXNzKENhbWVyYSxbe2tleTpcImxvb2tBdFwiLHZhbHVlOmZ1bmN0aW9uKGFFeWUsYUNlbnRlcil7dmFyIGFVcD1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06WzAsMSwwXTt0aGlzLl9leWU9dmVjMy5jbG9uZShhRXllKSx0aGlzLl9jZW50ZXI9dmVjMy5jbG9uZShhQ2VudGVyKSx2ZWMzLmNvcHkodGhpcy5wb3NpdGlvbixhRXllKSxfZ2xNYXRyaXgubWF0NC5pZGVudGl0eSh0aGlzLl9tYXRyaXgpLF9nbE1hdHJpeC5tYXQ0Lmxvb2tBdCh0aGlzLl9tYXRyaXgsYUV5ZSxhQ2VudGVyLGFVcCl9fSx7a2V5Olwic2V0RnJvbU9yaWVudGF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oeCx5LHosdyl7X2dsTWF0cml4LnF1YXQuc2V0KHRoaXMuX3F1YXQseCx5LHosdyksX2dsTWF0cml4Lm1hdDQuZnJvbVF1YXQodGhpcy5fb3JpZW50YXRpb24sdGhpcy5fcXVhdCksX2dsTWF0cml4Lm1hdDQudHJhbnNsYXRlKHRoaXMuX21hdHJpeCx0aGlzLl9vcmllbnRhdGlvbix0aGlzLnBvc2l0aW9uT2Zmc2V0KX19LHtrZXk6XCJzZXRQcm9qZWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24obVByb2ope3RoaXMuX3Byb2plY3Rpb249X2dsTWF0cml4Lm1hdDQuY2xvbmUobVByb2opfX0se2tleTpcInNldFZpZXdcIix2YWx1ZTpmdW5jdGlvbihtVmlldyl7dGhpcy5fbWF0cml4PV9nbE1hdHJpeC5tYXQ0LmNsb25lKG1WaWV3KX19LHtrZXk6XCJzZXRGcm9tVmlld1Byb2pcIix2YWx1ZTpmdW5jdGlvbihtVmlldyxtUHJvail7dGhpcy5zZXRWaWV3KG1WaWV3KSx0aGlzLnNldFByb2plY3Rpb24obVByb2opfX0se2tleTpcIm1hdHJpeFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXRyaXh9fSx7a2V5Olwidmlld01hdHJpeFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXRyaXh9fSx7a2V5OlwicHJvamVjdGlvblwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9qZWN0aW9ufX0se2tleTpcInByb2plY3Rpb25NYXRyaXhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvamVjdGlvbn19LHtrZXk6XCJleWVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXllfX0se2tleTpcImNlbnRlclwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jZW50ZXJ9fV0pLENhbWVyYX0oKTtleHBvcnRzLmRlZmF1bHQ9Q2FtZXJhfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9DYW1lcmEyPV9fd2VicGFja19yZXF1aXJlX18oMTUpLF9DYW1lcmEzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbWVyYTIpLF9SYXk9X193ZWJwYWNrX3JlcXVpcmVfXygxNCksX1JheTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmF5KSxfZ2xNYXRyaXg9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxtSW52ZXJzZVZpZXdQcm9qPV9nbE1hdHJpeC5tYXQ0LmNyZWF0ZSgpLGNhbWVyYURpcj1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSxDYW1lcmFQZXJzcGVjdGl2ZT1mdW5jdGlvbihfQ2FtZXJhKXtmdW5jdGlvbiBDYW1lcmFQZXJzcGVjdGl2ZSgpe3JldHVybiBfY2xhc3NDYWxsQ2hlY2sodGhpcyxDYW1lcmFQZXJzcGVjdGl2ZSksX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoQ2FtZXJhUGVyc3BlY3RpdmUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ2FtZXJhUGVyc3BlY3RpdmUpKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBfaW5oZXJpdHMoQ2FtZXJhUGVyc3BlY3RpdmUsX0NhbWVyYSksX2NyZWF0ZUNsYXNzKENhbWVyYVBlcnNwZWN0aXZlLFt7a2V5Olwic2V0UGVyc3BlY3RpdmVcIix2YWx1ZTpmdW5jdGlvbihtRm92LG1Bc3BlY3RSYXRpbyxtTmVhcixtRmFyKXt0aGlzLl9mb3Y9bUZvdix0aGlzLl9uZWFyPW1OZWFyLHRoaXMuX2Zhcj1tRmFyLHRoaXMuX2FzcGVjdFJhdGlvPW1Bc3BlY3RSYXRpbyxfZ2xNYXRyaXgubWF0NC5wZXJzcGVjdGl2ZSh0aGlzLl9wcm9qZWN0aW9uLG1Gb3YsbUFzcGVjdFJhdGlvLG1OZWFyLG1GYXIpfX0se2tleTpcInNldEFzcGVjdFJhdGlvXCIsdmFsdWU6ZnVuY3Rpb24obUFzcGVjdFJhdGlvKXt0aGlzLl9hc3BlY3RSYXRpbz1tQXNwZWN0UmF0aW8sX2dsTWF0cml4Lm1hdDQucGVyc3BlY3RpdmUodGhpcy5wcm9qZWN0aW9uLHRoaXMuX2ZvdixtQXNwZWN0UmF0aW8sdGhpcy5fbmVhcix0aGlzLl9mYXIpfX0se2tleTpcImdlbmVyYXRlUmF5XCIsdmFsdWU6ZnVuY3Rpb24obVNjcmVlblBvc2l0aW9uLG1SYXkpe3ZhciBwcm9qPXRoaXMucHJvamVjdGlvbk1hdHJpeCx2aWV3PXRoaXMudmlld01hdHJpeDtyZXR1cm4gX2dsTWF0cml4Lm1hdDQubXVsdGlwbHkobUludmVyc2VWaWV3UHJvaixwcm9qLHZpZXcpLF9nbE1hdHJpeC5tYXQ0LmludmVydChtSW52ZXJzZVZpZXdQcm9qLG1JbnZlcnNlVmlld1Byb2opLF9nbE1hdHJpeC52ZWMzLnRyYW5zZm9ybU1hdDQoY2FtZXJhRGlyLG1TY3JlZW5Qb3NpdGlvbixtSW52ZXJzZVZpZXdQcm9qKSxfZ2xNYXRyaXgudmVjMy5zdWIoY2FtZXJhRGlyLGNhbWVyYURpcix0aGlzLnBvc2l0aW9uKSxfZ2xNYXRyaXgudmVjMy5ub3JtYWxpemUoY2FtZXJhRGlyLGNhbWVyYURpciksbVJheT8obVJheS5vcmlnaW49dGhpcy5wb3NpdGlvbixtUmF5LmRpcmVjdGlvbj1jYW1lcmFEaXIpOm1SYXk9bmV3IF9SYXkyLmRlZmF1bHQodGhpcy5wb3NpdGlvbixjYW1lcmFEaXIpLG1SYXl9fV0pLENhbWVyYVBlcnNwZWN0aXZlfShfQ2FtZXJhMy5kZWZhdWx0KTtleHBvcnRzLmRlZmF1bHQ9Q2FtZXJhUGVyc3BlY3RpdmV9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLEJpbmFyeUxvYWRlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIEJpbmFyeUxvYWRlcigpe3ZhciBfdGhpcz10aGlzLGlzQXJyYXlCdWZmZXI9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxCaW5hcnlMb2FkZXIpLHRoaXMuX3JlcT1uZXcgWE1MSHR0cFJlcXVlc3QsdGhpcy5fcmVxLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsZnVuY3Rpb24oZSl7cmV0dXJuIF90aGlzLl9vbkxvYWRlZChlKX0pLHRoaXMuX3JlcS5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIixmdW5jdGlvbihlKXtyZXR1cm4gX3RoaXMuX29uUHJvZ3Jlc3MoZSl9KSxpc0FycmF5QnVmZmVyJiYodGhpcy5fcmVxLnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCIpfXJldHVybiBfY3JlYXRlQ2xhc3MoQmluYXJ5TG9hZGVyLFt7a2V5OlwibG9hZFwiLHZhbHVlOmZ1bmN0aW9uKHVybCxjYWxsYmFjayl7Y29uc29sZS5sb2coXCJMb2FkaW5nIDogXCIsdXJsKSx0aGlzLl9jYWxsYmFjaz1jYWxsYmFjayx0aGlzLl9yZXEub3BlbihcIkdFVFwiLHVybCksdGhpcy5fcmVxLnNlbmQoKX19LHtrZXk6XCJfb25Mb2FkZWRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2NhbGxiYWNrKHRoaXMuX3JlcS5yZXNwb25zZSl9fSx7a2V5OlwiX29uUHJvZ3Jlc3NcIix2YWx1ZTpmdW5jdGlvbigpe319XSksQmluYXJ5TG9hZGVyfSgpO2V4cG9ydHMuZGVmYXVsdD1CaW5hcnlMb2FkZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1cIi8vIGJpZ1RyaWFuZ2xlLnZlcnRcXG5cXG4jZGVmaW5lIFNIQURFUl9OQU1FIEJJR19UUklBTkdMRV9WRVJURVhcXG5cXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZGVmaW5lIEdMU0xJRlkgMVxcbmF0dHJpYnV0ZSB2ZWMyIGFQb3NpdGlvbjtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZCkge1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoYVBvc2l0aW9uLCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhUG9zaXRpb24gKiAuNSArIC41O1xcbn1cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPVwiLy8gY29weS5mcmFnXFxuXFxuI2RlZmluZSBTSEFERVJfTkFNRSBDT1BZX0ZSQUdNRU5UXFxuXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlO1xcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4dHVyZUNvb3JkKTtcXG59XCJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGNyZWF0ZSgpe3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOSk7cmV0dXJuIG91dFswXT0xLG91dFsxXT0wLG91dFsyXT0wLG91dFszXT0wLG91dFs0XT0xLG91dFs1XT0wLG91dFs2XT0wLG91dFs3XT0wLG91dFs4XT0xLG91dH1mdW5jdGlvbiBmcm9tTWF0NChvdXQsYSl7cmV0dXJuIG91dFswXT1hWzBdLG91dFsxXT1hWzFdLG91dFsyXT1hWzJdLG91dFszXT1hWzRdLG91dFs0XT1hWzVdLG91dFs1XT1hWzZdLG91dFs2XT1hWzhdLG91dFs3XT1hWzldLG91dFs4XT1hWzEwXSxvdXR9ZnVuY3Rpb24gY2xvbmUoYSl7dmFyIG91dD1uZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg5KTtyZXR1cm4gb3V0WzBdPWFbMF0sb3V0WzFdPWFbMV0sb3V0WzJdPWFbMl0sb3V0WzNdPWFbM10sb3V0WzRdPWFbNF0sb3V0WzVdPWFbNV0sb3V0WzZdPWFbNl0sb3V0WzddPWFbN10sb3V0WzhdPWFbOF0sb3V0fWZ1bmN0aW9uIGNvcHkob3V0LGEpe3JldHVybiBvdXRbMF09YVswXSxvdXRbMV09YVsxXSxvdXRbMl09YVsyXSxvdXRbM109YVszXSxvdXRbNF09YVs0XSxvdXRbNV09YVs1XSxvdXRbNl09YVs2XSxvdXRbN109YVs3XSxvdXRbOF09YVs4XSxvdXR9ZnVuY3Rpb24gZnJvbVZhbHVlcyhtMDAsbTAxLG0wMixtMTAsbTExLG0xMixtMjAsbTIxLG0yMil7dmFyIG91dD1uZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg5KTtyZXR1cm4gb3V0WzBdPW0wMCxvdXRbMV09bTAxLG91dFsyXT1tMDIsb3V0WzNdPW0xMCxvdXRbNF09bTExLG91dFs1XT1tMTIsb3V0WzZdPW0yMCxvdXRbN109bTIxLG91dFs4XT1tMjIsb3V0fWZ1bmN0aW9uIHNldChvdXQsbTAwLG0wMSxtMDIsbTEwLG0xMSxtMTIsbTIwLG0yMSxtMjIpe3JldHVybiBvdXRbMF09bTAwLG91dFsxXT1tMDEsb3V0WzJdPW0wMixvdXRbM109bTEwLG91dFs0XT1tMTEsb3V0WzVdPW0xMixvdXRbNl09bTIwLG91dFs3XT1tMjEsb3V0WzhdPW0yMixvdXR9ZnVuY3Rpb24gaWRlbnRpdHkob3V0KXtyZXR1cm4gb3V0WzBdPTEsb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTAsb3V0WzRdPTEsb3V0WzVdPTAsb3V0WzZdPTAsb3V0WzddPTAsb3V0WzhdPTEsb3V0fWZ1bmN0aW9uIHRyYW5zcG9zZShvdXQsYSl7aWYob3V0PT09YSl7dmFyIGEwMT1hWzFdLGEwMj1hWzJdLGExMj1hWzVdO291dFsxXT1hWzNdLG91dFsyXT1hWzZdLG91dFszXT1hMDEsb3V0WzVdPWFbN10sb3V0WzZdPWEwMixvdXRbN109YTEyfWVsc2Ugb3V0WzBdPWFbMF0sb3V0WzFdPWFbM10sb3V0WzJdPWFbNl0sb3V0WzNdPWFbMV0sb3V0WzRdPWFbNF0sb3V0WzVdPWFbN10sb3V0WzZdPWFbMl0sb3V0WzddPWFbNV0sb3V0WzhdPWFbOF07cmV0dXJuIG91dH1mdW5jdGlvbiBpbnZlcnQob3V0LGEpe3ZhciBhMDA9YVswXSxhMDE9YVsxXSxhMDI9YVsyXSxhMTA9YVszXSxhMTE9YVs0XSxhMTI9YVs1XSxhMjA9YVs2XSxhMjE9YVs3XSxhMjI9YVs4XSxiMDE9YTIyKmExMS1hMTIqYTIxLGIxMT0tYTIyKmExMCthMTIqYTIwLGIyMT1hMjEqYTEwLWExMSphMjAsZGV0PWEwMCpiMDErYTAxKmIxMSthMDIqYjIxO3JldHVybiBkZXQ/KGRldD0xL2RldCxvdXRbMF09YjAxKmRldCxvdXRbMV09KC1hMjIqYTAxK2EwMiphMjEpKmRldCxvdXRbMl09KGExMiphMDEtYTAyKmExMSkqZGV0LG91dFszXT1iMTEqZGV0LG91dFs0XT0oYTIyKmEwMC1hMDIqYTIwKSpkZXQsb3V0WzVdPSgtYTEyKmEwMCthMDIqYTEwKSpkZXQsb3V0WzZdPWIyMSpkZXQsb3V0WzddPSgtYTIxKmEwMCthMDEqYTIwKSpkZXQsb3V0WzhdPShhMTEqYTAwLWEwMSphMTApKmRldCxvdXQpOm51bGx9ZnVuY3Rpb24gYWRqb2ludChvdXQsYSl7dmFyIGEwMD1hWzBdLGEwMT1hWzFdLGEwMj1hWzJdLGExMD1hWzNdLGExMT1hWzRdLGExMj1hWzVdLGEyMD1hWzZdLGEyMT1hWzddLGEyMj1hWzhdO3JldHVybiBvdXRbMF09YTExKmEyMi1hMTIqYTIxLG91dFsxXT1hMDIqYTIxLWEwMSphMjIsb3V0WzJdPWEwMSphMTItYTAyKmExMSxvdXRbM109YTEyKmEyMC1hMTAqYTIyLG91dFs0XT1hMDAqYTIyLWEwMiphMjAsb3V0WzVdPWEwMiphMTAtYTAwKmExMixvdXRbNl09YTEwKmEyMS1hMTEqYTIwLG91dFs3XT1hMDEqYTIwLWEwMCphMjEsb3V0WzhdPWEwMCphMTEtYTAxKmExMCxvdXR9ZnVuY3Rpb24gZGV0ZXJtaW5hbnQoYSl7dmFyIGEwMD1hWzBdLGEwMT1hWzFdLGEwMj1hWzJdLGExMD1hWzNdLGExMT1hWzRdLGExMj1hWzVdLGEyMD1hWzZdLGEyMT1hWzddLGEyMj1hWzhdO3JldHVybiBhMDAqKGEyMiphMTEtYTEyKmEyMSkrYTAxKigtYTIyKmExMCthMTIqYTIwKSthMDIqKGEyMSphMTAtYTExKmEyMCl9ZnVuY3Rpb24gbXVsdGlwbHkob3V0LGEsYil7dmFyIGEwMD1hWzBdLGEwMT1hWzFdLGEwMj1hWzJdLGExMD1hWzNdLGExMT1hWzRdLGExMj1hWzVdLGEyMD1hWzZdLGEyMT1hWzddLGEyMj1hWzhdLGIwMD1iWzBdLGIwMT1iWzFdLGIwMj1iWzJdLGIxMD1iWzNdLGIxMT1iWzRdLGIxMj1iWzVdLGIyMD1iWzZdLGIyMT1iWzddLGIyMj1iWzhdO3JldHVybiBvdXRbMF09YjAwKmEwMCtiMDEqYTEwK2IwMiphMjAsb3V0WzFdPWIwMCphMDErYjAxKmExMStiMDIqYTIxLG91dFsyXT1iMDAqYTAyK2IwMSphMTIrYjAyKmEyMixvdXRbM109YjEwKmEwMCtiMTEqYTEwK2IxMiphMjAsb3V0WzRdPWIxMCphMDErYjExKmExMStiMTIqYTIxLG91dFs1XT1iMTAqYTAyK2IxMSphMTIrYjEyKmEyMixvdXRbNl09YjIwKmEwMCtiMjEqYTEwK2IyMiphMjAsb3V0WzddPWIyMCphMDErYjIxKmExMStiMjIqYTIxLG91dFs4XT1iMjAqYTAyK2IyMSphMTIrYjIyKmEyMixvdXR9ZnVuY3Rpb24gdHJhbnNsYXRlKG91dCxhLHYpe3ZhciBhMDA9YVswXSxhMDE9YVsxXSxhMDI9YVsyXSxhMTA9YVszXSxhMTE9YVs0XSxhMTI9YVs1XSxhMjA9YVs2XSxhMjE9YVs3XSxhMjI9YVs4XSx4PXZbMF0seT12WzFdO3JldHVybiBvdXRbMF09YTAwLG91dFsxXT1hMDEsb3V0WzJdPWEwMixvdXRbM109YTEwLG91dFs0XT1hMTEsb3V0WzVdPWExMixvdXRbNl09eCphMDAreSphMTArYTIwLG91dFs3XT14KmEwMSt5KmExMSthMjEsb3V0WzhdPXgqYTAyK3kqYTEyK2EyMixvdXR9ZnVuY3Rpb24gcm90YXRlKG91dCxhLHJhZCl7dmFyIGEwMD1hWzBdLGEwMT1hWzFdLGEwMj1hWzJdLGExMD1hWzNdLGExMT1hWzRdLGExMj1hWzVdLGEyMD1hWzZdLGEyMT1hWzddLGEyMj1hWzhdLHM9TWF0aC5zaW4ocmFkKSxjPU1hdGguY29zKHJhZCk7cmV0dXJuIG91dFswXT1jKmEwMCtzKmExMCxvdXRbMV09YyphMDErcyphMTEsb3V0WzJdPWMqYTAyK3MqYTEyLG91dFszXT1jKmExMC1zKmEwMCxvdXRbNF09YyphMTEtcyphMDEsb3V0WzVdPWMqYTEyLXMqYTAyLG91dFs2XT1hMjAsb3V0WzddPWEyMSxvdXRbOF09YTIyLG91dH1mdW5jdGlvbiBzY2FsZShvdXQsYSx2KXt2YXIgeD12WzBdLHk9dlsxXTtyZXR1cm4gb3V0WzBdPXgqYVswXSxvdXRbMV09eCphWzFdLG91dFsyXT14KmFbMl0sb3V0WzNdPXkqYVszXSxvdXRbNF09eSphWzRdLG91dFs1XT15KmFbNV0sb3V0WzZdPWFbNl0sb3V0WzddPWFbN10sb3V0WzhdPWFbOF0sb3V0fWZ1bmN0aW9uIGZyb21UcmFuc2xhdGlvbihvdXQsdil7cmV0dXJuIG91dFswXT0xLG91dFsxXT0wLG91dFsyXT0wLG91dFszXT0wLG91dFs0XT0xLG91dFs1XT0wLG91dFs2XT12WzBdLG91dFs3XT12WzFdLG91dFs4XT0xLG91dH1mdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LHJhZCl7dmFyIHM9TWF0aC5zaW4ocmFkKSxjPU1hdGguY29zKHJhZCk7cmV0dXJuIG91dFswXT1jLG91dFsxXT1zLG91dFsyXT0wLG91dFszXT0tcyxvdXRbNF09YyxvdXRbNV09MCxvdXRbNl09MCxvdXRbN109MCxvdXRbOF09MSxvdXR9ZnVuY3Rpb24gZnJvbVNjYWxpbmcob3V0LHYpe3JldHVybiBvdXRbMF09dlswXSxvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MCxvdXRbNF09dlsxXSxvdXRbNV09MCxvdXRbNl09MCxvdXRbN109MCxvdXRbOF09MSxvdXR9ZnVuY3Rpb24gZnJvbU1hdDJkKG91dCxhKXtyZXR1cm4gb3V0WzBdPWFbMF0sb3V0WzFdPWFbMV0sb3V0WzJdPTAsb3V0WzNdPWFbMl0sb3V0WzRdPWFbM10sb3V0WzVdPTAsb3V0WzZdPWFbNF0sb3V0WzddPWFbNV0sb3V0WzhdPTEsb3V0fWZ1bmN0aW9uIGZyb21RdWF0KG91dCxxKXt2YXIgeD1xWzBdLHk9cVsxXSx6PXFbMl0sdz1xWzNdLHgyPXgreCx5Mj15K3ksejI9eit6LHh4PXgqeDIseXg9eSp4Mix5eT15KnkyLHp4PXoqeDIsenk9eip5Mix6ej16KnoyLHd4PXcqeDIsd3k9dyp5Mix3ej13KnoyO3JldHVybiBvdXRbMF09MS15eS16eixvdXRbM109eXgtd3osb3V0WzZdPXp4K3d5LG91dFsxXT15eCt3eixvdXRbNF09MS14eC16eixvdXRbN109enktd3gsb3V0WzJdPXp4LXd5LG91dFs1XT16eSt3eCxvdXRbOF09MS14eC15eSxvdXR9ZnVuY3Rpb24gbm9ybWFsRnJvbU1hdDQob3V0LGEpe3ZhciBhMDA9YVswXSxhMDE9YVsxXSxhMDI9YVsyXSxhMDM9YVszXSxhMTA9YVs0XSxhMTE9YVs1XSxhMTI9YVs2XSxhMTM9YVs3XSxhMjA9YVs4XSxhMjE9YVs5XSxhMjI9YVsxMF0sYTIzPWFbMTFdLGEzMD1hWzEyXSxhMzE9YVsxM10sYTMyPWFbMTRdLGEzMz1hWzE1XSxiMDA9YTAwKmExMS1hMDEqYTEwLGIwMT1hMDAqYTEyLWEwMiphMTAsYjAyPWEwMCphMTMtYTAzKmExMCxiMDM9YTAxKmExMi1hMDIqYTExLGIwND1hMDEqYTEzLWEwMyphMTEsYjA1PWEwMiphMTMtYTAzKmExMixiMDY9YTIwKmEzMS1hMjEqYTMwLGIwNz1hMjAqYTMyLWEyMiphMzAsYjA4PWEyMCphMzMtYTIzKmEzMCxiMDk9YTIxKmEzMi1hMjIqYTMxLGIxMD1hMjEqYTMzLWEyMyphMzEsYjExPWEyMiphMzMtYTIzKmEzMixkZXQ9YjAwKmIxMS1iMDEqYjEwK2IwMipiMDkrYjAzKmIwOC1iMDQqYjA3K2IwNSpiMDY7cmV0dXJuIGRldD8oZGV0PTEvZGV0LG91dFswXT0oYTExKmIxMS1hMTIqYjEwK2ExMypiMDkpKmRldCxvdXRbMV09KGExMipiMDgtYTEwKmIxMS1hMTMqYjA3KSpkZXQsb3V0WzJdPShhMTAqYjEwLWExMSpiMDgrYTEzKmIwNikqZGV0LG91dFszXT0oYTAyKmIxMC1hMDEqYjExLWEwMypiMDkpKmRldCxvdXRbNF09KGEwMCpiMTEtYTAyKmIwOCthMDMqYjA3KSpkZXQsb3V0WzVdPShhMDEqYjA4LWEwMCpiMTAtYTAzKmIwNikqZGV0LG91dFs2XT0oYTMxKmIwNS1hMzIqYjA0K2EzMypiMDMpKmRldCxvdXRbN109KGEzMipiMDItYTMwKmIwNS1hMzMqYjAxKSpkZXQsb3V0WzhdPShhMzAqYjA0LWEzMSpiMDIrYTMzKmIwMCkqZGV0LG91dCk6bnVsbH1mdW5jdGlvbiBwcm9qZWN0aW9uKG91dCx3aWR0aCxoZWlnaHQpe3JldHVybiBvdXRbMF09Mi93aWR0aCxvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MCxvdXRbNF09LTIvaGVpZ2h0LG91dFs1XT0wLG91dFs2XT0tMSxvdXRbN109MSxvdXRbOF09MSxvdXR9ZnVuY3Rpb24gc3RyKGEpe3JldHVyblwibWF0MyhcIithWzBdK1wiLCBcIithWzFdK1wiLCBcIithWzJdK1wiLCBcIithWzNdK1wiLCBcIithWzRdK1wiLCBcIithWzVdK1wiLCBcIithWzZdK1wiLCBcIithWzddK1wiLCBcIithWzhdK1wiKVwifWZ1bmN0aW9uIGZyb2IoYSl7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhhWzBdLDIpK01hdGgucG93KGFbMV0sMikrTWF0aC5wb3coYVsyXSwyKStNYXRoLnBvdyhhWzNdLDIpK01hdGgucG93KGFbNF0sMikrTWF0aC5wb3coYVs1XSwyKStNYXRoLnBvdyhhWzZdLDIpK01hdGgucG93KGFbN10sMikrTWF0aC5wb3coYVs4XSwyKSl9ZnVuY3Rpb24gYWRkKG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXStiWzBdLG91dFsxXT1hWzFdK2JbMV0sb3V0WzJdPWFbMl0rYlsyXSxvdXRbM109YVszXStiWzNdLG91dFs0XT1hWzRdK2JbNF0sb3V0WzVdPWFbNV0rYls1XSxvdXRbNl09YVs2XStiWzZdLG91dFs3XT1hWzddK2JbN10sb3V0WzhdPWFbOF0rYls4XSxvdXR9ZnVuY3Rpb24gc3VidHJhY3Qob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdLWJbMF0sb3V0WzFdPWFbMV0tYlsxXSxvdXRbMl09YVsyXS1iWzJdLG91dFszXT1hWzNdLWJbM10sb3V0WzRdPWFbNF0tYls0XSxvdXRbNV09YVs1XS1iWzVdLG91dFs2XT1hWzZdLWJbNl0sb3V0WzddPWFbN10tYls3XSxvdXRbOF09YVs4XS1iWzhdLG91dH1mdW5jdGlvbiBtdWx0aXBseVNjYWxhcihvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0qYixvdXRbMV09YVsxXSpiLG91dFsyXT1hWzJdKmIsb3V0WzNdPWFbM10qYixvdXRbNF09YVs0XSpiLG91dFs1XT1hWzVdKmIsb3V0WzZdPWFbNl0qYixvdXRbN109YVs3XSpiLG91dFs4XT1hWzhdKmIsb3V0fWZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyQW5kQWRkKG91dCxhLGIsc2NhbGUpe3JldHVybiBvdXRbMF09YVswXStiWzBdKnNjYWxlLG91dFsxXT1hWzFdK2JbMV0qc2NhbGUsb3V0WzJdPWFbMl0rYlsyXSpzY2FsZSxvdXRbM109YVszXStiWzNdKnNjYWxlLG91dFs0XT1hWzRdK2JbNF0qc2NhbGUsb3V0WzVdPWFbNV0rYls1XSpzY2FsZSxvdXRbNl09YVs2XStiWzZdKnNjYWxlLG91dFs3XT1hWzddK2JbN10qc2NhbGUsb3V0WzhdPWFbOF0rYls4XSpzY2FsZSxvdXR9ZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSxiKXtyZXR1cm4gYVswXT09PWJbMF0mJmFbMV09PT1iWzFdJiZhWzJdPT09YlsyXSYmYVszXT09PWJbM10mJmFbNF09PT1iWzRdJiZhWzVdPT09Yls1XSYmYVs2XT09PWJbNl0mJmFbN109PT1iWzddJiZhWzhdPT09Yls4XX1mdW5jdGlvbiBlcXVhbHMoYSxiKXt2YXIgYTA9YVswXSxhMT1hWzFdLGEyPWFbMl0sYTM9YVszXSxhND1hWzRdLGE1PWFbNV0sYTY9YVs2XSxhNz1hWzddLGE4PWFbOF0sYjA9YlswXSxiMT1iWzFdLGIyPWJbMl0sYjM9YlszXSxiND1iWzRdLGI1PWJbNV0sYjY9Yls2XSxiNz1iWzddLGI4PWJbOF07cmV0dXJuIE1hdGguYWJzKGEwLWIwKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEwKSxNYXRoLmFicyhiMCkpJiZNYXRoLmFicyhhMS1iMSk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMSksTWF0aC5hYnMoYjEpKSYmTWF0aC5hYnMoYTItYjIpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTIpLE1hdGguYWJzKGIyKSkmJk1hdGguYWJzKGEzLWIzKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEzKSxNYXRoLmFicyhiMykpJiZNYXRoLmFicyhhNC1iNCk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhNCksTWF0aC5hYnMoYjQpKSYmTWF0aC5hYnMoYTUtYjUpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTUpLE1hdGguYWJzKGI1KSkmJk1hdGguYWJzKGE2LWI2KTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGE2KSxNYXRoLmFicyhiNikpJiZNYXRoLmFicyhhNy1iNyk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhNyksTWF0aC5hYnMoYjcpKSYmTWF0aC5hYnMoYTgtYjgpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTgpLE1hdGguYWJzKGI4KSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5zdWI9ZXhwb3J0cy5tdWw9dm9pZCAwLGV4cG9ydHMuY3JlYXRlPWNyZWF0ZSxleHBvcnRzLmZyb21NYXQ0PWZyb21NYXQ0LGV4cG9ydHMuY2xvbmU9Y2xvbmUsZXhwb3J0cy5jb3B5PWNvcHksZXhwb3J0cy5mcm9tVmFsdWVzPWZyb21WYWx1ZXMsZXhwb3J0cy5zZXQ9c2V0LGV4cG9ydHMuaWRlbnRpdHk9aWRlbnRpdHksZXhwb3J0cy50cmFuc3Bvc2U9dHJhbnNwb3NlLGV4cG9ydHMuaW52ZXJ0PWludmVydCxleHBvcnRzLmFkam9pbnQ9YWRqb2ludCxleHBvcnRzLmRldGVybWluYW50PWRldGVybWluYW50LGV4cG9ydHMubXVsdGlwbHk9bXVsdGlwbHksZXhwb3J0cy50cmFuc2xhdGU9dHJhbnNsYXRlLGV4cG9ydHMucm90YXRlPXJvdGF0ZSxleHBvcnRzLnNjYWxlPXNjYWxlLGV4cG9ydHMuZnJvbVRyYW5zbGF0aW9uPWZyb21UcmFuc2xhdGlvbixleHBvcnRzLmZyb21Sb3RhdGlvbj1mcm9tUm90YXRpb24sZXhwb3J0cy5mcm9tU2NhbGluZz1mcm9tU2NhbGluZyxleHBvcnRzLmZyb21NYXQyZD1mcm9tTWF0MmQsZXhwb3J0cy5mcm9tUXVhdD1mcm9tUXVhdCxleHBvcnRzLm5vcm1hbEZyb21NYXQ0PW5vcm1hbEZyb21NYXQ0LGV4cG9ydHMucHJvamVjdGlvbj1wcm9qZWN0aW9uLGV4cG9ydHMuc3RyPXN0cixleHBvcnRzLmZyb2I9ZnJvYixleHBvcnRzLmFkZD1hZGQsZXhwb3J0cy5zdWJ0cmFjdD1zdWJ0cmFjdCxleHBvcnRzLm11bHRpcGx5U2NhbGFyPW11bHRpcGx5U2NhbGFyLGV4cG9ydHMubXVsdGlwbHlTY2FsYXJBbmRBZGQ9bXVsdGlwbHlTY2FsYXJBbmRBZGQsZXhwb3J0cy5leGFjdEVxdWFscz1leGFjdEVxdWFscyxleHBvcnRzLmVxdWFscz1lcXVhbHM7dmFyIF9jb21tb249X193ZWJwYWNrX3JlcXVpcmVfXygzKSxnbE1hdHJpeD1mdW5jdGlvbihvYmope2lmKG9iaiYmb2JqLl9fZXNNb2R1bGUpcmV0dXJuIG9iajt2YXIgbmV3T2JqPXt9O2lmKG51bGwhPW9iailmb3IodmFyIGtleSBpbiBvYmopT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaixrZXkpJiYobmV3T2JqW2tleV09b2JqW2tleV0pO3JldHVybiBuZXdPYmouZGVmYXVsdD1vYmosbmV3T2JqfShfY29tbW9uKTtleHBvcnRzLm11bD1tdWx0aXBseSxleHBvcnRzLnN1Yj1zdWJ0cmFjdH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gY3JlYXRlKCl7dmFyIG91dD1uZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtyZXR1cm4gb3V0WzBdPTAsb3V0WzFdPTAsb3V0WzJdPTAsb3V0fWZ1bmN0aW9uIGNsb25lKGEpe3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7cmV0dXJuIG91dFswXT1hWzBdLG91dFsxXT1hWzFdLG91dFsyXT1hWzJdLG91dH1mdW5jdGlvbiBsZW5ndGgoYSl7dmFyIHg9YVswXSx5PWFbMV0sej1hWzJdO3JldHVybiBNYXRoLnNxcnQoeCp4K3kqeSt6KnopfWZ1bmN0aW9uIGZyb21WYWx1ZXMoeCx5LHope3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7cmV0dXJuIG91dFswXT14LG91dFsxXT15LG91dFsyXT16LG91dH1mdW5jdGlvbiBjb3B5KG91dCxhKXtyZXR1cm4gb3V0WzBdPWFbMF0sb3V0WzFdPWFbMV0sb3V0WzJdPWFbMl0sb3V0fWZ1bmN0aW9uIHNldChvdXQseCx5LHope3JldHVybiBvdXRbMF09eCxvdXRbMV09eSxvdXRbMl09eixvdXR9ZnVuY3Rpb24gYWRkKG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXStiWzBdLG91dFsxXT1hWzFdK2JbMV0sb3V0WzJdPWFbMl0rYlsyXSxvdXR9ZnVuY3Rpb24gc3VidHJhY3Qob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdLWJbMF0sb3V0WzFdPWFbMV0tYlsxXSxvdXRbMl09YVsyXS1iWzJdLG91dH1mdW5jdGlvbiBtdWx0aXBseShvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0qYlswXSxvdXRbMV09YVsxXSpiWzFdLG91dFsyXT1hWzJdKmJbMl0sb3V0fWZ1bmN0aW9uIGRpdmlkZShvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0vYlswXSxvdXRbMV09YVsxXS9iWzFdLG91dFsyXT1hWzJdL2JbMl0sb3V0fWZ1bmN0aW9uIGNlaWwob3V0LGEpe3JldHVybiBvdXRbMF09TWF0aC5jZWlsKGFbMF0pLG91dFsxXT1NYXRoLmNlaWwoYVsxXSksb3V0WzJdPU1hdGguY2VpbChhWzJdKSxvdXR9ZnVuY3Rpb24gZmxvb3Iob3V0LGEpe3JldHVybiBvdXRbMF09TWF0aC5mbG9vcihhWzBdKSxvdXRbMV09TWF0aC5mbG9vcihhWzFdKSxvdXRbMl09TWF0aC5mbG9vcihhWzJdKSxvdXR9ZnVuY3Rpb24gbWluKG91dCxhLGIpe3JldHVybiBvdXRbMF09TWF0aC5taW4oYVswXSxiWzBdKSxvdXRbMV09TWF0aC5taW4oYVsxXSxiWzFdKSxvdXRbMl09TWF0aC5taW4oYVsyXSxiWzJdKSxvdXR9ZnVuY3Rpb24gbWF4KG91dCxhLGIpe3JldHVybiBvdXRbMF09TWF0aC5tYXgoYVswXSxiWzBdKSxvdXRbMV09TWF0aC5tYXgoYVsxXSxiWzFdKSxvdXRbMl09TWF0aC5tYXgoYVsyXSxiWzJdKSxvdXR9ZnVuY3Rpb24gcm91bmQob3V0LGEpe3JldHVybiBvdXRbMF09TWF0aC5yb3VuZChhWzBdKSxvdXRbMV09TWF0aC5yb3VuZChhWzFdKSxvdXRbMl09TWF0aC5yb3VuZChhWzJdKSxvdXR9ZnVuY3Rpb24gc2NhbGUob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdKmIsb3V0WzFdPWFbMV0qYixvdXRbMl09YVsyXSpiLG91dH1mdW5jdGlvbiBzY2FsZUFuZEFkZChvdXQsYSxiLHNjYWxlKXtyZXR1cm4gb3V0WzBdPWFbMF0rYlswXSpzY2FsZSxvdXRbMV09YVsxXStiWzFdKnNjYWxlLG91dFsyXT1hWzJdK2JbMl0qc2NhbGUsb3V0fWZ1bmN0aW9uIGRpc3RhbmNlKGEsYil7dmFyIHg9YlswXS1hWzBdLHk9YlsxXS1hWzFdLHo9YlsyXS1hWzJdO3JldHVybiBNYXRoLnNxcnQoeCp4K3kqeSt6KnopfWZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZShhLGIpe3ZhciB4PWJbMF0tYVswXSx5PWJbMV0tYVsxXSx6PWJbMl0tYVsyXTtyZXR1cm4geCp4K3kqeSt6Knp9ZnVuY3Rpb24gc3F1YXJlZExlbmd0aChhKXt2YXIgeD1hWzBdLHk9YVsxXSx6PWFbMl07cmV0dXJuIHgqeCt5Knkreip6fWZ1bmN0aW9uIG5lZ2F0ZShvdXQsYSl7cmV0dXJuIG91dFswXT0tYVswXSxvdXRbMV09LWFbMV0sb3V0WzJdPS1hWzJdLG91dH1mdW5jdGlvbiBpbnZlcnNlKG91dCxhKXtyZXR1cm4gb3V0WzBdPTEvYVswXSxvdXRbMV09MS9hWzFdLG91dFsyXT0xL2FbMl0sb3V0fWZ1bmN0aW9uIG5vcm1hbGl6ZShvdXQsYSl7dmFyIHg9YVswXSx5PWFbMV0sej1hWzJdLGxlbj14KngreSp5K3oqejtyZXR1cm4gbGVuPjAmJihsZW49MS9NYXRoLnNxcnQobGVuKSxvdXRbMF09YVswXSpsZW4sb3V0WzFdPWFbMV0qbGVuLG91dFsyXT1hWzJdKmxlbiksb3V0fWZ1bmN0aW9uIGRvdChhLGIpe3JldHVybiBhWzBdKmJbMF0rYVsxXSpiWzFdK2FbMl0qYlsyXX1mdW5jdGlvbiBjcm9zcyhvdXQsYSxiKXt2YXIgYXg9YVswXSxheT1hWzFdLGF6PWFbMl0sYng9YlswXSxieT1iWzFdLGJ6PWJbMl07cmV0dXJuIG91dFswXT1heSpiei1heipieSxvdXRbMV09YXoqYngtYXgqYnosb3V0WzJdPWF4KmJ5LWF5KmJ4LG91dH1mdW5jdGlvbiBsZXJwKG91dCxhLGIsdCl7dmFyIGF4PWFbMF0sYXk9YVsxXSxhej1hWzJdO3JldHVybiBvdXRbMF09YXgrdCooYlswXS1heCksb3V0WzFdPWF5K3QqKGJbMV0tYXkpLG91dFsyXT1heit0KihiWzJdLWF6KSxvdXR9ZnVuY3Rpb24gaGVybWl0ZShvdXQsYSxiLGMsZCx0KXt2YXIgZmFjdG9yVGltZXMyPXQqdCxmYWN0b3IxPWZhY3RvclRpbWVzMiooMip0LTMpKzEsZmFjdG9yMj1mYWN0b3JUaW1lczIqKHQtMikrdCxmYWN0b3IzPWZhY3RvclRpbWVzMioodC0xKSxmYWN0b3I0PWZhY3RvclRpbWVzMiooMy0yKnQpO3JldHVybiBvdXRbMF09YVswXSpmYWN0b3IxK2JbMF0qZmFjdG9yMitjWzBdKmZhY3RvcjMrZFswXSpmYWN0b3I0LG91dFsxXT1hWzFdKmZhY3RvcjErYlsxXSpmYWN0b3IyK2NbMV0qZmFjdG9yMytkWzFdKmZhY3RvcjQsb3V0WzJdPWFbMl0qZmFjdG9yMStiWzJdKmZhY3RvcjIrY1syXSpmYWN0b3IzK2RbMl0qZmFjdG9yNCxvdXR9ZnVuY3Rpb24gYmV6aWVyKG91dCxhLGIsYyxkLHQpe3ZhciBpbnZlcnNlRmFjdG9yPTEtdCxpbnZlcnNlRmFjdG9yVGltZXNUd289aW52ZXJzZUZhY3RvcippbnZlcnNlRmFjdG9yLGZhY3RvclRpbWVzMj10KnQsZmFjdG9yMT1pbnZlcnNlRmFjdG9yVGltZXNUd28qaW52ZXJzZUZhY3RvcixmYWN0b3IyPTMqdCppbnZlcnNlRmFjdG9yVGltZXNUd28sZmFjdG9yMz0zKmZhY3RvclRpbWVzMippbnZlcnNlRmFjdG9yLGZhY3RvcjQ9ZmFjdG9yVGltZXMyKnQ7cmV0dXJuIG91dFswXT1hWzBdKmZhY3RvcjErYlswXSpmYWN0b3IyK2NbMF0qZmFjdG9yMytkWzBdKmZhY3RvcjQsb3V0WzFdPWFbMV0qZmFjdG9yMStiWzFdKmZhY3RvcjIrY1sxXSpmYWN0b3IzK2RbMV0qZmFjdG9yNCxvdXRbMl09YVsyXSpmYWN0b3IxK2JbMl0qZmFjdG9yMitjWzJdKmZhY3RvcjMrZFsyXSpmYWN0b3I0LG91dH1mdW5jdGlvbiByYW5kb20ob3V0LHNjYWxlKXtzY2FsZT1zY2FsZXx8MTt2YXIgcj0yKmdsTWF0cml4LlJBTkRPTSgpKk1hdGguUEksej0yKmdsTWF0cml4LlJBTkRPTSgpLTEselNjYWxlPU1hdGguc3FydCgxLXoqeikqc2NhbGU7cmV0dXJuIG91dFswXT1NYXRoLmNvcyhyKSp6U2NhbGUsb3V0WzFdPU1hdGguc2luKHIpKnpTY2FsZSxvdXRbMl09eipzY2FsZSxvdXR9ZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsYSxtKXt2YXIgeD1hWzBdLHk9YVsxXSx6PWFbMl0sdz1tWzNdKngrbVs3XSp5K21bMTFdKnorbVsxNV07cmV0dXJuIHc9d3x8MSxvdXRbMF09KG1bMF0qeCttWzRdKnkrbVs4XSp6K21bMTJdKS93LG91dFsxXT0obVsxXSp4K21bNV0qeSttWzldKnorbVsxM10pL3csb3V0WzJdPShtWzJdKngrbVs2XSp5K21bMTBdKnorbVsxNF0pL3csb3V0fWZ1bmN0aW9uIHRyYW5zZm9ybU1hdDMob3V0LGEsbSl7dmFyIHg9YVswXSx5PWFbMV0sej1hWzJdO3JldHVybiBvdXRbMF09eCptWzBdK3kqbVszXSt6Km1bNl0sb3V0WzFdPXgqbVsxXSt5Km1bNF0reiptWzddLG91dFsyXT14Km1bMl0reSptWzVdK3oqbVs4XSxvdXR9ZnVuY3Rpb24gdHJhbnNmb3JtUXVhdChvdXQsYSxxKXt2YXIgeD1hWzBdLHk9YVsxXSx6PWFbMl0scXg9cVswXSxxeT1xWzFdLHF6PXFbMl0scXc9cVszXSxpeD1xdyp4K3F5KnotcXoqeSxpeT1xdyp5K3F6KngtcXgqeixpej1xdyp6K3F4KnktcXkqeCxpdz0tcXgqeC1xeSp5LXF6Kno7cmV0dXJuIG91dFswXT1peCpxdytpdyotcXgraXkqLXF6LWl6Ki1xeSxvdXRbMV09aXkqcXcraXcqLXF5K2l6Ki1xeC1peCotcXosb3V0WzJdPWl6KnF3K2l3Ki1xeitpeCotcXktaXkqLXF4LG91dH1mdW5jdGlvbiByb3RhdGVYKG91dCxhLGIsYyl7dmFyIHA9W10scj1bXTtyZXR1cm4gcFswXT1hWzBdLWJbMF0scFsxXT1hWzFdLWJbMV0scFsyXT1hWzJdLWJbMl0sclswXT1wWzBdLHJbMV09cFsxXSpNYXRoLmNvcyhjKS1wWzJdKk1hdGguc2luKGMpLHJbMl09cFsxXSpNYXRoLnNpbihjKStwWzJdKk1hdGguY29zKGMpLG91dFswXT1yWzBdK2JbMF0sb3V0WzFdPXJbMV0rYlsxXSxvdXRbMl09clsyXStiWzJdLG91dH1mdW5jdGlvbiByb3RhdGVZKG91dCxhLGIsYyl7dmFyIHA9W10scj1bXTtyZXR1cm4gcFswXT1hWzBdLWJbMF0scFsxXT1hWzFdLWJbMV0scFsyXT1hWzJdLWJbMl0sclswXT1wWzJdKk1hdGguc2luKGMpK3BbMF0qTWF0aC5jb3MoYyksclsxXT1wWzFdLHJbMl09cFsyXSpNYXRoLmNvcyhjKS1wWzBdKk1hdGguc2luKGMpLG91dFswXT1yWzBdK2JbMF0sb3V0WzFdPXJbMV0rYlsxXSxvdXRbMl09clsyXStiWzJdLG91dH1mdW5jdGlvbiByb3RhdGVaKG91dCxhLGIsYyl7dmFyIHA9W10scj1bXTtyZXR1cm4gcFswXT1hWzBdLWJbMF0scFsxXT1hWzFdLWJbMV0scFsyXT1hWzJdLWJbMl0sclswXT1wWzBdKk1hdGguY29zKGMpLXBbMV0qTWF0aC5zaW4oYyksclsxXT1wWzBdKk1hdGguc2luKGMpK3BbMV0qTWF0aC5jb3MoYyksclsyXT1wWzJdLG91dFswXT1yWzBdK2JbMF0sb3V0WzFdPXJbMV0rYlsxXSxvdXRbMl09clsyXStiWzJdLG91dH1mdW5jdGlvbiBhbmdsZShhLGIpe3ZhciB0ZW1wQT1mcm9tVmFsdWVzKGFbMF0sYVsxXSxhWzJdKSx0ZW1wQj1mcm9tVmFsdWVzKGJbMF0sYlsxXSxiWzJdKTtub3JtYWxpemUodGVtcEEsdGVtcEEpLG5vcm1hbGl6ZSh0ZW1wQix0ZW1wQik7dmFyIGNvc2luZT1kb3QodGVtcEEsdGVtcEIpO3JldHVybiBjb3NpbmU+MT8wOmNvc2luZTwtMT9NYXRoLlBJOk1hdGguYWNvcyhjb3NpbmUpfWZ1bmN0aW9uIHN0cihhKXtyZXR1cm5cInZlYzMoXCIrYVswXStcIiwgXCIrYVsxXStcIiwgXCIrYVsyXStcIilcIn1mdW5jdGlvbiBleGFjdEVxdWFscyhhLGIpe3JldHVybiBhWzBdPT09YlswXSYmYVsxXT09PWJbMV0mJmFbMl09PT1iWzJdfWZ1bmN0aW9uIGVxdWFscyhhLGIpe3ZhciBhMD1hWzBdLGExPWFbMV0sYTI9YVsyXSxiMD1iWzBdLGIxPWJbMV0sYjI9YlsyXTtyZXR1cm4gTWF0aC5hYnMoYTAtYjApPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTApLE1hdGguYWJzKGIwKSkmJk1hdGguYWJzKGExLWIxKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGExKSxNYXRoLmFicyhiMSkpJiZNYXRoLmFicyhhMi1iMik8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMiksTWF0aC5hYnMoYjIpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmZvckVhY2g9ZXhwb3J0cy5zcXJMZW49ZXhwb3J0cy5sZW49ZXhwb3J0cy5zcXJEaXN0PWV4cG9ydHMuZGlzdD1leHBvcnRzLmRpdj1leHBvcnRzLm11bD1leHBvcnRzLnN1Yj12b2lkIDAsZXhwb3J0cy5jcmVhdGU9Y3JlYXRlLGV4cG9ydHMuY2xvbmU9Y2xvbmUsZXhwb3J0cy5sZW5ndGg9bGVuZ3RoLGV4cG9ydHMuZnJvbVZhbHVlcz1mcm9tVmFsdWVzLGV4cG9ydHMuY29weT1jb3B5LGV4cG9ydHMuc2V0PXNldCxleHBvcnRzLmFkZD1hZGQsZXhwb3J0cy5zdWJ0cmFjdD1zdWJ0cmFjdCxleHBvcnRzLm11bHRpcGx5PW11bHRpcGx5LGV4cG9ydHMuZGl2aWRlPWRpdmlkZSxleHBvcnRzLmNlaWw9Y2VpbCxleHBvcnRzLmZsb29yPWZsb29yLGV4cG9ydHMubWluPW1pbixleHBvcnRzLm1heD1tYXgsZXhwb3J0cy5yb3VuZD1yb3VuZCxleHBvcnRzLnNjYWxlPXNjYWxlLGV4cG9ydHMuc2NhbGVBbmRBZGQ9c2NhbGVBbmRBZGQsZXhwb3J0cy5kaXN0YW5jZT1kaXN0YW5jZSxleHBvcnRzLnNxdWFyZWREaXN0YW5jZT1zcXVhcmVkRGlzdGFuY2UsZXhwb3J0cy5zcXVhcmVkTGVuZ3RoPXNxdWFyZWRMZW5ndGgsZXhwb3J0cy5uZWdhdGU9bmVnYXRlLGV4cG9ydHMuaW52ZXJzZT1pbnZlcnNlLGV4cG9ydHMubm9ybWFsaXplPW5vcm1hbGl6ZSxleHBvcnRzLmRvdD1kb3QsZXhwb3J0cy5jcm9zcz1jcm9zcyxleHBvcnRzLmxlcnA9bGVycCxleHBvcnRzLmhlcm1pdGU9aGVybWl0ZSxleHBvcnRzLmJlemllcj1iZXppZXIsZXhwb3J0cy5yYW5kb209cmFuZG9tLGV4cG9ydHMudHJhbnNmb3JtTWF0ND10cmFuc2Zvcm1NYXQ0LGV4cG9ydHMudHJhbnNmb3JtTWF0Mz10cmFuc2Zvcm1NYXQzLGV4cG9ydHMudHJhbnNmb3JtUXVhdD10cmFuc2Zvcm1RdWF0LGV4cG9ydHMucm90YXRlWD1yb3RhdGVYLGV4cG9ydHMucm90YXRlWT1yb3RhdGVZLGV4cG9ydHMucm90YXRlWj1yb3RhdGVaLGV4cG9ydHMuYW5nbGU9YW5nbGUsZXhwb3J0cy5zdHI9c3RyLGV4cG9ydHMuZXhhY3RFcXVhbHM9ZXhhY3RFcXVhbHMsZXhwb3J0cy5lcXVhbHM9ZXF1YWxzO3ZhciBfY29tbW9uPV9fd2VicGFja19yZXF1aXJlX18oMyksZ2xNYXRyaXg9ZnVuY3Rpb24ob2JqKXtpZihvYmomJm9iai5fX2VzTW9kdWxlKXJldHVybiBvYmo7dmFyIG5ld09iaj17fTtpZihudWxsIT1vYmopZm9yKHZhciBrZXkgaW4gb2JqKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosa2V5KSYmKG5ld09ialtrZXldPW9ialtrZXldKTtyZXR1cm4gbmV3T2JqLmRlZmF1bHQ9b2JqLG5ld09ian0oX2NvbW1vbik7ZXhwb3J0cy5zdWI9c3VidHJhY3QsZXhwb3J0cy5tdWw9bXVsdGlwbHksZXhwb3J0cy5kaXY9ZGl2aWRlLGV4cG9ydHMuZGlzdD1kaXN0YW5jZSxleHBvcnRzLnNxckRpc3Q9c3F1YXJlZERpc3RhbmNlLGV4cG9ydHMubGVuPWxlbmd0aCxleHBvcnRzLnNxckxlbj1zcXVhcmVkTGVuZ3RoLGV4cG9ydHMuZm9yRWFjaD1mdW5jdGlvbigpe3ZhciB2ZWM9Y3JlYXRlKCk7cmV0dXJuIGZ1bmN0aW9uKGEsc3RyaWRlLG9mZnNldCxjb3VudCxmbixhcmcpe3ZhciBpPXZvaWQgMCxsPXZvaWQgMDtmb3Ioc3RyaWRlfHwoc3RyaWRlPTMpLG9mZnNldHx8KG9mZnNldD0wKSxsPWNvdW50P01hdGgubWluKGNvdW50KnN0cmlkZStvZmZzZXQsYS5sZW5ndGgpOmEubGVuZ3RoLGk9b2Zmc2V0O2k8bDtpKz1zdHJpZGUpdmVjWzBdPWFbaV0sdmVjWzFdPWFbaSsxXSx2ZWNbMl09YVtpKzJdLGZuKHZlYyx2ZWMsYXJnKSxhW2ldPXZlY1swXSxhW2krMV09dmVjWzFdLGFbaSsyXT12ZWNbMl07cmV0dXJuIGF9fSgpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBjcmVhdGUoKXt2YXIgb3V0PW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO3JldHVybiBvdXRbMF09MCxvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MCxvdXR9ZnVuY3Rpb24gY2xvbmUoYSl7dmFyIG91dD1uZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtyZXR1cm4gb3V0WzBdPWFbMF0sb3V0WzFdPWFbMV0sb3V0WzJdPWFbMl0sb3V0WzNdPWFbM10sb3V0fWZ1bmN0aW9uIGZyb21WYWx1ZXMoeCx5LHosdyl7dmFyIG91dD1uZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtyZXR1cm4gb3V0WzBdPXgsb3V0WzFdPXksb3V0WzJdPXosb3V0WzNdPXcsb3V0fWZ1bmN0aW9uIGNvcHkob3V0LGEpe3JldHVybiBvdXRbMF09YVswXSxvdXRbMV09YVsxXSxvdXRbMl09YVsyXSxvdXRbM109YVszXSxvdXR9ZnVuY3Rpb24gc2V0KG91dCx4LHkseix3KXtyZXR1cm4gb3V0WzBdPXgsb3V0WzFdPXksb3V0WzJdPXosb3V0WzNdPXcsb3V0fWZ1bmN0aW9uIGFkZChvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0rYlswXSxvdXRbMV09YVsxXStiWzFdLG91dFsyXT1hWzJdK2JbMl0sb3V0WzNdPWFbM10rYlszXSxvdXR9ZnVuY3Rpb24gc3VidHJhY3Qob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdLWJbMF0sb3V0WzFdPWFbMV0tYlsxXSxvdXRbMl09YVsyXS1iWzJdLG91dFszXT1hWzNdLWJbM10sb3V0fWZ1bmN0aW9uIG11bHRpcGx5KG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXSpiWzBdLG91dFsxXT1hWzFdKmJbMV0sb3V0WzJdPWFbMl0qYlsyXSxvdXRbM109YVszXSpiWzNdLG91dH1mdW5jdGlvbiBkaXZpZGUob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdL2JbMF0sb3V0WzFdPWFbMV0vYlsxXSxvdXRbMl09YVsyXS9iWzJdLG91dFszXT1hWzNdL2JbM10sb3V0fWZ1bmN0aW9uIGNlaWwob3V0LGEpe3JldHVybiBvdXRbMF09TWF0aC5jZWlsKGFbMF0pLG91dFsxXT1NYXRoLmNlaWwoYVsxXSksb3V0WzJdPU1hdGguY2VpbChhWzJdKSxvdXRbM109TWF0aC5jZWlsKGFbM10pLG91dH1mdW5jdGlvbiBmbG9vcihvdXQsYSl7cmV0dXJuIG91dFswXT1NYXRoLmZsb29yKGFbMF0pLG91dFsxXT1NYXRoLmZsb29yKGFbMV0pLG91dFsyXT1NYXRoLmZsb29yKGFbMl0pLG91dFszXT1NYXRoLmZsb29yKGFbM10pLG91dH1mdW5jdGlvbiBtaW4ob3V0LGEsYil7cmV0dXJuIG91dFswXT1NYXRoLm1pbihhWzBdLGJbMF0pLG91dFsxXT1NYXRoLm1pbihhWzFdLGJbMV0pLG91dFsyXT1NYXRoLm1pbihhWzJdLGJbMl0pLG91dFszXT1NYXRoLm1pbihhWzNdLGJbM10pLG91dH1mdW5jdGlvbiBtYXgob3V0LGEsYil7cmV0dXJuIG91dFswXT1NYXRoLm1heChhWzBdLGJbMF0pLG91dFsxXT1NYXRoLm1heChhWzFdLGJbMV0pLG91dFsyXT1NYXRoLm1heChhWzJdLGJbMl0pLG91dFszXT1NYXRoLm1heChhWzNdLGJbM10pLG91dH1mdW5jdGlvbiByb3VuZChvdXQsYSl7cmV0dXJuIG91dFswXT1NYXRoLnJvdW5kKGFbMF0pLG91dFsxXT1NYXRoLnJvdW5kKGFbMV0pLG91dFsyXT1NYXRoLnJvdW5kKGFbMl0pLG91dFszXT1NYXRoLnJvdW5kKGFbM10pLG91dH1mdW5jdGlvbiBzY2FsZShvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0qYixvdXRbMV09YVsxXSpiLG91dFsyXT1hWzJdKmIsb3V0WzNdPWFbM10qYixvdXR9ZnVuY3Rpb24gc2NhbGVBbmRBZGQob3V0LGEsYixzY2FsZSl7cmV0dXJuIG91dFswXT1hWzBdK2JbMF0qc2NhbGUsb3V0WzFdPWFbMV0rYlsxXSpzY2FsZSxvdXRbMl09YVsyXStiWzJdKnNjYWxlLG91dFszXT1hWzNdK2JbM10qc2NhbGUsb3V0fWZ1bmN0aW9uIGRpc3RhbmNlKGEsYil7dmFyIHg9YlswXS1hWzBdLHk9YlsxXS1hWzFdLHo9YlsyXS1hWzJdLHc9YlszXS1hWzNdO3JldHVybiBNYXRoLnNxcnQoeCp4K3kqeSt6Knordyp3KX1mdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoYSxiKXt2YXIgeD1iWzBdLWFbMF0seT1iWzFdLWFbMV0sej1iWzJdLWFbMl0sdz1iWzNdLWFbM107cmV0dXJuIHgqeCt5Knkreip6K3cqd31mdW5jdGlvbiBsZW5ndGgoYSl7dmFyIHg9YVswXSx5PWFbMV0sej1hWzJdLHc9YVszXTtyZXR1cm4gTWF0aC5zcXJ0KHgqeCt5Knkreip6K3cqdyl9ZnVuY3Rpb24gc3F1YXJlZExlbmd0aChhKXt2YXIgeD1hWzBdLHk9YVsxXSx6PWFbMl0sdz1hWzNdO3JldHVybiB4KngreSp5K3oqeit3Knd9ZnVuY3Rpb24gbmVnYXRlKG91dCxhKXtyZXR1cm4gb3V0WzBdPS1hWzBdLG91dFsxXT0tYVsxXSxvdXRbMl09LWFbMl0sb3V0WzNdPS1hWzNdLG91dH1mdW5jdGlvbiBpbnZlcnNlKG91dCxhKXtyZXR1cm4gb3V0WzBdPTEvYVswXSxvdXRbMV09MS9hWzFdLG91dFsyXT0xL2FbMl0sb3V0WzNdPTEvYVszXSxvdXR9ZnVuY3Rpb24gbm9ybWFsaXplKG91dCxhKXt2YXIgeD1hWzBdLHk9YVsxXSx6PWFbMl0sdz1hWzNdLGxlbj14KngreSp5K3oqeit3Knc7cmV0dXJuIGxlbj4wJiYobGVuPTEvTWF0aC5zcXJ0KGxlbiksb3V0WzBdPXgqbGVuLG91dFsxXT15KmxlbixvdXRbMl09eipsZW4sb3V0WzNdPXcqbGVuKSxvdXR9ZnVuY3Rpb24gZG90KGEsYil7cmV0dXJuIGFbMF0qYlswXSthWzFdKmJbMV0rYVsyXSpiWzJdK2FbM10qYlszXX1mdW5jdGlvbiBsZXJwKG91dCxhLGIsdCl7dmFyIGF4PWFbMF0sYXk9YVsxXSxhej1hWzJdLGF3PWFbM107cmV0dXJuIG91dFswXT1heCt0KihiWzBdLWF4KSxvdXRbMV09YXkrdCooYlsxXS1heSksb3V0WzJdPWF6K3QqKGJbMl0tYXopLG91dFszXT1hdyt0KihiWzNdLWF3KSxvdXR9ZnVuY3Rpb24gcmFuZG9tKG91dCx2ZWN0b3JTY2FsZSl7cmV0dXJuIHZlY3RvclNjYWxlPXZlY3RvclNjYWxlfHwxLG91dFswXT1nbE1hdHJpeC5SQU5ET00oKSxvdXRbMV09Z2xNYXRyaXguUkFORE9NKCksb3V0WzJdPWdsTWF0cml4LlJBTkRPTSgpLG91dFszXT1nbE1hdHJpeC5SQU5ET00oKSxub3JtYWxpemUob3V0LG91dCksc2NhbGUob3V0LG91dCx2ZWN0b3JTY2FsZSksb3V0fWZ1bmN0aW9uIHRyYW5zZm9ybU1hdDQob3V0LGEsbSl7dmFyIHg9YVswXSx5PWFbMV0sej1hWzJdLHc9YVszXTtyZXR1cm4gb3V0WzBdPW1bMF0qeCttWzRdKnkrbVs4XSp6K21bMTJdKncsb3V0WzFdPW1bMV0qeCttWzVdKnkrbVs5XSp6K21bMTNdKncsb3V0WzJdPW1bMl0qeCttWzZdKnkrbVsxMF0qeittWzE0XSp3LG91dFszXT1tWzNdKngrbVs3XSp5K21bMTFdKnorbVsxNV0qdyxvdXR9ZnVuY3Rpb24gdHJhbnNmb3JtUXVhdChvdXQsYSxxKXt2YXIgeD1hWzBdLHk9YVsxXSx6PWFbMl0scXg9cVswXSxxeT1xWzFdLHF6PXFbMl0scXc9cVszXSxpeD1xdyp4K3F5KnotcXoqeSxpeT1xdyp5K3F6KngtcXgqeixpej1xdyp6K3F4KnktcXkqeCxpdz0tcXgqeC1xeSp5LXF6Kno7cmV0dXJuIG91dFswXT1peCpxdytpdyotcXgraXkqLXF6LWl6Ki1xeSxvdXRbMV09aXkqcXcraXcqLXF5K2l6Ki1xeC1peCotcXosb3V0WzJdPWl6KnF3K2l3Ki1xeitpeCotcXktaXkqLXF4LG91dFszXT1hWzNdLG91dH1mdW5jdGlvbiBzdHIoYSl7cmV0dXJuXCJ2ZWM0KFwiK2FbMF0rXCIsIFwiK2FbMV0rXCIsIFwiK2FbMl0rXCIsIFwiK2FbM10rXCIpXCJ9ZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSxiKXtyZXR1cm4gYVswXT09PWJbMF0mJmFbMV09PT1iWzFdJiZhWzJdPT09YlsyXSYmYVszXT09PWJbM119ZnVuY3Rpb24gZXF1YWxzKGEsYil7dmFyIGEwPWFbMF0sYTE9YVsxXSxhMj1hWzJdLGEzPWFbM10sYjA9YlswXSxiMT1iWzFdLGIyPWJbMl0sYjM9YlszXTtyZXR1cm4gTWF0aC5hYnMoYTAtYjApPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTApLE1hdGguYWJzKGIwKSkmJk1hdGguYWJzKGExLWIxKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGExKSxNYXRoLmFicyhiMSkpJiZNYXRoLmFicyhhMi1iMik8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMiksTWF0aC5hYnMoYjIpKSYmTWF0aC5hYnMoYTMtYjMpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTMpLE1hdGguYWJzKGIzKSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5mb3JFYWNoPWV4cG9ydHMuc3FyTGVuPWV4cG9ydHMubGVuPWV4cG9ydHMuc3FyRGlzdD1leHBvcnRzLmRpc3Q9ZXhwb3J0cy5kaXY9ZXhwb3J0cy5tdWw9ZXhwb3J0cy5zdWI9dm9pZCAwLGV4cG9ydHMuY3JlYXRlPWNyZWF0ZSxleHBvcnRzLmNsb25lPWNsb25lLGV4cG9ydHMuZnJvbVZhbHVlcz1mcm9tVmFsdWVzLGV4cG9ydHMuY29weT1jb3B5LGV4cG9ydHMuc2V0PXNldCxleHBvcnRzLmFkZD1hZGQsZXhwb3J0cy5zdWJ0cmFjdD1zdWJ0cmFjdCxleHBvcnRzLm11bHRpcGx5PW11bHRpcGx5LGV4cG9ydHMuZGl2aWRlPWRpdmlkZSxleHBvcnRzLmNlaWw9Y2VpbCxleHBvcnRzLmZsb29yPWZsb29yLGV4cG9ydHMubWluPW1pbixleHBvcnRzLm1heD1tYXgsZXhwb3J0cy5yb3VuZD1yb3VuZCxleHBvcnRzLnNjYWxlPXNjYWxlLGV4cG9ydHMuc2NhbGVBbmRBZGQ9c2NhbGVBbmRBZGQsZXhwb3J0cy5kaXN0YW5jZT1kaXN0YW5jZSxleHBvcnRzLnNxdWFyZWREaXN0YW5jZT1zcXVhcmVkRGlzdGFuY2UsZXhwb3J0cy5sZW5ndGg9bGVuZ3RoLGV4cG9ydHMuc3F1YXJlZExlbmd0aD1zcXVhcmVkTGVuZ3RoLGV4cG9ydHMubmVnYXRlPW5lZ2F0ZSxleHBvcnRzLmludmVyc2U9aW52ZXJzZSxleHBvcnRzLm5vcm1hbGl6ZT1ub3JtYWxpemUsZXhwb3J0cy5kb3Q9ZG90LGV4cG9ydHMubGVycD1sZXJwLGV4cG9ydHMucmFuZG9tPXJhbmRvbSxleHBvcnRzLnRyYW5zZm9ybU1hdDQ9dHJhbnNmb3JtTWF0NCxleHBvcnRzLnRyYW5zZm9ybVF1YXQ9dHJhbnNmb3JtUXVhdCxleHBvcnRzLnN0cj1zdHIsZXhwb3J0cy5leGFjdEVxdWFscz1leGFjdEVxdWFscyxleHBvcnRzLmVxdWFscz1lcXVhbHM7dmFyIF9jb21tb249X193ZWJwYWNrX3JlcXVpcmVfXygzKSxnbE1hdHJpeD1mdW5jdGlvbihvYmope2lmKG9iaiYmb2JqLl9fZXNNb2R1bGUpcmV0dXJuIG9iajt2YXIgbmV3T2JqPXt9O2lmKG51bGwhPW9iailmb3IodmFyIGtleSBpbiBvYmopT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaixrZXkpJiYobmV3T2JqW2tleV09b2JqW2tleV0pO3JldHVybiBuZXdPYmouZGVmYXVsdD1vYmosbmV3T2JqfShfY29tbW9uKTtleHBvcnRzLnN1Yj1zdWJ0cmFjdCxleHBvcnRzLm11bD1tdWx0aXBseSxleHBvcnRzLmRpdj1kaXZpZGUsZXhwb3J0cy5kaXN0PWRpc3RhbmNlLGV4cG9ydHMuc3FyRGlzdD1zcXVhcmVkRGlzdGFuY2UsZXhwb3J0cy5sZW49bGVuZ3RoLGV4cG9ydHMuc3FyTGVuPXNxdWFyZWRMZW5ndGgsZXhwb3J0cy5mb3JFYWNoPWZ1bmN0aW9uKCl7dmFyIHZlYz1jcmVhdGUoKTtyZXR1cm4gZnVuY3Rpb24oYSxzdHJpZGUsb2Zmc2V0LGNvdW50LGZuLGFyZyl7dmFyIGk9dm9pZCAwLGw9dm9pZCAwO2ZvcihzdHJpZGV8fChzdHJpZGU9NCksb2Zmc2V0fHwob2Zmc2V0PTApLGw9Y291bnQ/TWF0aC5taW4oY291bnQqc3RyaWRlK29mZnNldCxhLmxlbmd0aCk6YS5sZW5ndGgsaT1vZmZzZXQ7aTxsO2krPXN0cmlkZSl2ZWNbMF09YVtpXSx2ZWNbMV09YVtpKzFdLHZlY1syXT1hW2krMl0sdmVjWzNdPWFbaSszXSxmbih2ZWMsdmVjLGFyZyksYVtpXT12ZWNbMF0sYVtpKzFdPXZlY1sxXSxhW2krMl09dmVjWzJdLGFbaSszXT12ZWNbM107cmV0dXJuIGF9fSgpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjttb2R1bGUuZXhwb3J0cz17QUNUSVZFX0FUVFJJQlVURVM6MzU3MjEsQUNUSVZFX0FUVFJJQlVURV9NQVhfTEVOR1RIOjM1NzIyLEFDVElWRV9URVhUVVJFOjM0MDE2LEFDVElWRV9VTklGT1JNUzozNTcxOCxBQ1RJVkVfVU5JRk9STV9NQVhfTEVOR1RIOjM1NzE5LEFMSUFTRURfTElORV9XSURUSF9SQU5HRTozMzkwMixBTElBU0VEX1BPSU5UX1NJWkVfUkFOR0U6MzM5MDEsQUxQSEE6NjQwNixBTFBIQV9CSVRTOjM0MTMsQUxXQVlTOjUxOSxBUlJBWV9CVUZGRVI6MzQ5NjIsQVJSQVlfQlVGRkVSX0JJTkRJTkc6MzQ5NjQsQVRUQUNIRURfU0hBREVSUzozNTcxNyxCQUNLOjEwMjksQkxFTkQ6MzA0MixCTEVORF9DT0xPUjozMjc3MyxCTEVORF9EU1RfQUxQSEE6MzI5NzAsQkxFTkRfRFNUX1JHQjozMjk2OCxCTEVORF9FUVVBVElPTjozMjc3NyxCTEVORF9FUVVBVElPTl9BTFBIQTozNDg3NyxCTEVORF9FUVVBVElPTl9SR0I6MzI3NzcsQkxFTkRfU1JDX0FMUEhBOjMyOTcxLEJMRU5EX1NSQ19SR0I6MzI5NjksQkxVRV9CSVRTOjM0MTIsQk9PTDozNTY3MCxCT09MX1ZFQzI6MzU2NzEsQk9PTF9WRUMzOjM1NjcyLEJPT0xfVkVDNDozNTY3MyxCUk9XU0VSX0RFRkFVTFRfV0VCR0w6Mzc0NDQsQlVGRkVSX1NJWkU6MzQ2NjAsQlVGRkVSX1VTQUdFOjM0NjYxLEJZVEU6NTEyMCxDQ1c6MjMwNSxDTEFNUF9UT19FREdFOjMzMDcxLENPTE9SX0FUVEFDSE1FTlQwOjM2MDY0LENPTE9SX0JVRkZFUl9CSVQ6MTYzODQsQ09MT1JfQ0xFQVJfVkFMVUU6MzEwNixDT0xPUl9XUklURU1BU0s6MzEwNyxDT01QSUxFX1NUQVRVUzozNTcxMyxDT01QUkVTU0VEX1RFWFRVUkVfRk9STUFUUzozNDQ2NyxDT05TVEFOVF9BTFBIQTozMjc3MSxDT05TVEFOVF9DT0xPUjozMjc2OSxDT05URVhUX0xPU1RfV0VCR0w6Mzc0NDIsQ1VMTF9GQUNFOjI4ODQsQ1VMTF9GQUNFX01PREU6Mjg4NSxDVVJSRU5UX1BST0dSQU06MzU3MjUsQ1VSUkVOVF9WRVJURVhfQVRUUklCOjM0MzQyLENXOjIzMDQsREVDUjo3NjgzLERFQ1JfV1JBUDozNDA1NixERUxFVEVfU1RBVFVTOjM1NzEyLERFUFRIX0FUVEFDSE1FTlQ6MzYwOTYsREVQVEhfQklUUzozNDE0LERFUFRIX0JVRkZFUl9CSVQ6MjU2LERFUFRIX0NMRUFSX1ZBTFVFOjI5MzEsREVQVEhfQ09NUE9ORU5UOjY0MDIsUkVEOjY0MDMsREVQVEhfQ09NUE9ORU5UMTY6MzMxODksREVQVEhfRlVOQzoyOTMyLERFUFRIX1JBTkdFOjI5MjgsREVQVEhfU1RFTkNJTDozNDA0MSxERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQ6MzMzMDYsREVQVEhfVEVTVDoyOTI5LERFUFRIX1dSSVRFTUFTSzoyOTMwLERJVEhFUjozMDI0LERPTlRfQ0FSRTo0MzUyLERTVF9BTFBIQTo3NzIsRFNUX0NPTE9SOjc3NCxEWU5BTUlDX0RSQVc6MzUwNDgsRUxFTUVOVF9BUlJBWV9CVUZGRVI6MzQ5NjMsRUxFTUVOVF9BUlJBWV9CVUZGRVJfQklORElORzozNDk2NSxFUVVBTDo1MTQsRkFTVEVTVDo0MzUzLEZMT0FUOjUxMjYsRkxPQVRfTUFUMjozNTY3NCxGTE9BVF9NQVQzOjM1Njc1LEZMT0FUX01BVDQ6MzU2NzYsRkxPQVRfVkVDMjozNTY2NCxGTE9BVF9WRUMzOjM1NjY1LEZMT0FUX1ZFQzQ6MzU2NjYsRlJBR01FTlRfU0hBREVSOjM1NjMyLEZSQU1FQlVGRkVSOjM2MTYwLEZSQU1FQlVGRkVSX0FUVEFDSE1FTlRfT0JKRUNUX05BTUU6MzYwNDksRlJBTUVCVUZGRVJfQVRUQUNITUVOVF9PQkpFQ1RfVFlQRTozNjA0OCxGUkFNRUJVRkZFUl9BVFRBQ0hNRU5UX1RFWFRVUkVfQ1VCRV9NQVBfRkFDRTozNjA1MSxGUkFNRUJVRkZFUl9BVFRBQ0hNRU5UX1RFWFRVUkVfTEVWRUw6MzYwNTAsRlJBTUVCVUZGRVJfQklORElORzozNjAwNixGUkFNRUJVRkZFUl9DT01QTEVURTozNjA1MyxGUkFNRUJVRkZFUl9JTkNPTVBMRVRFX0FUVEFDSE1FTlQ6MzYwNTQsRlJBTUVCVUZGRVJfSU5DT01QTEVURV9ESU1FTlNJT05TOjM2MDU3LEZSQU1FQlVGRkVSX0lOQ09NUExFVEVfTUlTU0lOR19BVFRBQ0hNRU5UOjM2MDU1LEZSQU1FQlVGRkVSX1VOU1VQUE9SVEVEOjM2MDYxLEZST05UOjEwMjgsRlJPTlRfQU5EX0JBQ0s6MTAzMixGUk9OVF9GQUNFOjI4ODYsRlVOQ19BREQ6MzI3NzQsRlVOQ19SRVZFUlNFX1NVQlRSQUNUOjMyNzc5LEZVTkNfU1VCVFJBQ1Q6MzI3NzgsR0VORVJBVEVfTUlQTUFQX0hJTlQ6MzMxNzAsR0VRVUFMOjUxOCxHUkVBVEVSOjUxNixHUkVFTl9CSVRTOjM0MTEsSElHSF9GTE9BVDozNjMzOCxISUdIX0lOVDozNjM0MSxJTkNSOjc2ODIsSU5DUl9XUkFQOjM0MDU1LElORk9fTE9HX0xFTkdUSDozNTcxNixJTlQ6NTEyNCxJTlRfVkVDMjozNTY2NyxJTlRfVkVDMzozNTY2OCxJTlRfVkVDNDozNTY2OSxJTlZBTElEX0VOVU06MTI4MCxJTlZBTElEX0ZSQU1FQlVGRkVSX09QRVJBVElPTjoxMjg2LElOVkFMSURfT1BFUkFUSU9OOjEyODIsSU5WQUxJRF9WQUxVRToxMjgxLElOVkVSVDo1Mzg2LEtFRVA6NzY4MCxMRVFVQUw6NTE1LExFU1M6NTEzLExJTkVBUjo5NzI5LExJTkVBUl9NSVBNQVBfTElORUFSOjk5ODcsTElORUFSX01JUE1BUF9ORUFSRVNUOjk5ODUsTElORVM6MSxMSU5FX0xPT1A6MixMSU5FX1NUUklQOjMsTElORV9XSURUSDoyODQ5LExJTktfU1RBVFVTOjM1NzE0LExPV19GTE9BVDozNjMzNixMT1dfSU5UOjM2MzM5LExVTUlOQU5DRTo2NDA5LExVTUlOQU5DRV9BTFBIQTo2NDEwLE1BWF9DT01CSU5FRF9URVhUVVJFX0lNQUdFX1VOSVRTOjM1NjYxLE1BWF9DVUJFX01BUF9URVhUVVJFX1NJWkU6MzQwNzYsTUFYX0ZSQUdNRU5UX1VOSUZPUk1fVkVDVE9SUzozNjM0OSxNQVhfUkVOREVSQlVGRkVSX1NJWkU6MzQwMjQsTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFM6MzQ5MzAsTUFYX1RFWFRVUkVfU0laRTozMzc5LE1BWF9WQVJZSU5HX1ZFQ1RPUlM6MzYzNDgsTUFYX1ZFUlRFWF9BVFRSSUJTOjM0OTIxLE1BWF9WRVJURVhfVEVYVFVSRV9JTUFHRV9VTklUUzozNTY2MCxNQVhfVkVSVEVYX1VOSUZPUk1fVkVDVE9SUzozNjM0NyxNQVhfVklFV1BPUlRfRElNUzozMzg2LE1FRElVTV9GTE9BVDozNjMzNyxNRURJVU1fSU5UOjM2MzQwLE1JUlJPUkVEX1JFUEVBVDozMzY0OCxORUFSRVNUOjk3MjgsTkVBUkVTVF9NSVBNQVBfTElORUFSOjk5ODYsTkVBUkVTVF9NSVBNQVBfTkVBUkVTVDo5OTg0LE5FVkVSOjUxMixOSUNFU1Q6NDM1NCxOT05FOjAsTk9URVFVQUw6NTE3LE5PX0VSUk9SOjAsTlVNX0NPTVBSRVNTRURfVEVYVFVSRV9GT1JNQVRTOjM0NDY2LE9ORToxLE9ORV9NSU5VU19DT05TVEFOVF9BTFBIQTozMjc3MixPTkVfTUlOVVNfQ09OU1RBTlRfQ09MT1I6MzI3NzAsT05FX01JTlVTX0RTVF9BTFBIQTo3NzMsT05FX01JTlVTX0RTVF9DT0xPUjo3NzUsT05FX01JTlVTX1NSQ19BTFBIQTo3NzEsT05FX01JTlVTX1NSQ19DT0xPUjo3NjksT1VUX09GX01FTU9SWToxMjg1LFBBQ0tfQUxJR05NRU5UOjMzMzMsUE9JTlRTOjAsUE9MWUdPTl9PRkZTRVRfRkFDVE9SOjMyODI0LFBPTFlHT05fT0ZGU0VUX0ZJTEw6MzI4MjMsUE9MWUdPTl9PRkZTRVRfVU5JVFM6MTA3NTIsUkVEX0JJVFM6MzQxMCxSRU5ERVJCVUZGRVI6MzYxNjEsUkVOREVSQlVGRkVSX0FMUEhBX1NJWkU6MzYxNzksUkVOREVSQlVGRkVSX0JJTkRJTkc6MzYwMDcsUkVOREVSQlVGRkVSX0JMVUVfU0laRTozNjE3OCxSRU5ERVJCVUZGRVJfREVQVEhfU0laRTozNjE4MCxSRU5ERVJCVUZGRVJfR1JFRU5fU0laRTozNjE3NyxSRU5ERVJCVUZGRVJfSEVJR0hUOjM2MTYzLFJFTkRFUkJVRkZFUl9JTlRFUk5BTF9GT1JNQVQ6MzYxNjQsUkVOREVSQlVGRkVSX1JFRF9TSVpFOjM2MTc2LFJFTkRFUkJVRkZFUl9TVEVOQ0lMX1NJWkU6MzYxODEsUkVOREVSQlVGRkVSX1dJRFRIOjM2MTYyLFJFTkRFUkVSOjc5MzcsUkVQRUFUOjEwNDk3LFJFUExBQ0U6NzY4MSxSR0I6NjQwNyxSR0I1X0ExOjMyODU1LFJHQjU2NTozNjE5NCxSR0JBOjY0MDgsUkdCQTQ6MzI4NTQsU0FNUExFUl8yRDozNTY3OCxTQU1QTEVSX0NVQkU6MzU2ODAsU0FNUExFUzozMjkzNyxTQU1QTEVfQUxQSEFfVE9fQ09WRVJBR0U6MzI5MjYsU0FNUExFX0JVRkZFUlM6MzI5MzYsU0FNUExFX0NPVkVSQUdFOjMyOTI4LFNBTVBMRV9DT1ZFUkFHRV9JTlZFUlQ6MzI5MzksU0FNUExFX0NPVkVSQUdFX1ZBTFVFOjMyOTM4LFNDSVNTT1JfQk9YOjMwODgsU0NJU1NPUl9URVNUOjMwODksU0hBREVSX0NPTVBJTEVSOjM2MzQ2LFNIQURFUl9TT1VSQ0VfTEVOR1RIOjM1NzIwLFNIQURFUl9UWVBFOjM1NjYzLFNIQURJTkdfTEFOR1VBR0VfVkVSU0lPTjozNTcyNCxTSE9SVDo1MTIyLFNSQ19BTFBIQTo3NzAsU1JDX0FMUEhBX1NBVFVSQVRFOjc3NixTUkNfQ09MT1I6NzY4LFNUQVRJQ19EUkFXOjM1MDQ0LFNURU5DSUxfQVRUQUNITUVOVDozNjEyOCxTVEVOQ0lMX0JBQ0tfRkFJTDozNDgxNyxTVEVOQ0lMX0JBQ0tfRlVOQzozNDgxNixTVEVOQ0lMX0JBQ0tfUEFTU19ERVBUSF9GQUlMOjM0ODE4LFNURU5DSUxfQkFDS19QQVNTX0RFUFRIX1BBU1M6MzQ4MTksU1RFTkNJTF9CQUNLX1JFRjozNjAwMyxTVEVOQ0lMX0JBQ0tfVkFMVUVfTUFTSzozNjAwNCxTVEVOQ0lMX0JBQ0tfV1JJVEVNQVNLOjM2MDA1LFNURU5DSUxfQklUUzozNDE1LFNURU5DSUxfQlVGRkVSX0JJVDoxMDI0LFNURU5DSUxfQ0xFQVJfVkFMVUU6Mjk2MSxTVEVOQ0lMX0ZBSUw6Mjk2NCxTVEVOQ0lMX0ZVTkM6Mjk2MixTVEVOQ0lMX0lOREVYOjY0MDEsU1RFTkNJTF9JTkRFWDg6MzYxNjgsU1RFTkNJTF9QQVNTX0RFUFRIX0ZBSUw6Mjk2NSxTVEVOQ0lMX1BBU1NfREVQVEhfUEFTUzoyOTY2LFNURU5DSUxfUkVGOjI5NjcsU1RFTkNJTF9URVNUOjI5NjAsU1RFTkNJTF9WQUxVRV9NQVNLOjI5NjMsU1RFTkNJTF9XUklURU1BU0s6Mjk2OCxTVFJFQU1fRFJBVzozNTA0MCxTVUJQSVhFTF9CSVRTOjM0MDgsVEVYVFVSRTo1ODkwLFRFWFRVUkUwOjMzOTg0LFRFWFRVUkUxOjMzOTg1LFRFWFRVUkUyOjMzOTg2LFRFWFRVUkUzOjMzOTg3LFRFWFRVUkU0OjMzOTg4LFRFWFRVUkU1OjMzOTg5LFRFWFRVUkU2OjMzOTkwLFRFWFRVUkU3OjMzOTkxLFRFWFRVUkU4OjMzOTkyLFRFWFRVUkU5OjMzOTkzLFRFWFRVUkUxMDozMzk5NCxURVhUVVJFMTE6MzM5OTUsVEVYVFVSRTEyOjMzOTk2LFRFWFRVUkUxMzozMzk5NyxURVhUVVJFMTQ6MzM5OTgsVEVYVFVSRTE1OjMzOTk5LFRFWFRVUkUxNjozNGUzLFRFWFRVUkUxNzozNDAwMSxURVhUVVJFMTg6MzQwMDIsVEVYVFVSRTE5OjM0MDAzLFRFWFRVUkUyMDozNDAwNCxURVhUVVJFMjE6MzQwMDUsVEVYVFVSRTIyOjM0MDA2LFRFWFRVUkUyMzozNDAwNyxURVhUVVJFMjQ6MzQwMDgsVEVYVFVSRTI1OjM0MDA5LFRFWFRVUkUyNjozNDAxMCxURVhUVVJFMjc6MzQwMTEsVEVYVFVSRTI4OjM0MDEyLFRFWFRVUkUyOTozNDAxMyxURVhUVVJFMzA6MzQwMTQsVEVYVFVSRTMxOjM0MDE1LFRFWFRVUkVfMkQ6MzU1MyxURVhUVVJFX0JJTkRJTkdfMkQ6MzI4NzMsVEVYVFVSRV9CSU5ESU5HX0NVQkVfTUFQOjM0MDY4LFRFWFRVUkVfQ1VCRV9NQVA6MzQwNjcsVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YOjM0MDcwLFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWTozNDA3MixURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1o6MzQwNzQsVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YOjM0MDY5LFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWTozNDA3MSxURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1o6MzQwNzMsVEVYVFVSRV9NQUdfRklMVEVSOjEwMjQwLFRFWFRVUkVfTUlOX0ZJTFRFUjoxMDI0MSxURVhUVVJFX1dSQVBfUzoxMDI0MixURVhUVVJFX1dSQVBfVDoxMDI0MyxUUklBTkdMRVM6NCxUUklBTkdMRV9GQU46NixUUklBTkdMRV9TVFJJUDo1LFVOUEFDS19BTElHTk1FTlQ6MzMxNyxVTlBBQ0tfQ09MT1JTUEFDRV9DT05WRVJTSU9OX1dFQkdMOjM3NDQzLFVOUEFDS19GTElQX1lfV0VCR0w6Mzc0NDAsVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMOjM3NDQxLFVOU0lHTkVEX0JZVEU6NTEyMSxVTlNJR05FRF9JTlQ6NTEyNSxVTlNJR05FRF9TSE9SVDo1MTIzLFVOU0lHTkVEX1NIT1JUXzRfNF80XzQ6MzI4MTksVU5TSUdORURfU0hPUlRfNV81XzVfMTozMjgyMCxVTlNJR05FRF9TSE9SVF81XzZfNTozMzYzNSxWQUxJREFURV9TVEFUVVM6MzU3MTUsVkVORE9SOjc5MzYsVkVSU0lPTjo3OTM4LFZFUlRFWF9BVFRSSUJfQVJSQVlfQlVGRkVSX0JJTkRJTkc6MzQ5NzUsVkVSVEVYX0FUVFJJQl9BUlJBWV9FTkFCTEVEOjM0MzM4LFZFUlRFWF9BVFRSSUJfQVJSQVlfTk9STUFMSVpFRDozNDkyMixWRVJURVhfQVRUUklCX0FSUkFZX1BPSU5URVI6MzQzNzMsVkVSVEVYX0FUVFJJQl9BUlJBWV9TSVpFOjM0MzM5LFZFUlRFWF9BVFRSSUJfQVJSQVlfU1RSSURFOjM0MzQwLFZFUlRFWF9BVFRSSUJfQVJSQVlfVFlQRTozNDM0MSxWRVJURVhfU0hBREVSOjM1NjMzLFZJRVdQT1JUOjI5NzgsWkVSTzowLFI4OjMzMzIxfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZWZhdWx0PWZ1bmN0aW9uKGdsLHNoYWRlclByb2dyYW0sbmFtZSl7cmV0dXJuIHZvaWQgMD09PXNoYWRlclByb2dyYW0uY2FjaGVBdHRyaWJMb2MmJihzaGFkZXJQcm9ncmFtLmNhY2hlQXR0cmliTG9jPXt9KSx2b2lkIDA9PT1zaGFkZXJQcm9ncmFtLmNhY2hlQXR0cmliTG9jW25hbWVdJiYoc2hhZGVyUHJvZ3JhbS5jYWNoZUF0dHJpYkxvY1tuYW1lXT1nbC5nZXRBdHRyaWJMb2NhdGlvbihzaGFkZXJQcm9ncmFtLG5hbWUpKSxzaGFkZXJQcm9ncmFtLmNhY2hlQXR0cmliTG9jW25hbWVdfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGlzUG93ZXJPZlR3byh4KXtyZXR1cm4gMCE9PXgmJiEoeCZ4LTEpfWZ1bmN0aW9uIGlzU291cmNlUG93ZXJPZlR3byhvYmope3ZhciB3PW9iai53aWR0aHx8b2JqLnZpZGVvV2lkdGgsaD1vYmouaGVpZ2h0fHxvYmoudmlkZW9IZWlnaHQ7cmV0dXJuISghd3x8IWgpJiYoaXNQb3dlck9mVHdvKHcpJiZpc1Bvd2VyT2ZUd28oaCkpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRvb2wpLF9XZWJnbE51bWJlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpLGdsPShfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJnbE51bWJlciksdm9pZCAwKSxHTFRleHR1cmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBHTFRleHR1cmUobVNvdXJjZSl7dmFyIGlzVGV4dHVyZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLG1QYXJhbWV0ZXJzPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtpZihfY2xhc3NDYWxsQ2hlY2sodGhpcyxHTFRleHR1cmUpLGdsPV9HTFRvb2wyLmRlZmF1bHQuZ2wsaXNUZXh0dXJlKXRoaXMuX3RleHR1cmU9bVNvdXJjZTtlbHNle3RoaXMuX21Tb3VyY2U9bVNvdXJjZSx0aGlzLl90ZXh0dXJlPWdsLmNyZWF0ZVRleHR1cmUoKSx0aGlzLl9pc1ZpZGVvPVwiVklERU9cIj09PW1Tb3VyY2UudGFnTmFtZSx0aGlzLl9wcmVtdWx0aXBseUFscGhhPSEwLHRoaXMuX21hZ0ZpbHRlcj1tUGFyYW1ldGVycy5tYWdGaWx0ZXJ8fGdsLkxJTkVBUix0aGlzLl9taW5GaWx0ZXI9bVBhcmFtZXRlcnMubWluRmlsdGVyfHxnbC5ORUFSRVNUX01JUE1BUF9MSU5FQVIsdGhpcy5fd3JhcFM9bVBhcmFtZXRlcnMud3JhcFN8fGdsLk1JUlJPUkVEX1JFUEVBVCx0aGlzLl93cmFwVD1tUGFyYW1ldGVycy53cmFwVHx8Z2wuTUlSUk9SRURfUkVQRUFUO21Tb3VyY2Uud2lkdGh8fG1Tb3VyY2UudmlkZW9XaWR0aD9pc1NvdXJjZVBvd2VyT2ZUd28obVNvdXJjZSl8fCh0aGlzLl93cmFwUz10aGlzLl93cmFwVD1nbC5DTEFNUF9UT19FREdFLHRoaXMuX21pbkZpbHRlcj09PWdsLk5FQVJFU1RfTUlQTUFQX0xJTkVBUiYmKHRoaXMuX21pbkZpbHRlcj1nbC5MSU5FQVIpKToodGhpcy5fd3JhcFM9dGhpcy5fd3JhcFQ9Z2wuQ0xBTVBfVE9fRURHRSx0aGlzLl9taW5GaWx0ZXI9PT1nbC5ORUFSRVNUX01JUE1BUF9MSU5FQVImJih0aGlzLl9taW5GaWx0ZXI9Z2wuTElORUFSKSksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCx0aGlzLl90ZXh0dXJlKSxnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCEwKSxtU291cmNlLmV4cG9zdXJlP2dsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwwLGdsLlJHQkEsbVNvdXJjZS5zaGFwZVswXSxtU291cmNlLnNoYXBlWzFdLDAsZ2wuUkdCQSxnbC5GTE9BVCxtU291cmNlLmRhdGEpOmdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwwLGdsLlJHQkEsZ2wuUkdCQSxnbC5VTlNJR05FRF9CWVRFLG1Tb3VyY2UpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX01BR19GSUxURVIsdGhpcy5fbWFnRmlsdGVyKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsZ2wuVEVYVFVSRV9NSU5fRklMVEVSLHRoaXMuX21pbkZpbHRlciksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfV1JBUF9TLHRoaXMuX3dyYXBTKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsZ2wuVEVYVFVSRV9XUkFQX1QsdGhpcy5fd3JhcFQpO3ZhciBleHQ9X0dMVG9vbDIuZGVmYXVsdC5nZXRFeHRlbnNpb24oXCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWNcIik7aWYoZXh0KXt2YXIgbWF4PWdsLmdldFBhcmFtZXRlcihleHQuTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKTtnbC50ZXhQYXJhbWV0ZXJmKGdsLlRFWFRVUkVfMkQsZXh0LlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULG1heCl9dGhpcy5fY2FuR2VuZXJhdGVNaXBtYXAoKSYmZ2wuZ2VuZXJhdGVNaXBtYXAoZ2wuVEVYVFVSRV8yRCksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCxudWxsKX19cmV0dXJuIF9jcmVhdGVDbGFzcyhHTFRleHR1cmUsW3trZXk6XCJnZW5lcmF0ZU1pcG1hcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fY2FuR2VuZXJhdGVNaXBtYXAoKSYmKGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdGhpcy5fdGV4dHVyZSksZ2wuZ2VuZXJhdGVNaXBtYXAoZ2wuVEVYVFVSRV8yRCksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCxudWxsKSl9fSx7a2V5OlwidXBkYXRlVGV4dHVyZVwiLHZhbHVlOmZ1bmN0aW9uKG1Tb3VyY2Upe21Tb3VyY2UmJih0aGlzLl9tU291cmNlPW1Tb3VyY2UpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdGhpcy5fdGV4dHVyZSksZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwhMCksZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELDAsZ2wuUkdCQSxnbC5SR0JBLGdsLlVOU0lHTkVEX0JZVEUsdGhpcy5fbVNvdXJjZSksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfTUFHX0ZJTFRFUix0aGlzLl9tYWdGaWx0ZXIpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX01JTl9GSUxURVIsdGhpcy5fbWluRmlsdGVyKSx0aGlzLl9jYW5HZW5lcmF0ZU1pcG1hcCgpJiZnbC5nZW5lcmF0ZU1pcG1hcChnbC5URVhUVVJFXzJEKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELG51bGwpfX0se2tleTpcImJpbmRcIix2YWx1ZTpmdW5jdGlvbihpbmRleCl7dm9pZCAwPT09aW5kZXgmJihpbmRleD0wKSxfR0xUb29sMi5kZWZhdWx0LnNoYWRlciYmKGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAraW5kZXgpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdGhpcy5fdGV4dHVyZSksdGhpcy5fYmluZEluZGV4PWluZGV4KX19LHtrZXk6XCJfY2FuR2VuZXJhdGVNaXBtYXBcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9taW5GaWx0ZXI9PT1nbC5MSU5FQVJfTUlQTUFQX05FQVJFU1R8fHRoaXMuX21pbkZpbHRlcj09PWdsLk5FQVJFU1RfTUlQTUFQX0xJTkVBUnx8dGhpcy5fbWluRmlsdGVyPT09Z2wuTElORUFSX01JUE1BUF9MSU5FQVJ8fHRoaXMuX21pbkZpbHRlcj09PWdsLk5FQVJFU1RfTUlQTUFQX05FQVJFU1R9fSx7a2V5OlwibWluRmlsdGVyXCIsc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7aWYobVZhbHVlIT09Z2wuTElORUFSJiZtVmFsdWUhPT1nbC5ORUFSRVNUJiZtVmFsdWUhPT1nbC5ORUFSRVNUX01JUE1BUF9MSU5FQVImJm1WYWx1ZSE9PWdsLk5FQVJFU1RfTUlQTUFQX0xJTkVBUiYmbVZhbHVlIT09Z2wuTElORUFSX01JUE1BUF9MSU5FQVImJm1WYWx1ZSE9PWdsLk5FQVJFU1RfTUlQTUFQX05FQVJFU1QpcmV0dXJuIHRoaXM7dGhpcy5fbWluRmlsdGVyPW1WYWx1ZSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELHRoaXMuX3RleHR1cmUpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX01JTl9GSUxURVIsdGhpcy5fbWluRmlsdGVyKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELG51bGwpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWluRmlsdGVyfX0se2tleTpcIm1hZ0ZpbHRlclwiLHNldDpmdW5jdGlvbihtVmFsdWUpe2lmKG1WYWx1ZSE9PWdsLkxJTkVBUiYmbVZhbHVlIT09Z2wuTkVBUkVTVClyZXR1cm4gdGhpczt0aGlzLl9tYWdGaWx0ZXI9bVZhbHVlLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdGhpcy5fdGV4dHVyZSksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfTUFHX0ZJTFRFUix0aGlzLl9tYWdGaWx0ZXIpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsbnVsbCl9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYWdGaWx0ZXJ9fSx7a2V5Olwid3JhcFNcIixzZXQ6ZnVuY3Rpb24obVZhbHVlKXtpZihtVmFsdWUhPT1nbC5DTEFNUF9UT19FREdFJiZtVmFsdWUhPT1nbC5SRVBFQVQmJm1WYWx1ZSE9PWdsLk1JUlJPUkVEX1JFUEVBVClyZXR1cm4gdGhpczt0aGlzLl93cmFwUz1tVmFsdWUsZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCx0aGlzLl90ZXh0dXJlKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy5fd3JhcFMpLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsbnVsbCl9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cmFwU319LHtrZXk6XCJ3cmFwVFwiLHNldDpmdW5jdGlvbihtVmFsdWUpe2lmKG1WYWx1ZSE9PWdsLkNMQU1QX1RPX0VER0UmJm1WYWx1ZSE9PWdsLlJFUEVBVCYmbVZhbHVlIT09Z2wuTUlSUk9SRURfUkVQRUFUKXJldHVybiB0aGlzO3RoaXMuX3dyYXBUPW1WYWx1ZSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELHRoaXMuX3RleHR1cmUpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX1dSQVBfVCx0aGlzLl93cmFwVCksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCxudWxsKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyYXBUfX0se2tleTpcInByZW11bHRpcGx5QWxwaGFcIixzZXQ6ZnVuY3Rpb24obVZhbHVlKXt0aGlzLl9wcmVtdWx0aXBseUFscGhhPW1WYWx1ZSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELHRoaXMuX3RleHR1cmUpLGNvbnNvbGUubG9nKFwicHJlbXVsdGlwbHlBbHBoYTpcIixtVmFsdWUpLGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCx0aGlzLl9wcmVtdWx0aXBseUFscGhhKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELG51bGwpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJlbXVsdGlwbHlBbHBoYX19LHtrZXk6XCJ0ZXh0dXJlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmV9fV0pLEdMVGV4dHVyZX0oKSxfd2hpdGVUZXh0dXJlPXZvaWQgMCxfZ3JleVRleHR1cmU9dm9pZCAwLF9ibGFja1RleHR1cmU9dm9pZCAwO0dMVGV4dHVyZS53aGl0ZVRleHR1cmU9ZnVuY3Rpb24oKXtpZih2b2lkIDA9PT1fd2hpdGVUZXh0dXJlKXt2YXIgY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7Y2FudmFzLndpZHRoPWNhbnZhcy5oZWlnaHQ9NDt2YXIgY3R4PWNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7Y3R4LmZpbGxTdHlsZT1cIiNmZmZcIixjdHguZmlsbFJlY3QoMCwwLDQsNCksX3doaXRlVGV4dHVyZT1uZXcgR0xUZXh0dXJlKGNhbnZhcyl9cmV0dXJuIF93aGl0ZVRleHR1cmV9LEdMVGV4dHVyZS5ncmV5VGV4dHVyZT1mdW5jdGlvbigpe2lmKHZvaWQgMD09PV9ncmV5VGV4dHVyZSl7dmFyIGNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2NhbnZhcy53aWR0aD1jYW52YXMuaGVpZ2h0PTQ7dmFyIGN0eD1jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO2N0eC5maWxsU3R5bGU9XCJyZ2IoMTI3LCAxMjcsIDEyNylcIixjdHguZmlsbFJlY3QoMCwwLDQsNCksX2dyZXlUZXh0dXJlPW5ldyBHTFRleHR1cmUoY2FudmFzKX1yZXR1cm4gX2dyZXlUZXh0dXJlfSxHTFRleHR1cmUuYmxhY2tUZXh0dXJlPWZ1bmN0aW9uKCl7aWYodm9pZCAwPT09X2JsYWNrVGV4dHVyZSl7dmFyIGNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2NhbnZhcy53aWR0aD1jYW52YXMuaGVpZ2h0PTQ7dmFyIGN0eD1jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO2N0eC5maWxsU3R5bGU9XCJyZ2IoMTI3LCAxMjcsIDEyNylcIixjdHguZmlsbFJlY3QoMCwwLDQsNCksX2JsYWNrVGV4dHVyZT1uZXcgR0xUZXh0dXJlKGNhbnZhcyl9cmV0dXJuIF9ibGFja1RleHR1cmV9LGV4cG9ydHMuZGVmYXVsdD1HTFRleHR1cmV9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBpc1Bvd2VyT2ZUd28oeCl7cmV0dXJuIDAhPT14JiYhKHgmeC0xKX1mdW5jdGlvbiBnZXRTb3VyY2VUeXBlKG1Tb3VyY2Upe3ZhciB0eXBlPV9HTFRvb2wyLmRlZmF1bHQuVU5TSUdORURfQllURTtyZXR1cm4gbVNvdXJjZSBpbnN0YW5jZW9mIEFycmF5P3R5cGU9X0dMVG9vbDIuZGVmYXVsdC5VTlNJR05FRF9CWVRFOm1Tb3VyY2UgaW5zdGFuY2VvZiBVaW50OEFycmF5P3R5cGU9X0dMVG9vbDIuZGVmYXVsdC5VTlNJR05FRF9CWVRFOm1Tb3VyY2UgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dHlwZT1fR0xUb29sMi5kZWZhdWx0LkZMT0FUOm1Tb3VyY2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50P3R5cGU9XCJpbWFnZVwiOm1Tb3VyY2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudD90eXBlPVwiY2FudmFzXCI6bVNvdXJjZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQmJih0eXBlPVwidmlkZW9cIiksdHlwZX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfZ2V0VGV4dHVyZVBhcmFtZXRlcnM9X193ZWJwYWNrX3JlcXVpcmVfXyg1NCksX2dldFRleHR1cmVQYXJhbWV0ZXJzMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRUZXh0dXJlUGFyYW1ldGVycyksX1dlYmdsTnVtYmVyPV9fd2VicGFja19yZXF1aXJlX18oOCksX1dlYmdsTnVtYmVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJnbE51bWJlciksX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVG9vbCksX3NjaGVkdWxpbmc9X193ZWJwYWNrX3JlcXVpcmVfXyg2KSxfc2NoZWR1bGluZzI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2NoZWR1bGluZyksZ2w9dm9pZCAwLEdMVGV4dHVyZT1mdW5jdGlvbigpe2Z1bmN0aW9uIEdMVGV4dHVyZShtU291cmNlKXt2YXIgbVBhcmFtPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxfdGhpcz10aGlzLG1XaWR0aD1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MCxtSGVpZ2h0PWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTowO19jbGFzc0NhbGxDaGVjayh0aGlzLEdMVGV4dHVyZSksZ2w9X0dMVG9vbDIuZGVmYXVsdC5nbCx0aGlzLl9zb3VyY2U9bVNvdXJjZSx0aGlzLl9nZXREaW1lbnNpb24obVNvdXJjZSxtV2lkdGgsbUhlaWdodCksdGhpcy5fc291cmNlVHlwZT1tUGFyYW0udHlwZXx8Z2V0U291cmNlVHlwZShtU291cmNlKSx0aGlzLl9jaGVja1NvdXJjZSgpLHRoaXMuX3RleGVsVHlwZT10aGlzLl9nZXRUZXhlbFR5cGUoKSx0aGlzLl9pc1RleHR1cmVSZWFkeT0hMCx0aGlzLl9wYXJhbXM9KDAsX2dldFRleHR1cmVQYXJhbWV0ZXJzMi5kZWZhdWx0KShtUGFyYW0sbVNvdXJjZSx0aGlzLl93aWR0aCx0aGlzLl9oZWlnaHQpLHRoaXMuX2NoZWNrTWlwbWFwKCksdGhpcy5fY2hlY2tXcmFwcGluZygpLHRoaXMuX3RleHR1cmU9Z2wuY3JlYXRlVGV4dHVyZSgpLFwidmlkZW9cIj09PXRoaXMuX3NvdXJjZVR5cGU/KHRoaXMuX2lzVGV4dHVyZVJlYWR5PSExLF9zY2hlZHVsaW5nMi5kZWZhdWx0LmFkZEVGKGZ1bmN0aW9uKCl7cmV0dXJuIF90aGlzLl9sb29wKCl9KSk6dGhpcy5fdXBsb2FkVGV4dHVyZSgpfXJldHVybiBfY3JlYXRlQ2xhc3MoR0xUZXh0dXJlLFt7a2V5OlwiX2xvb3BcIix2YWx1ZTpmdW5jdGlvbigpezQ9PXRoaXMuX3NvdXJjZS5yZWFkeVN0YXRlJiYodGhpcy5faXNUZXh0dXJlUmVhZHk9ITAsdGhpcy5fdXBsb2FkVGV4dHVyZSgpKX19LHtrZXk6XCJfdXBsb2FkVGV4dHVyZVwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCx0aGlzLl90ZXh0dXJlKSxnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCEwKSx0aGlzLl9pc1NvdXJjZUh0bWxFbGVtZW50KCk/Z2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELDAsdGhpcy5fcGFyYW1zLmludGVybmFsRm9ybWF0LHRoaXMuX3BhcmFtcy5mb3JtYXQsdGhpcy5fdGV4ZWxUeXBlLHRoaXMuX3NvdXJjZSk6Z2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELDAsdGhpcy5fcGFyYW1zLmludGVybmFsRm9ybWF0LHRoaXMuX3dpZHRoLHRoaXMuX2hlaWdodCwwLHRoaXMuX3BhcmFtcy5mb3JtYXQsdGhpcy5fdGV4ZWxUeXBlLHRoaXMuX3NvdXJjZSksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfTUFHX0ZJTFRFUix0aGlzLl9wYXJhbXMubWFnRmlsdGVyKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsZ2wuVEVYVFVSRV9NSU5fRklMVEVSLHRoaXMuX3BhcmFtcy5taW5GaWx0ZXIpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX1dSQVBfUyx0aGlzLl9wYXJhbXMud3JhcFMpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX1dSQVBfVCx0aGlzLl9wYXJhbXMud3JhcFQpLGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCx0aGlzLl9wYXJhbXMucHJlbXVsdGlwbHlBbHBoYSksdGhpcy5fcGFyYW1zLmFuaXNvdHJvcHk+MCl7dmFyIGV4dD1fR0xUb29sMi5kZWZhdWx0LmdldEV4dGVuc2lvbihcIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiKTtpZihleHQpe3ZhciBtYXg9Z2wuZ2V0UGFyYW1ldGVyKGV4dC5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpLGxldmVsPU1hdGgubWluKG1heCx0aGlzLl9wYXJhbXMuYW5pc290cm9weSk7Z2wudGV4UGFyYW1ldGVyZihnbC5URVhUVVJFXzJELGV4dC5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCxsZXZlbCl9fXRoaXMuX2dlbmVyYXRlTWlwbWFwJiZnbC5nZW5lcmF0ZU1pcG1hcChnbC5URVhUVVJFXzJEKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELG51bGwpfX0se2tleTpcImJpbmRcIix2YWx1ZTpmdW5jdGlvbihpbmRleCl7dm9pZCAwPT09aW5kZXgmJihpbmRleD0wKSxfR0xUb29sMi5kZWZhdWx0LnNoYWRlciYmKGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAraW5kZXgpLHRoaXMuX2lzVGV4dHVyZVJlYWR5P2dsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdGhpcy5fdGV4dHVyZSk6Z2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCxHTFRleHR1cmUuYmxhY2tUZXh0dXJlKCkudGV4dHVyZSksdGhpcy5fYmluZEluZGV4PWluZGV4KX19LHtrZXk6XCJ1cGRhdGVUZXh0dXJlXCIsdmFsdWU6ZnVuY3Rpb24obVNvdXJjZSl7dGhpcy5fc291cmNlPW1Tb3VyY2UsdGhpcy5fY2hlY2tTb3VyY2UoKSx0aGlzLl91cGxvYWRUZXh0dXJlKCl9fSx7a2V5OlwiZ2VuZXJhdGVNaXBtYXBcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2dlbmVyYXRlTWlwbWFwJiYoZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCx0aGlzLl90ZXh0dXJlKSxnbC5nZW5lcmF0ZU1pcG1hcChnbC5URVhUVVJFXzJEKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELG51bGwpKX19LHtrZXk6XCJzaG93UGFyYW1ldGVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Y29uc29sZS5sb2coXCJTb3VyY2UgdHlwZSA6IFwiLF9XZWJnbE51bWJlcjIuZGVmYXVsdFt0aGlzLl9zb3VyY2VUeXBlXXx8dGhpcy5fc291cmNlVHlwZSksY29uc29sZS5sb2coXCJUZXhlbCB0eXBlOlwiLF9XZWJnbE51bWJlcjIuZGVmYXVsdFt0aGlzLnRleGVsVHlwZV0pLGNvbnNvbGUubG9nKFwiRGltZW5zaW9uIDpcIix0aGlzLl93aWR0aCx0aGlzLl9oZWlnaHQpO2Zvcih2YXIgcyBpbiB0aGlzLl9wYXJhbXMpY29uc29sZS5sb2cocyxfV2ViZ2xOdW1iZXIyLmRlZmF1bHRbdGhpcy5fcGFyYW1zW3NdXXx8dGhpcy5fcGFyYW1zW3NdKTtjb25zb2xlLmxvZyhcIk1pcG1hcHBpbmcgOlwiLHRoaXMuX2dlbmVyYXRlTWlwbWFwKX19LHtrZXk6XCJfZ2V0RGltZW5zaW9uXCIsdmFsdWU6ZnVuY3Rpb24obVNvdXJjZSxtV2lkdGgsbUhlaWdodCl7bVNvdXJjZT8odGhpcy5fd2lkdGg9bVNvdXJjZS53aWR0aHx8bVNvdXJjZS52aWRlb1dpZHRoLHRoaXMuX2hlaWdodD1tU291cmNlLmhlaWdodHx8bVNvdXJjZS52aWRlb1dpZHRoLHRoaXMuX3dpZHRoPXRoaXMuX3dpZHRofHxtV2lkdGgsdGhpcy5faGVpZ2h0PXRoaXMuX2hlaWdodHx8bUhlaWdodCx0aGlzLl93aWR0aCYmdGhpcy5faGVpZ2h0fHwodGhpcy5fd2lkdGg9dGhpcy5faGVpZ2h0PU1hdGguc3FydChtU291cmNlLmxlbmd0aC80KSkpOih0aGlzLl93aWR0aD1tV2lkdGgsdGhpcy5faGVpZ2h0PW1IZWlnaHQpfX0se2tleTpcIl9jaGVja1NvdXJjZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fc291cmNlJiYodGhpcy5fc291cmNlVHlwZT09PV9HTFRvb2wyLmRlZmF1bHQuVU5TSUdORURfQllURT90aGlzLl9zb3VyY2UgaW5zdGFuY2VvZiBVaW50OEFycmF5fHwodGhpcy5fc291cmNlPW5ldyBVaW50OEFycmF5KHRoaXMuX3NvdXJjZSkpOnRoaXMuX3NvdXJjZVR5cGU9PT1fR0xUb29sMi5kZWZhdWx0LkZMT0FUJiYodGhpcy5fc291cmNlIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5fHwodGhpcy5fc291cmNlPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5fc291cmNlKSkpKX19LHtrZXk6XCJfZ2V0VGV4ZWxUeXBlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNTb3VyY2VIdG1sRWxlbWVudCgpP19HTFRvb2wyLmRlZmF1bHQuVU5TSUdORURfQllURTpfR0xUb29sMi5kZWZhdWx0W19XZWJnbE51bWJlcjIuZGVmYXVsdFt0aGlzLl9zb3VyY2VUeXBlXV18fHRoaXMuX3NvdXJjZVR5cGV9fSx7a2V5OlwiX2NoZWNrTWlwbWFwXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9nZW5lcmF0ZU1pcG1hcD10aGlzLl9wYXJhbXMubWlwbWFwLGlzUG93ZXJPZlR3byh0aGlzLl93aWR0aCkmJmlzUG93ZXJPZlR3byh0aGlzLl9oZWlnaHQpfHwodGhpcy5fZ2VuZXJhdGVNaXBtYXA9ITEpLC0xPT1fV2ViZ2xOdW1iZXIyLmRlZmF1bHRbdGhpcy5fcGFyYW1zLm1pbkZpbHRlcl0uaW5kZXhPZihcIk1JUE1BUFwiKSYmKHRoaXMuX2dlbmVyYXRlTWlwbWFwPSExKX19LHtrZXk6XCJfY2hlY2tXcmFwcGluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fZ2VuZXJhdGVNaXBtYXB8fCh0aGlzLl9wYXJhbXMud3JhcFM9X0dMVG9vbDIuZGVmYXVsdC5DTEFNUF9UT19FREdFLHRoaXMuX3BhcmFtcy53cmFwVD1fR0xUb29sMi5kZWZhdWx0LkNMQU1QX1RPX0VER0UpfX0se2tleTpcIl9pc1NvdXJjZUh0bWxFbGVtZW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cImltYWdlXCI9PT10aGlzLl9zb3VyY2VUeXBlfHxcInZpZGVvXCI9PT10aGlzLl9zb3VyY2VUeXBlfHxcImNhbnZhc1wiPT09dGhpcy5fc291cmNlVHlwZX19LHtrZXk6XCJtaW5GaWx0ZXJcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFyYW1zLm1pbkZpbHRlcn0sc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7dGhpcy5fcGFyYW1zLm1pbkZpbHRlcj1tVmFsdWUsdGhpcy5fY2hlY2tNaXBtYXAoKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELHRoaXMuX3RleHR1cmUpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX01JTl9GSUxURVIsdGhpcy5fcGFyYW1zLm1pbkZpbHRlciksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCxudWxsKSx0aGlzLmdlbmVyYXRlTWlwbWFwKCl9fSx7a2V5OlwibWFnRmlsdGVyXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcmFtcy5taW5GaWx0ZXJ9LHNldDpmdW5jdGlvbihtVmFsdWUpe3RoaXMuX3BhcmFtcy5tYWdGaWx0ZXI9bVZhbHVlLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdGhpcy5fdGV4dHVyZSksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfTUFHX0ZJTFRFUix0aGlzLl9wYXJhbXMubWFnRmlsdGVyKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELG51bGwpfX0se2tleTpcIndyYXBTXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcmFtcy53cmFwU30sc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7dGhpcy5fcGFyYW1zLndyYXBTPW1WYWx1ZSx0aGlzLl9jaGVja1dyYXBwaW5nKCksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCx0aGlzLl90ZXh0dXJlKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy5fcGFyYW1zLndyYXBTKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELG51bGwpfX0se2tleTpcIndyYXBUXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcmFtcy53cmFwVH0sc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7dGhpcy5fcGFyYW1zLndyYXBUPW1WYWx1ZSx0aGlzLl9jaGVja1dyYXBwaW5nKCksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCx0aGlzLl90ZXh0dXJlKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsZ2wuVEVYVFVSRV9XUkFQX1QsdGhpcy5fcGFyYW1zLndyYXBUKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELG51bGwpfX0se2tleTpcInRleGVsVHlwZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXhlbFR5cGV9fSx7a2V5Olwid2lkdGhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2lkdGh9fSx7a2V5OlwiaGVpZ2h0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hlaWdodH19LHtrZXk6XCJ0ZXh0dXJlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmV9fSx7a2V5OlwiaXNUZXh0dXJlUmVhZHlcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNUZXh0dXJlUmVhZHl9fV0pLEdMVGV4dHVyZX0oKSxfd2hpdGVUZXh0dXJlPXZvaWQgMCxfZ3JleVRleHR1cmU9dm9pZCAwLF9ibGFja1RleHR1cmU9dm9pZCAwO0dMVGV4dHVyZS53aGl0ZVRleHR1cmU9ZnVuY3Rpb24oKXtpZih2b2lkIDA9PT1fd2hpdGVUZXh0dXJlKXt2YXIgY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7Y2FudmFzLndpZHRoPWNhbnZhcy5oZWlnaHQ9Mjt2YXIgY3R4PWNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7Y3R4LmZpbGxTdHlsZT1cIiNmZmZcIixjdHguZmlsbFJlY3QoMCwwLDIsMiksX3doaXRlVGV4dHVyZT1uZXcgR0xUZXh0dXJlKGNhbnZhcyl9cmV0dXJuIF93aGl0ZVRleHR1cmV9LEdMVGV4dHVyZS5ncmV5VGV4dHVyZT1mdW5jdGlvbigpe2lmKHZvaWQgMD09PV9ncmV5VGV4dHVyZSl7dmFyIGNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2NhbnZhcy53aWR0aD1jYW52YXMuaGVpZ2h0PTI7dmFyIGN0eD1jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO2N0eC5maWxsU3R5bGU9XCJyZ2IoMTI3LCAxMjcsIDEyNylcIixjdHguZmlsbFJlY3QoMCwwLDIsMiksX2dyZXlUZXh0dXJlPW5ldyBHTFRleHR1cmUoY2FudmFzKX1yZXR1cm4gX2dyZXlUZXh0dXJlfSxHTFRleHR1cmUuYmxhY2tUZXh0dXJlPWZ1bmN0aW9uKCl7aWYodm9pZCAwPT09X2JsYWNrVGV4dHVyZSl7dmFyIGNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2NhbnZhcy53aWR0aD1jYW52YXMuaGVpZ2h0PTI7dmFyIGN0eD1jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO2N0eC5maWxsU3R5bGU9XCJyZ2IoMCwgMCwgMClcIixjdHguZmlsbFJlY3QoMCwwLDIsMiksX2JsYWNrVGV4dHVyZT1uZXcgR0xUZXh0dXJlKGNhbnZhcyl9cmV0dXJuIF9ibGFja1RleHR1cmV9LGV4cG9ydHMuZGVmYXVsdD1HTFRleHR1cmV9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfR0xUb29sPV9fd2VicGFja19yZXF1aXJlX18oMCksX0dMVG9vbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xUb29sKSxfcGFyc2VEZHM9X193ZWJwYWNrX3JlcXVpcmVfXyg1NSksX3BhcnNlRGRzMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wYXJzZURkcyksZ2w9dm9pZCAwLEdMQ3ViZVRleHR1cmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBHTEN1YmVUZXh0dXJlKG1Tb3VyY2Upe3ZhciBtUGFyYW1ldGVycz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30saXNDdWJlVGV4dHVyZT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdO2lmKF9jbGFzc0NhbGxDaGVjayh0aGlzLEdMQ3ViZVRleHR1cmUpLGdsPV9HTFRvb2wyLmRlZmF1bHQuZ2wsaXNDdWJlVGV4dHVyZSlyZXR1cm4gdm9pZCh0aGlzLnRleHR1cmU9bVNvdXJjZSk7dmFyIGhhc01pcG1hcHM9bVNvdXJjZS5sZW5ndGg+NjttU291cmNlWzBdLm1pcG1hcENvdW50JiYoaGFzTWlwbWFwcz1tU291cmNlWzBdLm1pcG1hcENvdW50PjEpLHRoaXMudGV4dHVyZT1nbC5jcmVhdGVUZXh0dXJlKCksdGhpcy5tYWdGaWx0ZXI9bVBhcmFtZXRlcnMubWFnRmlsdGVyfHxnbC5MSU5FQVIsdGhpcy5taW5GaWx0ZXI9bVBhcmFtZXRlcnMubWluRmlsdGVyfHxnbC5MSU5FQVJfTUlQTUFQX0xJTkVBUix0aGlzLndyYXBTPW1QYXJhbWV0ZXJzLndyYXBTfHxnbC5DTEFNUF9UT19FREdFLHRoaXMud3JhcFQ9bVBhcmFtZXRlcnMud3JhcFR8fGdsLkNMQU1QX1RPX0VER0UsaGFzTWlwbWFwc3x8dGhpcy5taW5GaWx0ZXIhPWdsLkxJTkVBUl9NSVBNQVBfTElORUFSfHwodGhpcy5taW5GaWx0ZXI9Z2wuTElORUFSKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFX0NVQkVfTUFQLHRoaXMudGV4dHVyZSk7dmFyIHRhcmdldHM9W2dsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCxnbC5URVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1gsZ2wuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZLGdsLlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWSxnbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1osZ2wuVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aXSxudW1MZXZlbHM9MSxpbmRleD0wO2lmKG51bUxldmVscz1tU291cmNlLmxlbmd0aC82LHRoaXMubnVtTGV2ZWxzPW51bUxldmVscyxoYXNNaXBtYXBzKWZvcih2YXIgaj0wO2o8NjtqKyspZm9yKHZhciBpPTA7aTxudW1MZXZlbHM7aSsrKWdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19GTElQX1lfV0VCR0wsITEpLGluZGV4PWoqbnVtTGV2ZWxzK2ksbVNvdXJjZVtpbmRleF0uc2hhcGU/Z2wudGV4SW1hZ2UyRCh0YXJnZXRzW2pdLGksZ2wuUkdCQSxtU291cmNlW2luZGV4XS5zaGFwZVswXSxtU291cmNlW2luZGV4XS5zaGFwZVsxXSwwLGdsLlJHQkEsZ2wuRkxPQVQsbVNvdXJjZVtpbmRleF0uZGF0YSk6Z2wudGV4SW1hZ2UyRCh0YXJnZXRzW2pdLGksZ2wuUkdCQSxnbC5SR0JBLGdsLlVOU0lHTkVEX0JZVEUsbVNvdXJjZVtpbmRleF0pLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCxnbC5URVhUVVJFX1dSQVBfUyx0aGlzLndyYXBTKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsZ2wuVEVYVFVSRV9XUkFQX1QsdGhpcy53cmFwVCksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLGdsLlRFWFRVUkVfTUFHX0ZJTFRFUix0aGlzLm1hZ0ZpbHRlciksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLGdsLlRFWFRVUkVfTUlOX0ZJTFRFUix0aGlzLm1pbkZpbHRlcik7ZWxzZXtmb3IodmFyIF9pbmRleD0wLF9qPTA7X2o8NjtfaisrKV9pbmRleD1faipudW1MZXZlbHMsZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwhMSksbVNvdXJjZVtfaW5kZXhdLnNoYXBlP2dsLnRleEltYWdlMkQodGFyZ2V0c1tfal0sMCxnbC5SR0JBLG1Tb3VyY2VbX2luZGV4XS5zaGFwZVswXSxtU291cmNlW19pbmRleF0uc2hhcGVbMV0sMCxnbC5SR0JBLGdsLkZMT0FULG1Tb3VyY2VbX2luZGV4XS5kYXRhKTpnbC50ZXhJbWFnZTJEKHRhcmdldHNbX2pdLDAsZ2wuUkdCQSxnbC5SR0JBLGdsLlVOU0lHTkVEX0JZVEUsbVNvdXJjZVtfaW5kZXhdKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy53cmFwUyksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLGdsLlRFWFRVUkVfV1JBUF9ULHRoaXMud3JhcFQpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCxnbC5URVhUVVJFX01BR19GSUxURVIsdGhpcy5tYWdGaWx0ZXIpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCxnbC5URVhUVVJFX01JTl9GSUxURVIsdGhpcy5taW5GaWx0ZXIpO2dsLmdlbmVyYXRlTWlwbWFwKGdsLlRFWFRVUkVfQ1VCRV9NQVApfWdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCl9cmV0dXJuIF9jcmVhdGVDbGFzcyhHTEN1YmVUZXh0dXJlLFt7a2V5OlwiYmluZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGluZGV4PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowO19HTFRvb2wyLmRlZmF1bHQuc2hhZGVyJiYoZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCtpbmRleCksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV9DVUJFX01BUCx0aGlzLnRleHR1cmUpLGdsLnVuaWZvcm0xaShfR0xUb29sMi5kZWZhdWx0LnNoYWRlci51bmlmb3JtVGV4dHVyZXNbaW5kZXhdLGluZGV4KSx0aGlzLl9iaW5kSW5kZXg9aW5kZXgpfX0se2tleTpcInVuYmluZFwiLHZhbHVlOmZ1bmN0aW9uKCl7Z2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV9DVUJFX01BUCxudWxsKX19XSksR0xDdWJlVGV4dHVyZX0oKTtHTEN1YmVUZXh0dXJlLnBhcnNlRERTPWZ1bmN0aW9uKG1BcnJheUJ1ZmZlcil7dmFyIGRkc0luZm9zPSgwLF9wYXJzZURkczIuZGVmYXVsdCkobUFycmF5QnVmZmVyKSxmbGFncz1kZHNJbmZvcy5mbGFncyxoZWFkZXI9bmV3IEludDMyQXJyYXkobUFycmF5QnVmZmVyLDAsMzEpLG1pcG1hcENvdW50PTE7MTMxMDcyJmZsYWdzJiYobWlwbWFwQ291bnQ9TWF0aC5tYXgoMSxoZWFkZXJbN10pKTt2YXIgc291cmNlcz1kZHNJbmZvcy5pbWFnZXMubWFwKGZ1bmN0aW9uKGltZyl7cmV0dXJue2RhdGE6bmV3IEZsb2F0MzJBcnJheShtQXJyYXlCdWZmZXIuc2xpY2UoaW1nLm9mZnNldCxpbWcub2Zmc2V0K2ltZy5sZW5ndGgpKSxzaGFwZTppbWcuc2hhcGUsbWlwbWFwQ291bnQ6bWlwbWFwQ291bnR9fSk7cmV0dXJuIG5ldyBHTEN1YmVUZXh0dXJlKHNvdXJjZXMpfSxleHBvcnRzLmRlZmF1bHQ9R0xDdWJlVGV4dHVyZX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksc3VwcG9ydHNDdXN0b21FdmVudHM9ITA7dHJ5e2RvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7bnVsbH1jYXRjaChlKXtzdXBwb3J0c0N1c3RvbUV2ZW50cz0hMX12YXIgRXZlbnREaXNwYXRjaGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRXZlbnREaXNwYXRjaGVyKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsRXZlbnREaXNwYXRjaGVyKSx0aGlzLl9ldmVudExpc3RlbmVycz17fX1yZXR1cm4gX2NyZWF0ZUNsYXNzKEV2ZW50RGlzcGF0Y2hlcixbe2tleTpcImFkZEV2ZW50TGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbihhRXZlbnRUeXBlLGFGdW5jdGlvbil7cmV0dXJuIG51bGwhPT10aGlzLl9ldmVudExpc3RlbmVycyYmdm9pZCAwIT09dGhpcy5fZXZlbnRMaXN0ZW5lcnN8fCh0aGlzLl9ldmVudExpc3RlbmVycz17fSksdGhpcy5fZXZlbnRMaXN0ZW5lcnNbYUV2ZW50VHlwZV18fCh0aGlzLl9ldmVudExpc3RlbmVyc1thRXZlbnRUeXBlXT1bXSksdGhpcy5fZXZlbnRMaXN0ZW5lcnNbYUV2ZW50VHlwZV0ucHVzaChhRnVuY3Rpb24pLHRoaXN9fSx7a2V5Olwib25cIix2YWx1ZTpmdW5jdGlvbihhRXZlbnRUeXBlLGFGdW5jdGlvbil7cmV0dXJuIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihhRXZlbnRUeXBlLGFGdW5jdGlvbil9fSx7a2V5OlwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKGFFdmVudFR5cGUsYUZ1bmN0aW9uKXtudWxsIT09dGhpcy5fZXZlbnRMaXN0ZW5lcnMmJnZvaWQgMCE9PXRoaXMuX2V2ZW50TGlzdGVuZXJzfHwodGhpcy5fZXZlbnRMaXN0ZW5lcnM9e30pO3ZhciBjdXJyZW50QXJyYXk9dGhpcy5fZXZlbnRMaXN0ZW5lcnNbYUV2ZW50VHlwZV07aWYodm9pZCAwPT09Y3VycmVudEFycmF5KXJldHVybiB0aGlzO2Zvcih2YXIgY3VycmVudEFycmF5TGVuZ3RoPWN1cnJlbnRBcnJheS5sZW5ndGgsaT0wO2k8Y3VycmVudEFycmF5TGVuZ3RoO2krKyljdXJyZW50QXJyYXlbaV09PT1hRnVuY3Rpb24mJihjdXJyZW50QXJyYXkuc3BsaWNlKGksMSksaS0tLGN1cnJlbnRBcnJheUxlbmd0aC0tKTtyZXR1cm4gdGhpc319LHtrZXk6XCJvZmZcIix2YWx1ZTpmdW5jdGlvbihhRXZlbnRUeXBlLGFGdW5jdGlvbil7cmV0dXJuIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihhRXZlbnRUeXBlLGFGdW5jdGlvbil9fSx7a2V5OlwiZGlzcGF0Y2hFdmVudFwiLHZhbHVlOmZ1bmN0aW9uKGFFdmVudCl7bnVsbCE9PXRoaXMuX2V2ZW50TGlzdGVuZXJzJiZ2b2lkIDAhPT10aGlzLl9ldmVudExpc3RlbmVyc3x8KHRoaXMuX2V2ZW50TGlzdGVuZXJzPXt9KTt2YXIgZXZlbnRUeXBlPWFFdmVudC50eXBlO3RyeXtudWxsPT09YUV2ZW50LnRhcmdldCYmKGFFdmVudC50YXJnZXQ9dGhpcyksYUV2ZW50LmN1cnJlbnRUYXJnZXQ9dGhpc31jYXRjaCh0aGVFcnJvcil7dmFyIG5ld0V2ZW50PXt0eXBlOmV2ZW50VHlwZSxkZXRhaWw6YUV2ZW50LmRldGFpbCxkaXNwYXRjaGVyOnRoaXN9O3JldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpfXZhciBjdXJyZW50RXZlbnRMaXN0ZW5lcnM9dGhpcy5fZXZlbnRMaXN0ZW5lcnNbZXZlbnRUeXBlXTtpZihudWxsIT09Y3VycmVudEV2ZW50TGlzdGVuZXJzJiZ2b2lkIDAhPT1jdXJyZW50RXZlbnRMaXN0ZW5lcnMpZm9yKHZhciBjdXJyZW50QXJyYXk9dGhpcy5fY29weUFycmF5KGN1cnJlbnRFdmVudExpc3RlbmVycyksY3VycmVudEFycmF5TGVuZ3RoPWN1cnJlbnRBcnJheS5sZW5ndGgsaT0wO2k8Y3VycmVudEFycmF5TGVuZ3RoO2krKyl7dmFyIGN1cnJlbnRGdW5jdGlvbj1jdXJyZW50QXJyYXlbaV07Y3VycmVudEZ1bmN0aW9uLmNhbGwodGhpcyxhRXZlbnQpfXJldHVybiB0aGlzfX0se2tleTpcImRpc3BhdGNoQ3VzdG9tRXZlbnRcIix2YWx1ZTpmdW5jdGlvbihhRXZlbnRUeXBlLGFEZXRhaWwpe3ZhciBuZXdFdmVudD12b2lkIDA7cmV0dXJuIHN1cHBvcnRzQ3VzdG9tRXZlbnRzPyhuZXdFdmVudD1kb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpLG5ld0V2ZW50LmRpc3BhdGNoZXI9dGhpcyxuZXdFdmVudC5pbml0Q3VzdG9tRXZlbnQoYUV2ZW50VHlwZSwhMSwhMSxhRGV0YWlsKSk6bmV3RXZlbnQ9e3R5cGU6YUV2ZW50VHlwZSxkZXRhaWw6YURldGFpbCxkaXNwYXRjaGVyOnRoaXN9LHRoaXMuZGlzcGF0Y2hFdmVudChuZXdFdmVudCl9fSx7a2V5OlwidHJpZ2dlclwiLHZhbHVlOmZ1bmN0aW9uKGFFdmVudFR5cGUsYURldGFpbCl7cmV0dXJuIHRoaXMuZGlzcGF0Y2hDdXN0b21FdmVudChhRXZlbnRUeXBlLGFEZXRhaWwpfX0se2tleTpcIl9kZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZihudWxsIT09dGhpcy5fZXZlbnRMaXN0ZW5lcnMpe2Zvcih2YXIgb2JqZWN0TmFtZSBpbiB0aGlzLl9ldmVudExpc3RlbmVycylpZih0aGlzLl9ldmVudExpc3RlbmVycy5oYXNPd25Qcm9wZXJ0eShvYmplY3ROYW1lKSl7Zm9yKHZhciBjdXJyZW50QXJyYXk9dGhpcy5fZXZlbnRMaXN0ZW5lcnNbb2JqZWN0TmFtZV0sY3VycmVudEFycmF5TGVuZ3RoPWN1cnJlbnRBcnJheS5sZW5ndGgsaT0wO2k8Y3VycmVudEFycmF5TGVuZ3RoO2krKyljdXJyZW50QXJyYXlbaV09bnVsbDtkZWxldGUgdGhpcy5fZXZlbnRMaXN0ZW5lcnNbb2JqZWN0TmFtZV19dGhpcy5fZXZlbnRMaXN0ZW5lcnM9bnVsbH19fSx7a2V5OlwiX2NvcHlBcnJheVwiLHZhbHVlOmZ1bmN0aW9uKGFBcnJheSl7Zm9yKHZhciBjdXJyZW50QXJyYXk9bmV3IEFycmF5KGFBcnJheS5sZW5ndGgpLGN1cnJlbnRBcnJheUxlbmd0aD1jdXJyZW50QXJyYXkubGVuZ3RoLGk9MDtpPGN1cnJlbnRBcnJheUxlbmd0aDtpKyspY3VycmVudEFycmF5W2ldPWFBcnJheVtpXTtyZXR1cm4gY3VycmVudEFycmF5fX1dKSxFdmVudERpc3BhdGNoZXJ9KCk7ZXhwb3J0cy5kZWZhdWx0PUV2ZW50RGlzcGF0Y2hlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9FYXNlTnVtYmVyPV9fd2VicGFja19yZXF1aXJlX18oMTMpLF9FYXNlTnVtYmVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FYXNlTnVtYmVyKSxfc2NoZWR1bGluZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDYpLF9zY2hlZHVsaW5nMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zY2hlZHVsaW5nKSxfZ2xNYXRyaXg9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxnZXRNb3VzZT1mdW5jdGlvbihtRXZlbnQsbVRhcmdldCl7dmFyIG89bVRhcmdldHx8e307cmV0dXJuIG1FdmVudC50b3VjaGVzPyhvLng9bUV2ZW50LnRvdWNoZXNbMF0ucGFnZVgsby55PW1FdmVudC50b3VjaGVzWzBdLnBhZ2VZKTooby54PW1FdmVudC5jbGllbnRYLG8ueT1tRXZlbnQuY2xpZW50WSksb30sT3JiaXRhbENvbnRyb2w9ZnVuY3Rpb24oKXtmdW5jdGlvbiBPcmJpdGFsQ29udHJvbChtVGFyZ2V0KXt2YXIgX3RoaXM9dGhpcyxtTGlzdGVuZXJUYXJnZXQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOndpbmRvdyxtUmFkaXVzPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTo1MDA7X2NsYXNzQ2FsbENoZWNrKHRoaXMsT3JiaXRhbENvbnRyb2wpLHRoaXMuX3RhcmdldD1tVGFyZ2V0LHRoaXMuX2xpc3RlbmVyVGFyZ2V0PW1MaXN0ZW5lclRhcmdldCx0aGlzLl9tb3VzZT17fSx0aGlzLl9wcmVNb3VzZT17fSx0aGlzLmNlbnRlcj1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSx0aGlzLl91cD1fZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDAsMSwwKSx0aGlzLnJhZGl1cz1uZXcgX0Vhc2VOdW1iZXIyLmRlZmF1bHQobVJhZGl1cyksdGhpcy5wb3NpdGlvbj1fZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDAsMCx0aGlzLnJhZGl1cy52YWx1ZSksdGhpcy5wb3NpdGlvbk9mZnNldD1fZ2xNYXRyaXgudmVjMy5jcmVhdGUoKSx0aGlzLl9yeD1uZXcgX0Vhc2VOdW1iZXIyLmRlZmF1bHQoMCksdGhpcy5fcngubGltaXQoLU1hdGguUEkvMixNYXRoLlBJLzIpLHRoaXMuX3J5PW5ldyBfRWFzZU51bWJlcjIuZGVmYXVsdCgwKSx0aGlzLl9wcmVSWD0wLHRoaXMuX3ByZVJZPTAsdGhpcy5faXNMb2NrWm9vbT0hMSx0aGlzLl9pc0xvY2tSb3RhdGlvbj0hMSx0aGlzLl9pc0ludmVydD0hMSx0aGlzLnNlbnNpdGl2aXR5PTEsdGhpcy5fd2hlZWxCaW5kPWZ1bmN0aW9uKGUpe3JldHVybiBfdGhpcy5fb25XaGVlbChlKX0sdGhpcy5fZG93bkJpbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIF90aGlzLl9vbkRvd24oZSl9LHRoaXMuX21vdmVCaW5kPWZ1bmN0aW9uKGUpe3JldHVybiBfdGhpcy5fb25Nb3ZlKGUpfSx0aGlzLl91cEJpbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMuX29uVXAoKX0sdGhpcy5jb25uZWN0KCksX3NjaGVkdWxpbmcyLmRlZmF1bHQuYWRkRUYoZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMuX2xvb3AoKX0pfXJldHVybiBfY3JlYXRlQ2xhc3MoT3JiaXRhbENvbnRyb2wsW3trZXk6XCJjb25uZWN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmRpc2Nvbm5lY3QoKSx0aGlzLl9saXN0ZW5lclRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V3aGVlbFwiLHRoaXMuX3doZWVsQmluZCksdGhpcy5fbGlzdGVuZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTU1vdXNlU2Nyb2xsXCIsdGhpcy5fd2hlZWxCaW5kKSx0aGlzLl9saXN0ZW5lclRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5fZG93bkJpbmQpLHRoaXMuX2xpc3RlbmVyVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5fZG93bkJpbmQpLHRoaXMuX2xpc3RlbmVyVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLl9tb3ZlQmluZCksdGhpcy5fbGlzdGVuZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMuX21vdmVCaW5kKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5fdXBCaW5kKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLl91cEJpbmQpfX0se2tleTpcImRpc2Nvbm5lY3RcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2xpc3RlbmVyVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXdoZWVsXCIsdGhpcy5fd2hlZWxCaW5kKSx0aGlzLl9saXN0ZW5lclRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NTW91c2VTY3JvbGxcIix0aGlzLl93aGVlbEJpbmQpLHRoaXMuX2xpc3RlbmVyVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLl9kb3duQmluZCksdGhpcy5fbGlzdGVuZXJUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLl9kb3duQmluZCksdGhpcy5fbGlzdGVuZXJUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuX21vdmVCaW5kKSx0aGlzLl9saXN0ZW5lclRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5fbW92ZUJpbmQpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0aGlzLl91cEJpbmQpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuX3VwQmluZCl9fSx7a2V5OlwibG9ja1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIG1WYWx1ZT0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdO3RoaXMuX2lzTG9ja1pvb209bVZhbHVlLHRoaXMuX2lzTG9ja1JvdGF0aW9uPW1WYWx1ZSx0aGlzLl9pc01vdXNlRG93bj0hMX19LHtrZXk6XCJsb2NrWm9vbVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIG1WYWx1ZT0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdO3RoaXMuX2lzTG9ja1pvb209bVZhbHVlfX0se2tleTpcImxvY2tSb3RhdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIG1WYWx1ZT0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdO3RoaXMuX2lzTG9ja1JvdGF0aW9uPW1WYWx1ZX19LHtrZXk6XCJpbnZlcnNlQ29udHJvbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGlzSW52ZXJ0PSEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF07dGhpcy5faXNJbnZlcnQ9aXNJbnZlcnR9fSx7a2V5OlwiX29uRG93blwiLHZhbHVlOmZ1bmN0aW9uKG1FdmVudCl7dGhpcy5faXNMb2NrUm90YXRpb258fCh0aGlzLl9pc01vdXNlRG93bj0hMCxnZXRNb3VzZShtRXZlbnQsdGhpcy5fbW91c2UpLGdldE1vdXNlKG1FdmVudCx0aGlzLl9wcmVNb3VzZSksdGhpcy5fcHJlUlg9dGhpcy5fcngudGFyZ2V0VmFsdWUsdGhpcy5fcHJlUlk9dGhpcy5fcnkudGFyZ2V0VmFsdWUpfX0se2tleTpcIl9vbk1vdmVcIix2YWx1ZTpmdW5jdGlvbihtRXZlbnQpe2lmKCF0aGlzLl9pc0xvY2tSb3RhdGlvbiYmKGdldE1vdXNlKG1FdmVudCx0aGlzLl9tb3VzZSksbUV2ZW50LnRvdWNoZXMmJm1FdmVudC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2lzTW91c2VEb3duKSl7dmFyIGRpZmZYPS0odGhpcy5fbW91c2UueC10aGlzLl9wcmVNb3VzZS54KTt0aGlzLl9pc0ludmVydCYmKGRpZmZYKj0tMSksdGhpcy5fcnkudmFsdWU9dGhpcy5fcHJlUlktLjAxKmRpZmZYKnRoaXMuc2Vuc2l0aXZpdHk7dmFyIGRpZmZZPS0odGhpcy5fbW91c2UueS10aGlzLl9wcmVNb3VzZS55KTt0aGlzLl9pc0ludmVydCYmKGRpZmZZKj0tMSksdGhpcy5fcngudmFsdWU9dGhpcy5fcHJlUlgtLjAxKmRpZmZZKnRoaXMuc2Vuc2l0aXZpdHl9fX0se2tleTpcIl9vblVwXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9pc0xvY2tSb3RhdGlvbnx8KHRoaXMuX2lzTW91c2VEb3duPSExKX19LHtrZXk6XCJfb25XaGVlbFwiLHZhbHVlOmZ1bmN0aW9uKG1FdmVudCl7aWYoIXRoaXMuX2lzTG9ja1pvb20pe3ZhciB3PW1FdmVudC53aGVlbERlbHRhLGQ9bUV2ZW50LmRldGFpbCx2YWx1ZT0wO3ZhbHVlPWQ/dz93L2QvNDAqZD4wPzE6LTE6LWQvMzp3LzEyMCx0aGlzLnJhZGl1cy5hZGQoMiotdmFsdWUpfX19LHtrZXk6XCJfbG9vcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlUG9zaXRpb24oKSx0aGlzLl90YXJnZXQmJnRoaXMuX3VwZGF0ZUNhbWVyYSgpfX0se2tleTpcIl91cGRhdGVQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wb3NpdGlvblsxXT1NYXRoLnNpbih0aGlzLl9yeC52YWx1ZSkqdGhpcy5yYWRpdXMudmFsdWU7dmFyIHRyPU1hdGguY29zKHRoaXMuX3J4LnZhbHVlKSp0aGlzLnJhZGl1cy52YWx1ZTt0aGlzLnBvc2l0aW9uWzBdPU1hdGguY29zKHRoaXMuX3J5LnZhbHVlKy41Kk1hdGguUEkpKnRyLHRoaXMucG9zaXRpb25bMl09TWF0aC5zaW4odGhpcy5fcnkudmFsdWUrLjUqTWF0aC5QSSkqdHIsX2dsTWF0cml4LnZlYzMuYWRkKHRoaXMucG9zaXRpb24sdGhpcy5wb3NpdGlvbix0aGlzLnBvc2l0aW9uT2Zmc2V0KX19LHtrZXk6XCJfdXBkYXRlQ2FtZXJhXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl90YXJnZXQubG9va0F0KHRoaXMucG9zaXRpb24sdGhpcy5jZW50ZXIsdGhpcy5fdXApfX0se2tleTpcInJ4XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J4fX0se2tleTpcInJ5XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J5fX1dKSxPcmJpdGFsQ29udHJvbH0oKTtleHBvcnRzLmRlZmF1bHQ9T3JiaXRhbENvbnRyb2x9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFjYWxsfHxcIm9iamVjdFwiIT10eXBlb2YgY2FsbCYmXCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbD9zZWxmOmNhbGx9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN1cGVyQ2xhc3MmJm51bGwhPT1zdXBlckNsYXNzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBzdXBlckNsYXNzKTtzdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHN1cGVyQ2xhc3MmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfQ2FtZXJhMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDE1KSxfQ2FtZXJhMz1mdW5jdGlvbihvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fShfQ2FtZXJhMiksX2dsTWF0cml4PV9fd2VicGFja19yZXF1aXJlX18oMSksQ2FtZXJhT3J0aG89ZnVuY3Rpb24oX0NhbWVyYSl7ZnVuY3Rpb24gQ2FtZXJhT3J0aG8oKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxDYW1lcmFPcnRobyk7dmFyIF90aGlzPV9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsKENhbWVyYU9ydGhvLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKENhbWVyYU9ydGhvKSkuY2FsbCh0aGlzKSksZXllPV9nbE1hdHJpeC52ZWMzLmNsb25lKFswLDAsMTVdKSxjZW50ZXI9X2dsTWF0cml4LnZlYzMuY3JlYXRlKCksdXA9X2dsTWF0cml4LnZlYzMuY2xvbmUoWzAsLTEsMF0pO3JldHVybiBfdGhpcy5sb29rQXQoZXllLGNlbnRlcix1cCksX3RoaXMub3J0aG8oMSwtMSwxLC0xKSxfdGhpc31yZXR1cm4gX2luaGVyaXRzKENhbWVyYU9ydGhvLF9DYW1lcmEpLF9jcmVhdGVDbGFzcyhDYW1lcmFPcnRobyxbe2tleTpcInNldEJvdW5kYXJ5XCIsdmFsdWU6ZnVuY3Rpb24obGVmdCxyaWdodCx0b3AsYm90dG9tKXt2YXIgbmVhcj1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06LjEsZmFyPWFyZ3VtZW50cy5sZW5ndGg+NSYmdm9pZCAwIT09YXJndW1lbnRzWzVdP2FyZ3VtZW50c1s1XToxMDA7dGhpcy5vcnRobyhsZWZ0LHJpZ2h0LHRvcCxib3R0b20sbmVhcixmYXIpfX0se2tleTpcIm9ydGhvXCIsdmFsdWU6ZnVuY3Rpb24obGVmdCxyaWdodCx0b3AsYm90dG9tKXt2YXIgbmVhcj1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06LjEsZmFyPWFyZ3VtZW50cy5sZW5ndGg+NSYmdm9pZCAwIT09YXJndW1lbnRzWzVdP2FyZ3VtZW50c1s1XToxMDA7dGhpcy5sZWZ0PWxlZnQsdGhpcy5yaWdodD1yaWdodCx0aGlzLnRvcD10b3AsdGhpcy5ib3R0b209Ym90dG9tLG1hdDQub3J0aG8odGhpcy5fcHJvamVjdGlvbixsZWZ0LHJpZ2h0LHRvcCxib3R0b20sbmVhcixmYXIpfX1dKSxDYW1lcmFPcnRob30oX0NhbWVyYTMuZGVmYXVsdCk7ZXhwb3J0cy5kZWZhdWx0PUNhbWVyYU9ydGhvfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfZ2xNYXRyaXg9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxPYmplY3QzRD1mdW5jdGlvbigpe2Z1bmN0aW9uIE9iamVjdDNEKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsT2JqZWN0M0QpLHRoaXMuX25lZWRVcGRhdGU9ITAsdGhpcy5feD0wLHRoaXMuX3k9MCx0aGlzLl96PTAsdGhpcy5fc3g9MSx0aGlzLl9zeT0xLHRoaXMuX3N6PTEsdGhpcy5fcng9MCx0aGlzLl9yeT0wLHRoaXMuX3J6PTAsdGhpcy5fcG9zaXRpb249X2dsTWF0cml4LnZlYzMuY3JlYXRlKCksdGhpcy5fc2NhbGU9X2dsTWF0cml4LnZlYzMuZnJvbVZhbHVlcygxLDEsMSksdGhpcy5fcm90YXRpb249X2dsTWF0cml4LnZlYzMuY3JlYXRlKCksdGhpcy5fbWF0cml4PV9nbE1hdHJpeC5tYXQ0LmNyZWF0ZSgpLHRoaXMuX21hdHJpeFJvdGF0aW9uPV9nbE1hdHJpeC5tYXQ0LmNyZWF0ZSgpLHRoaXMuX21hdHJpeFNjYWxlPV9nbE1hdHJpeC5tYXQ0LmNyZWF0ZSgpLHRoaXMuX21hdHJpeFRyYW5zbGF0aW9uPV9nbE1hdHJpeC5tYXQ0LmNyZWF0ZSgpLHRoaXMuX21hdHJpeFF1YXRlcm5pb249X2dsTWF0cml4Lm1hdDQuY3JlYXRlKCksdGhpcy5fcXVhdD1fZ2xNYXRyaXgucXVhdC5jcmVhdGUoKX1yZXR1cm4gX2NyZWF0ZUNsYXNzKE9iamVjdDNELFt7a2V5OlwiX3VwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7X2dsTWF0cml4LnZlYzMuc2V0KHRoaXMuX3NjYWxlLHRoaXMuX3N4LHRoaXMuX3N5LHRoaXMuX3N6KSxfZ2xNYXRyaXgudmVjMy5zZXQodGhpcy5fcm90YXRpb24sdGhpcy5fcngsdGhpcy5fcnksdGhpcy5fcnopLF9nbE1hdHJpeC52ZWMzLnNldCh0aGlzLl9wb3NpdGlvbix0aGlzLl94LHRoaXMuX3ksdGhpcy5feiksX2dsTWF0cml4Lm1hdDQuaWRlbnRpdHkodGhpcy5fbWF0cml4VHJhbnNsYXRpb24sdGhpcy5fbWF0cml4VHJhbnNsYXRpb24pLF9nbE1hdHJpeC5tYXQ0LmlkZW50aXR5KHRoaXMuX21hdHJpeFNjYWxlLHRoaXMuX21hdHJpeFNjYWxlKSxfZ2xNYXRyaXgubWF0NC5pZGVudGl0eSh0aGlzLl9tYXRyaXhSb3RhdGlvbix0aGlzLl9tYXRyaXhSb3RhdGlvbiksX2dsTWF0cml4Lm1hdDQucm90YXRlWCh0aGlzLl9tYXRyaXhSb3RhdGlvbix0aGlzLl9tYXRyaXhSb3RhdGlvbix0aGlzLl9yeCksX2dsTWF0cml4Lm1hdDQucm90YXRlWSh0aGlzLl9tYXRyaXhSb3RhdGlvbix0aGlzLl9tYXRyaXhSb3RhdGlvbix0aGlzLl9yeSksX2dsTWF0cml4Lm1hdDQucm90YXRlWih0aGlzLl9tYXRyaXhSb3RhdGlvbix0aGlzLl9tYXRyaXhSb3RhdGlvbix0aGlzLl9yeiksX2dsTWF0cml4Lm1hdDQuZnJvbVF1YXQodGhpcy5fbWF0cml4UXVhdGVybmlvbix0aGlzLl9xdWF0KSxfZ2xNYXRyaXgubWF0NC5tdWwodGhpcy5fbWF0cml4Um90YXRpb24sdGhpcy5fbWF0cml4UXVhdGVybmlvbix0aGlzLl9tYXRyaXhSb3RhdGlvbiksX2dsTWF0cml4Lm1hdDQuc2NhbGUodGhpcy5fbWF0cml4U2NhbGUsdGhpcy5fbWF0cml4U2NhbGUsdGhpcy5fc2NhbGUpLF9nbE1hdHJpeC5tYXQ0LnRyYW5zbGF0ZSh0aGlzLl9tYXRyaXhUcmFuc2xhdGlvbix0aGlzLl9tYXRyaXhUcmFuc2xhdGlvbix0aGlzLl9wb3NpdGlvbiksX2dsTWF0cml4Lm1hdDQubXVsKHRoaXMuX21hdHJpeCx0aGlzLl9tYXRyaXhUcmFuc2xhdGlvbix0aGlzLl9tYXRyaXhSb3RhdGlvbiksX2dsTWF0cml4Lm1hdDQubXVsKHRoaXMuX21hdHJpeCx0aGlzLl9tYXRyaXgsdGhpcy5fbWF0cml4U2NhbGUpLHRoaXMuX25lZWRVcGRhdGU9ITF9fSx7a2V5Olwic2V0Um90YXRpb25Gcm9tUXVhdGVybmlvblwiLHZhbHVlOmZ1bmN0aW9uKG1RdWF0KXtfZ2xNYXRyaXgucXVhdC5jb3B5KHRoaXMuX3F1YXQsbVF1YXQpLHRoaXMuX25lZWRVcGRhdGU9ITB9fSx7a2V5OlwibWF0cml4XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25lZWRVcGRhdGUmJnRoaXMuX3VwZGF0ZSgpLHRoaXMuX21hdHJpeH19LHtrZXk6XCJ4XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3h9LHNldDpmdW5jdGlvbihtVmFsdWUpe3RoaXMuX25lZWRVcGRhdGU9ITAsdGhpcy5feD1tVmFsdWV9fSx7a2V5OlwieVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl95fSxzZXQ6ZnVuY3Rpb24obVZhbHVlKXt0aGlzLl9uZWVkVXBkYXRlPSEwLHRoaXMuX3k9bVZhbHVlfX0se2tleTpcInpcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fen0sc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7dGhpcy5fbmVlZFVwZGF0ZT0hMCx0aGlzLl96PW1WYWx1ZX19LHtrZXk6XCJzY2FsZVhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3h9LHNldDpmdW5jdGlvbihtVmFsdWUpe3RoaXMuX25lZWRVcGRhdGU9ITAsdGhpcy5fc3g9bVZhbHVlfX0se2tleTpcInNjYWxlWVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeX0sc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7dGhpcy5fbmVlZFVwZGF0ZT0hMCx0aGlzLl9zeT1tVmFsdWV9fSx7a2V5Olwic2NhbGVaXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N6fSxzZXQ6ZnVuY3Rpb24obVZhbHVlKXt0aGlzLl9uZWVkVXBkYXRlPSEwLHRoaXMuX3N6PW1WYWx1ZX19LHtrZXk6XCJyb3RhdGlvblhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcnh9LHNldDpmdW5jdGlvbihtVmFsdWUpe3RoaXMuX25lZWRVcGRhdGU9ITAsdGhpcy5fcng9bVZhbHVlfX0se2tleTpcInJvdGF0aW9uWVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yeX0sc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7dGhpcy5fbmVlZFVwZGF0ZT0hMCx0aGlzLl9yeT1tVmFsdWV9fSx7a2V5Olwicm90YXRpb25aXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J6fSxzZXQ6ZnVuY3Rpb24obVZhbHVlKXt0aGlzLl9uZWVkVXBkYXRlPSEwLHRoaXMuX3J6PW1WYWx1ZX19XSksT2JqZWN0M0R9KCk7ZXhwb3J0cy5kZWZhdWx0PU9iamVjdDNEfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9zaW1wbGVDb2xvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSxfc2ltcGxlQ29sb3IyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NpbXBsZUNvbG9yKSxfYmlnVHJpYW5nbGU9X193ZWJwYWNrX3JlcXVpcmVfXygxOCksX2JpZ1RyaWFuZ2xlMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iaWdUcmlhbmdsZSksX2dlbmVyYWw9X193ZWJwYWNrX3JlcXVpcmVfXygzMyksX2dlbmVyYWwyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dlbmVyYWwpLF9jb3B5PV9fd2VicGFja19yZXF1aXJlX18oMTkpLF9jb3B5Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb3B5KSxfYmFzaWM9X193ZWJwYWNrX3JlcXVpcmVfXygxMSksX2Jhc2ljMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iYXNpYyksX3NreWJveD1fX3dlYnBhY2tfcmVxdWlyZV9fKDM0KSxfc2t5Ym94Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9za3lib3gpLF9za3lib3gzPV9fd2VicGFja19yZXF1aXJlX18oMzUpLF9za3lib3g0PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NreWJveDMpLFNoYWRlckxpYnM9e3NpbXBsZUNvbG9yRnJhZzpfc2ltcGxlQ29sb3IyLmRlZmF1bHQsYmlnVHJpYW5nbGVWZXJ0Ol9iaWdUcmlhbmdsZTIuZGVmYXVsdCxnZW5lcmFsVmVydDpfZ2VuZXJhbDIuZGVmYXVsdCxjb3B5RnJhZzpfY29weTIuZGVmYXVsdCxiYXNpY1ZlcnQ6X2Jhc2ljMi5kZWZhdWx0LHNreWJveFZlcnQ6X3NreWJveDIuZGVmYXVsdCxza3lib3hGcmFnOl9za3lib3g0LmRlZmF1bHR9O2V4cG9ydHMuZGVmYXVsdD1TaGFkZXJMaWJzfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9XCIvLyBnZW5lcmFsV2l0aE5vcm1hbC52ZXJ0XFxuXFxuI2RlZmluZSBTSEFERVJfTkFNRSBHRU5FUkFMX1ZFUlRFWFxcblxcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4jZGVmaW5lIEdMU0xJRlkgMVxcbmF0dHJpYnV0ZSB2ZWMzIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcbmF0dHJpYnV0ZSB2ZWMzIGFOb3JtYWw7XFxuXFxudW5pZm9ybSBtYXQ0IHVNb2RlbE1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVZpZXdNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVQcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB1Tm9ybWFsTWF0cml4O1xcblxcbnVuaWZvcm0gdmVjMyBwb3NpdGlvbjtcXG51bmlmb3JtIHZlYzMgc2NhbGU7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG5cXHR2ZWMzIHBvcyAgICAgID0gYVZlcnRleFBvc2l0aW9uICogc2NhbGU7XFxuXFx0cG9zICAgICAgICAgICArPSBwb3NpdGlvbjtcXG5cXHRnbF9Qb3NpdGlvbiAgID0gdVByb2plY3Rpb25NYXRyaXggKiB1Vmlld01hdHJpeCAqIHVNb2RlbE1hdHJpeCAqIHZlYzQocG9zLCAxLjApO1xcblxcdFxcblxcdHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcblxcdHZOb3JtYWwgICAgICAgPSBub3JtYWxpemUodU5vcm1hbE1hdHJpeCAqIGFOb3JtYWwpO1xcbn1cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPVwiLy8gYmFzaWMudmVydFxcblxcbiNkZWZpbmUgU0hBREVSX05BTUUgU0tZQk9YX1ZFUlRFWFxcblxcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4jZGVmaW5lIEdMU0xJRlkgMVxcbmF0dHJpYnV0ZSB2ZWMzIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcbmF0dHJpYnV0ZSB2ZWMzIGFOb3JtYWw7XFxuXFxudW5pZm9ybSBtYXQ0IHVNb2RlbE1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVZpZXdNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVQcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjMyB2VmVydGV4O1xcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuXFx0bWF0NCBtYXRWaWV3ID0gdVZpZXdNYXRyaXg7XFxuXFx0bWF0Vmlld1szXVswXSA9IDAuMDtcXG5cXHRtYXRWaWV3WzNdWzFdID0gMC4wO1xcblxcdG1hdFZpZXdbM11bMl0gPSAwLjA7XFxuXFx0XFxuXFx0Z2xfUG9zaXRpb24gPSB1UHJvamVjdGlvbk1hdHJpeCAqIG1hdFZpZXcgKiB1TW9kZWxNYXRyaXggKiB2ZWM0KGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKTtcXG5cXHR2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcXG5cXHRcXG5cXHR2VmVydGV4ID0gYVZlcnRleFBvc2l0aW9uO1xcblxcdHZOb3JtYWwgPSBhTm9ybWFsO1xcbn1cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPVwiLy8gYmFzaWMuZnJhZ1xcblxcbiNkZWZpbmUgU0hBREVSX05BTUUgU0tZQk9YX0ZSQUdNRU5UXFxuXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG51bmlmb3JtIHNhbXBsZXJDdWJlIHRleHR1cmU7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWMzIHZWZXJ0ZXg7XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZUN1YmUodGV4dHVyZSwgdlZlcnRleCk7XFxufVwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxQYXNzTWFjcm89ZnVuY3Rpb24oKXtmdW5jdGlvbiBQYXNzTWFjcm8oKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxQYXNzTWFjcm8pLHRoaXMuX3Bhc3Nlcz1bXX1yZXR1cm4gX2NyZWF0ZUNsYXNzKFBhc3NNYWNybyxbe2tleTpcImFkZFBhc3NcIix2YWx1ZTpmdW5jdGlvbihwYXNzKXt0aGlzLl9wYXNzZXMucHVzaChwYXNzKX19LHtrZXk6XCJwYXNzZXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFzc2VzfX1dKSxQYXNzTWFjcm99KCk7ZXhwb3J0cy5kZWZhdWx0PVBhc3NNYWNyb30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfUGFzc0JsdXJCYXNlMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDM4KSxfUGFzc0JsdXJCYXNlMz1mdW5jdGlvbihvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fShfUGFzc0JsdXJCYXNlMiksUGFzc1ZCbHVyPWZ1bmN0aW9uKF9QYXNzQmx1ckJhc2Upe2Z1bmN0aW9uIFBhc3NWQmx1cigpe3ZhciBtUXVhbGl0eT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06OSxtV2lkdGg9YXJndW1lbnRzWzFdLG1IZWlnaHQ9YXJndW1lbnRzWzJdLG1QYXJhbXM9YXJndW1lbnRzWzNdO3JldHVybiBfY2xhc3NDYWxsQ2hlY2sodGhpcyxQYXNzVkJsdXIpLF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsKFBhc3NWQmx1ci5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihQYXNzVkJsdXIpKS5jYWxsKHRoaXMsbVF1YWxpdHksWzAsMV0sbVdpZHRoLG1IZWlnaHQsbVBhcmFtcykpfXJldHVybiBfaW5oZXJpdHMoUGFzc1ZCbHVyLF9QYXNzQmx1ckJhc2UpLFBhc3NWQmx1cn0oX1Bhc3NCbHVyQmFzZTMuZGVmYXVsdCk7ZXhwb3J0cy5kZWZhdWx0PVBhc3NWQmx1cn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFjYWxsfHxcIm9iamVjdFwiIT10eXBlb2YgY2FsbCYmXCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbD9zZWxmOmNhbGx9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN1cGVyQ2xhc3MmJm51bGwhPT1zdXBlckNsYXNzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBzdXBlckNsYXNzKTtzdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHN1cGVyQ2xhc3MmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVG9vbCksX1Bhc3MyPV9fd2VicGFja19yZXF1aXJlX18oOSksX1Bhc3MzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Bhc3MyKSxmc0JsdXI1PV9fd2VicGFja19yZXF1aXJlX18oNzMpLGZzQmx1cjk9X193ZWJwYWNrX3JlcXVpcmVfXyg3NCksZnNCbHVyMTM9X193ZWJwYWNrX3JlcXVpcmVfXyg3NSksUGFzc0JsdXJCYXNlPWZ1bmN0aW9uKF9QYXNzKXtmdW5jdGlvbiBQYXNzQmx1ckJhc2UoKXt2YXIgbVF1YWxpdHk9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjksbURpcmVjdGlvbj1hcmd1bWVudHNbMV0sbVdpZHRoPWFyZ3VtZW50c1syXSxtSGVpZ2h0PWFyZ3VtZW50c1szXSxtUGFyYW1zPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTp7fTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxQYXNzQmx1ckJhc2UpO3ZhciBmcz12b2lkIDA7c3dpdGNoKG1RdWFsaXR5KXtjYXNlIDU6ZGVmYXVsdDpmcz1mc0JsdXI1O2JyZWFrO2Nhc2UgOTpmcz1mc0JsdXI5O2JyZWFrO2Nhc2UgMTM6ZnM9ZnNCbHVyMTN9dmFyIF90aGlzPV9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsKFBhc3NCbHVyQmFzZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihQYXNzQmx1ckJhc2UpKS5jYWxsKHRoaXMsZnMsbVdpZHRoLG1IZWlnaHQsbVBhcmFtcykpO3JldHVybiBfdGhpcy51bmlmb3JtKFwidURpcmVjdGlvblwiLG1EaXJlY3Rpb24pLF90aGlzLnVuaWZvcm0oXCJ1UmVzb2x1dGlvblwiLFtfR0xUb29sMi5kZWZhdWx0LndpZHRoLF9HTFRvb2wyLmRlZmF1bHQuaGVpZ2h0XSksX3RoaXN9cmV0dXJuIF9pbmhlcml0cyhQYXNzQmx1ckJhc2UsX1Bhc3MpLFBhc3NCbHVyQmFzZX0oX1Bhc3MzLmRlZmF1bHQpO2V4cG9ydHMuZGVmYXVsdD1QYXNzQmx1ckJhc2V9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFjYWxsfHxcIm9iamVjdFwiIT10eXBlb2YgY2FsbCYmXCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbD9zZWxmOmNhbGx9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN1cGVyQ2xhc3MmJm51bGwhPT1zdXBlckNsYXNzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBzdXBlckNsYXNzKTtzdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHN1cGVyQ2xhc3MmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX1Bhc3NCbHVyQmFzZTI9X193ZWJwYWNrX3JlcXVpcmVfXygzOCksX1Bhc3NCbHVyQmFzZTM9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX0oX1Bhc3NCbHVyQmFzZTIpLFBhc3NIQmx1cj1mdW5jdGlvbihfUGFzc0JsdXJCYXNlKXtmdW5jdGlvbiBQYXNzSEJsdXIoKXt2YXIgbVF1YWxpdHk9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjksbVdpZHRoPWFyZ3VtZW50c1sxXSxtSGVpZ2h0PWFyZ3VtZW50c1syXSxtUGFyYW1zPWFyZ3VtZW50c1szXTtyZXR1cm4gX2NsYXNzQ2FsbENoZWNrKHRoaXMsUGFzc0hCbHVyKSxfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChQYXNzSEJsdXIuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoUGFzc0hCbHVyKSkuY2FsbCh0aGlzLG1RdWFsaXR5LFsxLDBdLG1XaWR0aCxtSGVpZ2h0LG1QYXJhbXMpKX1yZXR1cm4gX2luaGVyaXRzKFBhc3NIQmx1cixfUGFzc0JsdXJCYXNlKSxQYXNzSEJsdXJ9KF9QYXNzQmx1ckJhc2UzLmRlZmF1bHQpO2V4cG9ydHMuZGVmYXVsdD1QYXNzSEJsdXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1cIi8vIGZ4YWEuZnJhZ1xcblxcbiNkZWZpbmUgU0hBREVSX05BTUUgRlhBQVxcblxcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4jZGVmaW5lIEdMU0xJRlkgMVxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7XFxudW5pZm9ybSB2ZWMyIHVSZXNvbHV0aW9uO1xcblxcblxcbmZsb2F0IEZYQUFfU1VCUElYX1NISUZUID0gMS4wLzQuMDtcXG4jZGVmaW5lIEZYQUFfUkVEVUNFX01JTiAgICgxLjAvIDEyOC4wKVxcbiNkZWZpbmUgRlhBQV9SRURVQ0VfTVVMICAgKDEuMCAvIDguMClcXG4jZGVmaW5lIEZYQUFfU1BBTl9NQVggICAgIDguMFxcblxcblxcbnZlYzQgYXBwbHlGWEFBKHNhbXBsZXIyRCB0ZXgpIHtcXG4gICAgdmVjNCBjb2xvcjtcXG4gICAgdmVjMiBmcmFnQ29vcmQgPSBnbF9GcmFnQ29vcmQueHk7XFxuICAgIHZlYzMgcmdiTlcgPSB0ZXh0dXJlMkQodGV4LCAoZnJhZ0Nvb3JkICsgdmVjMigtMS4wLCAtMS4wKSkgKiB1UmVzb2x1dGlvbikueHl6O1xcbiAgICB2ZWMzIHJnYk5FID0gdGV4dHVyZTJEKHRleCwgKGZyYWdDb29yZCArIHZlYzIoMS4wLCAtMS4wKSkgKiB1UmVzb2x1dGlvbikueHl6O1xcbiAgICB2ZWMzIHJnYlNXID0gdGV4dHVyZTJEKHRleCwgKGZyYWdDb29yZCArIHZlYzIoLTEuMCwgMS4wKSkgKiB1UmVzb2x1dGlvbikueHl6O1xcbiAgICB2ZWMzIHJnYlNFID0gdGV4dHVyZTJEKHRleCwgKGZyYWdDb29yZCArIHZlYzIoMS4wLCAxLjApKSAqIHVSZXNvbHV0aW9uKS54eXo7XFxuICAgIHZlYzMgcmdiTSAgPSB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgICogdVJlc29sdXRpb24pLnh5ejtcXG4gICAgdmVjMyBsdW1hID0gdmVjMygwLjI5OSwgMC41ODcsIDAuMTE0KTtcXG4gICAgZmxvYXQgbHVtYU5XID0gZG90KHJnYk5XLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU5FID0gZG90KHJnYk5FLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYVNXID0gZG90KHJnYlNXLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYVNFID0gZG90KHJnYlNFLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU0gID0gZG90KHJnYk0sICBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU1pbiA9IG1pbihsdW1hTSwgbWluKG1pbihsdW1hTlcsIGx1bWFORSksIG1pbihsdW1hU1csIGx1bWFTRSkpKTtcXG4gICAgZmxvYXQgbHVtYU1heCA9IG1heChsdW1hTSwgbWF4KG1heChsdW1hTlcsIGx1bWFORSksIG1heChsdW1hU1csIGx1bWFTRSkpKTtcXG5cXG4gICAgdmVjMiBkaXI7XFxuICAgIGRpci54ID0gLSgobHVtYU5XICsgbHVtYU5FKSAtIChsdW1hU1cgKyBsdW1hU0UpKTtcXG4gICAgZGlyLnkgPSAgKChsdW1hTlcgKyBsdW1hU1cpIC0gKGx1bWFORSArIGx1bWFTRSkpO1xcblxcbiAgICBmbG9hdCBkaXJSZWR1Y2UgPSBtYXgoKGx1bWFOVyArIGx1bWFORSArIGx1bWFTVyArIGx1bWFTRSkgKlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKDAuMjUgKiBGWEFBX1JFRFVDRV9NVUwpLCBGWEFBX1JFRFVDRV9NSU4pO1xcblxcbiAgICBmbG9hdCByY3BEaXJNaW4gPSAxLjAgLyAobWluKGFicyhkaXIueCksIGFicyhkaXIueSkpICsgZGlyUmVkdWNlKTtcXG4gICAgZGlyID0gbWluKHZlYzIoRlhBQV9TUEFOX01BWCwgRlhBQV9TUEFOX01BWCksXFxuICAgICAgICAgICAgICBtYXgodmVjMigtRlhBQV9TUEFOX01BWCwgLUZYQUFfU1BBTl9NQVgpLFxcbiAgICAgICAgICAgICAgZGlyICogcmNwRGlyTWluKSkgKiB1UmVzb2x1dGlvbjtcXG5cXG4gICAgdmVjMyByZ2JBID0gMC41ICogKFxcbiAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogdVJlc29sdXRpb24gKyBkaXIgKiAoMS4wIC8gMy4wIC0gMC41KSkueHl6ICtcXG4gICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIHVSZXNvbHV0aW9uICsgZGlyICogKDIuMCAvIDMuMCAtIDAuNSkpLnh5eik7XFxuICAgIHZlYzMgcmdiQiA9IHJnYkEgKiAwLjUgKyAwLjI1ICogKFxcbiAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogdVJlc29sdXRpb24gKyBkaXIgKiAtMC41KS54eXogK1xcbiAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogdVJlc29sdXRpb24gKyBkaXIgKiAwLjUpLnh5eik7XFxuXFxuICAgIGZsb2F0IGx1bWFCID0gZG90KHJnYkIsIGx1bWEpO1xcbiAgICBpZiAoKGx1bWFCIDwgbHVtYU1pbikgfHwgKGx1bWFCID4gbHVtYU1heCkpXFxuICAgICAgICBjb2xvciA9IHZlYzQocmdiQSwgMS4wKTtcXG4gICAgZWxzZVxcbiAgICAgICAgY29sb3IgPSB2ZWM0KHJnYkIsIDEuMCk7XFxuICAgIHJldHVybiBjb2xvcjtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG4gXFx0dmVjNCBjb2xvciA9IGFwcGx5RlhBQSh0ZXh0dXJlKTtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxufVwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5TaGFkZXJMaWJzPWV4cG9ydHMuVmlldzNEPWV4cG9ydHMuVmlldz1leHBvcnRzLlNjZW5lPWV4cG9ydHMuQmF0Y2hGWEFBPWV4cG9ydHMuQmF0Y2hTa3k9ZXhwb3J0cy5CYXRjaFNreWJveD1leHBvcnRzLkJhdGNoTGluZT1leHBvcnRzLkJhdGNoRG90c1BsYW5lPWV4cG9ydHMuQmF0Y2hCYWxsPWV4cG9ydHMuQmF0Y2hBeGlzPWV4cG9ydHMuQmF0Y2hDb3B5PWV4cG9ydHMuUGFzc0Z4YWE9ZXhwb3J0cy5QYXNzSEJsdXI9ZXhwb3J0cy5QYXNzVkJsdXI9ZXhwb3J0cy5QYXNzQmx1cj1leHBvcnRzLlBhc3NNYWNybz1leHBvcnRzLlBhc3M9ZXhwb3J0cy5FZmZlY3RDb21wb3Nlcj1leHBvcnRzLkNvbGxhZGFQYXJzZXI9ZXhwb3J0cy5IRFJMb2FkZXI9ZXhwb3J0cy5PYmpMb2FkZXI9ZXhwb3J0cy5CaW5hcnlMb2FkZXI9ZXhwb3J0cy5PYmplY3QzRD1leHBvcnRzLlJheT1leHBvcnRzLkNhbWVyYUN1YmU9ZXhwb3J0cy5DYW1lcmFQZXJzcGVjdGl2ZT1leHBvcnRzLkNhbWVyYU9ydGhvPWV4cG9ydHMuQ2FtZXJhPWV4cG9ydHMuVG91Y2hEZXRlY3Rvcj1leHBvcnRzLlF1YXRSb3RhdGlvbj1leHBvcnRzLldlYmdsTnVtYmVyPWV4cG9ydHMuT3JiaXRhbENvbnRyb2w9ZXhwb3J0cy5Ud2Vlbk51bWJlcj1leHBvcnRzLkVhc2VOdW1iZXI9ZXhwb3J0cy5FdmVudERpc3BhdGNoZXI9ZXhwb3J0cy5TY2hlZHVsZXI9ZXhwb3J0cy5UcmFuc2Zvcm1GZWVkYmFja09iamVjdD1leHBvcnRzLk11bHRpc2FtcGxlRnJhbWVCdWZmZXI9ZXhwb3J0cy5DdWJlRnJhbWVCdWZmZXI9ZXhwb3J0cy5GcmFtZUJ1ZmZlcj1leHBvcnRzLkJhdGNoPWV4cG9ydHMuR2VvbT1leHBvcnRzLk1lc2g9ZXhwb3J0cy5HTEN1YmVUZXh0dXJlPWV4cG9ydHMuR0xUZXh0dXJlT2xkPWV4cG9ydHMuR0xUZXh0dXJlPWV4cG9ydHMuR0xTaGFkZXI9ZXhwb3J0cy5HTD12b2lkIDA7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX2dsTWF0cml4PV9fd2VicGFja19yZXF1aXJlX18oMSksR0xNPWZ1bmN0aW9uKG9iail7aWYob2JqJiZvYmouX19lc01vZHVsZSlyZXR1cm4gb2JqO3ZhciBuZXdPYmo9e307aWYobnVsbCE9b2JqKWZvcih2YXIga2V5IGluIG9iailPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLGtleSkmJihuZXdPYmpba2V5XT1vYmpba2V5XSk7cmV0dXJuIG5ld09iai5kZWZhdWx0PW9iaixuZXdPYmp9KF9nbE1hdHJpeCksX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVG9vbCksX0dMU2hhZGVyPV9fd2VicGFja19yZXF1aXJlX18oMiksX0dMU2hhZGVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFNoYWRlciksX0dMVGV4dHVyZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDI1KSxfR0xUZXh0dXJlMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRleHR1cmUpLF9HTFRleHR1cmUzPV9fd2VicGFja19yZXF1aXJlX18oMjYpLF9HTFRleHR1cmU0PV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVGV4dHVyZTMpLF9HTEN1YmVUZXh0dXJlPV9fd2VicGFja19yZXF1aXJlX18oMjcpLF9HTEN1YmVUZXh0dXJlMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTEN1YmVUZXh0dXJlKSxfTWVzaD1fX3dlYnBhY2tfcmVxdWlyZV9fKDUpLF9NZXNoMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NZXNoKSxfR2VvbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpLF9HZW9tMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HZW9tKSxfQmF0Y2g9X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxfQmF0Y2gyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JhdGNoKSxfRnJhbWVCdWZmZXI9X193ZWJwYWNrX3JlcXVpcmVfXygxMiksX0ZyYW1lQnVmZmVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GcmFtZUJ1ZmZlciksX0N1YmVGcmFtZUJ1ZmZlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDU2KSxfQ3ViZUZyYW1lQnVmZmVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DdWJlRnJhbWVCdWZmZXIpLF9NdWx0aXNhbXBsZUZyYW1lQnVmZmVyPV9fd2VicGFja19yZXF1aXJlX18oNTcpLF9NdWx0aXNhbXBsZUZyYW1lQnVmZmVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NdWx0aXNhbXBsZUZyYW1lQnVmZmVyKSxfVHJhbnNmb3JtRmVlZGJhY2tPYmplY3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg1OCksX1RyYW5zZm9ybUZlZWRiYWNrT2JqZWN0Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UcmFuc2Zvcm1GZWVkYmFja09iamVjdCksX3NjaGVkdWxpbmc9X193ZWJwYWNrX3JlcXVpcmVfXyg2KSxfc2NoZWR1bGluZzI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2NoZWR1bGluZyksX0V2ZW50RGlzcGF0Y2hlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDI4KSxfRXZlbnREaXNwYXRjaGVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FdmVudERpc3BhdGNoZXIpLF9FYXNlTnVtYmVyPV9fd2VicGFja19yZXF1aXJlX18oMTMpLF9FYXNlTnVtYmVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FYXNlTnVtYmVyKSxfVHdlZW5OdW1iZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg1OSksX1R3ZWVuTnVtYmVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ud2Vlbk51bWJlciksX09yYml0YWxDb250cm9sPV9fd2VicGFja19yZXF1aXJlX18oMjkpLF9PcmJpdGFsQ29udHJvbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT3JiaXRhbENvbnRyb2wpLF9RdWF0Um90YXRpb249X193ZWJwYWNrX3JlcXVpcmVfXyg2MCksX1F1YXRSb3RhdGlvbjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUXVhdFJvdGF0aW9uKSxfVG91Y2hEZXRlY3Rvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDYxKSxfVG91Y2hEZXRlY3RvcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVG91Y2hEZXRlY3RvciksX1dlYmdsTnVtYmVyPV9fd2VicGFja19yZXF1aXJlX18oOCksX1dlYmdsTnVtYmVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJnbE51bWJlciksX1dlYmdsQ29uc3Q9X193ZWJwYWNrX3JlcXVpcmVfXygyMyksX0NhbWVyYT0oX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2ViZ2xDb25zdCksX193ZWJwYWNrX3JlcXVpcmVfXygxNSkpLF9DYW1lcmEyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbWVyYSksX0NhbWVyYU9ydGhvPV9fd2VicGFja19yZXF1aXJlX18oMzApLF9DYW1lcmFPcnRobzI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FtZXJhT3J0aG8pLF9DYW1lcmFQZXJzcGVjdGl2ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE2KSxfQ2FtZXJhUGVyc3BlY3RpdmUyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbWVyYVBlcnNwZWN0aXZlKSxfQ2FtZXJhQ3ViZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDYzKSxfQ2FtZXJhQ3ViZTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FtZXJhQ3ViZSksX1JheT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0KSxfUmF5Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SYXkpLF9PYmplY3QzRD1fX3dlYnBhY2tfcmVxdWlyZV9fKDMxKSxfT2JqZWN0M0QyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09iamVjdDNEKSxfQmluYXJ5TG9hZGVyPV9fd2VicGFja19yZXF1aXJlX18oMTcpLF9CaW5hcnlMb2FkZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JpbmFyeUxvYWRlciksX09iakxvYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDY0KSxfT2JqTG9hZGVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PYmpMb2FkZXIpLF9IRFJMb2FkZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg2NSksX0hEUkxvYWRlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSERSTG9hZGVyKSxfQ29sbGFkYVBhcnNlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDY3KSxfQ29sbGFkYVBhcnNlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29sbGFkYVBhcnNlciksX0VmZmVjdENvbXBvc2VyPV9fd2VicGFja19yZXF1aXJlX18oNzEpLF9FZmZlY3RDb21wb3NlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRWZmZWN0Q29tcG9zZXIpLF9QYXNzPV9fd2VicGFja19yZXF1aXJlX18oOSksX1Bhc3MyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Bhc3MpLF9QYXNzTWFjcm89X193ZWJwYWNrX3JlcXVpcmVfXygzNiksX1Bhc3NNYWNybzI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFzc01hY3JvKSxfUGFzc0JsdXI9X193ZWJwYWNrX3JlcXVpcmVfXyg3MiksX1Bhc3NCbHVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXNzQmx1ciksX1Bhc3NWQmx1cj1fX3dlYnBhY2tfcmVxdWlyZV9fKDM3KSxfUGFzc1ZCbHVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXNzVkJsdXIpLF9QYXNzSEJsdXI9X193ZWJwYWNrX3JlcXVpcmVfXygzOSksX1Bhc3NIQmx1cjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFzc0hCbHVyKSxfUGFzc0Z4YWE9X193ZWJwYWNrX3JlcXVpcmVfXyg3NiksX1Bhc3NGeGFhMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXNzRnhhYSksX0JhdGNoQ29weT1fX3dlYnBhY2tfcmVxdWlyZV9fKDc3KSxfQmF0Y2hDb3B5Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXRjaENvcHkpLF9CYXRjaEF4aXM9X193ZWJwYWNrX3JlcXVpcmVfXyg3OCksX0JhdGNoQXhpczI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmF0Y2hBeGlzKSxfQmF0Y2hCYWxsPV9fd2VicGFja19yZXF1aXJlX18oODEpLF9CYXRjaEJhbGwyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JhdGNoQmFsbCksX0JhdGNoRG90c1BsYW5lPV9fd2VicGFja19yZXF1aXJlX18oODIpLF9CYXRjaERvdHNQbGFuZTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmF0Y2hEb3RzUGxhbmUpLF9CYXRjaExpbmU9X193ZWJwYWNrX3JlcXVpcmVfXyg4NCksX0JhdGNoTGluZTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmF0Y2hMaW5lKSxfQmF0Y2hTa3lib3g9X193ZWJwYWNrX3JlcXVpcmVfXyg4NSksX0JhdGNoU2t5Ym94Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXRjaFNreWJveCksX0JhdGNoU2t5PV9fd2VicGFja19yZXF1aXJlX18oODYpLF9CYXRjaFNreTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmF0Y2hTa3kpLF9CYXRjaEZYQUE9X193ZWJwYWNrX3JlcXVpcmVfXyg4OCksX0JhdGNoRlhBQTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmF0Y2hGWEFBKSxfU2NlbmU9X193ZWJwYWNrX3JlcXVpcmVfXyg4OSksX1NjZW5lMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TY2VuZSksX1ZpZXc9X193ZWJwYWNrX3JlcXVpcmVfXyg5MCksX1ZpZXcyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1ZpZXcpLF9WaWV3M0Q9X193ZWJwYWNrX3JlcXVpcmVfXyg5MSksX1ZpZXczRDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVmlldzNEKSxfU2hhZGVyTGlicz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMyKSxfU2hhZGVyTGliczI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2hhZGVyTGlicyksQWxmcmlkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQWxmcmlkKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQWxmcmlkKSx0aGlzLmdsbT1HTE0sdGhpcy5HTD1fR0xUb29sMi5kZWZhdWx0LHRoaXMuR0xUb29sPV9HTFRvb2wyLmRlZmF1bHQsdGhpcy5HTFNoYWRlcj1fR0xTaGFkZXIyLmRlZmF1bHQsdGhpcy5HTFRleHR1cmU9X0dMVGV4dHVyZTQuZGVmYXVsdCx0aGlzLkdMVGV4dHVyZU9sZD1fR0xUZXh0dXJlMi5kZWZhdWx0LHRoaXMuR0xDdWJlVGV4dHVyZT1fR0xDdWJlVGV4dHVyZTIuZGVmYXVsdCx0aGlzLk1lc2g9X01lc2gyLmRlZmF1bHQsdGhpcy5HZW9tPV9HZW9tMi5kZWZhdWx0LHRoaXMuQmF0Y2g9X0JhdGNoMi5kZWZhdWx0LHRoaXMuRnJhbWVCdWZmZXI9X0ZyYW1lQnVmZmVyMi5kZWZhdWx0LHRoaXMuQ3ViZUZyYW1lQnVmZmVyPV9DdWJlRnJhbWVCdWZmZXIyLmRlZmF1bHQsdGhpcy5TY2hlZHVsZXI9X3NjaGVkdWxpbmcyLmRlZmF1bHQsdGhpcy5FdmVudERpc3BhdGNoZXI9X0V2ZW50RGlzcGF0Y2hlcjIuZGVmYXVsdCx0aGlzLkVhc2VOdW1iZXI9X0Vhc2VOdW1iZXIyLmRlZmF1bHQsdGhpcy5Ud2Vlbk51bWJlcj1fVHdlZW5OdW1iZXIyLmRlZmF1bHQsdGhpcy5DYW1lcmE9X0NhbWVyYTIuZGVmYXVsdCx0aGlzLkNhbWVyYU9ydGhvPV9DYW1lcmFPcnRobzIuZGVmYXVsdCx0aGlzLkNhbWVyYVBlcnNwZWN0aXZlPV9DYW1lcmFQZXJzcGVjdGl2ZTIuZGVmYXVsdCx0aGlzLlJheT1fUmF5Mi5kZWZhdWx0LHRoaXMuQ2FtZXJhQ3ViZT1fQ2FtZXJhQ3ViZTIuZGVmYXVsdCx0aGlzLk9yYml0YWxDb250cm9sPV9PcmJpdGFsQ29udHJvbDIuZGVmYXVsdCx0aGlzLlF1YXRSb3RhdGlvbj1fUXVhdFJvdGF0aW9uMi5kZWZhdWx0LHRoaXMuQmluYXJ5TG9hZGVyPV9CaW5hcnlMb2FkZXIyLmRlZmF1bHQsdGhpcy5PYmpMb2FkZXI9X09iakxvYWRlcjIuZGVmYXVsdCx0aGlzLkNvbGxhZGFQYXJzZXI9X0NvbGxhZGFQYXJzZXIyLmRlZmF1bHQsdGhpcy5IRFJMb2FkZXI9X0hEUkxvYWRlcjIuZGVmYXVsdCx0aGlzLkJhdGNoQ29weT1fQmF0Y2hDb3B5Mi5kZWZhdWx0LHRoaXMuQmF0Y2hBeGlzPV9CYXRjaEF4aXMyLmRlZmF1bHQsdGhpcy5CYXRjaEJhbGw9X0JhdGNoQmFsbDIuZGVmYXVsdCx0aGlzLkJhdGNoQmFsbD1fQmF0Y2hCYWxsMi5kZWZhdWx0LHRoaXMuQmF0Y2hMaW5lPV9CYXRjaExpbmUyLmRlZmF1bHQsdGhpcy5CYXRjaFNreWJveD1fQmF0Y2hTa3lib3gyLmRlZmF1bHQsdGhpcy5CYXRjaFNreT1fQmF0Y2hTa3kyLmRlZmF1bHQsdGhpcy5CYXRjaEZYQUE9X0JhdGNoRlhBQTIuZGVmYXVsdCx0aGlzLkJhdGNoRG90c1BsYW5lPV9CYXRjaERvdHNQbGFuZTIuZGVmYXVsdCx0aGlzLlNjZW5lPV9TY2VuZTIuZGVmYXVsdCx0aGlzLlZpZXc9X1ZpZXcyLmRlZmF1bHQsdGhpcy5WaWV3M0Q9X1ZpZXczRDIuZGVmYXVsdCx0aGlzLk9iamVjdDNEPV9PYmplY3QzRDIuZGVmYXVsdCx0aGlzLlNoYWRlckxpYnM9X1NoYWRlckxpYnMyLmRlZmF1bHQsdGhpcy5XZWJnbE51bWJlcj1fV2ViZ2xOdW1iZXIyLmRlZmF1bHQsdGhpcy5FZmZlY3RDb21wb3Nlcj1fRWZmZWN0Q29tcG9zZXIyLmRlZmF1bHQsdGhpcy5QYXNzPV9QYXNzMi5kZWZhdWx0LHRoaXMuUGFzc01hY3JvPV9QYXNzTWFjcm8yLmRlZmF1bHQsdGhpcy5QYXNzQmx1cj1fUGFzc0JsdXIyLmRlZmF1bHQsdGhpcy5QYXNzVkJsdXI9X1Bhc3NWQmx1cjIuZGVmYXVsdCx0aGlzLlBhc3NIQmx1cj1fUGFzc0hCbHVyMi5kZWZhdWx0LHRoaXMuUGFzc0Z4YWE9X1Bhc3NGeGFhMi5kZWZhdWx0LHRoaXMuTXVsdGlzYW1wbGVGcmFtZUJ1ZmZlcj1fTXVsdGlzYW1wbGVGcmFtZUJ1ZmZlcjIuZGVmYXVsdCx0aGlzLlRyYW5zZm9ybUZlZWRiYWNrT2JqZWN0PV9UcmFuc2Zvcm1GZWVkYmFja09iamVjdDIuZGVmYXVsdDtmb3IodmFyIHMgaW4gR0xNKUdMTVtzXSYmKHdpbmRvd1tzXT1HTE1bc10pfXJldHVybiBfY3JlYXRlQ2xhc3MoQWxmcmlkLFt7a2V5OlwibG9nXCIsdmFsdWU6ZnVuY3Rpb24oKXtuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJDaHJvbWVcIik+LTE/Y29uc29sZS5sb2coXCIlY2xpYiBhbGZyaWQgOiBWRVJTSU9OIDAuMi4wXCIsXCJiYWNrZ3JvdW5kOiAjMTkzNDQxOyBjb2xvcjogI0ZDRkZGNVwiKTpjb25zb2xlLmxvZyhcImxpYiBhbGZyaWQgOiBWRVJTSU9OIFwiLFwiMC4yLjBcIiksY29uc29sZS5sb2coXCIlY0NsYXNzZXMgOiBcIixcImNvbG9yOiAjMTkzNDQxXCIpO2Zvcih2YXIgcyBpbiB0aGlzKXRoaXNbc10mJmNvbnNvbGUubG9nKFwiJWMgLSBcIitzLFwiY29sb3I6ICMzRTYwNkZcIil9fV0pLEFsZnJpZH0oKSxhbD1uZXcgQWxmcmlkO2V4cG9ydHMuZGVmYXVsdD1hbCxleHBvcnRzLkdMPV9HTFRvb2wyLmRlZmF1bHQsZXhwb3J0cy5HTFNoYWRlcj1fR0xTaGFkZXIyLmRlZmF1bHQsZXhwb3J0cy5HTFRleHR1cmU9X0dMVGV4dHVyZTQuZGVmYXVsdCxleHBvcnRzLkdMVGV4dHVyZU9sZD1fR0xUZXh0dXJlMi5kZWZhdWx0LGV4cG9ydHMuR0xDdWJlVGV4dHVyZT1fR0xDdWJlVGV4dHVyZTIuZGVmYXVsdCxleHBvcnRzLk1lc2g9X01lc2gyLmRlZmF1bHQsZXhwb3J0cy5HZW9tPV9HZW9tMi5kZWZhdWx0LGV4cG9ydHMuQmF0Y2g9X0JhdGNoMi5kZWZhdWx0LGV4cG9ydHMuRnJhbWVCdWZmZXI9X0ZyYW1lQnVmZmVyMi5kZWZhdWx0LGV4cG9ydHMuQ3ViZUZyYW1lQnVmZmVyPV9DdWJlRnJhbWVCdWZmZXIyLmRlZmF1bHQsZXhwb3J0cy5NdWx0aXNhbXBsZUZyYW1lQnVmZmVyPV9NdWx0aXNhbXBsZUZyYW1lQnVmZmVyMi5kZWZhdWx0LGV4cG9ydHMuVHJhbnNmb3JtRmVlZGJhY2tPYmplY3Q9X1RyYW5zZm9ybUZlZWRiYWNrT2JqZWN0Mi5kZWZhdWx0LGV4cG9ydHMuU2NoZWR1bGVyPV9zY2hlZHVsaW5nMi5kZWZhdWx0LGV4cG9ydHMuRXZlbnREaXNwYXRjaGVyPV9FdmVudERpc3BhdGNoZXIyLmRlZmF1bHQsZXhwb3J0cy5FYXNlTnVtYmVyPV9FYXNlTnVtYmVyMi5kZWZhdWx0LGV4cG9ydHMuVHdlZW5OdW1iZXI9X1R3ZWVuTnVtYmVyMi5kZWZhdWx0LGV4cG9ydHMuT3JiaXRhbENvbnRyb2w9X09yYml0YWxDb250cm9sMi5kZWZhdWx0LGV4cG9ydHMuV2ViZ2xOdW1iZXI9X1dlYmdsTnVtYmVyMi5kZWZhdWx0LGV4cG9ydHMuUXVhdFJvdGF0aW9uPV9RdWF0Um90YXRpb24yLmRlZmF1bHQsZXhwb3J0cy5Ub3VjaERldGVjdG9yPV9Ub3VjaERldGVjdG9yMi5kZWZhdWx0LGV4cG9ydHMuQ2FtZXJhPV9DYW1lcmEyLmRlZmF1bHQsZXhwb3J0cy5DYW1lcmFPcnRobz1fQ2FtZXJhT3J0aG8yLmRlZmF1bHQsZXhwb3J0cy5DYW1lcmFQZXJzcGVjdGl2ZT1fQ2FtZXJhUGVyc3BlY3RpdmUyLmRlZmF1bHQsZXhwb3J0cy5DYW1lcmFDdWJlPV9DYW1lcmFDdWJlMi5kZWZhdWx0LGV4cG9ydHMuUmF5PV9SYXkyLmRlZmF1bHQsZXhwb3J0cy5PYmplY3QzRD1fT2JqZWN0M0QyLmRlZmF1bHQsZXhwb3J0cy5CaW5hcnlMb2FkZXI9X0JpbmFyeUxvYWRlcjIuZGVmYXVsdCxleHBvcnRzLk9iakxvYWRlcj1fT2JqTG9hZGVyMi5kZWZhdWx0LGV4cG9ydHMuSERSTG9hZGVyPV9IRFJMb2FkZXIyLmRlZmF1bHQsZXhwb3J0cy5Db2xsYWRhUGFyc2VyPV9Db2xsYWRhUGFyc2VyMi5kZWZhdWx0LGV4cG9ydHMuRWZmZWN0Q29tcG9zZXI9X0VmZmVjdENvbXBvc2VyMi5kZWZhdWx0LGV4cG9ydHMuUGFzcz1fUGFzczIuZGVmYXVsdCxleHBvcnRzLlBhc3NNYWNybz1fUGFzc01hY3JvMi5kZWZhdWx0LGV4cG9ydHMuUGFzc0JsdXI9X1Bhc3NCbHVyMi5kZWZhdWx0LGV4cG9ydHMuUGFzc1ZCbHVyPV9QYXNzVkJsdXIyLmRlZmF1bHQsZXhwb3J0cy5QYXNzSEJsdXI9X1Bhc3NIQmx1cjIuZGVmYXVsdCxleHBvcnRzLlBhc3NGeGFhPV9QYXNzRnhhYTIuZGVmYXVsdCxleHBvcnRzLkJhdGNoQ29weT1fQmF0Y2hDb3B5Mi5kZWZhdWx0LGV4cG9ydHMuQmF0Y2hBeGlzPV9CYXRjaEF4aXMyLmRlZmF1bHQsZXhwb3J0cy5CYXRjaEJhbGw9X0JhdGNoQmFsbDIuZGVmYXVsdCxleHBvcnRzLkJhdGNoRG90c1BsYW5lPV9CYXRjaERvdHNQbGFuZTIuZGVmYXVsdCxleHBvcnRzLkJhdGNoTGluZT1fQmF0Y2hMaW5lMi5kZWZhdWx0LGV4cG9ydHMuQmF0Y2hTa3lib3g9X0JhdGNoU2t5Ym94Mi5kZWZhdWx0LGV4cG9ydHMuQmF0Y2hTa3k9X0JhdGNoU2t5Mi5kZWZhdWx0LGV4cG9ydHMuQmF0Y2hGWEFBPV9CYXRjaEZYQUEyLmRlZmF1bHQsZXhwb3J0cy5TY2VuZT1fU2NlbmUyLmRlZmF1bHQsZXhwb3J0cy5WaWV3PV9WaWV3Mi5kZWZhdWx0LGV4cG9ydHMuVmlldzNEPV9WaWV3M0QyLmRlZmF1bHQsZXhwb3J0cy5TaGFkZXJMaWJzPV9TaGFkZXJMaWJzMi5kZWZhdWx0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBjcmVhdGUoKXt2YXIgb3V0PW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO3JldHVybiBvdXRbMF09MSxvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MSxvdXR9ZnVuY3Rpb24gY2xvbmUoYSl7dmFyIG91dD1uZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtyZXR1cm4gb3V0WzBdPWFbMF0sb3V0WzFdPWFbMV0sb3V0WzJdPWFbMl0sb3V0WzNdPWFbM10sb3V0fWZ1bmN0aW9uIGNvcHkob3V0LGEpe3JldHVybiBvdXRbMF09YVswXSxvdXRbMV09YVsxXSxvdXRbMl09YVsyXSxvdXRbM109YVszXSxvdXR9ZnVuY3Rpb24gaWRlbnRpdHkob3V0KXtyZXR1cm4gb3V0WzBdPTEsb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTEsb3V0fWZ1bmN0aW9uIGZyb21WYWx1ZXMobTAwLG0wMSxtMTAsbTExKXt2YXIgb3V0PW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO3JldHVybiBvdXRbMF09bTAwLG91dFsxXT1tMDEsb3V0WzJdPW0xMCxvdXRbM109bTExLG91dH1mdW5jdGlvbiBzZXQob3V0LG0wMCxtMDEsbTEwLG0xMSl7cmV0dXJuIG91dFswXT1tMDAsb3V0WzFdPW0wMSxvdXRbMl09bTEwLG91dFszXT1tMTEsb3V0fWZ1bmN0aW9uIHRyYW5zcG9zZShvdXQsYSl7aWYob3V0PT09YSl7dmFyIGExPWFbMV07b3V0WzFdPWFbMl0sb3V0WzJdPWExfWVsc2Ugb3V0WzBdPWFbMF0sb3V0WzFdPWFbMl0sb3V0WzJdPWFbMV0sb3V0WzNdPWFbM107cmV0dXJuIG91dH1mdW5jdGlvbiBpbnZlcnQob3V0LGEpe3ZhciBhMD1hWzBdLGExPWFbMV0sYTI9YVsyXSxhMz1hWzNdLGRldD1hMCphMy1hMiphMTtyZXR1cm4gZGV0PyhkZXQ9MS9kZXQsb3V0WzBdPWEzKmRldCxvdXRbMV09LWExKmRldCxvdXRbMl09LWEyKmRldCxvdXRbM109YTAqZGV0LG91dCk6bnVsbH1mdW5jdGlvbiBhZGpvaW50KG91dCxhKXt2YXIgYTA9YVswXTtyZXR1cm4gb3V0WzBdPWFbM10sb3V0WzFdPS1hWzFdLG91dFsyXT0tYVsyXSxvdXRbM109YTAsb3V0fWZ1bmN0aW9uIGRldGVybWluYW50KGEpe3JldHVybiBhWzBdKmFbM10tYVsyXSphWzFdfWZ1bmN0aW9uIG11bHRpcGx5KG91dCxhLGIpe3ZhciBhMD1hWzBdLGExPWFbMV0sYTI9YVsyXSxhMz1hWzNdLGIwPWJbMF0sYjE9YlsxXSxiMj1iWzJdLGIzPWJbM107cmV0dXJuIG91dFswXT1hMCpiMCthMipiMSxvdXRbMV09YTEqYjArYTMqYjEsb3V0WzJdPWEwKmIyK2EyKmIzLG91dFszXT1hMSpiMithMypiMyxvdXR9ZnVuY3Rpb24gcm90YXRlKG91dCxhLHJhZCl7dmFyIGEwPWFbMF0sYTE9YVsxXSxhMj1hWzJdLGEzPWFbM10scz1NYXRoLnNpbihyYWQpLGM9TWF0aC5jb3MocmFkKTtyZXR1cm4gb3V0WzBdPWEwKmMrYTIqcyxvdXRbMV09YTEqYythMypzLG91dFsyXT1hMCotcythMipjLG91dFszXT1hMSotcythMypjLG91dH1mdW5jdGlvbiBzY2FsZShvdXQsYSx2KXt2YXIgYTA9YVswXSxhMT1hWzFdLGEyPWFbMl0sYTM9YVszXSx2MD12WzBdLHYxPXZbMV07cmV0dXJuIG91dFswXT1hMCp2MCxvdXRbMV09YTEqdjAsb3V0WzJdPWEyKnYxLG91dFszXT1hMyp2MSxvdXR9ZnVuY3Rpb24gZnJvbVJvdGF0aW9uKG91dCxyYWQpe3ZhciBzPU1hdGguc2luKHJhZCksYz1NYXRoLmNvcyhyYWQpO3JldHVybiBvdXRbMF09YyxvdXRbMV09cyxvdXRbMl09LXMsb3V0WzNdPWMsb3V0fWZ1bmN0aW9uIGZyb21TY2FsaW5nKG91dCx2KXtyZXR1cm4gb3V0WzBdPXZbMF0sb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPXZbMV0sb3V0fWZ1bmN0aW9uIHN0cihhKXtyZXR1cm5cIm1hdDIoXCIrYVswXStcIiwgXCIrYVsxXStcIiwgXCIrYVsyXStcIiwgXCIrYVszXStcIilcIn1mdW5jdGlvbiBmcm9iKGEpe3JldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coYVswXSwyKStNYXRoLnBvdyhhWzFdLDIpK01hdGgucG93KGFbMl0sMikrTWF0aC5wb3coYVszXSwyKSl9ZnVuY3Rpb24gTERVKEwsRCxVLGEpe3JldHVybiBMWzJdPWFbMl0vYVswXSxVWzBdPWFbMF0sVVsxXT1hWzFdLFVbM109YVszXS1MWzJdKlVbMV0sW0wsRCxVXX1mdW5jdGlvbiBhZGQob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdK2JbMF0sb3V0WzFdPWFbMV0rYlsxXSxvdXRbMl09YVsyXStiWzJdLG91dFszXT1hWzNdK2JbM10sb3V0fWZ1bmN0aW9uIHN1YnRyYWN0KG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXS1iWzBdLG91dFsxXT1hWzFdLWJbMV0sb3V0WzJdPWFbMl0tYlsyXSxvdXRbM109YVszXS1iWzNdLG91dH1mdW5jdGlvbiBleGFjdEVxdWFscyhhLGIpe3JldHVybiBhWzBdPT09YlswXSYmYVsxXT09PWJbMV0mJmFbMl09PT1iWzJdJiZhWzNdPT09YlszXX1mdW5jdGlvbiBlcXVhbHMoYSxiKXt2YXIgYTA9YVswXSxhMT1hWzFdLGEyPWFbMl0sYTM9YVszXSxiMD1iWzBdLGIxPWJbMV0sYjI9YlsyXSxiMz1iWzNdO3JldHVybiBNYXRoLmFicyhhMC1iMCk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMCksTWF0aC5hYnMoYjApKSYmTWF0aC5hYnMoYTEtYjEpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTEpLE1hdGguYWJzKGIxKSkmJk1hdGguYWJzKGEyLWIyKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEyKSxNYXRoLmFicyhiMikpJiZNYXRoLmFicyhhMy1iMyk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMyksTWF0aC5hYnMoYjMpKX1mdW5jdGlvbiBtdWx0aXBseVNjYWxhcihvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0qYixvdXRbMV09YVsxXSpiLG91dFsyXT1hWzJdKmIsb3V0WzNdPWFbM10qYixvdXR9ZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXJBbmRBZGQob3V0LGEsYixzY2FsZSl7cmV0dXJuIG91dFswXT1hWzBdK2JbMF0qc2NhbGUsb3V0WzFdPWFbMV0rYlsxXSpzY2FsZSxvdXRbMl09YVsyXStiWzJdKnNjYWxlLG91dFszXT1hWzNdK2JbM10qc2NhbGUsb3V0fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuc3ViPWV4cG9ydHMubXVsPXZvaWQgMCxleHBvcnRzLmNyZWF0ZT1jcmVhdGUsZXhwb3J0cy5jbG9uZT1jbG9uZSxleHBvcnRzLmNvcHk9Y29weSxleHBvcnRzLmlkZW50aXR5PWlkZW50aXR5LGV4cG9ydHMuZnJvbVZhbHVlcz1mcm9tVmFsdWVzLGV4cG9ydHMuc2V0PXNldCxleHBvcnRzLnRyYW5zcG9zZT10cmFuc3Bvc2UsZXhwb3J0cy5pbnZlcnQ9aW52ZXJ0LGV4cG9ydHMuYWRqb2ludD1hZGpvaW50LGV4cG9ydHMuZGV0ZXJtaW5hbnQ9ZGV0ZXJtaW5hbnQsZXhwb3J0cy5tdWx0aXBseT1tdWx0aXBseSxleHBvcnRzLnJvdGF0ZT1yb3RhdGUsZXhwb3J0cy5zY2FsZT1zY2FsZSxleHBvcnRzLmZyb21Sb3RhdGlvbj1mcm9tUm90YXRpb24sZXhwb3J0cy5mcm9tU2NhbGluZz1mcm9tU2NhbGluZyxleHBvcnRzLnN0cj1zdHIsZXhwb3J0cy5mcm9iPWZyb2IsZXhwb3J0cy5MRFU9TERVLGV4cG9ydHMuYWRkPWFkZCxleHBvcnRzLnN1YnRyYWN0PXN1YnRyYWN0LGV4cG9ydHMuZXhhY3RFcXVhbHM9ZXhhY3RFcXVhbHMsZXhwb3J0cy5lcXVhbHM9ZXF1YWxzLGV4cG9ydHMubXVsdGlwbHlTY2FsYXI9bXVsdGlwbHlTY2FsYXIsZXhwb3J0cy5tdWx0aXBseVNjYWxhckFuZEFkZD1tdWx0aXBseVNjYWxhckFuZEFkZDt2YXIgX2NvbW1vbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLGdsTWF0cml4PWZ1bmN0aW9uKG9iail7aWYob2JqJiZvYmouX19lc01vZHVsZSlyZXR1cm4gb2JqO3ZhciBuZXdPYmo9e307aWYobnVsbCE9b2JqKWZvcih2YXIga2V5IGluIG9iailPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLGtleSkmJihuZXdPYmpba2V5XT1vYmpba2V5XSk7cmV0dXJuIG5ld09iai5kZWZhdWx0PW9iaixuZXdPYmp9KF9jb21tb24pO2V4cG9ydHMubXVsPW11bHRpcGx5LGV4cG9ydHMuc3ViPXN1YnRyYWN0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBjcmVhdGUoKXt2YXIgb3V0PW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDYpO3JldHVybiBvdXRbMF09MSxvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MSxvdXRbNF09MCxvdXRbNV09MCxvdXR9ZnVuY3Rpb24gY2xvbmUoYSl7dmFyIG91dD1uZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg2KTtyZXR1cm4gb3V0WzBdPWFbMF0sb3V0WzFdPWFbMV0sb3V0WzJdPWFbMl0sb3V0WzNdPWFbM10sb3V0WzRdPWFbNF0sb3V0WzVdPWFbNV0sb3V0fWZ1bmN0aW9uIGNvcHkob3V0LGEpe3JldHVybiBvdXRbMF09YVswXSxvdXRbMV09YVsxXSxvdXRbMl09YVsyXSxvdXRbM109YVszXSxvdXRbNF09YVs0XSxvdXRbNV09YVs1XSxvdXR9ZnVuY3Rpb24gaWRlbnRpdHkob3V0KXtyZXR1cm4gb3V0WzBdPTEsb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTEsb3V0WzRdPTAsb3V0WzVdPTAsb3V0fWZ1bmN0aW9uIGZyb21WYWx1ZXMoYSxiLGMsZCx0eCx0eSl7dmFyIG91dD1uZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg2KTtyZXR1cm4gb3V0WzBdPWEsb3V0WzFdPWIsb3V0WzJdPWMsb3V0WzNdPWQsb3V0WzRdPXR4LG91dFs1XT10eSxvdXR9ZnVuY3Rpb24gc2V0KG91dCxhLGIsYyxkLHR4LHR5KXtyZXR1cm4gb3V0WzBdPWEsb3V0WzFdPWIsb3V0WzJdPWMsb3V0WzNdPWQsb3V0WzRdPXR4LG91dFs1XT10eSxvdXR9ZnVuY3Rpb24gaW52ZXJ0KG91dCxhKXt2YXIgYWE9YVswXSxhYj1hWzFdLGFjPWFbMl0sYWQ9YVszXSxhdHg9YVs0XSxhdHk9YVs1XSxkZXQ9YWEqYWQtYWIqYWM7cmV0dXJuIGRldD8oZGV0PTEvZGV0LG91dFswXT1hZCpkZXQsb3V0WzFdPS1hYipkZXQsb3V0WzJdPS1hYypkZXQsb3V0WzNdPWFhKmRldCxvdXRbNF09KGFjKmF0eS1hZCphdHgpKmRldCxvdXRbNV09KGFiKmF0eC1hYSphdHkpKmRldCxvdXQpOm51bGx9ZnVuY3Rpb24gZGV0ZXJtaW5hbnQoYSl7cmV0dXJuIGFbMF0qYVszXS1hWzFdKmFbMl19ZnVuY3Rpb24gbXVsdGlwbHkob3V0LGEsYil7dmFyIGEwPWFbMF0sYTE9YVsxXSxhMj1hWzJdLGEzPWFbM10sYTQ9YVs0XSxhNT1hWzVdLGIwPWJbMF0sYjE9YlsxXSxiMj1iWzJdLGIzPWJbM10sYjQ9Yls0XSxiNT1iWzVdO3JldHVybiBvdXRbMF09YTAqYjArYTIqYjEsb3V0WzFdPWExKmIwK2EzKmIxLG91dFsyXT1hMCpiMithMipiMyxvdXRbM109YTEqYjIrYTMqYjMsb3V0WzRdPWEwKmI0K2EyKmI1K2E0LG91dFs1XT1hMSpiNCthMypiNSthNSxvdXR9ZnVuY3Rpb24gcm90YXRlKG91dCxhLHJhZCl7dmFyIGEwPWFbMF0sYTE9YVsxXSxhMj1hWzJdLGEzPWFbM10sYTQ9YVs0XSxhNT1hWzVdLHM9TWF0aC5zaW4ocmFkKSxjPU1hdGguY29zKHJhZCk7cmV0dXJuIG91dFswXT1hMCpjK2EyKnMsb3V0WzFdPWExKmMrYTMqcyxvdXRbMl09YTAqLXMrYTIqYyxvdXRbM109YTEqLXMrYTMqYyxvdXRbNF09YTQsb3V0WzVdPWE1LG91dH1mdW5jdGlvbiBzY2FsZShvdXQsYSx2KXt2YXIgYTA9YVswXSxhMT1hWzFdLGEyPWFbMl0sYTM9YVszXSxhND1hWzRdLGE1PWFbNV0sdjA9dlswXSx2MT12WzFdO3JldHVybiBvdXRbMF09YTAqdjAsb3V0WzFdPWExKnYwLG91dFsyXT1hMip2MSxvdXRbM109YTMqdjEsb3V0WzRdPWE0LG91dFs1XT1hNSxvdXR9ZnVuY3Rpb24gdHJhbnNsYXRlKG91dCxhLHYpe3ZhciBhMD1hWzBdLGExPWFbMV0sYTI9YVsyXSxhMz1hWzNdLGE0PWFbNF0sYTU9YVs1XSx2MD12WzBdLHYxPXZbMV07cmV0dXJuIG91dFswXT1hMCxvdXRbMV09YTEsb3V0WzJdPWEyLG91dFszXT1hMyxvdXRbNF09YTAqdjArYTIqdjErYTQsb3V0WzVdPWExKnYwK2EzKnYxK2E1LG91dH1mdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LHJhZCl7dmFyIHM9TWF0aC5zaW4ocmFkKSxjPU1hdGguY29zKHJhZCk7cmV0dXJuIG91dFswXT1jLG91dFsxXT1zLG91dFsyXT0tcyxvdXRbM109YyxvdXRbNF09MCxvdXRbNV09MCxvdXR9ZnVuY3Rpb24gZnJvbVNjYWxpbmcob3V0LHYpe3JldHVybiBvdXRbMF09dlswXSxvdXRbMV09MCxvdXRbMl09MCxvdXRbM109dlsxXSxvdXRbNF09MCxvdXRbNV09MCxvdXR9ZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCx2KXtyZXR1cm4gb3V0WzBdPTEsb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTEsb3V0WzRdPXZbMF0sb3V0WzVdPXZbMV0sb3V0fWZ1bmN0aW9uIHN0cihhKXtyZXR1cm5cIm1hdDJkKFwiK2FbMF0rXCIsIFwiK2FbMV0rXCIsIFwiK2FbMl0rXCIsIFwiK2FbM10rXCIsIFwiK2FbNF0rXCIsIFwiK2FbNV0rXCIpXCJ9ZnVuY3Rpb24gZnJvYihhKXtyZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGFbMF0sMikrTWF0aC5wb3coYVsxXSwyKStNYXRoLnBvdyhhWzJdLDIpK01hdGgucG93KGFbM10sMikrTWF0aC5wb3coYVs0XSwyKStNYXRoLnBvdyhhWzVdLDIpKzEpfWZ1bmN0aW9uIGFkZChvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0rYlswXSxvdXRbMV09YVsxXStiWzFdLG91dFsyXT1hWzJdK2JbMl0sb3V0WzNdPWFbM10rYlszXSxvdXRbNF09YVs0XStiWzRdLG91dFs1XT1hWzVdK2JbNV0sb3V0fWZ1bmN0aW9uIHN1YnRyYWN0KG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXS1iWzBdLG91dFsxXT1hWzFdLWJbMV0sb3V0WzJdPWFbMl0tYlsyXSxvdXRbM109YVszXS1iWzNdLG91dFs0XT1hWzRdLWJbNF0sb3V0WzVdPWFbNV0tYls1XSxvdXR9ZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdKmIsb3V0WzFdPWFbMV0qYixvdXRbMl09YVsyXSpiLG91dFszXT1hWzNdKmIsb3V0WzRdPWFbNF0qYixvdXRbNV09YVs1XSpiLG91dH1mdW5jdGlvbiBtdWx0aXBseVNjYWxhckFuZEFkZChvdXQsYSxiLHNjYWxlKXtyZXR1cm4gb3V0WzBdPWFbMF0rYlswXSpzY2FsZSxvdXRbMV09YVsxXStiWzFdKnNjYWxlLG91dFsyXT1hWzJdK2JbMl0qc2NhbGUsb3V0WzNdPWFbM10rYlszXSpzY2FsZSxvdXRbNF09YVs0XStiWzRdKnNjYWxlLG91dFs1XT1hWzVdK2JbNV0qc2NhbGUsb3V0fWZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsYil7cmV0dXJuIGFbMF09PT1iWzBdJiZhWzFdPT09YlsxXSYmYVsyXT09PWJbMl0mJmFbM109PT1iWzNdJiZhWzRdPT09Yls0XSYmYVs1XT09PWJbNV19ZnVuY3Rpb24gZXF1YWxzKGEsYil7dmFyIGEwPWFbMF0sYTE9YVsxXSxhMj1hWzJdLGEzPWFbM10sYTQ9YVs0XSxhNT1hWzVdLGIwPWJbMF0sYjE9YlsxXSxiMj1iWzJdLGIzPWJbM10sYjQ9Yls0XSxiNT1iWzVdO3JldHVybiBNYXRoLmFicyhhMC1iMCk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMCksTWF0aC5hYnMoYjApKSYmTWF0aC5hYnMoYTEtYjEpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTEpLE1hdGguYWJzKGIxKSkmJk1hdGguYWJzKGEyLWIyKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEyKSxNYXRoLmFicyhiMikpJiZNYXRoLmFicyhhMy1iMyk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMyksTWF0aC5hYnMoYjMpKSYmTWF0aC5hYnMoYTQtYjQpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTQpLE1hdGguYWJzKGI0KSkmJk1hdGguYWJzKGE1LWI1KTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGE1KSxNYXRoLmFicyhiNSkpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuc3ViPWV4cG9ydHMubXVsPXZvaWQgMCxleHBvcnRzLmNyZWF0ZT1jcmVhdGUsZXhwb3J0cy5jbG9uZT1jbG9uZSxleHBvcnRzLmNvcHk9Y29weSxleHBvcnRzLmlkZW50aXR5PWlkZW50aXR5LGV4cG9ydHMuZnJvbVZhbHVlcz1mcm9tVmFsdWVzLGV4cG9ydHMuc2V0PXNldCxleHBvcnRzLmludmVydD1pbnZlcnQsZXhwb3J0cy5kZXRlcm1pbmFudD1kZXRlcm1pbmFudCxleHBvcnRzLm11bHRpcGx5PW11bHRpcGx5LGV4cG9ydHMucm90YXRlPXJvdGF0ZSxleHBvcnRzLnNjYWxlPXNjYWxlLGV4cG9ydHMudHJhbnNsYXRlPXRyYW5zbGF0ZSxleHBvcnRzLmZyb21Sb3RhdGlvbj1mcm9tUm90YXRpb24sZXhwb3J0cy5mcm9tU2NhbGluZz1mcm9tU2NhbGluZyxleHBvcnRzLmZyb21UcmFuc2xhdGlvbj1mcm9tVHJhbnNsYXRpb24sZXhwb3J0cy5zdHI9c3RyLGV4cG9ydHMuZnJvYj1mcm9iLGV4cG9ydHMuYWRkPWFkZCxleHBvcnRzLnN1YnRyYWN0PXN1YnRyYWN0LGV4cG9ydHMubXVsdGlwbHlTY2FsYXI9bXVsdGlwbHlTY2FsYXIsZXhwb3J0cy5tdWx0aXBseVNjYWxhckFuZEFkZD1tdWx0aXBseVNjYWxhckFuZEFkZCxleHBvcnRzLmV4YWN0RXF1YWxzPWV4YWN0RXF1YWxzLGV4cG9ydHMuZXF1YWxzPWVxdWFsczt2YXIgX2NvbW1vbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLGdsTWF0cml4PWZ1bmN0aW9uKG9iail7aWYob2JqJiZvYmouX19lc01vZHVsZSlyZXR1cm4gb2JqO3ZhciBuZXdPYmo9e307aWYobnVsbCE9b2JqKWZvcih2YXIga2V5IGluIG9iailPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLGtleSkmJihuZXdPYmpba2V5XT1vYmpba2V5XSk7cmV0dXJuIG5ld09iai5kZWZhdWx0PW9iaixuZXdPYmp9KF9jb21tb24pO2V4cG9ydHMubXVsPW11bHRpcGx5LGV4cG9ydHMuc3ViPXN1YnRyYWN0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBjcmVhdGUoKXt2YXIgb3V0PW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtyZXR1cm4gb3V0WzBdPTEsb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTAsb3V0WzRdPTAsb3V0WzVdPTEsb3V0WzZdPTAsb3V0WzddPTAsb3V0WzhdPTAsb3V0WzldPTAsb3V0WzEwXT0xLG91dFsxMV09MCxvdXRbMTJdPTAsb3V0WzEzXT0wLG91dFsxNF09MCxvdXRbMTVdPTEsb3V0fWZ1bmN0aW9uIGNsb25lKGEpe3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO3JldHVybiBvdXRbMF09YVswXSxvdXRbMV09YVsxXSxvdXRbMl09YVsyXSxvdXRbM109YVszXSxvdXRbNF09YVs0XSxvdXRbNV09YVs1XSxvdXRbNl09YVs2XSxvdXRbN109YVs3XSxvdXRbOF09YVs4XSxvdXRbOV09YVs5XSxvdXRbMTBdPWFbMTBdLG91dFsxMV09YVsxMV0sb3V0WzEyXT1hWzEyXSxvdXRbMTNdPWFbMTNdLG91dFsxNF09YVsxNF0sb3V0WzE1XT1hWzE1XSxvdXR9ZnVuY3Rpb24gY29weShvdXQsYSl7cmV0dXJuIG91dFswXT1hWzBdLG91dFsxXT1hWzFdLG91dFsyXT1hWzJdLG91dFszXT1hWzNdLG91dFs0XT1hWzRdLG91dFs1XT1hWzVdLG91dFs2XT1hWzZdLG91dFs3XT1hWzddLG91dFs4XT1hWzhdLG91dFs5XT1hWzldLG91dFsxMF09YVsxMF0sb3V0WzExXT1hWzExXSxvdXRbMTJdPWFbMTJdLG91dFsxM109YVsxM10sb3V0WzE0XT1hWzE0XSxvdXRbMTVdPWFbMTVdLG91dH1mdW5jdGlvbiBmcm9tVmFsdWVzKG0wMCxtMDEsbTAyLG0wMyxtMTAsbTExLG0xMixtMTMsbTIwLG0yMSxtMjIsbTIzLG0zMCxtMzEsbTMyLG0zMyl7dmFyIG91dD1uZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7cmV0dXJuIG91dFswXT1tMDAsb3V0WzFdPW0wMSxvdXRbMl09bTAyLG91dFszXT1tMDMsb3V0WzRdPW0xMCxvdXRbNV09bTExLG91dFs2XT1tMTIsb3V0WzddPW0xMyxvdXRbOF09bTIwLG91dFs5XT1tMjEsb3V0WzEwXT1tMjIsb3V0WzExXT1tMjMsb3V0WzEyXT1tMzAsb3V0WzEzXT1tMzEsb3V0WzE0XT1tMzIsb3V0WzE1XT1tMzMsb3V0fWZ1bmN0aW9uIHNldChvdXQsbTAwLG0wMSxtMDIsbTAzLG0xMCxtMTEsbTEyLG0xMyxtMjAsbTIxLG0yMixtMjMsbTMwLG0zMSxtMzIsbTMzKXtyZXR1cm4gb3V0WzBdPW0wMCxvdXRbMV09bTAxLG91dFsyXT1tMDIsb3V0WzNdPW0wMyxvdXRbNF09bTEwLG91dFs1XT1tMTEsb3V0WzZdPW0xMixvdXRbN109bTEzLG91dFs4XT1tMjAsb3V0WzldPW0yMSxvdXRbMTBdPW0yMixvdXRbMTFdPW0yMyxvdXRbMTJdPW0zMCxvdXRbMTNdPW0zMSxvdXRbMTRdPW0zMixvdXRbMTVdPW0zMyxvdXR9ZnVuY3Rpb24gaWRlbnRpdHkob3V0KXtyZXR1cm4gb3V0WzBdPTEsb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTAsb3V0WzRdPTAsb3V0WzVdPTEsb3V0WzZdPTAsb3V0WzddPTAsb3V0WzhdPTAsb3V0WzldPTAsb3V0WzEwXT0xLG91dFsxMV09MCxvdXRbMTJdPTAsb3V0WzEzXT0wLG91dFsxNF09MCxvdXRbMTVdPTEsb3V0fWZ1bmN0aW9uIHRyYW5zcG9zZShvdXQsYSl7aWYob3V0PT09YSl7dmFyIGEwMT1hWzFdLGEwMj1hWzJdLGEwMz1hWzNdLGExMj1hWzZdLGExMz1hWzddLGEyMz1hWzExXTtvdXRbMV09YVs0XSxvdXRbMl09YVs4XSxvdXRbM109YVsxMl0sb3V0WzRdPWEwMSxvdXRbNl09YVs5XSxvdXRbN109YVsxM10sb3V0WzhdPWEwMixvdXRbOV09YTEyLG91dFsxMV09YVsxNF0sb3V0WzEyXT1hMDMsb3V0WzEzXT1hMTMsb3V0WzE0XT1hMjN9ZWxzZSBvdXRbMF09YVswXSxvdXRbMV09YVs0XSxvdXRbMl09YVs4XSxvdXRbM109YVsxMl0sb3V0WzRdPWFbMV0sb3V0WzVdPWFbNV0sb3V0WzZdPWFbOV0sb3V0WzddPWFbMTNdLG91dFs4XT1hWzJdLG91dFs5XT1hWzZdLG91dFsxMF09YVsxMF0sb3V0WzExXT1hWzE0XSxvdXRbMTJdPWFbM10sb3V0WzEzXT1hWzddLG91dFsxNF09YVsxMV0sb3V0WzE1XT1hWzE1XTtyZXR1cm4gb3V0fWZ1bmN0aW9uIGludmVydChvdXQsYSl7dmFyIGEwMD1hWzBdLGEwMT1hWzFdLGEwMj1hWzJdLGEwMz1hWzNdLGExMD1hWzRdLGExMT1hWzVdLGExMj1hWzZdLGExMz1hWzddLGEyMD1hWzhdLGEyMT1hWzldLGEyMj1hWzEwXSxhMjM9YVsxMV0sYTMwPWFbMTJdLGEzMT1hWzEzXSxhMzI9YVsxNF0sYTMzPWFbMTVdLGIwMD1hMDAqYTExLWEwMSphMTAsYjAxPWEwMCphMTItYTAyKmExMCxiMDI9YTAwKmExMy1hMDMqYTEwLGIwMz1hMDEqYTEyLWEwMiphMTEsYjA0PWEwMSphMTMtYTAzKmExMSxiMDU9YTAyKmExMy1hMDMqYTEyLGIwNj1hMjAqYTMxLWEyMSphMzAsYjA3PWEyMCphMzItYTIyKmEzMCxiMDg9YTIwKmEzMy1hMjMqYTMwLGIwOT1hMjEqYTMyLWEyMiphMzEsYjEwPWEyMSphMzMtYTIzKmEzMSxiMTE9YTIyKmEzMy1hMjMqYTMyLGRldD1iMDAqYjExLWIwMSpiMTArYjAyKmIwOStiMDMqYjA4LWIwNCpiMDcrYjA1KmIwNjtyZXR1cm4gZGV0PyhkZXQ9MS9kZXQsb3V0WzBdPShhMTEqYjExLWExMipiMTArYTEzKmIwOSkqZGV0LG91dFsxXT0oYTAyKmIxMC1hMDEqYjExLWEwMypiMDkpKmRldCxvdXRbMl09KGEzMSpiMDUtYTMyKmIwNCthMzMqYjAzKSpkZXQsb3V0WzNdPShhMjIqYjA0LWEyMSpiMDUtYTIzKmIwMykqZGV0LG91dFs0XT0oYTEyKmIwOC1hMTAqYjExLWExMypiMDcpKmRldCxvdXRbNV09KGEwMCpiMTEtYTAyKmIwOCthMDMqYjA3KSpkZXQsb3V0WzZdPShhMzIqYjAyLWEzMCpiMDUtYTMzKmIwMSkqZGV0LG91dFs3XT0oYTIwKmIwNS1hMjIqYjAyK2EyMypiMDEpKmRldCxvdXRbOF09KGExMCpiMTAtYTExKmIwOCthMTMqYjA2KSpkZXQsb3V0WzldPShhMDEqYjA4LWEwMCpiMTAtYTAzKmIwNikqZGV0LG91dFsxMF09KGEzMCpiMDQtYTMxKmIwMithMzMqYjAwKSpkZXQsb3V0WzExXT0oYTIxKmIwMi1hMjAqYjA0LWEyMypiMDApKmRldCxvdXRbMTJdPShhMTEqYjA3LWExMCpiMDktYTEyKmIwNikqZGV0LG91dFsxM109KGEwMCpiMDktYTAxKmIwNythMDIqYjA2KSpkZXQsb3V0WzE0XT0oYTMxKmIwMS1hMzAqYjAzLWEzMipiMDApKmRldCxvdXRbMTVdPShhMjAqYjAzLWEyMSpiMDErYTIyKmIwMCkqZGV0LG91dCk6bnVsbH1mdW5jdGlvbiBhZGpvaW50KG91dCxhKXt2YXIgYTAwPWFbMF0sYTAxPWFbMV0sYTAyPWFbMl0sYTAzPWFbM10sYTEwPWFbNF0sYTExPWFbNV0sYTEyPWFbNl0sYTEzPWFbN10sYTIwPWFbOF0sYTIxPWFbOV0sYTIyPWFbMTBdLGEyMz1hWzExXSxhMzA9YVsxMl0sYTMxPWFbMTNdLGEzMj1hWzE0XSxhMzM9YVsxNV07cmV0dXJuIG91dFswXT1hMTEqKGEyMiphMzMtYTIzKmEzMiktYTIxKihhMTIqYTMzLWExMyphMzIpK2EzMSooYTEyKmEyMy1hMTMqYTIyKSxvdXRbMV09LShhMDEqKGEyMiphMzMtYTIzKmEzMiktYTIxKihhMDIqYTMzLWEwMyphMzIpK2EzMSooYTAyKmEyMy1hMDMqYTIyKSksb3V0WzJdPWEwMSooYTEyKmEzMy1hMTMqYTMyKS1hMTEqKGEwMiphMzMtYTAzKmEzMikrYTMxKihhMDIqYTEzLWEwMyphMTIpLG91dFszXT0tKGEwMSooYTEyKmEyMy1hMTMqYTIyKS1hMTEqKGEwMiphMjMtYTAzKmEyMikrYTIxKihhMDIqYTEzLWEwMyphMTIpKSxvdXRbNF09LShhMTAqKGEyMiphMzMtYTIzKmEzMiktYTIwKihhMTIqYTMzLWExMyphMzIpK2EzMCooYTEyKmEyMy1hMTMqYTIyKSksb3V0WzVdPWEwMCooYTIyKmEzMy1hMjMqYTMyKS1hMjAqKGEwMiphMzMtYTAzKmEzMikrYTMwKihhMDIqYTIzLWEwMyphMjIpLG91dFs2XT0tKGEwMCooYTEyKmEzMy1hMTMqYTMyKS1hMTAqKGEwMiphMzMtYTAzKmEzMikrYTMwKihhMDIqYTEzLWEwMyphMTIpKSxvdXRbN109YTAwKihhMTIqYTIzLWExMyphMjIpLWExMCooYTAyKmEyMy1hMDMqYTIyKSthMjAqKGEwMiphMTMtYTAzKmExMiksb3V0WzhdPWExMCooYTIxKmEzMy1hMjMqYTMxKS1hMjAqKGExMSphMzMtYTEzKmEzMSkrYTMwKihhMTEqYTIzLWExMyphMjEpLG91dFs5XT0tKGEwMCooYTIxKmEzMy1hMjMqYTMxKS1hMjAqKGEwMSphMzMtYTAzKmEzMSkrYTMwKihhMDEqYTIzLWEwMyphMjEpKSxvdXRbMTBdPWEwMCooYTExKmEzMy1hMTMqYTMxKS1hMTAqKGEwMSphMzMtYTAzKmEzMSkrYTMwKihhMDEqYTEzLWEwMyphMTEpLG91dFsxMV09LShhMDAqKGExMSphMjMtYTEzKmEyMSktYTEwKihhMDEqYTIzLWEwMyphMjEpK2EyMCooYTAxKmExMy1hMDMqYTExKSksb3V0WzEyXT0tKGExMCooYTIxKmEzMi1hMjIqYTMxKS1hMjAqKGExMSphMzItYTEyKmEzMSkrYTMwKihhMTEqYTIyLWExMiphMjEpKSxvdXRbMTNdPWEwMCooYTIxKmEzMi1hMjIqYTMxKS1hMjAqKGEwMSphMzItYTAyKmEzMSkrYTMwKihhMDEqYTIyLWEwMiphMjEpLG91dFsxNF09LShhMDAqKGExMSphMzItYTEyKmEzMSktYTEwKihhMDEqYTMyLWEwMiphMzEpK2EzMCooYTAxKmExMi1hMDIqYTExKSksb3V0WzE1XT1hMDAqKGExMSphMjItYTEyKmEyMSktYTEwKihhMDEqYTIyLWEwMiphMjEpK2EyMCooYTAxKmExMi1hMDIqYTExKSxvdXR9ZnVuY3Rpb24gZGV0ZXJtaW5hbnQoYSl7dmFyIGEwMD1hWzBdLGEwMT1hWzFdLGEwMj1hWzJdLGEwMz1hWzNdLGExMD1hWzRdLGExMT1hWzVdLGExMj1hWzZdLGExMz1hWzddLGEyMD1hWzhdLGEyMT1hWzldLGEyMj1hWzEwXSxhMjM9YVsxMV0sYTMwPWFbMTJdLGEzMT1hWzEzXSxhMzI9YVsxNF0sYTMzPWFbMTVdO3JldHVybihhMDAqYTExLWEwMSphMTApKihhMjIqYTMzLWEyMyphMzIpLShhMDAqYTEyLWEwMiphMTApKihhMjEqYTMzLWEyMyphMzEpKyhhMDAqYTEzLWEwMyphMTApKihhMjEqYTMyLWEyMiphMzEpKyhhMDEqYTEyLWEwMiphMTEpKihhMjAqYTMzLWEyMyphMzApLShhMDEqYTEzLWEwMyphMTEpKihhMjAqYTMyLWEyMiphMzApKyhhMDIqYTEzLWEwMyphMTIpKihhMjAqYTMxLWEyMSphMzApfWZ1bmN0aW9uIG11bHRpcGx5KG91dCxhLGIpe3ZhciBhMDA9YVswXSxhMDE9YVsxXSxhMDI9YVsyXSxhMDM9YVszXSxhMTA9YVs0XSxhMTE9YVs1XSxhMTI9YVs2XSxhMTM9YVs3XSxhMjA9YVs4XSxhMjE9YVs5XSxhMjI9YVsxMF0sYTIzPWFbMTFdLGEzMD1hWzEyXSxhMzE9YVsxM10sYTMyPWFbMTRdLGEzMz1hWzE1XSxiMD1iWzBdLGIxPWJbMV0sYjI9YlsyXSxiMz1iWzNdO3JldHVybiBvdXRbMF09YjAqYTAwK2IxKmExMCtiMiphMjArYjMqYTMwLG91dFsxXT1iMCphMDErYjEqYTExK2IyKmEyMStiMyphMzEsb3V0WzJdPWIwKmEwMitiMSphMTIrYjIqYTIyK2IzKmEzMixvdXRbM109YjAqYTAzK2IxKmExMytiMiphMjMrYjMqYTMzLGIwPWJbNF0sYjE9Yls1XSxiMj1iWzZdLGIzPWJbN10sb3V0WzRdPWIwKmEwMCtiMSphMTArYjIqYTIwK2IzKmEzMCxvdXRbNV09YjAqYTAxK2IxKmExMStiMiphMjErYjMqYTMxLG91dFs2XT1iMCphMDIrYjEqYTEyK2IyKmEyMitiMyphMzIsb3V0WzddPWIwKmEwMytiMSphMTMrYjIqYTIzK2IzKmEzMyxiMD1iWzhdLGIxPWJbOV0sYjI9YlsxMF0sYjM9YlsxMV0sb3V0WzhdPWIwKmEwMCtiMSphMTArYjIqYTIwK2IzKmEzMCxvdXRbOV09YjAqYTAxK2IxKmExMStiMiphMjErYjMqYTMxLG91dFsxMF09YjAqYTAyK2IxKmExMitiMiphMjIrYjMqYTMyLG91dFsxMV09YjAqYTAzK2IxKmExMytiMiphMjMrYjMqYTMzLGIwPWJbMTJdLGIxPWJbMTNdLGIyPWJbMTRdLGIzPWJbMTVdLG91dFsxMl09YjAqYTAwK2IxKmExMCtiMiphMjArYjMqYTMwLG91dFsxM109YjAqYTAxK2IxKmExMStiMiphMjErYjMqYTMxLG91dFsxNF09YjAqYTAyK2IxKmExMitiMiphMjIrYjMqYTMyLG91dFsxNV09YjAqYTAzK2IxKmExMytiMiphMjMrYjMqYTMzLG91dH1mdW5jdGlvbiB0cmFuc2xhdGUob3V0LGEsdil7dmFyIHg9dlswXSx5PXZbMV0sej12WzJdLGEwMD12b2lkIDAsYTAxPXZvaWQgMCxhMDI9dm9pZCAwLGEwMz12b2lkIDAsYTEwPXZvaWQgMCxhMTE9dm9pZCAwLGExMj12b2lkIDAsYTEzPXZvaWQgMCxhMjA9dm9pZCAwLGEyMT12b2lkIDAsYTIyPXZvaWQgMCxhMjM9dm9pZCAwO3JldHVybiBhPT09b3V0PyhvdXRbMTJdPWFbMF0qeCthWzRdKnkrYVs4XSp6K2FbMTJdLG91dFsxM109YVsxXSp4K2FbNV0qeSthWzldKnorYVsxM10sb3V0WzE0XT1hWzJdKngrYVs2XSp5K2FbMTBdKnorYVsxNF0sb3V0WzE1XT1hWzNdKngrYVs3XSp5K2FbMTFdKnorYVsxNV0pOihhMDA9YVswXSxhMDE9YVsxXSxhMDI9YVsyXSxhMDM9YVszXSxhMTA9YVs0XSxhMTE9YVs1XSxhMTI9YVs2XSxhMTM9YVs3XSxhMjA9YVs4XSxhMjE9YVs5XSxhMjI9YVsxMF0sYTIzPWFbMTFdLG91dFswXT1hMDAsb3V0WzFdPWEwMSxvdXRbMl09YTAyLG91dFszXT1hMDMsb3V0WzRdPWExMCxvdXRbNV09YTExLG91dFs2XT1hMTIsb3V0WzddPWExMyxvdXRbOF09YTIwLG91dFs5XT1hMjEsb3V0WzEwXT1hMjIsb3V0WzExXT1hMjMsb3V0WzEyXT1hMDAqeCthMTAqeSthMjAqeithWzEyXSxvdXRbMTNdPWEwMSp4K2ExMSp5K2EyMSp6K2FbMTNdLG91dFsxNF09YTAyKngrYTEyKnkrYTIyKnorYVsxNF0sb3V0WzE1XT1hMDMqeCthMTMqeSthMjMqeithWzE1XSksb3V0fWZ1bmN0aW9uIHNjYWxlKG91dCxhLHYpe3ZhciB4PXZbMF0seT12WzFdLHo9dlsyXTtyZXR1cm4gb3V0WzBdPWFbMF0qeCxvdXRbMV09YVsxXSp4LG91dFsyXT1hWzJdKngsb3V0WzNdPWFbM10qeCxvdXRbNF09YVs0XSp5LG91dFs1XT1hWzVdKnksb3V0WzZdPWFbNl0qeSxvdXRbN109YVs3XSp5LG91dFs4XT1hWzhdKnosb3V0WzldPWFbOV0qeixvdXRbMTBdPWFbMTBdKnosb3V0WzExXT1hWzExXSp6LG91dFsxMl09YVsxMl0sb3V0WzEzXT1hWzEzXSxvdXRbMTRdPWFbMTRdLG91dFsxNV09YVsxNV0sb3V0fWZ1bmN0aW9uIHJvdGF0ZShvdXQsYSxyYWQsYXhpcyl7dmFyIHg9YXhpc1swXSx5PWF4aXNbMV0sej1heGlzWzJdLGxlbj1NYXRoLnNxcnQoeCp4K3kqeSt6KnopLHM9dm9pZCAwLGM9dm9pZCAwLHQ9dm9pZCAwLGEwMD12b2lkIDAsYTAxPXZvaWQgMCxhMDI9dm9pZCAwLGEwMz12b2lkIDAsYTEwPXZvaWQgMCxhMTE9dm9pZCAwLGExMj12b2lkIDAsYTEzPXZvaWQgMCxhMjA9dm9pZCAwLGEyMT12b2lkIDAsYTIyPXZvaWQgMCxhMjM9dm9pZCAwLGIwMD12b2lkIDAsYjAxPXZvaWQgMCxiMDI9dm9pZCAwLGIxMD12b2lkIDAsYjExPXZvaWQgMCxiMTI9dm9pZCAwLGIyMD12b2lkIDAsYjIxPXZvaWQgMCxiMjI9dm9pZCAwO3JldHVybiBNYXRoLmFicyhsZW4pPGdsTWF0cml4LkVQU0lMT04/bnVsbDoobGVuPTEvbGVuLHgqPWxlbix5Kj1sZW4seio9bGVuLHM9TWF0aC5zaW4ocmFkKSxjPU1hdGguY29zKHJhZCksdD0xLWMsYTAwPWFbMF0sYTAxPWFbMV0sYTAyPWFbMl0sYTAzPWFbM10sYTEwPWFbNF0sYTExPWFbNV0sYTEyPWFbNl0sYTEzPWFbN10sYTIwPWFbOF0sYTIxPWFbOV0sYTIyPWFbMTBdLGEyMz1hWzExXSxiMDA9eCp4KnQrYyxiMDE9eSp4KnQreipzLGIwMj16KngqdC15KnMsYjEwPXgqeSp0LXoqcyxiMTE9eSp5KnQrYyxiMTI9eip5KnQreCpzLGIyMD14KnoqdCt5KnMsYjIxPXkqeip0LXgqcyxiMjI9eip6KnQrYyxvdXRbMF09YTAwKmIwMCthMTAqYjAxK2EyMCpiMDIsb3V0WzFdPWEwMSpiMDArYTExKmIwMSthMjEqYjAyLG91dFsyXT1hMDIqYjAwK2ExMipiMDErYTIyKmIwMixvdXRbM109YTAzKmIwMCthMTMqYjAxK2EyMypiMDIsb3V0WzRdPWEwMCpiMTArYTEwKmIxMSthMjAqYjEyLG91dFs1XT1hMDEqYjEwK2ExMSpiMTErYTIxKmIxMixvdXRbNl09YTAyKmIxMCthMTIqYjExK2EyMipiMTIsb3V0WzddPWEwMypiMTArYTEzKmIxMSthMjMqYjEyLG91dFs4XT1hMDAqYjIwK2ExMCpiMjErYTIwKmIyMixvdXRbOV09YTAxKmIyMCthMTEqYjIxK2EyMSpiMjIsb3V0WzEwXT1hMDIqYjIwK2ExMipiMjErYTIyKmIyMixvdXRbMTFdPWEwMypiMjArYTEzKmIyMSthMjMqYjIyLGEhPT1vdXQmJihvdXRbMTJdPWFbMTJdLG91dFsxM109YVsxM10sb3V0WzE0XT1hWzE0XSxvdXRbMTVdPWFbMTVdKSxvdXQpfWZ1bmN0aW9uIHJvdGF0ZVgob3V0LGEscmFkKXt2YXIgcz1NYXRoLnNpbihyYWQpLGM9TWF0aC5jb3MocmFkKSxhMTA9YVs0XSxhMTE9YVs1XSxhMTI9YVs2XSxhMTM9YVs3XSxhMjA9YVs4XSxhMjE9YVs5XSxhMjI9YVsxMF0sYTIzPWFbMTFdO3JldHVybiBhIT09b3V0JiYob3V0WzBdPWFbMF0sb3V0WzFdPWFbMV0sb3V0WzJdPWFbMl0sb3V0WzNdPWFbM10sb3V0WzEyXT1hWzEyXSxvdXRbMTNdPWFbMTNdLG91dFsxNF09YVsxNF0sb3V0WzE1XT1hWzE1XSksb3V0WzRdPWExMCpjK2EyMCpzLG91dFs1XT1hMTEqYythMjEqcyxvdXRbNl09YTEyKmMrYTIyKnMsb3V0WzddPWExMypjK2EyMypzLG91dFs4XT1hMjAqYy1hMTAqcyxvdXRbOV09YTIxKmMtYTExKnMsb3V0WzEwXT1hMjIqYy1hMTIqcyxvdXRbMTFdPWEyMypjLWExMypzLG91dH1mdW5jdGlvbiByb3RhdGVZKG91dCxhLHJhZCl7dmFyIHM9TWF0aC5zaW4ocmFkKSxjPU1hdGguY29zKHJhZCksYTAwPWFbMF0sYTAxPWFbMV0sYTAyPWFbMl0sYTAzPWFbM10sYTIwPWFbOF0sYTIxPWFbOV0sYTIyPWFbMTBdLGEyMz1hWzExXTtyZXR1cm4gYSE9PW91dCYmKG91dFs0XT1hWzRdLG91dFs1XT1hWzVdLG91dFs2XT1hWzZdLG91dFs3XT1hWzddLG91dFsxMl09YVsxMl0sb3V0WzEzXT1hWzEzXSxvdXRbMTRdPWFbMTRdLG91dFsxNV09YVsxNV0pLG91dFswXT1hMDAqYy1hMjAqcyxvdXRbMV09YTAxKmMtYTIxKnMsb3V0WzJdPWEwMipjLWEyMipzLG91dFszXT1hMDMqYy1hMjMqcyxvdXRbOF09YTAwKnMrYTIwKmMsb3V0WzldPWEwMSpzK2EyMSpjLG91dFsxMF09YTAyKnMrYTIyKmMsb3V0WzExXT1hMDMqcythMjMqYyxvdXR9ZnVuY3Rpb24gcm90YXRlWihvdXQsYSxyYWQpe3ZhciBzPU1hdGguc2luKHJhZCksYz1NYXRoLmNvcyhyYWQpLGEwMD1hWzBdLGEwMT1hWzFdLGEwMj1hWzJdLGEwMz1hWzNdLGExMD1hWzRdLGExMT1hWzVdLGExMj1hWzZdLGExMz1hWzddO3JldHVybiBhIT09b3V0JiYob3V0WzhdPWFbOF0sb3V0WzldPWFbOV0sb3V0WzEwXT1hWzEwXSxvdXRbMTFdPWFbMTFdLG91dFsxMl09YVsxMl0sb3V0WzEzXT1hWzEzXSxvdXRbMTRdPWFbMTRdLG91dFsxNV09YVsxNV0pLG91dFswXT1hMDAqYythMTAqcyxvdXRbMV09YTAxKmMrYTExKnMsb3V0WzJdPWEwMipjK2ExMipzLG91dFszXT1hMDMqYythMTMqcyxvdXRbNF09YTEwKmMtYTAwKnMsb3V0WzVdPWExMSpjLWEwMSpzLG91dFs2XT1hMTIqYy1hMDIqcyxvdXRbN109YTEzKmMtYTAzKnMsb3V0fWZ1bmN0aW9uIGZyb21UcmFuc2xhdGlvbihvdXQsdil7cmV0dXJuIG91dFswXT0xLG91dFsxXT0wLG91dFsyXT0wLG91dFszXT0wLG91dFs0XT0wLG91dFs1XT0xLG91dFs2XT0wLG91dFs3XT0wLG91dFs4XT0wLG91dFs5XT0wLG91dFsxMF09MSxvdXRbMTFdPTAsb3V0WzEyXT12WzBdLG91dFsxM109dlsxXSxvdXRbMTRdPXZbMl0sb3V0WzE1XT0xLG91dH1mdW5jdGlvbiBmcm9tU2NhbGluZyhvdXQsdil7cmV0dXJuIG91dFswXT12WzBdLG91dFsxXT0wLG91dFsyXT0wLG91dFszXT0wLG91dFs0XT0wLG91dFs1XT12WzFdLG91dFs2XT0wLG91dFs3XT0wLG91dFs4XT0wLG91dFs5XT0wLG91dFsxMF09dlsyXSxvdXRbMTFdPTAsb3V0WzEyXT0wLG91dFsxM109MCxvdXRbMTRdPTAsb3V0WzE1XT0xLG91dH1mdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LHJhZCxheGlzKXt2YXIgeD1heGlzWzBdLHk9YXhpc1sxXSx6PWF4aXNbMl0sbGVuPU1hdGguc3FydCh4KngreSp5K3oqeikscz12b2lkIDAsYz12b2lkIDAsdD12b2lkIDA7cmV0dXJuIE1hdGguYWJzKGxlbik8Z2xNYXRyaXguRVBTSUxPTj9udWxsOihsZW49MS9sZW4seCo9bGVuLHkqPWxlbix6Kj1sZW4scz1NYXRoLnNpbihyYWQpLGM9TWF0aC5jb3MocmFkKSx0PTEtYyxvdXRbMF09eCp4KnQrYyxvdXRbMV09eSp4KnQreipzLG91dFsyXT16KngqdC15KnMsb3V0WzNdPTAsb3V0WzRdPXgqeSp0LXoqcyxvdXRbNV09eSp5KnQrYyxvdXRbNl09eip5KnQreCpzLG91dFs3XT0wLG91dFs4XT14KnoqdCt5KnMsb3V0WzldPXkqeip0LXgqcyxvdXRbMTBdPXoqeip0K2Msb3V0WzExXT0wLG91dFsxMl09MCxvdXRbMTNdPTAsb3V0WzE0XT0wLG91dFsxNV09MSxvdXQpfWZ1bmN0aW9uIGZyb21YUm90YXRpb24ob3V0LHJhZCl7dmFyIHM9TWF0aC5zaW4ocmFkKSxjPU1hdGguY29zKHJhZCk7cmV0dXJuIG91dFswXT0xLG91dFsxXT0wLG91dFsyXT0wLG91dFszXT0wLG91dFs0XT0wLG91dFs1XT1jLG91dFs2XT1zLG91dFs3XT0wLG91dFs4XT0wLG91dFs5XT0tcyxvdXRbMTBdPWMsb3V0WzExXT0wLG91dFsxMl09MCxvdXRbMTNdPTAsb3V0WzE0XT0wLG91dFsxNV09MSxvdXR9ZnVuY3Rpb24gZnJvbVlSb3RhdGlvbihvdXQscmFkKXt2YXIgcz1NYXRoLnNpbihyYWQpLGM9TWF0aC5jb3MocmFkKTtyZXR1cm4gb3V0WzBdPWMsb3V0WzFdPTAsb3V0WzJdPS1zLG91dFszXT0wLG91dFs0XT0wLG91dFs1XT0xLG91dFs2XT0wLG91dFs3XT0wLG91dFs4XT1zLG91dFs5XT0wLG91dFsxMF09YyxvdXRbMTFdPTAsb3V0WzEyXT0wLG91dFsxM109MCxvdXRbMTRdPTAsb3V0WzE1XT0xLG91dH1mdW5jdGlvbiBmcm9tWlJvdGF0aW9uKG91dCxyYWQpe3ZhciBzPU1hdGguc2luKHJhZCksYz1NYXRoLmNvcyhyYWQpO3JldHVybiBvdXRbMF09YyxvdXRbMV09cyxvdXRbMl09MCxvdXRbM109MCxvdXRbNF09LXMsb3V0WzVdPWMsb3V0WzZdPTAsb3V0WzddPTAsb3V0WzhdPTAsb3V0WzldPTAsb3V0WzEwXT0xLG91dFsxMV09MCxvdXRbMTJdPTAsb3V0WzEzXT0wLG91dFsxNF09MCxvdXRbMTVdPTEsb3V0fWZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCxxLHYpe3ZhciB4PXFbMF0seT1xWzFdLHo9cVsyXSx3PXFbM10seDI9eCt4LHkyPXkreSx6Mj16K3oseHg9eCp4Mix4eT14KnkyLHh6PXgqejIseXk9eSp5Mix5ej15KnoyLHp6PXoqejIsd3g9dyp4Mix3eT13KnkyLHd6PXcqejI7cmV0dXJuIG91dFswXT0xLSh5eSt6eiksb3V0WzFdPXh5K3d6LG91dFsyXT14ei13eSxvdXRbM109MCxvdXRbNF09eHktd3osb3V0WzVdPTEtKHh4K3p6KSxvdXRbNl09eXord3gsb3V0WzddPTAsb3V0WzhdPXh6K3d5LG91dFs5XT15ei13eCxvdXRbMTBdPTEtKHh4K3l5KSxvdXRbMTFdPTAsb3V0WzEyXT12WzBdLG91dFsxM109dlsxXSxvdXRbMTRdPXZbMl0sb3V0WzE1XT0xLG91dH1mdW5jdGlvbiBnZXRUcmFuc2xhdGlvbihvdXQsbWF0KXtyZXR1cm4gb3V0WzBdPW1hdFsxMl0sb3V0WzFdPW1hdFsxM10sb3V0WzJdPW1hdFsxNF0sb3V0fWZ1bmN0aW9uIGdldFNjYWxpbmcob3V0LG1hdCl7dmFyIG0xMT1tYXRbMF0sbTEyPW1hdFsxXSxtMTM9bWF0WzJdLG0yMT1tYXRbNF0sbTIyPW1hdFs1XSxtMjM9bWF0WzZdLG0zMT1tYXRbOF0sbTMyPW1hdFs5XSxtMzM9bWF0WzEwXTtyZXR1cm4gb3V0WzBdPU1hdGguc3FydChtMTEqbTExK20xMiptMTIrbTEzKm0xMyksb3V0WzFdPU1hdGguc3FydChtMjEqbTIxK20yMiptMjIrbTIzKm0yMyksb3V0WzJdPU1hdGguc3FydChtMzEqbTMxK20zMiptMzIrbTMzKm0zMyksb3V0fWZ1bmN0aW9uIGdldFJvdGF0aW9uKG91dCxtYXQpe3ZhciB0cmFjZT1tYXRbMF0rbWF0WzVdK21hdFsxMF0sUz0wO3JldHVybiB0cmFjZT4wPyhTPTIqTWF0aC5zcXJ0KHRyYWNlKzEpLG91dFszXT0uMjUqUyxvdXRbMF09KG1hdFs2XS1tYXRbOV0pL1Msb3V0WzFdPShtYXRbOF0tbWF0WzJdKS9TLG91dFsyXT0obWF0WzFdLW1hdFs0XSkvUyk6bWF0WzBdPm1hdFs1XSZtYXRbMF0+bWF0WzEwXT8oUz0yKk1hdGguc3FydCgxK21hdFswXS1tYXRbNV0tbWF0WzEwXSksb3V0WzNdPShtYXRbNl0tbWF0WzldKS9TLG91dFswXT0uMjUqUyxvdXRbMV09KG1hdFsxXSttYXRbNF0pL1Msb3V0WzJdPShtYXRbOF0rbWF0WzJdKS9TKTptYXRbNV0+bWF0WzEwXT8oUz0yKk1hdGguc3FydCgxK21hdFs1XS1tYXRbMF0tbWF0WzEwXSksb3V0WzNdPShtYXRbOF0tbWF0WzJdKS9TLG91dFswXT0obWF0WzFdK21hdFs0XSkvUyxvdXRbMV09LjI1KlMsb3V0WzJdPShtYXRbNl0rbWF0WzldKS9TKTooUz0yKk1hdGguc3FydCgxK21hdFsxMF0tbWF0WzBdLW1hdFs1XSksb3V0WzNdPShtYXRbMV0tbWF0WzRdKS9TLG91dFswXT0obWF0WzhdK21hdFsyXSkvUyxvdXRbMV09KG1hdFs2XSttYXRbOV0pL1Msb3V0WzJdPS4yNSpTKSxvdXR9ZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZShvdXQscSx2LHMpe3ZhciB4PXFbMF0seT1xWzFdLHo9cVsyXSx3PXFbM10seDI9eCt4LHkyPXkreSx6Mj16K3oseHg9eCp4Mix4eT14KnkyLHh6PXgqejIseXk9eSp5Mix5ej15KnoyLHp6PXoqejIsd3g9dyp4Mix3eT13KnkyLHd6PXcqejIsc3g9c1swXSxzeT1zWzFdLHN6PXNbMl07cmV0dXJuIG91dFswXT0oMS0oeXkrenopKSpzeCxvdXRbMV09KHh5K3d6KSpzeCxvdXRbMl09KHh6LXd5KSpzeCxvdXRbM109MCxvdXRbNF09KHh5LXd6KSpzeSxvdXRbNV09KDEtKHh4K3p6KSkqc3ksb3V0WzZdPSh5eit3eCkqc3ksb3V0WzddPTAsb3V0WzhdPSh4eit3eSkqc3osb3V0WzldPSh5ei13eCkqc3osb3V0WzEwXT0oMS0oeHgreXkpKSpzeixvdXRbMTFdPTAsb3V0WzEyXT12WzBdLG91dFsxM109dlsxXSxvdXRbMTRdPXZbMl0sb3V0WzE1XT0xLG91dH1mdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlT3JpZ2luKG91dCxxLHYscyxvKXt2YXIgeD1xWzBdLHk9cVsxXSx6PXFbMl0sdz1xWzNdLHgyPXgreCx5Mj15K3ksejI9eit6LHh4PXgqeDIseHk9eCp5Mix4ej14KnoyLHl5PXkqeTIseXo9eSp6Mix6ej16KnoyLHd4PXcqeDIsd3k9dyp5Mix3ej13KnoyLHN4PXNbMF0sc3k9c1sxXSxzej1zWzJdLG94PW9bMF0sb3k9b1sxXSxvej1vWzJdO3JldHVybiBvdXRbMF09KDEtKHl5K3p6KSkqc3gsb3V0WzFdPSh4eSt3eikqc3gsb3V0WzJdPSh4ei13eSkqc3gsb3V0WzNdPTAsb3V0WzRdPSh4eS13eikqc3ksb3V0WzVdPSgxLSh4eCt6eikpKnN5LG91dFs2XT0oeXord3gpKnN5LG91dFs3XT0wLG91dFs4XT0oeHord3kpKnN6LG91dFs5XT0oeXotd3gpKnN6LG91dFsxMF09KDEtKHh4K3l5KSkqc3osb3V0WzExXT0wLG91dFsxMl09dlswXStveC0ob3V0WzBdKm94K291dFs0XSpveStvdXRbOF0qb3opLG91dFsxM109dlsxXStveS0ob3V0WzFdKm94K291dFs1XSpveStvdXRbOV0qb3opLG91dFsxNF09dlsyXStvei0ob3V0WzJdKm94K291dFs2XSpveStvdXRbMTBdKm96KSxvdXRbMTVdPTEsb3V0fWZ1bmN0aW9uIGZyb21RdWF0KG91dCxxKXt2YXIgeD1xWzBdLHk9cVsxXSx6PXFbMl0sdz1xWzNdLHgyPXgreCx5Mj15K3ksejI9eit6LHh4PXgqeDIseXg9eSp4Mix5eT15KnkyLHp4PXoqeDIsenk9eip5Mix6ej16KnoyLHd4PXcqeDIsd3k9dyp5Mix3ej13KnoyO3JldHVybiBvdXRbMF09MS15eS16eixvdXRbMV09eXgrd3osb3V0WzJdPXp4LXd5LG91dFszXT0wLG91dFs0XT15eC13eixvdXRbNV09MS14eC16eixvdXRbNl09enkrd3gsb3V0WzddPTAsb3V0WzhdPXp4K3d5LG91dFs5XT16eS13eCxvdXRbMTBdPTEteHgteXksb3V0WzExXT0wLG91dFsxMl09MCxvdXRbMTNdPTAsb3V0WzE0XT0wLG91dFsxNV09MSxvdXR9ZnVuY3Rpb24gZnJ1c3R1bShvdXQsbGVmdCxyaWdodCxib3R0b20sdG9wLG5lYXIsZmFyKXt2YXIgcmw9MS8ocmlnaHQtbGVmdCksdGI9MS8odG9wLWJvdHRvbSksbmY9MS8obmVhci1mYXIpO3JldHVybiBvdXRbMF09MipuZWFyKnJsLG91dFsxXT0wLG91dFsyXT0wLG91dFszXT0wLG91dFs0XT0wLG91dFs1XT0yKm5lYXIqdGIsb3V0WzZdPTAsb3V0WzddPTAsb3V0WzhdPShyaWdodCtsZWZ0KSpybCxvdXRbOV09KHRvcCtib3R0b20pKnRiLG91dFsxMF09KGZhcituZWFyKSpuZixvdXRbMTFdPS0xLG91dFsxMl09MCxvdXRbMTNdPTAsb3V0WzE0XT1mYXIqbmVhcioyKm5mLG91dFsxNV09MCxvdXR9ZnVuY3Rpb24gcGVyc3BlY3RpdmUob3V0LGZvdnksYXNwZWN0LG5lYXIsZmFyKXt2YXIgZj0xL01hdGgudGFuKGZvdnkvMiksbmY9MS8obmVhci1mYXIpO3JldHVybiBvdXRbMF09Zi9hc3BlY3Qsb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTAsb3V0WzRdPTAsb3V0WzVdPWYsb3V0WzZdPTAsb3V0WzddPTAsb3V0WzhdPTAsb3V0WzldPTAsb3V0WzEwXT0oZmFyK25lYXIpKm5mLG91dFsxMV09LTEsb3V0WzEyXT0wLG91dFsxM109MCxvdXRbMTRdPTIqZmFyKm5lYXIqbmYsb3V0WzE1XT0wLG91dH1mdW5jdGlvbiBwZXJzcGVjdGl2ZUZyb21GaWVsZE9mVmlldyhvdXQsZm92LG5lYXIsZmFyKXt2YXIgdXBUYW49TWF0aC50YW4oZm92LnVwRGVncmVlcypNYXRoLlBJLzE4MCksZG93blRhbj1NYXRoLnRhbihmb3YuZG93bkRlZ3JlZXMqTWF0aC5QSS8xODApLGxlZnRUYW49TWF0aC50YW4oZm92LmxlZnREZWdyZWVzKk1hdGguUEkvMTgwKSxyaWdodFRhbj1NYXRoLnRhbihmb3YucmlnaHREZWdyZWVzKk1hdGguUEkvMTgwKSx4U2NhbGU9Mi8obGVmdFRhbityaWdodFRhbikseVNjYWxlPTIvKHVwVGFuK2Rvd25UYW4pO3JldHVybiBvdXRbMF09eFNjYWxlLG91dFsxXT0wLG91dFsyXT0wLG91dFszXT0wLG91dFs0XT0wLG91dFs1XT15U2NhbGUsb3V0WzZdPTAsb3V0WzddPTAsb3V0WzhdPS0obGVmdFRhbi1yaWdodFRhbikqeFNjYWxlKi41LG91dFs5XT0odXBUYW4tZG93blRhbikqeVNjYWxlKi41LG91dFsxMF09ZmFyLyhuZWFyLWZhciksb3V0WzExXT0tMSxvdXRbMTJdPTAsb3V0WzEzXT0wLG91dFsxNF09ZmFyKm5lYXIvKG5lYXItZmFyKSxvdXRbMTVdPTAsb3V0fWZ1bmN0aW9uIG9ydGhvKG91dCxsZWZ0LHJpZ2h0LGJvdHRvbSx0b3AsbmVhcixmYXIpe3ZhciBscj0xLyhsZWZ0LXJpZ2h0KSxidD0xLyhib3R0b20tdG9wKSxuZj0xLyhuZWFyLWZhcik7cmV0dXJuIG91dFswXT0tMipscixvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MCxvdXRbNF09MCxvdXRbNV09LTIqYnQsb3V0WzZdPTAsb3V0WzddPTAsb3V0WzhdPTAsb3V0WzldPTAsb3V0WzEwXT0yKm5mLG91dFsxMV09MCxvdXRbMTJdPShsZWZ0K3JpZ2h0KSpscixvdXRbMTNdPSh0b3ArYm90dG9tKSpidCxvdXRbMTRdPShmYXIrbmVhcikqbmYsb3V0WzE1XT0xLG91dH1mdW5jdGlvbiBsb29rQXQob3V0LGV5ZSxjZW50ZXIsdXApe3ZhciB4MD12b2lkIDAseDE9dm9pZCAwLHgyPXZvaWQgMCx5MD12b2lkIDAseTE9dm9pZCAwLHkyPXZvaWQgMCx6MD12b2lkIDAsejE9dm9pZCAwLHoyPXZvaWQgMCxsZW49dm9pZCAwLGV5ZXg9ZXllWzBdLGV5ZXk9ZXllWzFdLGV5ZXo9ZXllWzJdLHVweD11cFswXSx1cHk9dXBbMV0sdXB6PXVwWzJdLGNlbnRlcng9Y2VudGVyWzBdLGNlbnRlcnk9Y2VudGVyWzFdLGNlbnRlcno9Y2VudGVyWzJdO3JldHVybiBNYXRoLmFicyhleWV4LWNlbnRlcngpPGdsTWF0cml4LkVQU0lMT04mJk1hdGguYWJzKGV5ZXktY2VudGVyeSk8Z2xNYXRyaXguRVBTSUxPTiYmTWF0aC5hYnMoZXllei1jZW50ZXJ6KTxnbE1hdHJpeC5FUFNJTE9OP21hdDQuaWRlbnRpdHkob3V0KTooejA9ZXlleC1jZW50ZXJ4LHoxPWV5ZXktY2VudGVyeSx6Mj1leWV6LWNlbnRlcnosbGVuPTEvTWF0aC5zcXJ0KHowKnowK3oxKnoxK3oyKnoyKSx6MCo9bGVuLHoxKj1sZW4sejIqPWxlbix4MD11cHkqejItdXB6KnoxLHgxPXVweip6MC11cHgqejIseDI9dXB4KnoxLXVweSp6MCxsZW49TWF0aC5zcXJ0KHgwKngwK3gxKngxK3gyKngyKSxsZW4/KGxlbj0xL2xlbix4MCo9bGVuLHgxKj1sZW4seDIqPWxlbik6KHgwPTAseDE9MCx4Mj0wKSx5MD16MSp4Mi16Mip4MSx5MT16Mip4MC16MCp4Mix5Mj16MCp4MS16MSp4MCxsZW49TWF0aC5zcXJ0KHkwKnkwK3kxKnkxK3kyKnkyKSxsZW4/KGxlbj0xL2xlbix5MCo9bGVuLHkxKj1sZW4seTIqPWxlbik6KHkwPTAseTE9MCx5Mj0wKSxvdXRbMF09eDAsb3V0WzFdPXkwLG91dFsyXT16MCxvdXRbM109MCxvdXRbNF09eDEsb3V0WzVdPXkxLG91dFs2XT16MSxvdXRbN109MCxvdXRbOF09eDIsb3V0WzldPXkyLG91dFsxMF09ejIsb3V0WzExXT0wLG91dFsxMl09LSh4MCpleWV4K3gxKmV5ZXkreDIqZXlleiksb3V0WzEzXT0tKHkwKmV5ZXgreTEqZXlleSt5MipleWV6KSxvdXRbMTRdPS0oejAqZXlleCt6MSpleWV5K3oyKmV5ZXopLG91dFsxNV09MSxvdXQpfWZ1bmN0aW9uIHRhcmdldFRvKG91dCxleWUsdGFyZ2V0LHVwKXt2YXIgZXlleD1leWVbMF0sZXlleT1leWVbMV0sZXllej1leWVbMl0sdXB4PXVwWzBdLHVweT11cFsxXSx1cHo9dXBbMl0sejA9ZXlleC10YXJnZXRbMF0sejE9ZXlleS10YXJnZXRbMV0sejI9ZXllei10YXJnZXRbMl0sbGVuPXowKnowK3oxKnoxK3oyKnoyO2xlbj4wJiYobGVuPTEvTWF0aC5zcXJ0KGxlbiksejAqPWxlbix6MSo9bGVuLHoyKj1sZW4pO3ZhciB4MD11cHkqejItdXB6KnoxLHgxPXVweip6MC11cHgqejIseDI9dXB4KnoxLXVweSp6MDtyZXR1cm4gb3V0WzBdPXgwLG91dFsxXT14MSxvdXRbMl09eDIsb3V0WzNdPTAsb3V0WzRdPXoxKngyLXoyKngxLG91dFs1XT16Mip4MC16MCp4MixvdXRbNl09ejAqeDEtejEqeDAsb3V0WzddPTAsb3V0WzhdPXowLG91dFs5XT16MSxvdXRbMTBdPXoyLG91dFsxMV09MCxvdXRbMTJdPWV5ZXgsb3V0WzEzXT1leWV5LG91dFsxNF09ZXlleixvdXRbMTVdPTEsb3V0fWZ1bmN0aW9uIHN0cihhKXtyZXR1cm5cIm1hdDQoXCIrYVswXStcIiwgXCIrYVsxXStcIiwgXCIrYVsyXStcIiwgXCIrYVszXStcIiwgXCIrYVs0XStcIiwgXCIrYVs1XStcIiwgXCIrYVs2XStcIiwgXCIrYVs3XStcIiwgXCIrYVs4XStcIiwgXCIrYVs5XStcIiwgXCIrYVsxMF0rXCIsIFwiK2FbMTFdK1wiLCBcIithWzEyXStcIiwgXCIrYVsxM10rXCIsIFwiK2FbMTRdK1wiLCBcIithWzE1XStcIilcIn1mdW5jdGlvbiBmcm9iKGEpe3JldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coYVswXSwyKStNYXRoLnBvdyhhWzFdLDIpK01hdGgucG93KGFbMl0sMikrTWF0aC5wb3coYVszXSwyKStNYXRoLnBvdyhhWzRdLDIpK01hdGgucG93KGFbNV0sMikrTWF0aC5wb3coYVs2XSwyKStNYXRoLnBvdyhhWzddLDIpK01hdGgucG93KGFbOF0sMikrTWF0aC5wb3coYVs5XSwyKStNYXRoLnBvdyhhWzEwXSwyKStNYXRoLnBvdyhhWzExXSwyKStNYXRoLnBvdyhhWzEyXSwyKStNYXRoLnBvdyhhWzEzXSwyKStNYXRoLnBvdyhhWzE0XSwyKStNYXRoLnBvdyhhWzE1XSwyKSl9ZnVuY3Rpb24gYWRkKG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXStiWzBdLG91dFsxXT1hWzFdK2JbMV0sb3V0WzJdPWFbMl0rYlsyXSxvdXRbM109YVszXStiWzNdLG91dFs0XT1hWzRdK2JbNF0sb3V0WzVdPWFbNV0rYls1XSxvdXRbNl09YVs2XStiWzZdLG91dFs3XT1hWzddK2JbN10sb3V0WzhdPWFbOF0rYls4XSxvdXRbOV09YVs5XStiWzldLG91dFsxMF09YVsxMF0rYlsxMF0sb3V0WzExXT1hWzExXStiWzExXSxvdXRbMTJdPWFbMTJdK2JbMTJdLG91dFsxM109YVsxM10rYlsxM10sb3V0WzE0XT1hWzE0XStiWzE0XSxvdXRbMTVdPWFbMTVdK2JbMTVdLG91dH1mdW5jdGlvbiBzdWJ0cmFjdChvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0tYlswXSxvdXRbMV09YVsxXS1iWzFdLG91dFsyXT1hWzJdLWJbMl0sb3V0WzNdPWFbM10tYlszXSxvdXRbNF09YVs0XS1iWzRdLG91dFs1XT1hWzVdLWJbNV0sb3V0WzZdPWFbNl0tYls2XSxvdXRbN109YVs3XS1iWzddLG91dFs4XT1hWzhdLWJbOF0sb3V0WzldPWFbOV0tYls5XSxvdXRbMTBdPWFbMTBdLWJbMTBdLG91dFsxMV09YVsxMV0tYlsxMV0sb3V0WzEyXT1hWzEyXS1iWzEyXSxvdXRbMTNdPWFbMTNdLWJbMTNdLG91dFsxNF09YVsxNF0tYlsxNF0sb3V0WzE1XT1hWzE1XS1iWzE1XSxvdXR9ZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIob3V0LGEsYil7cmV0dXJuIG91dFswXT1hWzBdKmIsb3V0WzFdPWFbMV0qYixvdXRbMl09YVsyXSpiLG91dFszXT1hWzNdKmIsb3V0WzRdPWFbNF0qYixvdXRbNV09YVs1XSpiLG91dFs2XT1hWzZdKmIsb3V0WzddPWFbN10qYixvdXRbOF09YVs4XSpiLG91dFs5XT1hWzldKmIsb3V0WzEwXT1hWzEwXSpiLG91dFsxMV09YVsxMV0qYixvdXRbMTJdPWFbMTJdKmIsb3V0WzEzXT1hWzEzXSpiLG91dFsxNF09YVsxNF0qYixvdXRbMTVdPWFbMTVdKmIsb3V0fWZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyQW5kQWRkKG91dCxhLGIsc2NhbGUpe3JldHVybiBvdXRbMF09YVswXStiWzBdKnNjYWxlLG91dFsxXT1hWzFdK2JbMV0qc2NhbGUsb3V0WzJdPWFbMl0rYlsyXSpzY2FsZSxvdXRbM109YVszXStiWzNdKnNjYWxlLG91dFs0XT1hWzRdK2JbNF0qc2NhbGUsb3V0WzVdPWFbNV0rYls1XSpzY2FsZSxvdXRbNl09YVs2XStiWzZdKnNjYWxlLG91dFs3XT1hWzddK2JbN10qc2NhbGUsb3V0WzhdPWFbOF0rYls4XSpzY2FsZSxvdXRbOV09YVs5XStiWzldKnNjYWxlLG91dFsxMF09YVsxMF0rYlsxMF0qc2NhbGUsb3V0WzExXT1hWzExXStiWzExXSpzY2FsZSxvdXRbMTJdPWFbMTJdK2JbMTJdKnNjYWxlLG91dFsxM109YVsxM10rYlsxM10qc2NhbGUsb3V0WzE0XT1hWzE0XStiWzE0XSpzY2FsZSxvdXRbMTVdPWFbMTVdK2JbMTVdKnNjYWxlLG91dH1mdW5jdGlvbiBleGFjdEVxdWFscyhhLGIpe3JldHVybiBhWzBdPT09YlswXSYmYVsxXT09PWJbMV0mJmFbMl09PT1iWzJdJiZhWzNdPT09YlszXSYmYVs0XT09PWJbNF0mJmFbNV09PT1iWzVdJiZhWzZdPT09Yls2XSYmYVs3XT09PWJbN10mJmFbOF09PT1iWzhdJiZhWzldPT09Yls5XSYmYVsxMF09PT1iWzEwXSYmYVsxMV09PT1iWzExXSYmYVsxMl09PT1iWzEyXSYmYVsxM109PT1iWzEzXSYmYVsxNF09PT1iWzE0XSYmYVsxNV09PT1iWzE1XX1mdW5jdGlvbiBlcXVhbHMoYSxiKXt2YXIgYTA9YVswXSxhMT1hWzFdLGEyPWFbMl0sYTM9YVszXSxhND1hWzRdLGE1PWFbNV0sYTY9YVs2XSxhNz1hWzddLGE4PWFbOF0sYTk9YVs5XSxhMTA9YVsxMF0sYTExPWFbMTFdLGExMj1hWzEyXSxhMTM9YVsxM10sYTE0PWFbMTRdLGExNT1hWzE1XSxiMD1iWzBdLGIxPWJbMV0sYjI9YlsyXSxiMz1iWzNdLGI0PWJbNF0sYjU9Yls1XSxiNj1iWzZdLGI3PWJbN10sYjg9Yls4XSxiOT1iWzldLGIxMD1iWzEwXSxiMTE9YlsxMV0sYjEyPWJbMTJdLGIxMz1iWzEzXSxiMTQ9YlsxNF0sYjE1PWJbMTVdO3JldHVybiBNYXRoLmFicyhhMC1iMCk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMCksTWF0aC5hYnMoYjApKSYmTWF0aC5hYnMoYTEtYjEpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTEpLE1hdGguYWJzKGIxKSkmJk1hdGguYWJzKGEyLWIyKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEyKSxNYXRoLmFicyhiMikpJiZNYXRoLmFicyhhMy1iMyk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMyksTWF0aC5hYnMoYjMpKSYmTWF0aC5hYnMoYTQtYjQpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTQpLE1hdGguYWJzKGI0KSkmJk1hdGguYWJzKGE1LWI1KTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGE1KSxNYXRoLmFicyhiNSkpJiZNYXRoLmFicyhhNi1iNik8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhNiksTWF0aC5hYnMoYjYpKSYmTWF0aC5hYnMoYTctYjcpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTcpLE1hdGguYWJzKGI3KSkmJk1hdGguYWJzKGE4LWI4KTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGE4KSxNYXRoLmFicyhiOCkpJiZNYXRoLmFicyhhOS1iOSk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhOSksTWF0aC5hYnMoYjkpKSYmTWF0aC5hYnMoYTEwLWIxMCk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMTApLE1hdGguYWJzKGIxMCkpJiZNYXRoLmFicyhhMTEtYjExKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGExMSksTWF0aC5hYnMoYjExKSkmJk1hdGguYWJzKGExMi1iMTIpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTEyKSxNYXRoLmFicyhiMTIpKSYmTWF0aC5hYnMoYTEzLWIxMyk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMTMpLE1hdGguYWJzKGIxMykpJiZNYXRoLmFicyhhMTQtYjE0KTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGExNCksTWF0aC5hYnMoYjE0KSkmJk1hdGguYWJzKGExNS1iMTUpPD1nbE1hdHJpeC5FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoYTE1KSxNYXRoLmFicyhiMTUpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLnN1Yj1leHBvcnRzLm11bD12b2lkIDAsZXhwb3J0cy5jcmVhdGU9Y3JlYXRlLGV4cG9ydHMuY2xvbmU9Y2xvbmUsZXhwb3J0cy5jb3B5PWNvcHksZXhwb3J0cy5mcm9tVmFsdWVzPWZyb21WYWx1ZXMsZXhwb3J0cy5zZXQ9c2V0LGV4cG9ydHMuaWRlbnRpdHk9aWRlbnRpdHksZXhwb3J0cy50cmFuc3Bvc2U9dHJhbnNwb3NlLGV4cG9ydHMuaW52ZXJ0PWludmVydCxleHBvcnRzLmFkam9pbnQ9YWRqb2ludCxleHBvcnRzLmRldGVybWluYW50PWRldGVybWluYW50LGV4cG9ydHMubXVsdGlwbHk9bXVsdGlwbHksZXhwb3J0cy50cmFuc2xhdGU9dHJhbnNsYXRlLGV4cG9ydHMuc2NhbGU9c2NhbGUsZXhwb3J0cy5yb3RhdGU9cm90YXRlLGV4cG9ydHMucm90YXRlWD1yb3RhdGVYLGV4cG9ydHMucm90YXRlWT1yb3RhdGVZLGV4cG9ydHMucm90YXRlWj1yb3RhdGVaLGV4cG9ydHMuZnJvbVRyYW5zbGF0aW9uPWZyb21UcmFuc2xhdGlvbixleHBvcnRzLmZyb21TY2FsaW5nPWZyb21TY2FsaW5nLGV4cG9ydHMuZnJvbVJvdGF0aW9uPWZyb21Sb3RhdGlvbixleHBvcnRzLmZyb21YUm90YXRpb249ZnJvbVhSb3RhdGlvbixleHBvcnRzLmZyb21ZUm90YXRpb249ZnJvbVlSb3RhdGlvbixleHBvcnRzLmZyb21aUm90YXRpb249ZnJvbVpSb3RhdGlvbixleHBvcnRzLmZyb21Sb3RhdGlvblRyYW5zbGF0aW9uPWZyb21Sb3RhdGlvblRyYW5zbGF0aW9uLGV4cG9ydHMuZ2V0VHJhbnNsYXRpb249Z2V0VHJhbnNsYXRpb24sZXhwb3J0cy5nZXRTY2FsaW5nPWdldFNjYWxpbmcsZXhwb3J0cy5nZXRSb3RhdGlvbj1nZXRSb3RhdGlvbixleHBvcnRzLmZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGU9ZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZSxleHBvcnRzLmZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGVPcmlnaW49ZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZU9yaWdpbixleHBvcnRzLmZyb21RdWF0PWZyb21RdWF0LGV4cG9ydHMuZnJ1c3R1bT1mcnVzdHVtLGV4cG9ydHMucGVyc3BlY3RpdmU9cGVyc3BlY3RpdmUsZXhwb3J0cy5wZXJzcGVjdGl2ZUZyb21GaWVsZE9mVmlldz1wZXJzcGVjdGl2ZUZyb21GaWVsZE9mVmlldyxleHBvcnRzLm9ydGhvPW9ydGhvLGV4cG9ydHMubG9va0F0PWxvb2tBdCxleHBvcnRzLnRhcmdldFRvPXRhcmdldFRvLGV4cG9ydHMuc3RyPXN0cixleHBvcnRzLmZyb2I9ZnJvYixleHBvcnRzLmFkZD1hZGQsZXhwb3J0cy5zdWJ0cmFjdD1zdWJ0cmFjdCxleHBvcnRzLm11bHRpcGx5U2NhbGFyPW11bHRpcGx5U2NhbGFyLGV4cG9ydHMubXVsdGlwbHlTY2FsYXJBbmRBZGQ9bXVsdGlwbHlTY2FsYXJBbmRBZGQsZXhwb3J0cy5leGFjdEVxdWFscz1leGFjdEVxdWFscyxleHBvcnRzLmVxdWFscz1lcXVhbHM7dmFyIF9jb21tb249X193ZWJwYWNrX3JlcXVpcmVfXygzKSxnbE1hdHJpeD1mdW5jdGlvbihvYmope2lmKG9iaiYmb2JqLl9fZXNNb2R1bGUpcmV0dXJuIG9iajt2YXIgbmV3T2JqPXt9O2lmKG51bGwhPW9iailmb3IodmFyIGtleSBpbiBvYmopT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaixrZXkpJiYobmV3T2JqW2tleV09b2JqW2tleV0pO3JldHVybiBuZXdPYmouZGVmYXVsdD1vYmosbmV3T2JqfShfY29tbW9uKTtleHBvcnRzLm11bD1tdWx0aXBseSxleHBvcnRzLnN1Yj1zdWJ0cmFjdH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKXtpZihvYmomJm9iai5fX2VzTW9kdWxlKXJldHVybiBvYmo7dmFyIG5ld09iaj17fTtpZihudWxsIT1vYmopZm9yKHZhciBrZXkgaW4gb2JqKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosa2V5KSYmKG5ld09ialtrZXldPW9ialtrZXldKTtyZXR1cm4gbmV3T2JqLmRlZmF1bHQ9b2JqLG5ld09ian1mdW5jdGlvbiBjcmVhdGUoKXt2YXIgb3V0PW5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO3JldHVybiBvdXRbMF09MCxvdXRbMV09MCxvdXRbMl09MCxvdXRbM109MSxvdXR9ZnVuY3Rpb24gaWRlbnRpdHkob3V0KXtyZXR1cm4gb3V0WzBdPTAsb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTEsb3V0fWZ1bmN0aW9uIHNldEF4aXNBbmdsZShvdXQsYXhpcyxyYWQpe3JhZCo9LjU7dmFyIHM9TWF0aC5zaW4ocmFkKTtyZXR1cm4gb3V0WzBdPXMqYXhpc1swXSxvdXRbMV09cypheGlzWzFdLG91dFsyXT1zKmF4aXNbMl0sb3V0WzNdPU1hdGguY29zKHJhZCksb3V0fWZ1bmN0aW9uIGdldEF4aXNBbmdsZShvdXRfYXhpcyxxKXt2YXIgcmFkPTIqTWF0aC5hY29zKHFbM10pLHM9TWF0aC5zaW4ocmFkLzIpO3JldHVybiAwIT1zPyhvdXRfYXhpc1swXT1xWzBdL3Msb3V0X2F4aXNbMV09cVsxXS9zLG91dF9heGlzWzJdPXFbMl0vcyk6KG91dF9heGlzWzBdPTEsb3V0X2F4aXNbMV09MCxvdXRfYXhpc1syXT0wKSxyYWR9ZnVuY3Rpb24gbXVsdGlwbHkob3V0LGEsYil7dmFyIGF4PWFbMF0sYXk9YVsxXSxhej1hWzJdLGF3PWFbM10sYng9YlswXSxieT1iWzFdLGJ6PWJbMl0sYnc9YlszXTtyZXR1cm4gb3V0WzBdPWF4KmJ3K2F3KmJ4K2F5KmJ6LWF6KmJ5LG91dFsxXT1heSpidythdypieStheipieC1heCpieixvdXRbMl09YXoqYncrYXcqYnorYXgqYnktYXkqYngsb3V0WzNdPWF3KmJ3LWF4KmJ4LWF5KmJ5LWF6KmJ6LG91dH1mdW5jdGlvbiByb3RhdGVYKG91dCxhLHJhZCl7cmFkKj0uNTt2YXIgYXg9YVswXSxheT1hWzFdLGF6PWFbMl0sYXc9YVszXSxieD1NYXRoLnNpbihyYWQpLGJ3PU1hdGguY29zKHJhZCk7cmV0dXJuIG91dFswXT1heCpidythdypieCxvdXRbMV09YXkqYncrYXoqYngsb3V0WzJdPWF6KmJ3LWF5KmJ4LG91dFszXT1hdypidy1heCpieCxvdXR9ZnVuY3Rpb24gcm90YXRlWShvdXQsYSxyYWQpe3JhZCo9LjU7dmFyIGF4PWFbMF0sYXk9YVsxXSxhej1hWzJdLGF3PWFbM10sYnk9TWF0aC5zaW4ocmFkKSxidz1NYXRoLmNvcyhyYWQpO3JldHVybiBvdXRbMF09YXgqYnctYXoqYnksb3V0WzFdPWF5KmJ3K2F3KmJ5LG91dFsyXT1heipidytheCpieSxvdXRbM109YXcqYnctYXkqYnksb3V0fWZ1bmN0aW9uIHJvdGF0ZVoob3V0LGEscmFkKXtyYWQqPS41O3ZhciBheD1hWzBdLGF5PWFbMV0sYXo9YVsyXSxhdz1hWzNdLGJ6PU1hdGguc2luKHJhZCksYnc9TWF0aC5jb3MocmFkKTtyZXR1cm4gb3V0WzBdPWF4KmJ3K2F5KmJ6LG91dFsxXT1heSpidy1heCpieixvdXRbMl09YXoqYncrYXcqYnosb3V0WzNdPWF3KmJ3LWF6KmJ6LG91dH1mdW5jdGlvbiBjYWxjdWxhdGVXKG91dCxhKXt2YXIgeD1hWzBdLHk9YVsxXSx6PWFbMl07cmV0dXJuIG91dFswXT14LG91dFsxXT15LG91dFsyXT16LG91dFszXT1NYXRoLnNxcnQoTWF0aC5hYnMoMS14KngteSp5LXoqeikpLG91dH1mdW5jdGlvbiBzbGVycChvdXQsYSxiLHQpe3ZhciBheD1hWzBdLGF5PWFbMV0sYXo9YVsyXSxhdz1hWzNdLGJ4PWJbMF0sYnk9YlsxXSxiej1iWzJdLGJ3PWJbM10sb21lZ2E9dm9pZCAwLGNvc29tPXZvaWQgMCxzaW5vbT12b2lkIDAsc2NhbGUwPXZvaWQgMCxzY2FsZTE9dm9pZCAwO3JldHVybiBjb3NvbT1heCpieCtheSpieStheipieithdypidyxjb3NvbTwwJiYoY29zb209LWNvc29tLGJ4PS1ieCxieT0tYnksYno9LWJ6LGJ3PS1idyksMS1jb3NvbT4xZS02PyhvbWVnYT1NYXRoLmFjb3MoY29zb20pLHNpbm9tPU1hdGguc2luKG9tZWdhKSxzY2FsZTA9TWF0aC5zaW4oKDEtdCkqb21lZ2EpL3Npbm9tLHNjYWxlMT1NYXRoLnNpbih0Km9tZWdhKS9zaW5vbSk6KHNjYWxlMD0xLXQsc2NhbGUxPXQpLG91dFswXT1zY2FsZTAqYXgrc2NhbGUxKmJ4LG91dFsxXT1zY2FsZTAqYXkrc2NhbGUxKmJ5LG91dFsyXT1zY2FsZTAqYXorc2NhbGUxKmJ6LG91dFszXT1zY2FsZTAqYXcrc2NhbGUxKmJ3LG91dH1mdW5jdGlvbiBpbnZlcnQob3V0LGEpe3ZhciBhMD1hWzBdLGExPWFbMV0sYTI9YVsyXSxhMz1hWzNdLGRvdD1hMCphMCthMSphMSthMiphMithMyphMyxpbnZEb3Q9ZG90PzEvZG90OjA7cmV0dXJuIG91dFswXT0tYTAqaW52RG90LG91dFsxXT0tYTEqaW52RG90LG91dFsyXT0tYTIqaW52RG90LG91dFszXT1hMyppbnZEb3Qsb3V0fWZ1bmN0aW9uIGNvbmp1Z2F0ZShvdXQsYSl7cmV0dXJuIG91dFswXT0tYVswXSxvdXRbMV09LWFbMV0sb3V0WzJdPS1hWzJdLG91dFszXT1hWzNdLG91dH1mdW5jdGlvbiBmcm9tTWF0MyhvdXQsbSl7dmFyIGZUcmFjZT1tWzBdK21bNF0rbVs4XSxmUm9vdD12b2lkIDA7aWYoZlRyYWNlPjApZlJvb3Q9TWF0aC5zcXJ0KGZUcmFjZSsxKSxvdXRbM109LjUqZlJvb3QsZlJvb3Q9LjUvZlJvb3Qsb3V0WzBdPShtWzVdLW1bN10pKmZSb290LG91dFsxXT0obVs2XS1tWzJdKSpmUm9vdCxvdXRbMl09KG1bMV0tbVszXSkqZlJvb3Q7ZWxzZXt2YXIgaT0wO21bNF0+bVswXSYmKGk9MSksbVs4XT5tWzMqaStpXSYmKGk9Mik7dmFyIGo9KGkrMSklMyxrPShpKzIpJTM7ZlJvb3Q9TWF0aC5zcXJ0KG1bMyppK2ldLW1bMypqK2pdLW1bMyprK2tdKzEpLG91dFtpXT0uNSpmUm9vdCxmUm9vdD0uNS9mUm9vdCxvdXRbM109KG1bMypqK2tdLW1bMyprK2pdKSpmUm9vdCxvdXRbal09KG1bMypqK2ldK21bMyppK2pdKSpmUm9vdCxvdXRba109KG1bMyprK2ldK21bMyppK2tdKSpmUm9vdH1yZXR1cm4gb3V0fWZ1bmN0aW9uIGZyb21FdWxlcihvdXQseCx5LHope3ZhciBoYWxmVG9SYWQ9LjUqTWF0aC5QSS8xODA7eCo9aGFsZlRvUmFkLHkqPWhhbGZUb1JhZCx6Kj1oYWxmVG9SYWQ7dmFyIHN4PU1hdGguc2luKHgpLGN4PU1hdGguY29zKHgpLHN5PU1hdGguc2luKHkpLGN5PU1hdGguY29zKHkpLHN6PU1hdGguc2luKHopLGN6PU1hdGguY29zKHopO3JldHVybiBvdXRbMF09c3gqY3kqY3otY3gqc3kqc3osb3V0WzFdPWN4KnN5KmN6K3N4KmN5KnN6LG91dFsyXT1jeCpjeSpzei1zeCpzeSpjeixvdXRbM109Y3gqY3kqY3orc3gqc3kqc3osb3V0fWZ1bmN0aW9uIHN0cihhKXtyZXR1cm5cInF1YXQoXCIrYVswXStcIiwgXCIrYVsxXStcIiwgXCIrYVsyXStcIiwgXCIrYVszXStcIilcIn1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLnNldEF4ZXM9ZXhwb3J0cy5zcWxlcnA9ZXhwb3J0cy5yb3RhdGlvblRvPWV4cG9ydHMuZXF1YWxzPWV4cG9ydHMuZXhhY3RFcXVhbHM9ZXhwb3J0cy5ub3JtYWxpemU9ZXhwb3J0cy5zcXJMZW49ZXhwb3J0cy5zcXVhcmVkTGVuZ3RoPWV4cG9ydHMubGVuPWV4cG9ydHMubGVuZ3RoPWV4cG9ydHMubGVycD1leHBvcnRzLmRvdD1leHBvcnRzLnNjYWxlPWV4cG9ydHMubXVsPWV4cG9ydHMuYWRkPWV4cG9ydHMuc2V0PWV4cG9ydHMuY29weT1leHBvcnRzLmZyb21WYWx1ZXM9ZXhwb3J0cy5jbG9uZT12b2lkIDAsZXhwb3J0cy5jcmVhdGU9Y3JlYXRlLGV4cG9ydHMuaWRlbnRpdHk9aWRlbnRpdHksZXhwb3J0cy5zZXRBeGlzQW5nbGU9c2V0QXhpc0FuZ2xlLGV4cG9ydHMuZ2V0QXhpc0FuZ2xlPWdldEF4aXNBbmdsZSxleHBvcnRzLm11bHRpcGx5PW11bHRpcGx5LGV4cG9ydHMucm90YXRlWD1yb3RhdGVYLGV4cG9ydHMucm90YXRlWT1yb3RhdGVZLGV4cG9ydHMucm90YXRlWj1yb3RhdGVaLGV4cG9ydHMuY2FsY3VsYXRlVz1jYWxjdWxhdGVXLGV4cG9ydHMuc2xlcnA9c2xlcnAsZXhwb3J0cy5pbnZlcnQ9aW52ZXJ0LGV4cG9ydHMuY29uanVnYXRlPWNvbmp1Z2F0ZSxleHBvcnRzLmZyb21NYXQzPWZyb21NYXQzLGV4cG9ydHMuZnJvbUV1bGVyPWZyb21FdWxlcixleHBvcnRzLnN0cj1zdHI7dmFyIF9jb21tb249X193ZWJwYWNrX3JlcXVpcmVfXygzKSxnbE1hdHJpeD1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29tbW9uKSxfbWF0PV9fd2VicGFja19yZXF1aXJlX18oMjApLG1hdDM9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX21hdCksX3ZlYz1fX3dlYnBhY2tfcmVxdWlyZV9fKDIxKSx2ZWMzPV9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF92ZWMpLF92ZWMyPV9fd2VicGFja19yZXF1aXJlX18oMjIpLHZlYzQ9X2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3ZlYzIpLGxlbmd0aD0oZXhwb3J0cy5jbG9uZT12ZWM0LmNsb25lLGV4cG9ydHMuZnJvbVZhbHVlcz12ZWM0LmZyb21WYWx1ZXMsZXhwb3J0cy5jb3B5PXZlYzQuY29weSxleHBvcnRzLnNldD12ZWM0LnNldCxleHBvcnRzLmFkZD12ZWM0LmFkZCxleHBvcnRzLm11bD1tdWx0aXBseSxleHBvcnRzLnNjYWxlPXZlYzQuc2NhbGUsZXhwb3J0cy5kb3Q9dmVjNC5kb3QsZXhwb3J0cy5sZXJwPXZlYzQubGVycCxleHBvcnRzLmxlbmd0aD12ZWM0Lmxlbmd0aCksc3F1YXJlZExlbmd0aD0oZXhwb3J0cy5sZW49bGVuZ3RoLGV4cG9ydHMuc3F1YXJlZExlbmd0aD12ZWM0LnNxdWFyZWRMZW5ndGgpLG5vcm1hbGl6ZT0oZXhwb3J0cy5zcXJMZW49c3F1YXJlZExlbmd0aCxleHBvcnRzLm5vcm1hbGl6ZT12ZWM0Lm5vcm1hbGl6ZSk7ZXhwb3J0cy5leGFjdEVxdWFscz12ZWM0LmV4YWN0RXF1YWxzLGV4cG9ydHMuZXF1YWxzPXZlYzQuZXF1YWxzLGV4cG9ydHMucm90YXRpb25Ubz1mdW5jdGlvbigpe3ZhciB0bXB2ZWMzPXZlYzMuY3JlYXRlKCkseFVuaXRWZWMzPXZlYzMuZnJvbVZhbHVlcygxLDAsMCkseVVuaXRWZWMzPXZlYzMuZnJvbVZhbHVlcygwLDEsMCk7cmV0dXJuIGZ1bmN0aW9uKG91dCxhLGIpe3ZhciBkb3Q9dmVjMy5kb3QoYSxiKTtyZXR1cm4gZG90PC0uOTk5OTk5Pyh2ZWMzLmNyb3NzKHRtcHZlYzMseFVuaXRWZWMzLGEpLHZlYzMubGVuKHRtcHZlYzMpPDFlLTYmJnZlYzMuY3Jvc3ModG1wdmVjMyx5VW5pdFZlYzMsYSksdmVjMy5ub3JtYWxpemUodG1wdmVjMyx0bXB2ZWMzKSxzZXRBeGlzQW5nbGUob3V0LHRtcHZlYzMsTWF0aC5QSSksb3V0KTpkb3Q+Ljk5OTk5OT8ob3V0WzBdPTAsb3V0WzFdPTAsb3V0WzJdPTAsb3V0WzNdPTEsb3V0KToodmVjMy5jcm9zcyh0bXB2ZWMzLGEsYiksb3V0WzBdPXRtcHZlYzNbMF0sb3V0WzFdPXRtcHZlYzNbMV0sb3V0WzJdPXRtcHZlYzNbMl0sb3V0WzNdPTErZG90LG5vcm1hbGl6ZShvdXQsb3V0KSl9fSgpLGV4cG9ydHMuc3FsZXJwPWZ1bmN0aW9uKCl7dmFyIHRlbXAxPWNyZWF0ZSgpLHRlbXAyPWNyZWF0ZSgpO3JldHVybiBmdW5jdGlvbihvdXQsYSxiLGMsZCx0KXtyZXR1cm4gc2xlcnAodGVtcDEsYSxkLHQpLHNsZXJwKHRlbXAyLGIsYyx0KSxzbGVycChvdXQsdGVtcDEsdGVtcDIsMip0KigxLXQpKSxvdXR9fSgpLGV4cG9ydHMuc2V0QXhlcz1mdW5jdGlvbigpe3ZhciBtYXRyPW1hdDMuY3JlYXRlKCk7cmV0dXJuIGZ1bmN0aW9uKG91dCx2aWV3LHJpZ2h0LHVwKXtyZXR1cm4gbWF0clswXT1yaWdodFswXSxtYXRyWzNdPXJpZ2h0WzFdLG1hdHJbNl09cmlnaHRbMl0sbWF0clsxXT11cFswXSxtYXRyWzRdPXVwWzFdLG1hdHJbN109dXBbMl0sbWF0clsyXT0tdmlld1swXSxtYXRyWzVdPS12aWV3WzFdLG1hdHJbOF09LXZpZXdbMl0sbm9ybWFsaXplKG91dCxmcm9tTWF0MyhvdXQsbWF0cikpfX0oKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gY3JlYXRlKCl7dmFyIG91dD1uZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgyKTtyZXR1cm4gb3V0WzBdPTAsb3V0WzFdPTAsb3V0fWZ1bmN0aW9uIGNsb25lKGEpe3ZhciBvdXQ9bmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMik7cmV0dXJuIG91dFswXT1hWzBdLG91dFsxXT1hWzFdLG91dH1mdW5jdGlvbiBmcm9tVmFsdWVzKHgseSl7dmFyIG91dD1uZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgyKTtyZXR1cm4gb3V0WzBdPXgsb3V0WzFdPXksb3V0fWZ1bmN0aW9uIGNvcHkob3V0LGEpe3JldHVybiBvdXRbMF09YVswXSxvdXRbMV09YVsxXSxvdXR9ZnVuY3Rpb24gc2V0KG91dCx4LHkpe3JldHVybiBvdXRbMF09eCxvdXRbMV09eSxvdXR9ZnVuY3Rpb24gYWRkKG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXStiWzBdLG91dFsxXT1hWzFdK2JbMV0sb3V0fWZ1bmN0aW9uIHN1YnRyYWN0KG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXS1iWzBdLG91dFsxXT1hWzFdLWJbMV0sb3V0fWZ1bmN0aW9uIG11bHRpcGx5KG91dCxhLGIpe3JldHVybiBvdXRbMF09YVswXSpiWzBdLG91dFsxXT1hWzFdKmJbMV0sb3V0fWZ1bmN0aW9uIGRpdmlkZShvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0vYlswXSxvdXRbMV09YVsxXS9iWzFdLG91dH1mdW5jdGlvbiBjZWlsKG91dCxhKXtyZXR1cm4gb3V0WzBdPU1hdGguY2VpbChhWzBdKSxvdXRbMV09TWF0aC5jZWlsKGFbMV0pLG91dH1mdW5jdGlvbiBmbG9vcihvdXQsYSl7cmV0dXJuIG91dFswXT1NYXRoLmZsb29yKGFbMF0pLG91dFsxXT1NYXRoLmZsb29yKGFbMV0pLG91dH1mdW5jdGlvbiBtaW4ob3V0LGEsYil7cmV0dXJuIG91dFswXT1NYXRoLm1pbihhWzBdLGJbMF0pLG91dFsxXT1NYXRoLm1pbihhWzFdLGJbMV0pLG91dH1mdW5jdGlvbiBtYXgob3V0LGEsYil7cmV0dXJuIG91dFswXT1NYXRoLm1heChhWzBdLGJbMF0pLG91dFsxXT1NYXRoLm1heChhWzFdLGJbMV0pLG91dH1mdW5jdGlvbiByb3VuZChvdXQsYSl7cmV0dXJuIG91dFswXT1NYXRoLnJvdW5kKGFbMF0pLG91dFsxXT1NYXRoLnJvdW5kKGFbMV0pLG91dH1mdW5jdGlvbiBzY2FsZShvdXQsYSxiKXtyZXR1cm4gb3V0WzBdPWFbMF0qYixvdXRbMV09YVsxXSpiLG91dH1mdW5jdGlvbiBzY2FsZUFuZEFkZChvdXQsYSxiLHNjYWxlKXtyZXR1cm4gb3V0WzBdPWFbMF0rYlswXSpzY2FsZSxvdXRbMV09YVsxXStiWzFdKnNjYWxlLG91dH1mdW5jdGlvbiBkaXN0YW5jZShhLGIpe3ZhciB4PWJbMF0tYVswXSx5PWJbMV0tYVsxXTtyZXR1cm4gTWF0aC5zcXJ0KHgqeCt5KnkpfWZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZShhLGIpe3ZhciB4PWJbMF0tYVswXSx5PWJbMV0tYVsxXTtyZXR1cm4geCp4K3kqeX1mdW5jdGlvbiBsZW5ndGgoYSl7dmFyIHg9YVswXSx5PWFbMV07cmV0dXJuIE1hdGguc3FydCh4KngreSp5KX1mdW5jdGlvbiBzcXVhcmVkTGVuZ3RoKGEpe3ZhciB4PWFbMF0seT1hWzFdO3JldHVybiB4KngreSp5fWZ1bmN0aW9uIG5lZ2F0ZShvdXQsYSl7cmV0dXJuIG91dFswXT0tYVswXSxvdXRbMV09LWFbMV0sb3V0fWZ1bmN0aW9uIGludmVyc2Uob3V0LGEpe3JldHVybiBvdXRbMF09MS9hWzBdLG91dFsxXT0xL2FbMV0sb3V0fWZ1bmN0aW9uIG5vcm1hbGl6ZShvdXQsYSl7dmFyIHg9YVswXSx5PWFbMV0sbGVuPXgqeCt5Knk7cmV0dXJuIGxlbj4wJiYobGVuPTEvTWF0aC5zcXJ0KGxlbiksb3V0WzBdPWFbMF0qbGVuLG91dFsxXT1hWzFdKmxlbiksb3V0fWZ1bmN0aW9uIGRvdChhLGIpe3JldHVybiBhWzBdKmJbMF0rYVsxXSpiWzFdfWZ1bmN0aW9uIGNyb3NzKG91dCxhLGIpe3ZhciB6PWFbMF0qYlsxXS1hWzFdKmJbMF07cmV0dXJuIG91dFswXT1vdXRbMV09MCxvdXRbMl09eixvdXR9ZnVuY3Rpb24gbGVycChvdXQsYSxiLHQpe3ZhciBheD1hWzBdLGF5PWFbMV07cmV0dXJuIG91dFswXT1heCt0KihiWzBdLWF4KSxvdXRbMV09YXkrdCooYlsxXS1heSksb3V0fWZ1bmN0aW9uIHJhbmRvbShvdXQsc2NhbGUpe3NjYWxlPXNjYWxlfHwxO3ZhciByPTIqZ2xNYXRyaXguUkFORE9NKCkqTWF0aC5QSTtyZXR1cm4gb3V0WzBdPU1hdGguY29zKHIpKnNjYWxlLG91dFsxXT1NYXRoLnNpbihyKSpzY2FsZSxvdXR9ZnVuY3Rpb24gdHJhbnNmb3JtTWF0MihvdXQsYSxtKXt2YXIgeD1hWzBdLHk9YVsxXTtyZXR1cm4gb3V0WzBdPW1bMF0qeCttWzJdKnksb3V0WzFdPW1bMV0qeCttWzNdKnksb3V0fWZ1bmN0aW9uIHRyYW5zZm9ybU1hdDJkKG91dCxhLG0pe3ZhciB4PWFbMF0seT1hWzFdO3JldHVybiBvdXRbMF09bVswXSp4K21bMl0qeSttWzRdLG91dFsxXT1tWzFdKngrbVszXSp5K21bNV0sb3V0fWZ1bmN0aW9uIHRyYW5zZm9ybU1hdDMob3V0LGEsbSl7dmFyIHg9YVswXSx5PWFbMV07cmV0dXJuIG91dFswXT1tWzBdKngrbVszXSp5K21bNl0sb3V0WzFdPW1bMV0qeCttWzRdKnkrbVs3XSxvdXR9ZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsYSxtKXt2YXIgeD1hWzBdLHk9YVsxXTtyZXR1cm4gb3V0WzBdPW1bMF0qeCttWzRdKnkrbVsxMl0sb3V0WzFdPW1bMV0qeCttWzVdKnkrbVsxM10sb3V0fWZ1bmN0aW9uIHN0cihhKXtyZXR1cm5cInZlYzIoXCIrYVswXStcIiwgXCIrYVsxXStcIilcIn1mdW5jdGlvbiBleGFjdEVxdWFscyhhLGIpe3JldHVybiBhWzBdPT09YlswXSYmYVsxXT09PWJbMV19ZnVuY3Rpb24gZXF1YWxzKGEsYil7dmFyIGEwPWFbMF0sYTE9YVsxXSxiMD1iWzBdLGIxPWJbMV07cmV0dXJuIE1hdGguYWJzKGEwLWIwKTw9Z2xNYXRyaXguRVBTSUxPTipNYXRoLm1heCgxLE1hdGguYWJzKGEwKSxNYXRoLmFicyhiMCkpJiZNYXRoLmFicyhhMS1iMSk8PWdsTWF0cml4LkVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhhMSksTWF0aC5hYnMoYjEpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmZvckVhY2g9ZXhwb3J0cy5zcXJMZW49ZXhwb3J0cy5zcXJEaXN0PWV4cG9ydHMuZGlzdD1leHBvcnRzLmRpdj1leHBvcnRzLm11bD1leHBvcnRzLnN1Yj1leHBvcnRzLmxlbj12b2lkIDAsZXhwb3J0cy5jcmVhdGU9Y3JlYXRlLGV4cG9ydHMuY2xvbmU9Y2xvbmUsZXhwb3J0cy5mcm9tVmFsdWVzPWZyb21WYWx1ZXMsZXhwb3J0cy5jb3B5PWNvcHksZXhwb3J0cy5zZXQ9c2V0LGV4cG9ydHMuYWRkPWFkZCxleHBvcnRzLnN1YnRyYWN0PXN1YnRyYWN0LGV4cG9ydHMubXVsdGlwbHk9bXVsdGlwbHksZXhwb3J0cy5kaXZpZGU9ZGl2aWRlLGV4cG9ydHMuY2VpbD1jZWlsLGV4cG9ydHMuZmxvb3I9Zmxvb3IsZXhwb3J0cy5taW49bWluLGV4cG9ydHMubWF4PW1heCxleHBvcnRzLnJvdW5kPXJvdW5kLGV4cG9ydHMuc2NhbGU9c2NhbGUsZXhwb3J0cy5zY2FsZUFuZEFkZD1zY2FsZUFuZEFkZCxleHBvcnRzLmRpc3RhbmNlPWRpc3RhbmNlLGV4cG9ydHMuc3F1YXJlZERpc3RhbmNlPXNxdWFyZWREaXN0YW5jZSxleHBvcnRzLmxlbmd0aD1sZW5ndGgsZXhwb3J0cy5zcXVhcmVkTGVuZ3RoPXNxdWFyZWRMZW5ndGgsZXhwb3J0cy5uZWdhdGU9bmVnYXRlLGV4cG9ydHMuaW52ZXJzZT1pbnZlcnNlLGV4cG9ydHMubm9ybWFsaXplPW5vcm1hbGl6ZSxleHBvcnRzLmRvdD1kb3QsZXhwb3J0cy5jcm9zcz1jcm9zcyxleHBvcnRzLmxlcnA9bGVycCxleHBvcnRzLnJhbmRvbT1yYW5kb20sZXhwb3J0cy50cmFuc2Zvcm1NYXQyPXRyYW5zZm9ybU1hdDIsZXhwb3J0cy50cmFuc2Zvcm1NYXQyZD10cmFuc2Zvcm1NYXQyZCxleHBvcnRzLnRyYW5zZm9ybU1hdDM9dHJhbnNmb3JtTWF0MyxleHBvcnRzLnRyYW5zZm9ybU1hdDQ9dHJhbnNmb3JtTWF0NCxleHBvcnRzLnN0cj1zdHIsZXhwb3J0cy5leGFjdEVxdWFscz1leGFjdEVxdWFscyxleHBvcnRzLmVxdWFscz1lcXVhbHM7dmFyIF9jb21tb249X193ZWJwYWNrX3JlcXVpcmVfXygzKSxnbE1hdHJpeD1mdW5jdGlvbihvYmope2lmKG9iaiYmb2JqLl9fZXNNb2R1bGUpcmV0dXJuIG9iajt2YXIgbmV3T2JqPXt9O2lmKG51bGwhPW9iailmb3IodmFyIGtleSBpbiBvYmopT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaixrZXkpJiYobmV3T2JqW2tleV09b2JqW2tleV0pO3JldHVybiBuZXdPYmouZGVmYXVsdD1vYmosbmV3T2JqfShfY29tbW9uKTtleHBvcnRzLmxlbj1sZW5ndGgsZXhwb3J0cy5zdWI9c3VidHJhY3QsZXhwb3J0cy5tdWw9bXVsdGlwbHksZXhwb3J0cy5kaXY9ZGl2aWRlLGV4cG9ydHMuZGlzdD1kaXN0YW5jZSxleHBvcnRzLnNxckRpc3Q9c3F1YXJlZERpc3RhbmNlLGV4cG9ydHMuc3FyTGVuPXNxdWFyZWRMZW5ndGgsZXhwb3J0cy5mb3JFYWNoPWZ1bmN0aW9uKCl7dmFyIHZlYz1jcmVhdGUoKTtyZXR1cm4gZnVuY3Rpb24oYSxzdHJpZGUsb2Zmc2V0LGNvdW50LGZuLGFyZyl7dmFyIGk9dm9pZCAwLGw9dm9pZCAwO2ZvcihzdHJpZGV8fChzdHJpZGU9Miksb2Zmc2V0fHwob2Zmc2V0PTApLGw9Y291bnQ/TWF0aC5taW4oY291bnQqc3RyaWRlK29mZnNldCxhLmxlbmd0aCk6YS5sZW5ndGgsaT1vZmZzZXQ7aTxsO2krPXN0cmlkZSl2ZWNbMF09YVtpXSx2ZWNbMV09YVtpKzFdLGZuKHZlYyx2ZWMsYXJnKSxhW2ldPXZlY1swXSxhW2krMV09dmVjWzFdO3JldHVybiBhfX0oKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZ2V0QW5kQXBwbHlFeHRlbnNpb24oZ2wsbmFtZSl7dmFyIGV4dD1nbC5nZXRFeHRlbnNpb24obmFtZSk7aWYoIWV4dClyZXR1cm4hMTt2YXIgc3VmZml4PW5hbWUuc3BsaXQoXCJfXCIpWzBdLHN1ZmZpeFJFPW5ldyBSZWdFeHAoc3VmZml4K1wiJFwiKTtmb3IodmFyIGtleSBpbiBleHQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGV4dFtrZXldKXt2YXIgdW5zdWZmaXhlZEtleT1rZXkucmVwbGFjZShzdWZmaXhSRSxcIlwiKTtrZXkuc3Vic3RyaW5nJiYoZ2xbdW5zdWZmaXhlZEtleV09ZXh0W2tleV0uYmluZChleHQpKX19cmV0dXJuITB9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZWZhdWx0PWdldEFuZEFwcGx5RXh0ZW5zaW9ufSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRvb2wpLF9XZWJnbENvbnN0PV9fd2VicGFja19yZXF1aXJlX18oMjMpLF9XZWJnbENvbnN0Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9XZWJnbENvbnN0KSxleHBvc2VBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciBzIGluIF9XZWJnbENvbnN0Mi5kZWZhdWx0KV9HTFRvb2wyLmRlZmF1bHRbc10/Y29uc29sZS5sb2coXCJhbHJlYWR5IGV4aXN0IDogXCIscyk6X0dMVG9vbDIuZGVmYXVsdFtzXT1fV2ViZ2xDb25zdDIuZGVmYXVsdFtzXX07ZXhwb3J0cy5kZWZhdWx0PWV4cG9zZUF0dHJpYnV0ZXN9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGNoZWNrRmxvYXQoKXtyZXR1cm4gX0dMVG9vbDIuZGVmYXVsdC53ZWJnbDI/X0dMVG9vbDIuZGVmYXVsdC5nbC5GTE9BVDpfR0xUb29sMi5kZWZhdWx0LmdldEV4dGVuc2lvbihcIk9FU190ZXh0dXJlX2Zsb2F0XCIpP19HTFRvb2wyLmRlZmF1bHQuZ2wuRkxPQVQ6KGNvbnNvbGUud2FybihcIlVTSU5HIEZMT0FUIEJVVCBPRVNfdGV4dHVyZV9mbG9hdCBOT1QgU1VQUE9SVEVEXCIpLF9HTFRvb2wyLmRlZmF1bHQuZ2wuVU5TSUdORURfQllURSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIGhhc0NoZWNrZWR8fChfZmxvYXQ9Y2hlY2tGbG9hdCgpKSxfZmxvYXR9O3ZhciBfR0xUb29sPV9fd2VicGFja19yZXF1aXJlX18oMCksX0dMVG9vbDI9ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX0oX0dMVG9vbCksaGFzQ2hlY2tlZD0hMSxfZmxvYXQ9dm9pZCAwfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBjaGVja0hhbGZGbG9hdCgpe2lmKF9HTFRvb2wyLmRlZmF1bHQud2ViZ2wyKXJldHVybiBfR0xUb29sMi5kZWZhdWx0LmdsLkhBTEZfRkxPQVQ7dmFyIGV4dEhhbGZGbG9hdD1fR0xUb29sMi5kZWZhdWx0LmdldEV4dGVuc2lvbihcIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRcIik7cmV0dXJuIGV4dEhhbGZGbG9hdD9leHRIYWxmRmxvYXQuSEFMRl9GTE9BVF9PRVM6KGNvbnNvbGUud2FybihcIlVTSU5HIEhBTEYgRkxPQVQgQlVUIE9FU190ZXh0dXJlX2hhbGZfZmxvYXQgTk9UIFNVUFBPUlRFRFwiKSxfR0xUb29sMi5kZWZhdWx0LmdsLlVOU0lHTkVEX0JZVEUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiBoYXNDaGVja2VkfHwoaGFsZkZsb2F0PWNoZWNrSGFsZkZsb2F0KCkpLGhhbGZGbG9hdH07dmFyIF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1mdW5jdGlvbihvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fShfR0xUb29sKSxoYXNDaGVja2VkPSExLGhhbGZGbG9hdD12b2lkIDB9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGVmYXVsdD1bXCJFWFRfc2hhZGVyX3RleHR1cmVfbG9kXCIsXCJFWFRfc1JHQlwiLFwiRVhUX2ZyYWdfZGVwdGhcIixcIk9FU190ZXh0dXJlX2Zsb2F0XCIsXCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0XCIsXCJPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXJcIixcIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyXCIsXCJPRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXNcIixcIldFQkdMX2RlcHRoX3RleHR1cmVcIixcIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiLFwiT0VTX3ZlcnRleF9hcnJheV9vYmplY3RcIixcIkFOR0xFX2luc3RhbmNlZF9hcnJheXNcIixcIldFQkdMX2RyYXdfYnVmZmVyc1wiXX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oc3RyaW5ncyl7XCJzdHJpbmdcIj09dHlwZW9mIHN0cmluZ3MmJihzdHJpbmdzPVtzdHJpbmdzXSk7Zm9yKHZhciBleHBycz1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxwYXJ0cz1bXSxpPTA7aTxzdHJpbmdzLmxlbmd0aC0xO2krKylwYXJ0cy5wdXNoKHN0cmluZ3NbaV0sZXhwcnNbaV18fFwiXCIpO3JldHVybiBwYXJ0cy5wdXNoKHN0cmluZ3NbaV0pLHBhcnRzLmpvaW4oXCJcIil9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9XCIvLyBiYXNpYy5mcmFnXFxuXFxuI2RlZmluZSBTSEFERVJfTkFNRSBCQVNJQ19GUkFHTUVOVFxcblxcbnByZWNpc2lvbiBsb3dwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSBmbG9hdCB0aW1lO1xcbi8vIHVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCh2VGV4dHVyZUNvb3JkLCBzaW4odGltZSkgKiAuNSArIC41LCAxLjApO1xcbn1cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaXNQb3dlck9mVHdvKHgpe3JldHVybiAwIT09eCYmISh4JngtMSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1mdW5jdGlvbihvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fShfR0xUb29sKSxnZXRUZXh0dXJlUGFyYW1ldGVycz1mdW5jdGlvbihtUGFyYW1zLG1Tb3VyY2UsbVdpZHRoLG1IZWlnaHQpe2lmKCFtUGFyYW1zLm1pbkZpbHRlcil7dmFyIG1pbkZpbHRlcj1fR0xUb29sMi5kZWZhdWx0LkxJTkVBUjttV2lkdGgmJm1XaWR0aCYmaXNQb3dlck9mVHdvKG1XaWR0aCkmJmlzUG93ZXJPZlR3byhtSGVpZ2h0KSYmKG1pbkZpbHRlcj1fR0xUb29sMi5kZWZhdWx0Lk5FQVJFU1RfTUlQTUFQX0xJTkVBUiksbVBhcmFtcy5taW5GaWx0ZXI9bWluRmlsdGVyfXJldHVybiBtUGFyYW1zLm1pcG1hcD1tUGFyYW1zLm1pcG1hcHx8ITAsbVBhcmFtcy5tYWdGaWx0ZXI9bVBhcmFtcy5tYWdGaWx0ZXJ8fF9HTFRvb2wyLmRlZmF1bHQuTElORUFSLG1QYXJhbXMud3JhcFM9bVBhcmFtcy53cmFwU3x8X0dMVG9vbDIuZGVmYXVsdC5DTEFNUF9UT19FREdFLG1QYXJhbXMud3JhcFQ9bVBhcmFtcy53cmFwVHx8X0dMVG9vbDIuZGVmYXVsdC5DTEFNUF9UT19FREdFLG1QYXJhbXMuaW50ZXJuYWxGb3JtYXQ9bVBhcmFtcy5pbnRlcm5hbEZvcm1hdHx8X0dMVG9vbDIuZGVmYXVsdC5SR0JBLG1QYXJhbXMuZm9ybWF0PW1QYXJhbXMuZm9ybWF0fHxfR0xUb29sMi5kZWZhdWx0LlJHQkEsbVBhcmFtcy5wcmVtdWx0aXBseUFscGhhPW1QYXJhbXMucHJlbXVsdGlwbHlBbHBoYXx8ITEsbVBhcmFtcy5sZXZlbD1tUGFyYW1zLmxldmVsfHwwLG1QYXJhbXMuYW5pc290cm9weT1tUGFyYW1zLmFuaXNvdHJvcHl8fDAsbVBhcmFtc307ZXhwb3J0cy5kZWZhdWx0PWdldFRleHR1cmVQYXJhbWV0ZXJzfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBwYXJzZUhlYWRlcnMoYXJyYXlCdWZmZXIpe3ZhciBoZWFkZXI9bmV3IEludDMyQXJyYXkoYXJyYXlCdWZmZXIsMCxoZWFkZXJMZW5ndGhJbnQpO2lmKGhlYWRlcltvZmZfbWFnaWNdIT09RERTX01BR0lDKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbWFnaWMgbnVtYmVyIGluIEREUyBoZWFkZXJcIik7aWYoIWhlYWRlcltvZmZfcGZGbGFnc10mRERQRl9GT1VSQ0MpdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgZm9ybWF0LCBtdXN0IGNvbnRhaW4gYSBGb3VyQ0MgY29kZVwiKTt2YXIgYmxvY2tCeXRlcyxmb3JtYXQsZm91ckNDPWhlYWRlcltvZmZfcGZGb3VyQ0NdO3N3aXRjaChmb3VyQ0Mpe2Nhc2UgRk9VUkNDX0RYVDE6YmxvY2tCeXRlcz04LGZvcm1hdD1cImR4dDFcIjticmVhaztjYXNlIEZPVVJDQ19EWFQzOmJsb2NrQnl0ZXM9MTYsZm9ybWF0PVwiZHh0M1wiO2JyZWFrO2Nhc2UgRk9VUkNDX0RYVDU6YmxvY2tCeXRlcz0xNixmb3JtYXQ9XCJkeHQ1XCI7YnJlYWs7Y2FzZSBGT1VSQ0NfRlAzMkY6Zm9ybWF0PVwicmdiYTMyZlwiO2JyZWFrO2Nhc2UgRk9VUkNDX0RYMTA6dmFyIGR4MTBIZWFkZXI9bmV3IFVpbnQzMkFycmF5KGFycmF5QnVmZmVyLnNsaWNlKDEyOCwxNDgpKTtmb3JtYXQ9ZHgxMEhlYWRlclswXTt2YXIgcmVzb3VyY2VEaW1lbnNpb249ZHgxMEhlYWRlclsxXTtkeDEwSGVhZGVyWzJdLGR4MTBIZWFkZXJbM10sZHgxMEhlYWRlcls0XTtpZihyZXNvdXJjZURpbWVuc2lvbiE9PUQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTl9URVhUVVJFMkR8fGZvcm1hdCE9PURYR0lfRk9STUFUX1IzMkczMkIzMkEzMl9GTE9BVCl0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBEWDEwIHRleHR1cmUgZm9ybWF0IFwiK2Zvcm1hdCk7Zm9ybWF0PVwicmdiYTMyZlwiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgRm91ckNDIGNvZGU6IFwiK2ludDMyVG9Gb3VyQ0MoZm91ckNDKSl9dmFyIGZsYWdzPWhlYWRlcltvZmZfZmxhZ3NdLG1pcG1hcENvdW50PTE7ZmxhZ3MmRERTRF9NSVBNQVBDT1VOVCYmKG1pcG1hcENvdW50PU1hdGgubWF4KDEsaGVhZGVyW29mZl9taXBtYXBDb3VudF0pKTt2YXIgY3ViZW1hcD0hMTtoZWFkZXJbb2ZmX2NhcHMyXSZERFNDQVBTMl9DVUJFTUFQJiYoY3ViZW1hcD0hMCk7dmFyIGRhdGFMZW5ndGgsd2lkdGg9aGVhZGVyW29mZl93aWR0aF0saGVpZ2h0PWhlYWRlcltvZmZfaGVpZ2h0XSxkYXRhT2Zmc2V0PWhlYWRlcltvZmZfc2l6ZV0rNCx0ZXhXaWR0aD13aWR0aCx0ZXhIZWlnaHQ9aGVpZ2h0LGltYWdlcz1bXTtpZihmb3VyQ0M9PT1GT1VSQ0NfRFgxMCYmKGRhdGFPZmZzZXQrPTIwKSxjdWJlbWFwKWZvcih2YXIgZj0wO2Y8NjtmKyspe2lmKFwicmdiYTMyZlwiIT09Zm9ybWF0KXRocm93IG5ldyBFcnJvcihcIk9ubHkgUkdCQTMyZiBjdWJlbWFwcyBhcmUgc3VwcG9ydGVkXCIpO3dpZHRoPXRleFdpZHRoLGhlaWdodD10ZXhIZWlnaHQ7Zm9yKHZhciByZXF1aXJlZE1pcExldmVscz1NYXRoLmxvZyh3aWR0aCkvTWF0aC5sb2coMikrMSxpPTA7aTxyZXF1aXJlZE1pcExldmVscztpKyspZGF0YUxlbmd0aD13aWR0aCpoZWlnaHQqMTYsaW1hZ2VzLnB1c2goe29mZnNldDpkYXRhT2Zmc2V0LGxlbmd0aDpkYXRhTGVuZ3RoLHNoYXBlOlt3aWR0aCxoZWlnaHRdfSksaTxtaXBtYXBDb3VudCYmKGRhdGFPZmZzZXQrPWRhdGFMZW5ndGgpLHdpZHRoPU1hdGguZmxvb3Iod2lkdGgvMiksaGVpZ2h0PU1hdGguZmxvb3IoaGVpZ2h0LzIpfWVsc2UgZm9yKHZhciBpPTA7aTxtaXBtYXBDb3VudDtpKyspZGF0YUxlbmd0aD1NYXRoLm1heCg0LHdpZHRoKS80Kk1hdGgubWF4KDQsaGVpZ2h0KS80KmJsb2NrQnl0ZXMsaW1hZ2VzLnB1c2goe29mZnNldDpkYXRhT2Zmc2V0LGxlbmd0aDpkYXRhTGVuZ3RoLHNoYXBlOlt3aWR0aCxoZWlnaHRdfSksZGF0YU9mZnNldCs9ZGF0YUxlbmd0aCx3aWR0aD1NYXRoLmZsb29yKHdpZHRoLzIpLGhlaWdodD1NYXRoLmZsb29yKGhlaWdodC8yKTtyZXR1cm57c2hhcGU6W3RleFdpZHRoLHRleEhlaWdodF0saW1hZ2VzOmltYWdlcyxmb3JtYXQ6Zm9ybWF0LGZsYWdzOmZsYWdzLGN1YmVtYXA6Y3ViZW1hcH19ZnVuY3Rpb24gZm91ckNDVG9JbnQzMih2YWx1ZSl7cmV0dXJuIHZhbHVlLmNoYXJDb2RlQXQoMCkrKHZhbHVlLmNoYXJDb2RlQXQoMSk8PDgpKyh2YWx1ZS5jaGFyQ29kZUF0KDIpPDwxNikrKHZhbHVlLmNoYXJDb2RlQXQoMyk8PDI0KX1mdW5jdGlvbiBpbnQzMlRvRm91ckNDKHZhbHVlKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSgyNTUmdmFsdWUsdmFsdWU+PjgmMjU1LHZhbHVlPj4xNiYyNTUsdmFsdWU+PjI0JjI1NSl9dmFyIEREU19NQUdJQz01NDIzMjc4NzYsRERTRF9NSVBNQVBDT1VOVD0xMzEwNzIsRERQRl9GT1VSQ0M9NCxGT1VSQ0NfRFhUMT1mb3VyQ0NUb0ludDMyKFwiRFhUMVwiKSxGT1VSQ0NfRFhUMz1mb3VyQ0NUb0ludDMyKFwiRFhUM1wiKSxGT1VSQ0NfRFhUNT1mb3VyQ0NUb0ludDMyKFwiRFhUNVwiKSxGT1VSQ0NfRFgxMD1mb3VyQ0NUb0ludDMyKFwiRFgxMFwiKSxGT1VSQ0NfRlAzMkY9MTE2LEREU0NBUFMyX0NVQkVNQVA9NTEyLEQzRDEwX1JFU09VUkNFX0RJTUVOU0lPTl9URVhUVVJFMkQ9MyxEWEdJX0ZPUk1BVF9SMzJHMzJCMzJBMzJfRkxPQVQ9MixoZWFkZXJMZW5ndGhJbnQ9MzEsb2ZmX21hZ2ljPTAsb2ZmX3NpemU9MSxvZmZfZmxhZ3M9MixvZmZfaGVpZ2h0PTMsb2ZmX3dpZHRoPTQsb2ZmX21pcG1hcENvdW50PTcsb2ZmX3BmRmxhZ3M9MjAsb2ZmX3BmRm91ckNDPTIxLG9mZl9jYXBzMj0yODttb2R1bGUuZXhwb3J0cz1wYXJzZUhlYWRlcnN9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfR0xUb29sPV9fd2VicGFja19yZXF1aXJlX18oMCksX0dMVG9vbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xUb29sKSxfR0xDdWJlVGV4dHVyZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDI3KSxfR0xDdWJlVGV4dHVyZTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xDdWJlVGV4dHVyZSksZ2w9dm9pZCAwLEN1YmVGcmFtZUJ1ZmZlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIEN1YmVGcmFtZUJ1ZmZlcihzaXplKXt2YXIgbVBhcmFtZXRlcnM9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O19jbGFzc0NhbGxDaGVjayh0aGlzLEN1YmVGcmFtZUJ1ZmZlciksZ2w9X0dMVG9vbDIuZGVmYXVsdC5nbCx0aGlzLl9zaXplPXNpemUsdGhpcy5tYWdGaWx0ZXI9bVBhcmFtZXRlcnMubWFnRmlsdGVyfHxnbC5MSU5FQVIsdGhpcy5taW5GaWx0ZXI9bVBhcmFtZXRlcnMubWluRmlsdGVyfHxnbC5MSU5FQVIsdGhpcy53cmFwUz1tUGFyYW1ldGVycy53cmFwU3x8Z2wuQ0xBTVBfVE9fRURHRSx0aGlzLndyYXBUPW1QYXJhbWV0ZXJzLndyYXBUfHxnbC5DTEFNUF9UT19FREdFLHRoaXMuX2luaXQoKX1yZXR1cm4gX2NyZWF0ZUNsYXNzKEN1YmVGcmFtZUJ1ZmZlcixbe2tleTpcIl9pbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnRleHR1cmU9Z2wuY3JlYXRlVGV4dHVyZSgpLHRoaXMuZ2xUZXh0dXJlPW5ldyBfR0xDdWJlVGV4dHVyZTIuZGVmYXVsdCh0aGlzLnRleHR1cmUse30sITApLGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfQ1VCRV9NQVAsdGhpcy50ZXh0dXJlKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsZ2wuVEVYVFVSRV9NQUdfRklMVEVSLHRoaXMubWFnRmlsdGVyKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsZ2wuVEVYVFVSRV9NSU5fRklMVEVSLHRoaXMubWluRmlsdGVyKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsZ2wuVEVYVFVSRV9XUkFQX1MsdGhpcy53cmFwUyksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLGdsLlRFWFRVUkVfV1JBUF9ULHRoaXMud3JhcFQpO2Zvcih2YXIgdGFyZ2V0cz1bZ2wuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YLGdsLlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWCxnbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ksZ2wuVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZLGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWixnbC5URVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1pdLGk9MDtpPHRhcmdldHMubGVuZ3RoO2krKylnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCExKSxnbC50ZXhJbWFnZTJEKHRhcmdldHNbaV0sMCxnbC5SR0JBLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMCxnbC5SR0JBLGdsLkZMT0FULG51bGwpO3RoaXMuX2ZyYW1lQnVmZmVycz1bXTtmb3IodmFyIF9pPTA7X2k8dGFyZ2V0cy5sZW5ndGg7X2krKyl7dmFyIGZyYW1lQnVmZmVyPWdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7Z2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLGZyYW1lQnVmZmVyKSxnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUixnbC5DT0xPUl9BVFRBQ0hNRU5UMCx0YXJnZXRzW19pXSx0aGlzLnRleHR1cmUsMCk7dmFyIHN0YXR1cz1nbC5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKGdsLkZSQU1FQlVGRkVSKTtzdGF0dXMhPT1nbC5GUkFNRUJVRkZFUl9DT01QTEVURSYmY29uc29sZS5sb2coXCInZ2wuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cygpIHJldHVybmVkICdcIitzdGF0dXMpLHRoaXMuX2ZyYW1lQnVmZmVycy5wdXNoKGZyYW1lQnVmZmVyKX1nbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsbnVsbCksZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsbnVsbCksZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV9DVUJFX01BUCxudWxsKX19LHtrZXk6XCJiaW5kXCIsdmFsdWU6ZnVuY3Rpb24obVRhcmdldEluZGV4KXtfR0xUb29sMi5kZWZhdWx0LnZpZXdwb3J0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSxnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsdGhpcy5fZnJhbWVCdWZmZXJzW21UYXJnZXRJbmRleF0pfX0se2tleTpcInVuYmluZFwiLHZhbHVlOmZ1bmN0aW9uKCl7Z2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLG51bGwpLF9HTFRvb2wyLmRlZmF1bHQudmlld3BvcnQoMCwwLF9HTFRvb2wyLmRlZmF1bHQud2lkdGgsX0dMVG9vbDIuZGVmYXVsdC5oZWlnaHQpfX0se2tleTpcImdldFRleHR1cmVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdsVGV4dHVyZX19LHtrZXk6XCJ3aWR0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaXplfX0se2tleTpcImhlaWdodFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaXplfX1dKSxDdWJlRnJhbWVCdWZmZXJ9KCk7ZXhwb3J0cy5kZWZhdWx0PUN1YmVGcmFtZUJ1ZmZlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGlzUG93ZXJPZlR3byh4KXtyZXR1cm4gMCE9PXgmJiEoeCZ4LTEpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRvb2wpLF9HTFRleHR1cmU9X193ZWJwYWNrX3JlcXVpcmVfXygyNSksX0dMVGV4dHVyZTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xUZXh0dXJlKSxnbD12b2lkIDAsTXVsdGlzYW1wbGVGcmFtZUJ1ZmZlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIE11bHRpc2FtcGxlRnJhbWVCdWZmZXIobVdpZHRoLG1IZWlnaHQpe3ZhciBtUGFyYW1ldGVycz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307X2NsYXNzQ2FsbENoZWNrKHRoaXMsTXVsdGlzYW1wbGVGcmFtZUJ1ZmZlciksZ2w9X0dMVG9vbDIuZGVmYXVsdC5nbCx0aGlzLndpZHRoPW1XaWR0aCx0aGlzLmhlaWdodD1tSGVpZ2h0LHRoaXMubWFnRmlsdGVyPW1QYXJhbWV0ZXJzLm1hZ0ZpbHRlcnx8Z2wuTElORUFSLHRoaXMubWluRmlsdGVyPW1QYXJhbWV0ZXJzLm1pbkZpbHRlcnx8Z2wuTElORUFSLHRoaXMud3JhcFM9bVBhcmFtZXRlcnMud3JhcFN8fGdsLkNMQU1QX1RPX0VER0UsdGhpcy53cmFwVD1tUGFyYW1ldGVycy53cmFwVHx8Z2wuQ0xBTVBfVE9fRURHRSx0aGlzLnVzZURlcHRoPW1QYXJhbWV0ZXJzLnVzZURlcHRofHwhMCx0aGlzLnVzZVN0ZW5jaWw9bVBhcmFtZXRlcnMudXNlU3RlbmNpbHx8ITEsdGhpcy50ZXhlbFR5cGU9bVBhcmFtZXRlcnMudHlwZSx0aGlzLl9udW1TYW1wbGU9bVBhcmFtZXRlcnMubnVtU2FtcGxlfHw4LGlzUG93ZXJPZlR3byh0aGlzLndpZHRoKSYmaXNQb3dlck9mVHdvKHRoaXMuaGVpZ2h0KXx8KHRoaXMud3JhcFM9dGhpcy53cmFwVD1nbC5DTEFNUF9UT19FREdFLHRoaXMubWluRmlsdGVyPT09Z2wuTElORUFSX01JUE1BUF9ORUFSRVNUJiYodGhpcy5taW5GaWx0ZXI9Z2wuTElORUFSKSksdGhpcy5faW5pdCgpfXJldHVybiBfY3JlYXRlQ2xhc3MoTXVsdGlzYW1wbGVGcmFtZUJ1ZmZlcixbe2tleTpcIl9pbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdGV4ZWxUeXBlPWdsLlVOU0lHTkVEX0JZVEU7dGhpcy50ZXhlbFR5cGUmJih0ZXhlbFR5cGU9dGhpcy50ZXhlbFR5cGUpLHRoaXMudGV4ZWxUeXBlPXRleGVsVHlwZSx0aGlzLmZyYW1lQnVmZmVyPWdsLmNyZWF0ZUZyYW1lYnVmZmVyKCksdGhpcy5mcmFtZUJ1ZmZlckNvbG9yPWdsLmNyZWF0ZUZyYW1lYnVmZmVyKCksdGhpcy5yZW5kZXJCdWZmZXJDb2xvcj1nbC5jcmVhdGVSZW5kZXJidWZmZXIoKSx0aGlzLnJlbmRlckJ1ZmZlckRlcHRoPWdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpLHRoaXMuZ2xUZXh0dXJlPXRoaXMuX2NyZWF0ZVRleHR1cmUoKSx0aGlzLmdsRGVwdGhUZXh0dXJlPXRoaXMuX2NyZWF0ZVRleHR1cmUoZ2wuREVQVEhfQ09NUE9ORU5UMTYsZ2wuVU5TSUdORURfU0hPUlQsZ2wuREVQVEhfQ09NUE9ORU5ULCEwKSxnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUix0aGlzLnJlbmRlckJ1ZmZlckNvbG9yKSxnbC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoZ2wuUkVOREVSQlVGRkVSLHRoaXMuX251bVNhbXBsZSxnbC5SR0JBOCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSxnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUix0aGlzLnJlbmRlckJ1ZmZlckRlcHRoKSxnbC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoZ2wuUkVOREVSQlVGRkVSLHRoaXMuX251bVNhbXBsZSxnbC5ERVBUSF9DT01QT05FTlQxNix0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSxnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsdGhpcy5mcmFtZUJ1ZmZlciksZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsZ2wuQ09MT1JfQVRUQUNITUVOVDAsZ2wuUkVOREVSQlVGRkVSLHRoaXMucmVuZGVyQnVmZmVyQ29sb3IpLGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLGdsLkRFUFRIX0FUVEFDSE1FTlQsZ2wuUkVOREVSQlVGRkVSLHRoaXMucmVuZGVyQnVmZmVyRGVwdGgpLGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUixudWxsKSxnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsdGhpcy5mcmFtZUJ1ZmZlckNvbG9yKSxnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUixnbC5DT0xPUl9BVFRBQ0hNRU5UMCxnbC5URVhUVVJFXzJELHRoaXMuZ2xUZXh0dXJlLnRleHR1cmUsMCksZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLG51bGwpfX0se2tleTpcIl9jcmVhdGVUZXh0dXJlXCIsdmFsdWU6ZnVuY3Rpb24obUludGVybmFsZm9ybWF0LG1UZXhlbFR5cGUsbUZvcm1hdCl7dmFyIGZvcmNlTmVhcmVzdD1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSYmYXJndW1lbnRzWzNdO3ZvaWQgMD09PW1JbnRlcm5hbGZvcm1hdCYmKG1JbnRlcm5hbGZvcm1hdD1nbC5SR0JBKSx2b2lkIDA9PT1tVGV4ZWxUeXBlJiYobVRleGVsVHlwZT10aGlzLnRleGVsVHlwZSksbUZvcm1hdHx8KG1Gb3JtYXQ9bUludGVybmFsZm9ybWF0KTt2YXIgdD1nbC5jcmVhdGVUZXh0dXJlKCksZ2x0PW5ldyBfR0xUZXh0dXJlMi5kZWZhdWx0KHQsITApLG1hZ0ZpbHRlcj1mb3JjZU5lYXJlc3Q/X0dMVG9vbDIuZGVmYXVsdC5ORUFSRVNUOnRoaXMubWFnRmlsdGVyLG1pbkZpbHRlcj1mb3JjZU5lYXJlc3Q/X0dMVG9vbDIuZGVmYXVsdC5ORUFSRVNUOnRoaXMubWluRmlsdGVyO3JldHVybiBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELHQpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX01BR19GSUxURVIsbWFnRmlsdGVyKSxnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsZ2wuVEVYVFVSRV9NSU5fRklMVEVSLG1pbkZpbHRlciksZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfV1JBUF9TLHRoaXMud3JhcFMpLGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX1dSQVBfVCx0aGlzLndyYXBUKSxnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsMCxtSW50ZXJuYWxmb3JtYXQsdGhpcy53aWR0aCx0aGlzLmhlaWdodCwwLG1Gb3JtYXQsbVRleGVsVHlwZSxudWxsKSxnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELG51bGwpLGdsdH19LHtrZXk6XCJiaW5kXCIsdmFsdWU6ZnVuY3Rpb24oKXsoIShhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSl8fGFyZ3VtZW50c1swXSkmJl9HTFRvb2wyLmRlZmF1bHQudmlld3BvcnQoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUix0aGlzLmZyYW1lQnVmZmVyKX19LHtrZXk6XCJ1bmJpbmRcIix2YWx1ZTpmdW5jdGlvbigpeyghKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdKSYmX0dMVG9vbDIuZGVmYXVsdC52aWV3cG9ydCgwLDAsX0dMVG9vbDIuZGVmYXVsdC53aWR0aCxfR0xUb29sMi5kZWZhdWx0LmhlaWdodCk7dmFyIHdpZHRoPXRoaXMud2lkdGgsaGVpZ2h0PXRoaXMuaGVpZ2h0O2dsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUixudWxsKSxnbC5iaW5kRnJhbWVidWZmZXIoZ2wuUkVBRF9GUkFNRUJVRkZFUix0aGlzLmZyYW1lQnVmZmVyKSxnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRFJBV19GUkFNRUJVRkZFUix0aGlzLmZyYW1lQnVmZmVyQ29sb3IpLGdsLmNsZWFyQnVmZmVyZnYoZ2wuQ09MT1IsMCxbMCwwLDAsMF0pLGdsLmJsaXRGcmFtZWJ1ZmZlcigwLDAsd2lkdGgsaGVpZ2h0LDAsMCx3aWR0aCxoZWlnaHQsZ2wuQ09MT1JfQlVGRkVSX0JJVCxfR0xUb29sMi5kZWZhdWx0Lk5FQVJFU1QpLGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUixudWxsKX19LHtrZXk6XCJnZXRUZXh0dXJlXCIsdmFsdWU6ZnVuY3Rpb24oKXthcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3JldHVybiB0aGlzLmdsVGV4dHVyZX19LHtrZXk6XCJnZXREZXB0aFRleHR1cmVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdsRGVwdGhUZXh0dXJlfX1dKSxNdWx0aXNhbXBsZUZyYW1lQnVmZmVyfSgpO2V4cG9ydHMuZGVmYXVsdD1NdWx0aXNhbXBsZUZyYW1lQnVmZmVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVG9vbCksX0dMU2hhZGVyPV9fd2VicGFja19yZXF1aXJlX18oMiksX0dMU2hhZGVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFNoYWRlciksX01lc2g9X193ZWJwYWNrX3JlcXVpcmVfXyg1KSxfTWVzaDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVzaCksZ2w9dm9pZCAwLFRyYW5zZm9ybUZlZWRiYWNrT2JqZWN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gVHJhbnNmb3JtRmVlZGJhY2tPYmplY3Qoc3RyVmVydGV4U2hhZGVyLHN0ckZyYWdtZW50U2hhZGVyKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxUcmFuc2Zvcm1GZWVkYmFja09iamVjdCksZ2w9X0dMVG9vbDIuZGVmYXVsdC5nbCx0aGlzLl92cz1zdHJWZXJ0ZXhTaGFkZXIsdGhpcy5fZnM9c3RyRnJhZ21lbnRTaGFkZXIsdGhpcy5faW5pdCgpfXJldHVybiBfY3JlYXRlQ2xhc3MoVHJhbnNmb3JtRmVlZGJhY2tPYmplY3QsW3trZXk6XCJfaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fbWVzaEN1cnJlbnQ9bmV3IF9NZXNoMi5kZWZhdWx0LHRoaXMuX21lc2hUYXJnZXQ9bmV3IF9NZXNoMi5kZWZhdWx0LHRoaXMuX251bVBvaW50cz0tMSx0aGlzLl92YXJ5aW5ncz1bXSx0aGlzLnRyYW5zZm9ybUZlZWRiYWNrPWdsLmNyZWF0ZVRyYW5zZm9ybUZlZWRiYWNrKCl9fSx7a2V5OlwiYnVmZmVyRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKG1EYXRhLG1OYW1lLG1WYXJ5aW5nTmFtZSl7dmFyIGlzVHJhbnNmb3JtRmVlZGJhY2s9ISFtVmFyeWluZ05hbWU7Y29uc29sZS5sb2coXCJpcyBUcmFuc2Zvcm0gZmVlZGJhY2sgP1wiLG1OYW1lLGlzVHJhbnNmb3JtRmVlZGJhY2spLHRoaXMuX21lc2hDdXJyZW50LmJ1ZmZlckRhdGEobURhdGEsbU5hbWUsbnVsbCxnbC5TVFJFQU1fQ09QWSwhMSksdGhpcy5fbWVzaFRhcmdldC5idWZmZXJEYXRhKG1EYXRhLG1OYW1lLG51bGwsZ2wuU1RSRUFNX0NPUFksITEpLGlzVHJhbnNmb3JtRmVlZGJhY2smJih0aGlzLl92YXJ5aW5ncy5wdXNoKG1WYXJ5aW5nTmFtZSksdGhpcy5fbnVtUG9pbnRzPDAmJih0aGlzLl9udW1Qb2ludHM9bURhdGEubGVuZ3RoKSl9fSx7a2V5OlwiYnVmZmVySW5kZXhcIix2YWx1ZTpmdW5jdGlvbihtQXJyYXlJbmRpY2VzKXt0aGlzLl9tZXNoQ3VycmVudC5idWZmZXJJbmRleChtQXJyYXlJbmRpY2VzKSx0aGlzLl9tZXNoVGFyZ2V0LmJ1ZmZlckluZGV4KG1BcnJheUluZGljZXMpfX0se2tleTpcInVuaWZvcm1cIix2YWx1ZTpmdW5jdGlvbihtTmFtZSxtVHlwZSxtVmFsdWUpe3RoaXMuc2hhZGVyJiZ0aGlzLnNoYWRlci51bmlmb3JtKG1OYW1lLG1UeXBlLG1WYWx1ZSl9fSx7a2V5OlwiZ2VuZXJhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2hhZGVyPW5ldyBfR0xTaGFkZXIyLmRlZmF1bHQodGhpcy5fdnMsdGhpcy5fZnMsdGhpcy5fdmFyeWluZ3MpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zaGFkZXJ8fHRoaXMuZ2VuZXJhdGUoKSx0aGlzLnNoYWRlci5iaW5kKCksX0dMVG9vbDIuZGVmYXVsdC5kcmF3VHJhbnNmb3JtRmVlZGJhY2sodGhpcyksdGhpcy5fc3dhcCgpfX0se2tleTpcIl9zd2FwXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdG1wPXRoaXMuX21lc2hDdXJyZW50O3RoaXMuX21lc2hDdXJyZW50PXRoaXMuX21lc2hUYXJnZXQsdGhpcy5fbWVzaFRhcmdldD10bXB9fSx7a2V5OlwibnVtUG9pbnRzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX251bVBvaW50c319LHtrZXk6XCJtZXNoQ3VycmVudFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNoQ3VycmVudH19LHtrZXk6XCJtZXNoVGFyZ2V0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc2hUYXJnZXR9fSx7a2V5OlwibWVzaFNvdXJjZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNoQ3VycmVudH19LHtrZXk6XCJtZXNoRGVzdGluYXRpb25cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzaFRhcmdldH19XSksVHJhbnNmb3JtRmVlZGJhY2tPYmplY3R9KCk7ZXhwb3J0cy5kZWZhdWx0PVRyYW5zZm9ybUZlZWRiYWNrT2JqZWN0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBnZXRGdW5jKG1FYXNpbmcpe3N3aXRjaChtRWFzaW5nKXtkZWZhdWx0OmNhc2VcImxpbmVhclwiOnJldHVybiBFYXNpbmcuTGluZWFyLk5vbmU7Y2FzZVwiZXhwSW5cIjpyZXR1cm4gRWFzaW5nLkV4cG9uZW50aWFsLkluO2Nhc2VcImV4cE91dFwiOnJldHVybiBFYXNpbmcuRXhwb25lbnRpYWwuT3V0O2Nhc2VcImV4cEluT3V0XCI6cmV0dXJuIEVhc2luZy5FeHBvbmVudGlhbC5Jbk91dDtjYXNlXCJjdWJpY0luXCI6cmV0dXJuIEVhc2luZy5DdWJpYy5JbjtjYXNlXCJjdWJpY091dFwiOnJldHVybiBFYXNpbmcuQ3ViaWMuT3V0O2Nhc2VcImN1YmljSW5PdXRcIjpyZXR1cm4gRWFzaW5nLkN1YmljLkluT3V0O2Nhc2VcInF1YXJ0aWNJblwiOnJldHVybiBFYXNpbmcuUXVhcnRpYy5JbjtjYXNlXCJxdWFydGljT3V0XCI6cmV0dXJuIEVhc2luZy5RdWFydGljLk91dDtjYXNlXCJxdWFydGljSW5PdXRcIjpyZXR1cm4gRWFzaW5nLlF1YXJ0aWMuSW5PdXQ7Y2FzZVwicXVpbnRpY0luXCI6cmV0dXJuIEVhc2luZy5RdWludGljLkluO2Nhc2VcInF1aW50aWNPdXRcIjpyZXR1cm4gRWFzaW5nLlF1aW50aWMuT3V0O2Nhc2VcInF1aW50aWNJbk91dFwiOnJldHVybiBFYXNpbmcuUXVpbnRpYy5Jbk91dDtjYXNlXCJzaW51c29pZGFsSW5cIjpyZXR1cm4gRWFzaW5nLlNpbnVzb2lkYWwuSW47Y2FzZVwic2ludXNvaWRhbE91dFwiOnJldHVybiBFYXNpbmcuU2ludXNvaWRhbC5PdXQ7Y2FzZVwic2ludXNvaWRhbEluT3V0XCI6cmV0dXJuIEVhc2luZy5TaW51c29pZGFsLkluT3V0O2Nhc2VcImNpcmN1bGFySW5cIjpyZXR1cm4gRWFzaW5nLkNpcmN1bGFyLkluO2Nhc2VcImNpcmN1bGFyT3V0XCI6cmV0dXJuIEVhc2luZy5DaXJjdWxhci5PdXQ7Y2FzZVwiY2lyY3VsYXJJbk91dFwiOnJldHVybiBFYXNpbmcuQ2lyY3VsYXIuSW5PdXQ7Y2FzZVwiZWxhc3RpY0luXCI6cmV0dXJuIEVhc2luZy5FbGFzdGljLkluO2Nhc2VcImVsYXN0aWNPdXRcIjpyZXR1cm4gRWFzaW5nLkVsYXN0aWMuT3V0O2Nhc2VcImVsYXN0aWNJbk91dFwiOnJldHVybiBFYXNpbmcuRWxhc3RpYy5Jbk91dDtjYXNlXCJiYWNrSW5cIjpyZXR1cm4gRWFzaW5nLkJhY2suSW47Y2FzZVwiYmFja091dFwiOnJldHVybiBFYXNpbmcuQmFjay5PdXQ7Y2FzZVwiYmFja0luT3V0XCI6cmV0dXJuIEVhc2luZy5CYWNrLkluT3V0O2Nhc2VcImJvdW5jZUluXCI6cmV0dXJuIEVhc2luZy5Cb3VuY2UuaW47Y2FzZVwiYm91bmNlT3V0XCI6cmV0dXJuIEVhc2luZy5Cb3VuY2Uub3V0O2Nhc2VcImJvdW5jZUluT3V0XCI6cmV0dXJuIEVhc2luZy5Cb3VuY2UuaW5PdXR9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9zY2hlZHVsaW5nPV9fd2VicGFja19yZXF1aXJlX18oNiksX3NjaGVkdWxpbmcyPWZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19KF9zY2hlZHVsaW5nKSxFYXNpbmc9e0xpbmVhcjp7Tm9uZTpmdW5jdGlvbihrKXtyZXR1cm4ga319LFF1YWRyYXRpYzp7SW46ZnVuY3Rpb24oayl7cmV0dXJuIGsqa30sT3V0OmZ1bmN0aW9uKGspe3JldHVybiBrKigyLWspfSxJbk91dDpmdW5jdGlvbihrKXtyZXR1cm4oayo9Mik8MT8uNSprKms6LS41KigtLWsqKGstMiktMSl9fSxDdWJpYzp7SW46ZnVuY3Rpb24oayl7cmV0dXJuIGsqayprfSxPdXQ6ZnVuY3Rpb24oayl7cmV0dXJuLS1rKmsqaysxfSxJbk91dDpmdW5jdGlvbihrKXtyZXR1cm4oayo9Mik8MT8uNSprKmsqazouNSooKGstPTIpKmsqaysyKX19LFF1YXJ0aWM6e0luOmZ1bmN0aW9uKGspe3JldHVybiBrKmsqayprfSxPdXQ6ZnVuY3Rpb24oayl7cmV0dXJuIDEtIC0tayprKmsqa30sSW5PdXQ6ZnVuY3Rpb24oayl7cmV0dXJuKGsqPTIpPDE/LjUqayprKmsqazotLjUqKChrLT0yKSprKmsqay0yKX19LFF1aW50aWM6e0luOmZ1bmN0aW9uKGspe3JldHVybiBrKmsqayprKmt9LE91dDpmdW5jdGlvbihrKXtyZXR1cm4tLWsqayprKmsqaysxfSxJbk91dDpmdW5jdGlvbihrKXtyZXR1cm4oayo9Mik8MT8uNSprKmsqayprKms6LjUqKChrLT0yKSprKmsqayprKzIpfX0sU2ludXNvaWRhbDp7SW46ZnVuY3Rpb24oayl7cmV0dXJuIDEtTWF0aC5jb3MoaypNYXRoLlBJLzIpfSxPdXQ6ZnVuY3Rpb24oayl7cmV0dXJuIE1hdGguc2luKGsqTWF0aC5QSS8yKX0sSW5PdXQ6ZnVuY3Rpb24oayl7cmV0dXJuLjUqKDEtTWF0aC5jb3MoTWF0aC5QSSprKSl9fSxFeHBvbmVudGlhbDp7SW46ZnVuY3Rpb24oayl7cmV0dXJuIDA9PT1rPzA6TWF0aC5wb3coMTAyNCxrLTEpfSxPdXQ6ZnVuY3Rpb24oayl7cmV0dXJuIDE9PT1rPzE6MS1NYXRoLnBvdygyLC0xMCprKX0sSW5PdXQ6ZnVuY3Rpb24oayl7cmV0dXJuIDA9PT1rPzA6MT09PWs/MTooayo9Mik8MT8uNSpNYXRoLnBvdygxMDI0LGstMSk6LjUqKDItTWF0aC5wb3coMiwtMTAqKGstMSkpKX19LENpcmN1bGFyOntJbjpmdW5jdGlvbihrKXtyZXR1cm4gMS1NYXRoLnNxcnQoMS1rKmspfSxPdXQ6ZnVuY3Rpb24oayl7cmV0dXJuIE1hdGguc3FydCgxLSAtLWsqayl9LEluT3V0OmZ1bmN0aW9uKGspe3JldHVybihrKj0yKTwxPy0uNSooTWF0aC5zcXJ0KDEtayprKS0xKTouNSooTWF0aC5zcXJ0KDEtKGstPTIpKmspKzEpfX0sRWxhc3RpYzp7SW46ZnVuY3Rpb24oayl7dmFyIHM9dm9pZCAwLGE9LjE7cmV0dXJuIDA9PT1rPzA6MT09PWs/MTooIWF8fGE8MT8oYT0xLHM9LjEpOnM9LjQqTWF0aC5hc2luKDEvYSkvKDIqTWF0aC5QSSksLWEqTWF0aC5wb3coMiwxMCooay09MSkpKk1hdGguc2luKChrLXMpKigyKk1hdGguUEkpLy40KSl9LE91dDpmdW5jdGlvbihrKXt2YXIgcz12b2lkIDAsYT0uMTtyZXR1cm4gMD09PWs/MDoxPT09az8xOighYXx8YTwxPyhhPTEscz0uMSk6cz0uNCpNYXRoLmFzaW4oMS9hKS8oMipNYXRoLlBJKSxhKk1hdGgucG93KDIsLTEwKmspKk1hdGguc2luKChrLXMpKigyKk1hdGguUEkpLy40KSsxKX0sSW5PdXQ6ZnVuY3Rpb24oayl7dmFyIHM9dm9pZCAwLGE9LjE7cmV0dXJuIDA9PT1rPzA6MT09PWs/MTooIWF8fGE8MT8oYT0xLHM9LjEpOnM9LjQqTWF0aC5hc2luKDEvYSkvKDIqTWF0aC5QSSksKGsqPTIpPDE/YSpNYXRoLnBvdygyLDEwKihrLT0xKSkqTWF0aC5zaW4oKGstcykqKDIqTWF0aC5QSSkvLjQpKi0uNTphKk1hdGgucG93KDIsLTEwKihrLT0xKSkqTWF0aC5zaW4oKGstcykqKDIqTWF0aC5QSSkvLjQpKi41KzEpfX0sQmFjazp7SW46ZnVuY3Rpb24oayl7dmFyIHM9MS43MDE1ODtyZXR1cm4gayprKigocysxKSprLXMpfSxPdXQ6ZnVuY3Rpb24oayl7dmFyIHM9MS43MDE1ODtyZXR1cm4tLWsqayooKHMrMSkqaytzKSsxfSxJbk91dDpmdW5jdGlvbihrKXt2YXIgcz0yLjU5NDkwOTU7cmV0dXJuKGsqPTIpPDE/ayprKigocysxKSprLXMpKi41Oi41Kigoay09MikqayooKHMrMSkqaytzKSsyKX19LEJvdW5jZTp7aW46ZnVuY3Rpb24oayl7cmV0dXJuIDEtRWFzaW5nLkJvdW5jZS5vdXQoMS1rKX0sb3V0OmZ1bmN0aW9uKGspe3JldHVybiBrPDEvMi43NT83LjU2MjUqayprOms8Mi8yLjc1PzcuNTYyNSooay09MS41LzIuNzUpKmsrLjc1Oms8Mi41LzIuNzU/Ny41NjI1KihrLT0yLjI1LzIuNzUpKmsrLjkzNzU6Ny41NjI1KihrLT0yLjYyNS8yLjc1KSprKy45ODQzNzV9LGluT3V0OmZ1bmN0aW9uKGspe3JldHVybiBrPC41Py41KkVhc2luZy5Cb3VuY2UuaW4oMiprKTouNSpFYXNpbmcuQm91bmNlLm91dCgyKmstMSkrLjV9fX0sVHdlZW5OdW1iZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBUd2Vlbk51bWJlcihtVmFsdWUpe3ZhciBfdGhpcz10aGlzLG1FYXNpbmc9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiZXhwT3V0XCIsbVNwZWVkPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTouMDE7X2NsYXNzQ2FsbENoZWNrKHRoaXMsVHdlZW5OdW1iZXIpLHRoaXMuX3ZhbHVlPW1WYWx1ZSx0aGlzLl9zdGFydFZhbHVlPW1WYWx1ZSx0aGlzLl90YXJnZXRWYWx1ZT1tVmFsdWUsdGhpcy5fY291bnRlcj0xLHRoaXMuc3BlZWQ9bVNwZWVkLHRoaXMuZWFzaW5nPW1FYXNpbmcsdGhpcy5fbmVlZFVwZGF0ZT0hMCx0aGlzLl9lZkluZGV4PV9zY2hlZHVsaW5nMi5kZWZhdWx0LmFkZEVGKGZ1bmN0aW9uKCl7cmV0dXJuIF90aGlzLl91cGRhdGUoKX0pfXJldHVybiBfY3JlYXRlQ2xhc3MoVHdlZW5OdW1iZXIsW3trZXk6XCJfdXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgbmV3Q291bnRlcj10aGlzLl9jb3VudGVyK3RoaXMuc3BlZWQ7aWYobmV3Q291bnRlcj4xJiYobmV3Q291bnRlcj0xKSx0aGlzLl9jb3VudGVyPT09bmV3Q291bnRlcilyZXR1cm4gdm9pZCh0aGlzLl9uZWVkVXBkYXRlPSExKTt0aGlzLl9jb3VudGVyPW5ld0NvdW50ZXIsdGhpcy5fbmVlZFVwZGF0ZT0hMH19LHtrZXk6XCJsaW1pdFwiLHZhbHVlOmZ1bmN0aW9uKG1NaW4sbU1heCl7aWYobU1pbj5tTWF4KXJldHVybiB2b2lkIHRoaXMubGltaXQobU1heCxtTWluKTt0aGlzLl9taW49bU1pbix0aGlzLl9tYXg9bU1heCx0aGlzLl9jaGVja0xpbWl0KCl9fSx7a2V5Olwic2V0VG9cIix2YWx1ZTpmdW5jdGlvbihtVmFsdWUpe3RoaXMuX3ZhbHVlPW1WYWx1ZSx0aGlzLl90YXJnZXRWYWx1ZT1tVmFsdWUsdGhpcy5fY291bnRlcj0xfX0se2tleTpcIl9jaGVja0xpbWl0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2b2lkIDAhPT10aGlzLl9taW4mJnRoaXMuX3RhcmdldFZhbHVlPHRoaXMuX21pbiYmKHRoaXMuX3RhcmdldFZhbHVlPXRoaXMuX21pbiksdm9pZCAwIT09dGhpcy5fbWF4JiZ0aGlzLl90YXJnZXRWYWx1ZT50aGlzLl9tYXgmJih0aGlzLl90YXJnZXRWYWx1ZT10aGlzLl9tYXgpfX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbigpe19zY2hlZHVsaW5nMi5kZWZhdWx0LnJlbW92ZUVGKHRoaXMuX2VmSW5kZXgpfX0se2tleTpcInZhbHVlXCIsc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7dGhpcy5fc3RhcnRWYWx1ZT10aGlzLl92YWx1ZSx0aGlzLl90YXJnZXRWYWx1ZT1tVmFsdWUsdGhpcy5fY2hlY2tMaW1pdCgpLHRoaXMuX2NvdW50ZXI9MH0sZ2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5fbmVlZFVwZGF0ZSl7dmFyIGY9Z2V0RnVuYyh0aGlzLmVhc2luZykscD1mKHRoaXMuX2NvdW50ZXIpO3RoaXMuX3ZhbHVlPXRoaXMuX3N0YXJ0VmFsdWUrcCoodGhpcy5fdGFyZ2V0VmFsdWUtdGhpcy5fc3RhcnRWYWx1ZSksdGhpcy5fbmVlZFVwZGF0ZT0hMX1yZXR1cm4gdGhpcy5fdmFsdWV9fSx7a2V5OlwidGFyZ2V0VmFsdWVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGFyZ2V0VmFsdWV9fV0pLFR3ZWVuTnVtYmVyfSgpO2V4cG9ydHMuZGVmYXVsdD1Ud2Vlbk51bWJlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9nbE1hdHJpeD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF9nbE1hdHJpeDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2xNYXRyaXgpLF9FYXNlTnVtYmVyPV9fd2VicGFja19yZXF1aXJlX18oMTMpLF9FYXNlTnVtYmVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FYXNlTnVtYmVyKSxfc2NoZWR1bGluZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDYpLF9zY2hlZHVsaW5nMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zY2hlZHVsaW5nKSxnZXRNb3VzZT1mdW5jdGlvbihtRXZlbnQsbVRhcmdldCl7dmFyIG89bVRhcmdldHx8e307cmV0dXJuIG1FdmVudC50b3VjaGVzPyhvLng9bUV2ZW50LnRvdWNoZXNbMF0ucGFnZVgsby55PW1FdmVudC50b3VjaGVzWzBdLnBhZ2VZKTooby54PW1FdmVudC5jbGllbnRYLG8ueT1tRXZlbnQuY2xpZW50WSksb30sUXVhdFJvdGF0aW9uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUXVhdFJvdGF0aW9uKG1UYXJnZXQpe3ZhciBfdGhpcz10aGlzLG1MaXN0ZW5lclRhcmdldD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06d2luZG93LG1FYXNpbmc9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOi4xO19jbGFzc0NhbGxDaGVjayh0aGlzLFF1YXRSb3RhdGlvbiksdGhpcy5fdGFyZ2V0PW1UYXJnZXQsdGhpcy5fbGlzdGVuZXJUYXJnZXQ9bUxpc3RlbmVyVGFyZ2V0LHRoaXMubWF0cml4PV9nbE1hdHJpeDIuZGVmYXVsdC5tYXQ0LmNyZWF0ZSgpLHRoaXMubT1fZ2xNYXRyaXgyLmRlZmF1bHQubWF0NC5jcmVhdGUoKSx0aGlzLl92WmF4aXM9X2dsTWF0cml4Mi5kZWZhdWx0LnZlYzMuY2xvbmUoWzAsMCwwXSksdGhpcy5fekF4aXM9X2dsTWF0cml4Mi5kZWZhdWx0LnZlYzMuY2xvbmUoWzAsMCwxXSksdGhpcy5wcmVNb3VzZT17eDowLHk6MH0sdGhpcy5tb3VzZT17eDowLHk6MH0sdGhpcy5faXNNb3VzZURvd249ITEsdGhpcy5fcm90YXRpb249X2dsTWF0cml4Mi5kZWZhdWx0LnF1YXQuY3JlYXRlKCksdGhpcy50ZW1wUm90YXRpb249X2dsTWF0cml4Mi5kZWZhdWx0LnF1YXQuY3JlYXRlKCksdGhpcy5fcm90YXRlWk1hcmdpbj0wLHRoaXMuX29mZnNldD0uMDA0LHRoaXMuX3NsZXJwPS0xLHRoaXMuX2lzTG9ja2VkPSExLHRoaXMuX2RpZmZYPW5ldyBfRWFzZU51bWJlcjIuZGVmYXVsdCgwLG1FYXNpbmcpLHRoaXMuX2RpZmZZPW5ldyBfRWFzZU51bWJlcjIuZGVmYXVsdCgwLG1FYXNpbmcpLHRoaXMuX2xpc3RlbmVyVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIixmdW5jdGlvbihlKXtyZXR1cm4gX3RoaXMuX29uRG93bihlKX0pLHRoaXMuX2xpc3RlbmVyVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsZnVuY3Rpb24oZSl7cmV0dXJuIF90aGlzLl9vbkRvd24oZSl9KSx0aGlzLl9saXN0ZW5lclRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsZnVuY3Rpb24oZSl7cmV0dXJuIF90aGlzLl9vbk1vdmUoZSl9KSx0aGlzLl9saXN0ZW5lclRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsZnVuY3Rpb24oZSl7cmV0dXJuIF90aGlzLl9vbk1vdmUoZSl9KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMuX29uVXAoKX0pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7cmV0dXJuIF90aGlzLl9vblVwKCl9KSxfc2NoZWR1bGluZzIuZGVmYXVsdC5hZGRFRihmdW5jdGlvbigpe3JldHVybiBfdGhpcy5fbG9vcCgpfSl9cmV0dXJuIF9jcmVhdGVDbGFzcyhRdWF0Um90YXRpb24sW3trZXk6XCJpbnZlcnNlQ29udHJvbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGlzSW52ZXJ0PSEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF07dGhpcy5faXNJbnZlcnQ9aXNJbnZlcnR9fSx7a2V5OlwibG9ja1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIG1WYWx1ZT0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdO3RoaXMuX2lzTG9ja2VkPW1WYWx1ZX19LHtrZXk6XCJzZXRDYW1lcmFQb3NcIix2YWx1ZTpmdW5jdGlvbihtUXVhdCl7dmFyIHNwZWVkPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTouMTtpZih0aGlzLmVhc2luZz1zcGVlZCwhKHRoaXMuX3NsZXJwPjApKXt2YXIgdGVtcFJvdGF0aW9uPV9nbE1hdHJpeDIuZGVmYXVsdC5xdWF0LmNsb25lKHRoaXMuX3JvdGF0aW9uKTt0aGlzLl91cGRhdGVSb3RhdGlvbih0ZW1wUm90YXRpb24pLHRoaXMuX3JvdGF0aW9uPV9nbE1hdHJpeDIuZGVmYXVsdC5xdWF0LmNsb25lKHRlbXBSb3RhdGlvbiksdGhpcy5fY3VyckRpZmZYPXRoaXMuZGlmZlg9MCx0aGlzLl9jdXJyRGlmZlk9dGhpcy5kaWZmWT0wLHRoaXMuX2lzTW91c2VEb3duPSExLHRoaXMuX2lzUm90YXRlWj0wLHRoaXMuX3RhcmdldFF1YXQ9X2dsTWF0cml4Mi5kZWZhdWx0LnF1YXQuY2xvbmUobVF1YXQpLHRoaXMuX3NsZXJwPTF9fX0se2tleTpcInJlc2V0UXVhdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fcm90YXRpb249X2dsTWF0cml4Mi5kZWZhdWx0LnF1YXQuY2xvbmUoWzAsMCwxLDBdKSx0aGlzLnRlbXBSb3RhdGlvbj1fZ2xNYXRyaXgyLmRlZmF1bHQucXVhdC5jbG9uZShbMCwwLDAsMF0pLHRoaXMuX3RhcmdldFF1YXQ9dm9pZCAwLHRoaXMuX3NsZXJwPS0xfX0se2tleTpcIl9vbkRvd25cIix2YWx1ZTpmdW5jdGlvbihtRXZlbnQpe2lmKCF0aGlzLl9pc0xvY2tlZCl7dmFyIG1vdXNlPWdldE1vdXNlKG1FdmVudCksdGVtcFJvdGF0aW9uPV9nbE1hdHJpeDIuZGVmYXVsdC5xdWF0LmNsb25lKHRoaXMuX3JvdGF0aW9uKTt0aGlzLl91cGRhdGVSb3RhdGlvbih0ZW1wUm90YXRpb24pLHRoaXMuX3JvdGF0aW9uPXRlbXBSb3RhdGlvbix0aGlzLl9pc01vdXNlRG93bj0hMCx0aGlzLl9pc1JvdGF0ZVo9MCx0aGlzLnByZU1vdXNlPXt4Om1vdXNlLngseTptb3VzZS55fSxtb3VzZS55PHRoaXMuX3JvdGF0ZVpNYXJnaW58fG1vdXNlLnk+d2luZG93LmlubmVySGVpZ2h0LXRoaXMuX3JvdGF0ZVpNYXJnaW4/dGhpcy5faXNSb3RhdGVaPTE6KG1vdXNlLng8dGhpcy5fcm90YXRlWk1hcmdpbnx8bW91c2UueD53aW5kb3cuaW5uZXJXaWR0aC10aGlzLl9yb3RhdGVaTWFyZ2luKSYmKHRoaXMuX2lzUm90YXRlWj0yKSx0aGlzLl9kaWZmWC5zZXRUbygwKSx0aGlzLl9kaWZmWS5zZXRUbygwKX19fSx7a2V5OlwiX29uTW92ZVwiLHZhbHVlOmZ1bmN0aW9uKG1FdmVudCl7dGhpcy5faXNMb2NrZWR8fGdldE1vdXNlKG1FdmVudCx0aGlzLm1vdXNlKX19LHtrZXk6XCJfb25VcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5faXNMb2NrZWR8fCh0aGlzLl9pc01vdXNlRG93bj0hMSl9fSx7a2V5OlwiX3VwZGF0ZVJvdGF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24obVRlbXBSb3RhdGlvbil7dGhpcy5faXNNb3VzZURvd24mJiF0aGlzLl9pc0xvY2tlZCYmKHRoaXMuX2RpZmZYLnZhbHVlPS0odGhpcy5tb3VzZS54LXRoaXMucHJlTW91c2UueCksdGhpcy5fZGlmZlkudmFsdWU9dGhpcy5tb3VzZS55LXRoaXMucHJlTW91c2UueSx0aGlzLl9pc0ludmVydCYmKHRoaXMuX2RpZmZYLnZhbHVlPS10aGlzLl9kaWZmWC50YXJnZXRWYWx1ZSx0aGlzLl9kaWZmWS52YWx1ZT0tdGhpcy5fZGlmZlkudGFyZ2V0VmFsdWUpKTt2YXIgYW5nbGU9dm9pZCAwLF9xdWF0PXZvaWQgMDtpZih0aGlzLl9pc1JvdGF0ZVo+MCkxPT09dGhpcy5faXNSb3RhdGVaPyhhbmdsZT0tdGhpcy5fZGlmZlgudmFsdWUqdGhpcy5fb2Zmc2V0LGFuZ2xlKj10aGlzLnByZU1vdXNlLnk8dGhpcy5fcm90YXRlWk1hcmdpbj8tMToxLF9xdWF0PV9nbE1hdHJpeDIuZGVmYXVsdC5xdWF0LmNsb25lKFswLDAsTWF0aC5zaW4oYW5nbGUpLE1hdGguY29zKGFuZ2xlKV0pLF9nbE1hdHJpeDIuZGVmYXVsdC5xdWF0Lm11bHRpcGx5KF9xdWF0LG1UZW1wUm90YXRpb24sX3F1YXQpKTooYW5nbGU9LXRoaXMuX2RpZmZZLnZhbHVlKnRoaXMuX29mZnNldCxhbmdsZSo9dGhpcy5wcmVNb3VzZS54PHRoaXMuX3JvdGF0ZVpNYXJnaW4/MTotMSxfcXVhdD1fZ2xNYXRyaXgyLmRlZmF1bHQucXVhdC5jbG9uZShbMCwwLE1hdGguc2luKGFuZ2xlKSxNYXRoLmNvcyhhbmdsZSldKSxfZ2xNYXRyaXgyLmRlZmF1bHQucXVhdC5tdWx0aXBseShfcXVhdCxtVGVtcFJvdGF0aW9uLF9xdWF0KSk7ZWxzZXt2YXIgdj1fZ2xNYXRyaXgyLmRlZmF1bHQudmVjMy5jbG9uZShbdGhpcy5fZGlmZlgudmFsdWUsdGhpcy5fZGlmZlkudmFsdWUsMF0pLGF4aXM9X2dsTWF0cml4Mi5kZWZhdWx0LnZlYzMuY3JlYXRlKCk7X2dsTWF0cml4Mi5kZWZhdWx0LnZlYzMuY3Jvc3MoYXhpcyx2LHRoaXMuX3pBeGlzKSxfZ2xNYXRyaXgyLmRlZmF1bHQudmVjMy5ub3JtYWxpemUoYXhpcyxheGlzKSxhbmdsZT1fZ2xNYXRyaXgyLmRlZmF1bHQudmVjMy5sZW5ndGgodikqdGhpcy5fb2Zmc2V0LF9xdWF0PV9nbE1hdHJpeDIuZGVmYXVsdC5xdWF0LmNsb25lKFtNYXRoLnNpbihhbmdsZSkqYXhpc1swXSxNYXRoLnNpbihhbmdsZSkqYXhpc1sxXSxNYXRoLnNpbihhbmdsZSkqYXhpc1syXSxNYXRoLmNvcyhhbmdsZSldKSxfZ2xNYXRyaXgyLmRlZmF1bHQucXVhdC5tdWx0aXBseShtVGVtcFJvdGF0aW9uLF9xdWF0LG1UZW1wUm90YXRpb24pfX19LHtrZXk6XCJfbG9vcFwiLHZhbHVlOmZ1bmN0aW9uKCl7X2dsTWF0cml4Mi5kZWZhdWx0Lm1hdDQuaWRlbnRpdHkodGhpcy5tKSx2b2lkIDA9PT10aGlzLl90YXJnZXRRdWF0PyhfZ2xNYXRyaXgyLmRlZmF1bHQucXVhdC5zZXQodGhpcy50ZW1wUm90YXRpb24sdGhpcy5fcm90YXRpb25bMF0sdGhpcy5fcm90YXRpb25bMV0sdGhpcy5fcm90YXRpb25bMl0sdGhpcy5fcm90YXRpb25bM10pLHRoaXMuX3VwZGF0ZVJvdGF0aW9uKHRoaXMudGVtcFJvdGF0aW9uKSk6KHRoaXMuX3NsZXJwKz0uMSooMC10aGlzLl9zbGVycCksdGhpcy5fc2xlcnA8NWUtND8oX2dsTWF0cml4Mi5kZWZhdWx0LnF1YXQuY29weSh0aGlzLl9yb3RhdGlvbix0aGlzLl90YXJnZXRRdWF0KSxfZ2xNYXRyaXgyLmRlZmF1bHQucXVhdC5jb3B5KHRoaXMudGVtcFJvdGF0aW9uLHRoaXMuX3RhcmdldFF1YXQpLHRoaXMuX3RhcmdldFF1YXQ9dm9pZCAwLHRoaXMuX2RpZmZYLnNldFRvKDApLHRoaXMuX2RpZmZZLnNldFRvKDApLHRoaXMuX3NsZXJwPS0xKTooX2dsTWF0cml4Mi5kZWZhdWx0LnF1YXQuc2V0KHRoaXMudGVtcFJvdGF0aW9uLDAsMCwwLDApLF9nbE1hdHJpeDIuZGVmYXVsdC5xdWF0LnNsZXJwKHRoaXMudGVtcFJvdGF0aW9uLHRoaXMuX3RhcmdldFF1YXQsdGhpcy5fcm90YXRpb24sdGhpcy5fc2xlcnApKSksX2dsTWF0cml4Mi5kZWZhdWx0LnZlYzMudHJhbnNmb3JtUXVhdCh0aGlzLl92WmF4aXMsdGhpcy5fdlpheGlzLHRoaXMudGVtcFJvdGF0aW9uKSxfZ2xNYXRyaXgyLmRlZmF1bHQubWF0NC5mcm9tUXVhdCh0aGlzLm1hdHJpeCx0aGlzLnRlbXBSb3RhdGlvbil9fSx7a2V5OlwiZWFzaW5nXCIsc2V0OmZ1bmN0aW9uKG1WYWx1ZSl7dGhpcy5fZGlmZlguZWFzaW5nPW1WYWx1ZSx0aGlzLl9kaWZmWS5lYXNpbmc9bVZhbHVlfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlmZlguZWFzaW5nfX1dKSxRdWF0Um90YXRpb259KCk7ZXhwb3J0cy5kZWZhdWx0PVF1YXRSb3RhdGlvbn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFjYWxsfHxcIm9iamVjdFwiIT10eXBlb2YgY2FsbCYmXCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbD9zZWxmOmNhbGx9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN1cGVyQ2xhc3MmJm51bGwhPT1zdXBlckNsYXNzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBzdXBlckNsYXNzKTtzdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHN1cGVyQ2xhc3MmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzKX1mdW5jdGlvbiBkaXN0YW5jZShhLGIpe3ZhciBkeD1hLngtYi54LGR5PWEueS1iLnk7cmV0dXJuIE1hdGguc3FydChkeCpkeCtkeSpkeSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVG9vbCksX0V2ZW50RGlzcGF0Y2hlcjI9X193ZWJwYWNrX3JlcXVpcmVfXygyOCksX0V2ZW50RGlzcGF0Y2hlcjM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXZlbnREaXNwYXRjaGVyMiksX1JheT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0KSxfUmF5Mj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SYXkpLF9nZXRNb3VzZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDYyKSxfZ2V0TW91c2UyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldE1vdXNlKSxUb3VjaERldGVjdG9yPWZ1bmN0aW9uKF9FdmVudERpc3BhdGNoZXIpe2Z1bmN0aW9uIFRvdWNoRGV0ZWN0b3IobU1lc2gsbUNhbWVyYSl7dmFyIG1Ta2lwTW92ZUNoZWNrPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0sbUxpc3RlbmVyVGFyZ2V0PWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp3aW5kb3c7X2NsYXNzQ2FsbENoZWNrKHRoaXMsVG91Y2hEZXRlY3Rvcik7dmFyIF90aGlzPV9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsKFRvdWNoRGV0ZWN0b3IuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoVG91Y2hEZXRlY3RvcikpLmNhbGwodGhpcykpO3JldHVybiBfdGhpcy5fbWVzaD1tTWVzaCxfdGhpcy5fbWVzaC5nZW5lcmF0ZUZhY2VzKCksX3RoaXMuX2NhbWVyYT1tQ2FtZXJhLF90aGlzLmZhY2VWZXJ0aWNlcz1tTWVzaC5mYWNlcy5tYXAoZnVuY3Rpb24oZmFjZSl7cmV0dXJuIGZhY2UudmVydGljZXN9KSxfdGhpcy5jbGlja1RvbGVyYW5jZT04LF90aGlzLl9yYXk9bmV3IF9SYXkyLmRlZmF1bHQoWzAsMCwwXSxbMCwwLC0xXSksX3RoaXMuX2hpdD12ZWMzLmZyb21WYWx1ZXMoLTk5OSwtOTk5LC05OTkpLF90aGlzLl9sYXN0UG9zLF90aGlzLl9maXJzdFBvcyxfdGhpcy5tdHhNb2RlbD1tYXQ0LmNyZWF0ZSgpLF90aGlzLl9saXN0ZW5lclRhcmdldD1tTGlzdGVuZXJUYXJnZXQsX3RoaXMuX3NraXBwaW5nTW92ZT1tU2tpcE1vdmVDaGVjayxfdGhpcy5fb25Nb3ZlQmluZD1mdW5jdGlvbihlKXtyZXR1cm4gX3RoaXMuX29uTW92ZShlKX0sX3RoaXMuX29uRG93bkJpbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIF90aGlzLl9vbkRvd24oZSl9LF90aGlzLl9vblVwQmluZD1mdW5jdGlvbigpe3JldHVybiBfdGhpcy5fb25VcCgpfSxfdGhpcy5jb25uZWN0KCksX3RoaXN9cmV0dXJuIF9pbmhlcml0cyhUb3VjaERldGVjdG9yLF9FdmVudERpc3BhdGNoZXIpLF9jcmVhdGVDbGFzcyhUb3VjaERldGVjdG9yLFt7a2V5OlwiY29ubmVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fbGlzdGVuZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuX29uRG93bkJpbmQpLHRoaXMuX2xpc3RlbmVyVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdmVCaW5kKSx0aGlzLl9saXN0ZW5lclRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuX29uVXBCaW5kKX19LHtrZXk6XCJkaXNjb25uZWN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9saXN0ZW5lclRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5fb25Eb3duQmluZCksdGhpcy5fbGlzdGVuZXJUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW92ZUJpbmQpLHRoaXMuX2xpc3RlbmVyVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5fb25VcEJpbmQpfX0se2tleTpcIl9jaGVja0hpdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIF90aGlzMj10aGlzLG1UeXBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcIm9uSGl0XCIsY2FtZXJhPXRoaXMuX2NhbWVyYTtpZihjYW1lcmEpe3ZhciBteD10aGlzLl9sYXN0UG9zLngvX0dMVG9vbDIuZGVmYXVsdC53aWR0aCoyLTEsbXk9LXRoaXMuX2xhc3RQb3MueS9fR0xUb29sMi5kZWZhdWx0LmhlaWdodCoyKzE7Y2FtZXJhLmdlbmVyYXRlUmF5KFtteCxteSwwXSx0aGlzLl9yYXkpO2Zvcih2YXIgaGl0PXZvaWQgMCx2MD12ZWMzLmNyZWF0ZSgpLHYxPXZlYzMuY3JlYXRlKCksdjI9dmVjMy5jcmVhdGUoKSxkaXN0PTAsZ2V0VmVjdG9yPWZ1bmN0aW9uKHYsdGFyZ2V0KXt2ZWMzLnRyYW5zZm9ybU1hdDQodGFyZ2V0LHYsX3RoaXMyLm10eE1vZGVsKX0saT0wO2k8dGhpcy5mYWNlVmVydGljZXMubGVuZ3RoO2krKyl7dmFyIHZlcnRpY2VzPXRoaXMuZmFjZVZlcnRpY2VzW2ldO2dldFZlY3Rvcih2ZXJ0aWNlc1swXSx2MCksZ2V0VmVjdG9yKHZlcnRpY2VzWzFdLHYxKSxnZXRWZWN0b3IodmVydGljZXNbMl0sdjIpO3ZhciB0PXRoaXMuX3JheS5pbnRlcnNlY3RUcmlhbmdsZSh2MCx2MSx2Mik7aWYodClpZihoaXQpe3ZhciBkaXN0VG9DYW09dmVjMy5kaXN0KHQsY2FtZXJhLnBvc2l0aW9uKTtkaXN0VG9DYW08ZGlzdCYmKGhpdD12ZWMzLmNsb25lKHQpLGRpc3Q9ZGlzdFRvQ2FtKX1lbHNlIGhpdD12ZWMzLmNsb25lKHQpLGRpc3Q9dmVjMy5kaXN0KGhpdCxjYW1lcmEucG9zaXRpb24pfWhpdD8odGhpcy5faGl0PXZlYzMuY2xvbmUoaGl0KSx0aGlzLmRpc3BhdGNoQ3VzdG9tRXZlbnQobVR5cGUse2hpdDpoaXR9KSk6dGhpcy5kaXNwYXRjaEN1c3RvbUV2ZW50KFwib25VcFwiKX19fSx7a2V5OlwiX29uRG93blwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX2ZpcnN0UG9zPSgwLF9nZXRNb3VzZTIuZGVmYXVsdCkoZSksdGhpcy5fbGFzdFBvcz0oMCxfZ2V0TW91c2UyLmRlZmF1bHQpKGUpLHRoaXMuX2NoZWNrSGl0KFwib25Eb3duXCIpfX0se2tleTpcIl9vbk1vdmVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9sYXN0UG9zPSgwLF9nZXRNb3VzZTIuZGVmYXVsdCkoZSksdGhpcy5fc2tpcHBpbmdNb3ZlfHx0aGlzLl9jaGVja0hpdCgpfX0se2tleTpcIl9vblVwXCIsdmFsdWU6ZnVuY3Rpb24oKXtkaXN0YW5jZSh0aGlzLl9maXJzdFBvcyx0aGlzLl9sYXN0UG9zKTx0aGlzLmNsaWNrVG9sZXJhbmNlJiZ0aGlzLl9jaGVja0hpdCgpfX1dKSxUb3VjaERldGVjdG9yfShfRXZlbnREaXNwYXRjaGVyMy5kZWZhdWx0KTtleHBvcnRzLmRlZmF1bHQ9VG91Y2hEZXRlY3Rvcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB4PXZvaWQgMCx5PXZvaWQgMDtyZXR1cm4gZS50b3VjaGVzPyh4PWUudG91Y2hlc1swXS5wYWdlWCx5PWUudG91Y2hlc1swXS5wYWdlWSk6KHg9ZS5jbGllbnRYLHk9ZS5jbGllbnRZKSx7eDp4LHk6eX19fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hY2FsbHx8XCJvYmplY3RcIiE9dHlwZW9mIGNhbGwmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGNhbGw/c2VsZjpjYWxsfWZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcyxzdXBlckNsYXNzKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBzdXBlckNsYXNzJiZudWxsIT09c3VwZXJDbGFzcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2Ygc3VwZXJDbGFzcyk7c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxzdXBlckNsYXNzJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKTpzdWJDbGFzcy5fX3Byb3RvX189c3VwZXJDbGFzcyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX0NhbWVyYVBlcnNwZWN0aXZlMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDE2KSxfQ2FtZXJhUGVyc3BlY3RpdmUzPWZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19KF9DYW1lcmFQZXJzcGVjdGl2ZTIpLF9nbE1hdHJpeD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLENBTUVSQV9TRVRUSU5HUz1bW19nbE1hdHJpeC52ZWMzLmZyb21WYWx1ZXMoMCwwLDApLF9nbE1hdHJpeC52ZWMzLmZyb21WYWx1ZXMoMSwwLDApLF9nbE1hdHJpeC52ZWMzLmZyb21WYWx1ZXMoMCwtMSwwKV0sW19nbE1hdHJpeC52ZWMzLmZyb21WYWx1ZXMoMCwwLDApLF9nbE1hdHJpeC52ZWMzLmZyb21WYWx1ZXMoLTEsMCwwKSxfZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDAsLTEsMCldLFtfZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDAsMCwwKSxfZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDAsMSwwKSxfZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDAsMCwxKV0sW19nbE1hdHJpeC52ZWMzLmZyb21WYWx1ZXMoMCwwLDApLF9nbE1hdHJpeC52ZWMzLmZyb21WYWx1ZXMoMCwtMSwwKSxfZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDAsMCwtMSldLFtfZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDAsMCwwKSxfZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDAsMCwxKSxfZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDAsLTEsMCldLFtfZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDAsMCwwKSxfZ2xNYXRyaXgudmVjMy5mcm9tVmFsdWVzKDAsMCwtMSksX2dsTWF0cml4LnZlYzMuZnJvbVZhbHVlcygwLC0xLDApXV0sQ2FtZXJhQ3ViZT1mdW5jdGlvbihfQ2FtZXJhUGVyc3BlY3RpdmUpe2Z1bmN0aW9uIENhbWVyYUN1YmUoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxDYW1lcmFDdWJlKTt2YXIgX3RoaXM9X3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoQ2FtZXJhQ3ViZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihDYW1lcmFDdWJlKSkuY2FsbCh0aGlzKSk7cmV0dXJuIF90aGlzLnNldFBlcnNwZWN0aXZlKE1hdGguUEkvMiwxLC4xLDFlMyksX3RoaXN9cmV0dXJuIF9pbmhlcml0cyhDYW1lcmFDdWJlLF9DYW1lcmFQZXJzcGVjdGl2ZSksX2NyZWF0ZUNsYXNzKENhbWVyYUN1YmUsW3trZXk6XCJmYWNlXCIsdmFsdWU6ZnVuY3Rpb24obUluZGV4KXt2YXIgbz1DQU1FUkFfU0VUVElOR1NbbUluZGV4XTt0aGlzLmxvb2tBdChvWzBdLG9bMV0sb1syXSl9fV0pLENhbWVyYUN1YmV9KF9DYW1lcmFQZXJzcGVjdGl2ZTMuZGVmYXVsdCk7ZXhwb3J0cy5kZWZhdWx0PUNhbWVyYUN1YmV9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hY2FsbHx8XCJvYmplY3RcIiE9dHlwZW9mIGNhbGwmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGNhbGw/c2VsZjpjYWxsfWZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcyxzdXBlckNsYXNzKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBzdXBlckNsYXNzJiZudWxsIT09c3VwZXJDbGFzcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2Ygc3VwZXJDbGFzcyk7c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxzdXBlckNsYXNzJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKTpzdWJDbGFzcy5fX3Byb3RvX189c3VwZXJDbGFzcyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX2dldD1mdW5jdGlvbiBnZXQob2JqZWN0LHByb3BlcnR5LHJlY2VpdmVyKXtudWxsPT09b2JqZWN0JiYob2JqZWN0PUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGRlc2M9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QscHJvcGVydHkpO2lmKHZvaWQgMD09PWRlc2Mpe3ZhciBwYXJlbnQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7cmV0dXJuIG51bGw9PT1wYXJlbnQ/dm9pZCAwOmdldChwYXJlbnQscHJvcGVydHkscmVjZWl2ZXIpfWlmKFwidmFsdWVcImluIGRlc2MpcmV0dXJuIGRlc2MudmFsdWU7dmFyIGdldHRlcj1kZXNjLmdldDtpZih2b2lkIDAhPT1nZXR0ZXIpcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKX0sX0JpbmFyeUxvYWRlcjI9X193ZWJwYWNrX3JlcXVpcmVfXygxNyksX0JpbmFyeUxvYWRlcjM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmluYXJ5TG9hZGVyMiksX01lc2g9X193ZWJwYWNrX3JlcXVpcmVfXyg1KSxfTWVzaDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVzaCksT2JqTG9hZGVyPWZ1bmN0aW9uKF9CaW5hcnlMb2FkZXIpe2Z1bmN0aW9uIE9iakxvYWRlcigpe3JldHVybiBfY2xhc3NDYWxsQ2hlY2sodGhpcyxPYmpMb2FkZXIpLF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsKE9iakxvYWRlci5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihPYmpMb2FkZXIpKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBfaW5oZXJpdHMoT2JqTG9hZGVyLF9CaW5hcnlMb2FkZXIpLF9jcmVhdGVDbGFzcyhPYmpMb2FkZXIsW3trZXk6XCJsb2FkXCIsdmFsdWU6ZnVuY3Rpb24odXJsLGNhbGxiYWNrKXt2YXIgZHJhd1R5cGU9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjQ7dGhpcy5fZHJhd1R5cGU9ZHJhd1R5cGUsX2dldChPYmpMb2FkZXIucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKE9iakxvYWRlci5wcm90b3R5cGUpLFwibG9hZFwiLHRoaXMpLmNhbGwodGhpcyx1cmwsY2FsbGJhY2spfX0se2tleTpcIl9vbkxvYWRlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wYXJzZU9iaih0aGlzLl9yZXEucmVzcG9uc2UpfX0se2tleTpcInBhcnNlT2JqXCIsdmFsdWU6ZnVuY3Rpb24ob2JqU3RyKXtmdW5jdGlvbiBwYXJzZVZlcnRleEluZGV4KHZhbHVlKXt2YXIgaW5kZXg9cGFyc2VJbnQodmFsdWUpO3JldHVybiAzKihpbmRleD49MD9pbmRleC0xOmluZGV4K3ZlcnRpY2VzLmxlbmd0aC8zKX1mdW5jdGlvbiBwYXJzZU5vcm1hbEluZGV4KHZhbHVlKXt2YXIgaW5kZXg9cGFyc2VJbnQodmFsdWUpO3JldHVybiAzKihpbmRleD49MD9pbmRleC0xOmluZGV4K25vcm1hbHMubGVuZ3RoLzMpfWZ1bmN0aW9uIHBhcnNlVVZJbmRleCh2YWx1ZSl7dmFyIGluZGV4PXBhcnNlSW50KHZhbHVlKTtyZXR1cm4gMiooaW5kZXg+PTA/aW5kZXgtMTppbmRleCt1dnMubGVuZ3RoLzIpfWZ1bmN0aW9uIGFkZFZlcnRleChhLGIsYyl7cG9zaXRpb25zLnB1c2goW3ZlcnRpY2VzW2FdLHZlcnRpY2VzW2ErMV0sdmVydGljZXNbYSsyXV0pLHBvc2l0aW9ucy5wdXNoKFt2ZXJ0aWNlc1tiXSx2ZXJ0aWNlc1tiKzFdLHZlcnRpY2VzW2IrMl1dKSxwb3NpdGlvbnMucHVzaChbdmVydGljZXNbY10sdmVydGljZXNbYysxXSx2ZXJ0aWNlc1tjKzJdXSksaW5kaWNlcy5wdXNoKDMqY291bnQrMCksaW5kaWNlcy5wdXNoKDMqY291bnQrMSksaW5kaWNlcy5wdXNoKDMqY291bnQrMiksY291bnQrK31mdW5jdGlvbiBhZGRVVihhLGIsYyl7Y29vcmRzLnB1c2goW3V2c1thXSx1dnNbYSsxXV0pLGNvb3Jkcy5wdXNoKFt1dnNbYl0sdXZzW2IrMV1dKSxjb29yZHMucHVzaChbdXZzW2NdLHV2c1tjKzFdXSl9ZnVuY3Rpb24gYWRkTm9ybWFsKGEsYixjKXtmaW5hbE5vcm1hbHMucHVzaChbbm9ybWFsc1thXSxub3JtYWxzW2ErMV0sbm9ybWFsc1thKzJdXSksZmluYWxOb3JtYWxzLnB1c2goW25vcm1hbHNbYl0sbm9ybWFsc1tiKzFdLG5vcm1hbHNbYisyXV0pLGZpbmFsTm9ybWFscy5wdXNoKFtub3JtYWxzW2NdLG5vcm1hbHNbYysxXSxub3JtYWxzW2MrMl1dKX1mdW5jdGlvbiBhZGRGYWNlKGEsYixjLGQsdWEsdWIsdWMsdWQsbmEsbmIsbmMsbmQpe3ZhciBpYT1wYXJzZVZlcnRleEluZGV4KGEpLGliPXBhcnNlVmVydGV4SW5kZXgoYiksaWM9cGFyc2VWZXJ0ZXhJbmRleChjKSxpZD12b2lkIDA7dm9pZCAwPT09ZD9hZGRWZXJ0ZXgoaWEsaWIsaWMpOihpZD1wYXJzZVZlcnRleEluZGV4KGQpLGFkZFZlcnRleChpYSxpYixpZCksYWRkVmVydGV4KGliLGljLGlkKSksdm9pZCAwIT09dWEmJihpYT1wYXJzZVVWSW5kZXgodWEpLGliPXBhcnNlVVZJbmRleCh1YiksaWM9cGFyc2VVVkluZGV4KHVjKSx2b2lkIDA9PT1kP2FkZFVWKGlhLGliLGljKTooaWQ9cGFyc2VVVkluZGV4KHVkKSxhZGRVVihpYSxpYixpZCksYWRkVVYoaWIsaWMsaWQpKSksdm9pZCAwIT09bmEmJihpYT1wYXJzZU5vcm1hbEluZGV4KG5hKSxpYj1wYXJzZU5vcm1hbEluZGV4KG5iKSxpYz1wYXJzZU5vcm1hbEluZGV4KG5jKSx2b2lkIDA9PT1kP2FkZE5vcm1hbChpYSxpYixpYyk6KGlkPXBhcnNlTm9ybWFsSW5kZXgobmQpLGFkZE5vcm1hbChpYSxpYixpZCksYWRkTm9ybWFsKGliLGljLGlkKSkpfWZvcih2YXIgbGluZXM9b2JqU3RyLnNwbGl0KFwiXFxuXCIpLHBvc2l0aW9ucz1bXSxjb29yZHM9W10sZmluYWxOb3JtYWxzPVtdLHZlcnRpY2VzPVtdLG5vcm1hbHM9W10sdXZzPVtdLGluZGljZXM9W10sY291bnQ9MCxyZXN1bHQ9dm9pZCAwLHZlcnRleFBhdHRlcm49L3YoICtbXFxkfFxcLnxcXCt8XFwtfGV8RV0rKSggK1tcXGR8XFwufFxcK3xcXC18ZXxFXSspKCArW1xcZHxcXC58XFwrfFxcLXxlfEVdKykvLG5vcm1hbFBhdHRlcm49L3ZuKCArW1xcZHxcXC58XFwrfFxcLXxlfEVdKykoICtbXFxkfFxcLnxcXCt8XFwtfGV8RV0rKSggK1tcXGR8XFwufFxcK3xcXC18ZXxFXSspLyx1dlBhdHRlcm49L3Z0KCArW1xcZHxcXC58XFwrfFxcLXxlfEVdKykoICtbXFxkfFxcLnxcXCt8XFwtfGV8RV0rKS8sZmFjZVBhdHRlcm4xPS9mKCArLT9cXGQrKSggKy0/XFxkKykoICstP1xcZCspKCArLT9cXGQrKT8vLGZhY2VQYXR0ZXJuMj0vZiggKygtP1xcZCspXFwvKC0/XFxkKykpKCArKC0/XFxkKylcXC8oLT9cXGQrKSkoICsoLT9cXGQrKVxcLygtP1xcZCspKSggKygtP1xcZCspXFwvKC0/XFxkKykpPy8sZmFjZVBhdHRlcm4zPS9mKCArKC0/XFxkKylcXC8oLT9cXGQrKVxcLygtP1xcZCspKSggKygtP1xcZCspXFwvKC0/XFxkKylcXC8oLT9cXGQrKSkoICsoLT9cXGQrKVxcLygtP1xcZCspXFwvKC0/XFxkKykpKCArKC0/XFxkKylcXC8oLT9cXGQrKVxcLygtP1xcZCspKT8vLGZhY2VQYXR0ZXJuND0vZiggKygtP1xcZCspXFwvXFwvKC0/XFxkKykpKCArKC0/XFxkKylcXC9cXC8oLT9cXGQrKSkoICsoLT9cXGQrKVxcL1xcLygtP1xcZCspKSggKygtP1xcZCspXFwvXFwvKC0/XFxkKykpPy8saT0wO2k8bGluZXMubGVuZ3RoO2krKyl7dmFyIGxpbmU9bGluZXNbaV07bGluZT1saW5lLnRyaW0oKSwwIT09bGluZS5sZW5ndGgmJlwiI1wiIT09bGluZS5jaGFyQXQoMCkmJihudWxsIT09KHJlc3VsdD12ZXJ0ZXhQYXR0ZXJuLmV4ZWMobGluZSkpP3ZlcnRpY2VzLnB1c2gocGFyc2VGbG9hdChyZXN1bHRbMV0pLHBhcnNlRmxvYXQocmVzdWx0WzJdKSxwYXJzZUZsb2F0KHJlc3VsdFszXSkpOm51bGwhPT0ocmVzdWx0PW5vcm1hbFBhdHRlcm4uZXhlYyhsaW5lKSk/bm9ybWFscy5wdXNoKHBhcnNlRmxvYXQocmVzdWx0WzFdKSxwYXJzZUZsb2F0KHJlc3VsdFsyXSkscGFyc2VGbG9hdChyZXN1bHRbM10pKTpudWxsIT09KHJlc3VsdD11dlBhdHRlcm4uZXhlYyhsaW5lKSk/dXZzLnB1c2gocGFyc2VGbG9hdChyZXN1bHRbMV0pLHBhcnNlRmxvYXQocmVzdWx0WzJdKSk6bnVsbCE9PShyZXN1bHQ9ZmFjZVBhdHRlcm4xLmV4ZWMobGluZSkpP2FkZEZhY2UocmVzdWx0WzFdLHJlc3VsdFsyXSxyZXN1bHRbM10scmVzdWx0WzRdKTpudWxsIT09KHJlc3VsdD1mYWNlUGF0dGVybjIuZXhlYyhsaW5lKSk/YWRkRmFjZShyZXN1bHRbMl0scmVzdWx0WzVdLHJlc3VsdFs4XSxyZXN1bHRbMTFdLHJlc3VsdFszXSxyZXN1bHRbNl0scmVzdWx0WzldLHJlc3VsdFsxMl0pOm51bGwhPT0ocmVzdWx0PWZhY2VQYXR0ZXJuMy5leGVjKGxpbmUpKT9hZGRGYWNlKHJlc3VsdFsyXSxyZXN1bHRbNl0scmVzdWx0WzEwXSxyZXN1bHRbMTRdLHJlc3VsdFszXSxyZXN1bHRbN10scmVzdWx0WzExXSxyZXN1bHRbMTVdLHJlc3VsdFs0XSxyZXN1bHRbOF0scmVzdWx0WzEyXSxyZXN1bHRbMTZdKTpudWxsIT09KHJlc3VsdD1mYWNlUGF0dGVybjQuZXhlYyhsaW5lKSkmJmFkZEZhY2UocmVzdWx0WzJdLHJlc3VsdFs1XSxyZXN1bHRbOF0scmVzdWx0WzExXSx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAscmVzdWx0WzNdLHJlc3VsdFs2XSxyZXN1bHRbOV0scmVzdWx0WzEyXSkpfXJldHVybiB0aGlzLl9nZW5lcmF0ZU1lc2hlcyh7cG9zaXRpb25zOnBvc2l0aW9ucyxjb29yZHM6Y29vcmRzLG5vcm1hbHM6ZmluYWxOb3JtYWxzLGluZGljZXM6aW5kaWNlc30pfX0se2tleTpcIl9nZW5lcmF0ZU1lc2hlc1wiLHZhbHVlOmZ1bmN0aW9uKG8pe3ZhciBoYXNOb3JtYWxzPW8ubm9ybWFscy5sZW5ndGg+MCxoYXNVVnM9by5jb29yZHMubGVuZ3RoPjAsbWVzaD12b2lkIDA7aWYoby5wb3NpdGlvbnMubGVuZ3RoPjY1NTM1KXt2YXIgbWVzaGVzPVtdLGxhc3RJbmRleD0wLG9Db3B5PXt9O2ZvcihvQ29weS5wb3NpdGlvbnM9by5wb3NpdGlvbnMuY29uY2F0KCksb0NvcHkuY29vcmRzPW8uY29vcmRzLmNvbmNhdCgpLG9Db3B5LmluZGljZXM9by5pbmRpY2VzLmNvbmNhdCgpLG9Db3B5Lm5vcm1hbHM9by5ub3JtYWxzLmNvbmNhdCgpO28uaW5kaWNlcy5sZW5ndGg+MDspe2Zvcih2YXIgc2xpY2VOdW09TWF0aC5taW4oNjU1MzUsby5wb3NpdGlvbnMubGVuZ3RoKSxpbmRpY2VzPW8uaW5kaWNlcy5zcGxpY2UoMCxzbGljZU51bSkscG9zaXRpb25zPVtdLGNvb3Jkcz1bXSxub3JtYWxzPVtdLGluZGV4PXZvaWQgMCx0bXBJbmRleD0wLGk9MDtpPGluZGljZXMubGVuZ3RoO2krKylpbmRpY2VzW2ldPnRtcEluZGV4JiYodG1wSW5kZXg9aW5kaWNlc1tpXSksaW5kZXg9aW5kaWNlc1tpXSxwb3NpdGlvbnMucHVzaChvQ29weS5wb3NpdGlvbnNbaW5kZXhdKSxoYXNVVnMmJmNvb3Jkcy5wdXNoKG9Db3B5LmNvb3Jkc1tpbmRleF0pLGhhc05vcm1hbHMmJm5vcm1hbHMucHVzaChvQ29weS5ub3JtYWxzW2luZGV4XSksaW5kaWNlc1tpXS09bGFzdEluZGV4O2xhc3RJbmRleD10bXBJbmRleCsxLG1lc2g9bmV3IF9NZXNoMi5kZWZhdWx0KHRoaXMuX2RyYXdUeXBlKSxtZXNoLmJ1ZmZlclZlcnRleChwb3NpdGlvbnMpLGhhc1VWcyYmbWVzaC5idWZmZXJUZXhDb29yZChjb29yZHMpLG1lc2guYnVmZmVySW5kZXgoaW5kaWNlcyksaGFzTm9ybWFscyYmbWVzaC5idWZmZXJOb3JtYWwobm9ybWFscyksbWVzaGVzLnB1c2gobWVzaCl9cmV0dXJuIHRoaXMuX2NhbGxiYWNrJiZ0aGlzLl9jYWxsYmFjayhtZXNoZXMsb0NvcHkpLG1lc2hlc31yZXR1cm4gbWVzaD1uZXcgX01lc2gyLmRlZmF1bHQodGhpcy5fZHJhd1R5cGUpLG1lc2guYnVmZmVyVmVydGV4KG8ucG9zaXRpb25zKSxoYXNVVnMmJm1lc2guYnVmZmVyVGV4Q29vcmQoby5jb29yZHMpLG1lc2guYnVmZmVySW5kZXgoby5pbmRpY2VzKSxoYXNOb3JtYWxzJiZtZXNoLmJ1ZmZlck5vcm1hbChvLm5vcm1hbHMpLHRoaXMuX2NhbGxiYWNrJiZ0aGlzLl9jYWxsYmFjayhtZXNoLG8pLG1lc2h9fV0pLE9iakxvYWRlcn0oX0JpbmFyeUxvYWRlcjMuZGVmYXVsdCk7T2JqTG9hZGVyLnBhcnNlPWZ1bmN0aW9uKG9ialN0cil7cmV0dXJuKG5ldyBPYmpMb2FkZXIpLnBhcnNlT2JqKG9ialN0cil9LGV4cG9ydHMuZGVmYXVsdD1PYmpMb2FkZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hY2FsbHx8XCJvYmplY3RcIiE9dHlwZW9mIGNhbGwmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGNhbGw/c2VsZjpjYWxsfWZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcyxzdXBlckNsYXNzKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBzdXBlckNsYXNzJiZudWxsIT09c3VwZXJDbGFzcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2Ygc3VwZXJDbGFzcyk7c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxzdXBlckNsYXNzJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKTpzdWJDbGFzcy5fX3Byb3RvX189c3VwZXJDbGFzcyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX0JpbmFyeUxvYWRlcjI9X193ZWJwYWNrX3JlcXVpcmVfXygxNyksX0JpbmFyeUxvYWRlcjM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmluYXJ5TG9hZGVyMiksX0hEUlBhcnNlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDY2KSxfSERSUGFyc2VyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9IRFJQYXJzZXIpLEhEUkxvYWRlcj1mdW5jdGlvbihfQmluYXJ5TG9hZGVyKXtmdW5jdGlvbiBIRFJMb2FkZXIoKXtyZXR1cm4gX2NsYXNzQ2FsbENoZWNrKHRoaXMsSERSTG9hZGVyKSxfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChIRFJMb2FkZXIuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoSERSTG9hZGVyKSkuY2FsbCh0aGlzLCEwKSl9cmV0dXJuIF9pbmhlcml0cyhIRFJMb2FkZXIsX0JpbmFyeUxvYWRlciksX2NyZWF0ZUNsYXNzKEhEUkxvYWRlcixbe2tleTpcInBhcnNlXCIsdmFsdWU6ZnVuY3Rpb24obUFycmF5QnVmZmVyKXtyZXR1cm4oMCxfSERSUGFyc2VyMi5kZWZhdWx0KShtQXJyYXlCdWZmZXIpfX0se2tleTpcIl9vbkxvYWRlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIG89dGhpcy5wYXJzZSh0aGlzLl9yZXEucmVzcG9uc2UpO3RoaXMuX2NhbGxiYWNrJiZ0aGlzLl9jYWxsYmFjayhvKX19XSksSERSTG9hZGVyfShfQmluYXJ5TG9hZGVyMy5kZWZhdWx0KTtIRFJMb2FkZXIucGFyc2U9ZnVuY3Rpb24obUFycmF5QnVmZmVyKXtyZXR1cm4oMCxfSERSUGFyc2VyMi5kZWZhdWx0KShtQXJyYXlCdWZmZXIpfSxleHBvcnRzLmRlZmF1bHQ9SERSTG9hZGVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByZWFkUGl4ZWxzUmF3UkxFKGJ1ZmZlcixkYXRhLG9mZnNldCxmaWxlT2Zmc2V0LHNjYW5saW5lV2lkdGgsbnVtU2NhbmxpbmVzKXtmdW5jdGlvbiByZWFkQnVmKGJ1Zil7dmFyIGJ5dGVzUmVhZD0wO2Rve2J1ZltieXRlc1JlYWQrK109YnVmZmVyW2ZpbGVPZmZzZXRdfXdoaWxlKCsrZmlsZU9mZnNldDxidWZmZXJMZW5ndGgmJmJ5dGVzUmVhZDxidWYubGVuZ3RoKTtyZXR1cm4gYnl0ZXNSZWFkfWZ1bmN0aW9uIHJlYWRCdWZPZmZzZXQoYnVmLG9mZnNldCxsZW5ndGgpe3ZhciBieXRlc1JlYWQ9MDtkb3tidWZbb2Zmc2V0K2J5dGVzUmVhZCsrXT1idWZmZXJbZmlsZU9mZnNldF19d2hpbGUoKytmaWxlT2Zmc2V0PGJ1ZmZlckxlbmd0aCYmYnl0ZXNSZWFkPGxlbmd0aCk7cmV0dXJuIGJ5dGVzUmVhZH1mb3IodmFyIHJnYmU9bmV3IEFycmF5KDQpLHNjYW5saW5lQnVmZmVyPW51bGwscHRyPXZvaWQgMCxwdHJFbmQ9dm9pZCAwLGNvdW50PXZvaWQgMCxidWY9bmV3IEFycmF5KDIpLGJ1ZmZlckxlbmd0aD1idWZmZXIubGVuZ3RoO251bVNjYW5saW5lcz4wOyl7aWYocmVhZEJ1ZihyZ2JlKTxyZ2JlLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciByZWFkaW5nIGJ5dGVzOiBleHBlY3RlZCBcIityZ2JlLmxlbmd0aCk7aWYoMiE9PXJnYmVbMF18fDIhPT1yZ2JlWzFdfHwwIT0oMTI4JnJnYmVbMl0pKXJldHVybiBkYXRhW29mZnNldCsrXT1yZ2JlWzBdLGRhdGFbb2Zmc2V0KytdPXJnYmVbMV0sZGF0YVtvZmZzZXQrK109cmdiZVsyXSxkYXRhW29mZnNldCsrXT1yZ2JlWzNdLHZvaWQgZnVuY3Rpb24oYnVmZmVyLGRhdGEsb2Zmc2V0LG51bXBpeGVscyl7dmFyIG51bUV4cGVjdGVkPTQqbnVtcGl4ZWxzLG51bVJlYWQ9cmVhZEJ1Zk9mZnNldChkYXRhLG9mZnNldCxudW1FeHBlY3RlZCk7aWYobnVtUmVhZDxudW1FeHBlY3RlZCl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciByZWFkaW5nIHJhdyBwaXhlbHM6IGdvdCBcIitudW1SZWFkK1wiIGJ5dGVzLCBleHBlY3RlZCBcIitudW1FeHBlY3RlZCl9KDAsZGF0YSxvZmZzZXQsc2NhbmxpbmVXaWR0aCpudW1TY2FubGluZXMtMSk7aWYoKCgyNTUmcmdiZVsyXSk8PDh8MjU1JnJnYmVbM10pIT09c2NhbmxpbmVXaWR0aCl0aHJvdyBuZXcgRXJyb3IoXCJXcm9uZyBzY2FubGluZSB3aWR0aCBcIisoKDI1NSZyZ2JlWzJdKTw8OHwyNTUmcmdiZVszXSkrXCIsIGV4cGVjdGVkIFwiK3NjYW5saW5lV2lkdGgpO251bGw9PT1zY2FubGluZUJ1ZmZlciYmKHNjYW5saW5lQnVmZmVyPW5ldyBBcnJheSg0KnNjYW5saW5lV2lkdGgpKSxwdHI9MDtmb3IodmFyIGk9MDtpPDQ7aSsrKWZvcihwdHJFbmQ9KGkrMSkqc2NhbmxpbmVXaWR0aDtwdHI8cHRyRW5kOyl7aWYocmVhZEJ1ZihidWYpPGJ1Zi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgcmVhZGluZyAyLWJ5dGUgYnVmZmVyXCIpO2lmKCgyNTUmYnVmWzBdKT4xMjgpe2lmKDA9PT0oY291bnQ9KDI1NSZidWZbMF0pLTEyOCl8fGNvdW50PnB0ckVuZC1wdHIpdGhyb3cgbmV3IEVycm9yKFwiQmFkIHNjYW5saW5lIGRhdGFcIik7Zm9yKDtjb3VudC0tID4wOylzY2FubGluZUJ1ZmZlcltwdHIrK109YnVmWzFdfWVsc2V7aWYoMD09PShjb3VudD0yNTUmYnVmWzBdKXx8Y291bnQ+cHRyRW5kLXB0cil0aHJvdyBuZXcgRXJyb3IoXCJCYWQgc2NhbmxpbmUgZGF0YVwiKTtpZihzY2FubGluZUJ1ZmZlcltwdHIrK109YnVmWzFdLC0tY291bnQ+MCl7aWYocmVhZEJ1Zk9mZnNldChzY2FubGluZUJ1ZmZlcixwdHIsY291bnQpPGNvdW50KXRocm93IG5ldyBFcnJvcihcIkVycm9yIHJlYWRpbmcgbm9uLXJ1biBkYXRhXCIpO3B0cis9Y291bnR9fX1mb3IodmFyIF9pPTA7X2k8c2NhbmxpbmVXaWR0aDtfaSsrKWRhdGFbb2Zmc2V0KzBdPXNjYW5saW5lQnVmZmVyW19pXSxkYXRhW29mZnNldCsxXT1zY2FubGluZUJ1ZmZlcltfaStzY2FubGluZVdpZHRoXSxkYXRhW29mZnNldCsyXT1zY2FubGluZUJ1ZmZlcltfaSsyKnNjYW5saW5lV2lkdGhdLGRhdGFbb2Zmc2V0KzNdPXNjYW5saW5lQnVmZmVyW19pKzMqc2NhbmxpbmVXaWR0aF0sb2Zmc2V0Kz00O251bVNjYW5saW5lcy0tfX1mdW5jdGlvbiBwYXJzZUhkcihidWZmZXIpe2J1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyJiYoYnVmZmVyPW5ldyBVaW50OEFycmF5KGJ1ZmZlcikpO2Zvcih2YXIgZmlsZU9mZnNldD0wLGJ1ZmZlckxlbmd0aD1idWZmZXIubGVuZ3RoLE5FV19MSU5FPTEwLHdpZHRoPTAsaGVpZ2h0PTAsZXhwb3N1cmU9MSxybGU9ITEsaT0wO2k8MjA7aSsrKXt2YXIgbGluZT1mdW5jdGlvbigpe3ZhciBidWY9XCJcIjtkb3t2YXIgYj1idWZmZXJbZmlsZU9mZnNldF07aWYoYj09PU5FV19MSU5FKXsrK2ZpbGVPZmZzZXQ7YnJlYWt9YnVmKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGIpfXdoaWxlKCsrZmlsZU9mZnNldDxidWZmZXJMZW5ndGgpO3JldHVybiBidWZ9KCksbWF0Y2g9dm9pZCAwO2lmKG1hdGNoPWxpbmUubWF0Y2gocmFkaWFuY2VQYXR0ZXJuKSk7ZWxzZSBpZihtYXRjaD1saW5lLm1hdGNoKGZvcm1hdFBhdHRlcm4pKXJsZT0hMDtlbHNlIGlmKG1hdGNoPWxpbmUubWF0Y2goZXhwb3N1cmVQYXR0ZXJuKSlleHBvc3VyZT1OdW1iZXIobWF0Y2hbMV0pO2Vsc2UgaWYobWF0Y2g9bGluZS5tYXRjaChjb21tZW50UGF0dGVybikpO2Vsc2UgaWYobWF0Y2g9bGluZS5tYXRjaCh3aWR0aEhlaWdodFBhdHRlcm4pKXtoZWlnaHQ9TnVtYmVyKG1hdGNoWzFdKSx3aWR0aD1OdW1iZXIobWF0Y2hbMl0pO2JyZWFrfX1pZighcmxlKXRocm93IG5ldyBFcnJvcihcIkZpbGUgaXMgbm90IHJ1biBsZW5ndGggZW5jb2RlZCFcIik7dmFyIGRhdGE9bmV3IFVpbnQ4QXJyYXkod2lkdGgqaGVpZ2h0KjQpO3JlYWRQaXhlbHNSYXdSTEUoYnVmZmVyLGRhdGEsMCxmaWxlT2Zmc2V0LHdpZHRoLGhlaWdodCk7Zm9yKHZhciBmbG9hdERhdGE9bmV3IEZsb2F0MzJBcnJheSh3aWR0aCpoZWlnaHQqNCksb2Zmc2V0PTA7b2Zmc2V0PGRhdGEubGVuZ3RoO29mZnNldCs9NCl7dmFyIHI9ZGF0YVtvZmZzZXQrMF0vMjU1LGc9ZGF0YVtvZmZzZXQrMV0vMjU1LGI9ZGF0YVtvZmZzZXQrMl0vMjU1LGU9ZGF0YVtvZmZzZXQrM10sZj1NYXRoLnBvdygyLGUtMTI4KTtyKj1mLGcqPWYsYio9Zjt2YXIgZmxvYXRPZmZzZXQ9b2Zmc2V0O2Zsb2F0RGF0YVtmbG9hdE9mZnNldCswXT1yLGZsb2F0RGF0YVtmbG9hdE9mZnNldCsxXT1nLGZsb2F0RGF0YVtmbG9hdE9mZnNldCsyXT1iLGZsb2F0RGF0YVtmbG9hdE9mZnNldCszXT0xfXJldHVybntzaGFwZTpbd2lkdGgsaGVpZ2h0XSxleHBvc3VyZTpleHBvc3VyZSxnYW1tYToxLGRhdGE6ZmxvYXREYXRhfX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcmFkaWFuY2VQYXR0ZXJuPVwiI1xcXFw/UkFESUFOQ0VcIixjb21tZW50UGF0dGVybj1cIiMuKlwiLGV4cG9zdXJlUGF0dGVybj1cIkVYUE9TVVJFPVxcXFxzKihbMC05XSpbLl1bMC05XSopXCIsZm9ybWF0UGF0dGVybj1cIkZPUk1BVD0zMi1iaXRfcmxlX3JnYmVcIix3aWR0aEhlaWdodFBhdHRlcm49XCItWSAoWzAtOV0rKSBcXFxcK1ggKFswLTldKylcIjtleHBvcnRzLmRlZmF1bHQ9cGFyc2VIZHJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NvbGxhZGFQYXJzZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg2OCksX2NvbGxhZGFQYXJzZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbGxhZGFQYXJzZXIpLF9NZXNoPV9fd2VicGFja19yZXF1aXJlX18oNSksX01lc2gyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2gpLGdlbmVyYXRlTWVzaD1mdW5jdGlvbihtZXNoZXMpe3ZhciBjYWNoZXM9e307bWVzaGVzLmZvckVhY2goZnVuY3Rpb24obWVzaCl7dmFyIF9tZXNoJG1lc2g9bWVzaC5tZXNoLHZlcnRpY2VzPV9tZXNoJG1lc2gudmVydGljZXMsbm9ybWFscz1fbWVzaCRtZXNoLm5vcm1hbHMsY29vcmRzPV9tZXNoJG1lc2guY29vcmRzLHRyaWFuZ2xlcz1fbWVzaCRtZXNoLnRyaWFuZ2xlcyxuYW1lPV9tZXNoJG1lc2gubmFtZTtpZighY2FjaGVzW25hbWVdKXt2YXIgZ2xNZXNoPShuZXcgX01lc2gyLmRlZmF1bHQpLmJ1ZmZlckZsYXR0ZW5EYXRhKHZlcnRpY2VzLFwiYVZlcnRleFBvc2l0aW9uXCIsMykuYnVmZmVyRmxhdHRlbkRhdGEoY29vcmRzLFwiYVRleHR1cmVDb29yZFwiLDIpLmJ1ZmZlckZsYXR0ZW5EYXRhKG5vcm1hbHMsXCJhTm9ybWFsXCIsMykuYnVmZmVySW5kZXgodHJpYW5nbGVzKTtjYWNoZXNbbmFtZV09Z2xNZXNofW1lc2guZ2xNZXNoPWNhY2hlc1tuYW1lXX0pfSxwYXJzZT1mdW5jdGlvbihtRGF0YSl7dmFyIG1lc2hlcz1fY29sbGFkYVBhcnNlcjIuZGVmYXVsdC5wYXJzZShtRGF0YSk7cmV0dXJuIGdlbmVyYXRlTWVzaChtZXNoZXMpLG1lc2hlc30sbG9hZD1mdW5jdGlvbihtUGF0aCxtQ2FsbGJhY2spe19jb2xsYWRhUGFyc2VyMi5kZWZhdWx0LmxvYWQobVBhdGgsZnVuY3Rpb24obWVzaGVzKXtnZW5lcmF0ZU1lc2gobWVzaGVzKSxtQ2FsbGJhY2sobWVzaGVzKX0pfSxDb2xsYWRhUGFyc2VyPXtwYXJzZTpwYXJzZSxsb2FkOmxvYWR9O2V4cG9ydHMuZGVmYXVsdD1Db2xsYWRhUGFyc2VyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX0NvbGxhZGE9X193ZWJwYWNrX3JlcXVpcmVfXyg2OSksX0NvbGxhZGEyPWZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19KF9Db2xsYWRhKSxfZ2xNYXRyaXg9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxwYXJzZURhdGE9ZnVuY3Rpb24obURhdGEpe2Z1bmN0aW9uIGdldE1hdGVyaWFsKGlkKXt2YXIgbWF0PXZvaWQgMDtmb3IodmFyIF9zIGluIG1hdGVyaWFscylfcz09PWlkJiYobWF0PW1hdGVyaWFsc1tfc10pO3ZhciBvTWF0ZXJpYWw9e307cmV0dXJuIG1hdC5kaWZmdXNlJiYob01hdGVyaWFsLmRpZmZ1c2VDb2xvcj1tYXQuZGlmZnVzZSksb01hdGVyaWFsLmRpZmZ1c2VDb2xvcj1tYXQuZGlmZnVzZXx8WzAsMCwwXSxvTWF0ZXJpYWwuc2hpbmluZXNzPW1hdC5zaGluaW5lc3N8fDAsbWF0LnRleHR1cmVzJiYobWF0LnRleHR1cmVzLmRpZmZ1c2UmJihvTWF0ZXJpYWwuZGlmZnVzZU1hcElEPW1hdC50ZXh0dXJlcy5kaWZmdXNlLm1hcF9pZCksbWF0LnRleHR1cmVzLm5vcm1hbCYmKG9NYXRlcmlhbC5ub3JtYWxNYXBJRD1tYXQudGV4dHVyZXMubm9ybWFsLm1hcF9pZCkpLG9NYXRlcmlhbH1mdW5jdGlvbiB3YWxrKG5vZGUsbXR4UGFyZW50KXt2YXIgbT1fZ2xNYXRyaXgubWF0NC5jcmVhdGUoKTtpZihub2RlLm1vZGVsP19nbE1hdHJpeC5tYXQ0Lm11bHRpcGx5KG0sbXR4UGFyZW50LG5vZGUubW9kZWwpOl9nbE1hdHJpeC5tYXQ0LmNvcHkobSxtdHhQYXJlbnQpLG5vZGUuY2hpbGRyZW4ubGVuZ3RoPjAmJm5vZGUuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihjaGlsZCl7d2FsayhjaGlsZCxtKX0pLG5vZGUubWVzaCl7dmFyIF9vTWVzaD17fTtfb01lc2gubW9kZWxNYXRyaXg9bSxfb01lc2gubWVzaD1tZXNoZXNbbm9kZS5tZXNoXSxfb01lc2guaWQ9bm9kZS5pZCxfb01lc2gubmFtZT1ub2RlLm5hbWUsX29NZXNoLm1hdGVyaWFsPWdldE1hdGVyaWFsKG5vZGUubWF0ZXJpYWwpLG1lc2hPYmpzLnB1c2goX29NZXNoKX19dmFyIG1hdGVyaWFscz1tRGF0YS5tYXRlcmlhbHMsbWVzaGVzPW1EYXRhLm1lc2hlcyxtZXNoT2Jqcz1bXSxhbGxNZXNoZXM9W107Zm9yKHZhciBzIGluIG1lc2hlcyl7dmFyIG9NZXNoPW1lc2hlc1tzXSx2ZXJ0aWNlcz1vTWVzaC52ZXJ0aWNlcyxub3JtYWxzPW9NZXNoLm5vcm1hbHMsY29vcmRzPW9NZXNoLmNvb3Jkcyx0cmlhbmdsZXM9b01lc2gudHJpYW5nbGVzLGJ1ZmZlcnM9e3ZlcnRpY2VzOnZlcnRpY2VzLG5vcm1hbHM6bm9ybWFscyxjb29yZHM6Y29vcmRzLHRyaWFuZ2xlczp0cmlhbmdsZXN9O2FsbE1lc2hlcy5wdXNoKHtpZDpzLGJ1ZmZlcnM6YnVmZmVyc30pfXZhciBtdHg9X2dsTWF0cml4Lm1hdDQuY3JlYXRlKCk7cmV0dXJuIHdhbGsobURhdGEucm9vdCxtdHgpLG1lc2hPYmpzfSxwYXJzZT1mdW5jdGlvbihtRmlsZSl7dmFyIG89X0NvbGxhZGEyLmRlZmF1bHQucGFyc2UobUZpbGUpO3JldHVybiBwYXJzZURhdGEobyl9LGxvYWQ9ZnVuY3Rpb24obVBhdGgsbUNhbGxCYWNrKXtfQ29sbGFkYTIuZGVmYXVsdC5sb2FkKG1QYXRoLGZ1bmN0aW9uKG1EYXRhKXttQ2FsbEJhY2socGFyc2VEYXRhKG1EYXRhKSl9KX0sQ29sbGFkYVBhcnNlcj17bG9hZDpsb2FkLHBhcnNlOnBhcnNlfTtleHBvcnRzLmRlZmF1bHQ9Q29sbGFkYVBhcnNlcixtb2R1bGUuZXhwb3J0cz1leHBvcnRzLmRlZmF1bHR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihnbG9iYWwpe2Z1bmN0aW9uIHJlcXVlc3QodXJsLGNhbGxiYWNrKXt2YXIgcmVxPW5ldyBYTUxIdHRwUmVxdWVzdDtyZXEub25sb2FkPWZ1bmN0aW9uKCl7dGhpcy5yZXNwb25zZTsyMDA9PXRoaXMuc3RhdHVzJiZjYWxsYmFjayYmY2FsbGJhY2sodGhpcy5yZXNwb25zZSl9LHJlcS5vcGVuKFwiZ2V0XCIsdXJsLCEwKSxyZXEuc2VuZCgpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfZ2xNYXRyaXg9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxpc1dvcmtlcj12b2lkIDA9PT1nbG9iYWwuZG9jdW1lbnQsREVHMlJBRD0yKk1hdGguUEkvMzYwLHRlbXBfbWF0ND1udWxsLHRlbXBfdmVjMj1udWxsLHRlbXBfdmVjMz1udWxsLHRlbXBfdmVjND1udWxsLHRlbXBfcXVhdD1udWxsLENvbGxhZGE9e2xpYnNQYXRoOlwiLi9cIix3b3JrZXJQYXRoOlwiLi9cIixub19mbGlwOiEwLHVzZV90cmFuc2ZlcmFibGVzOiEwLG9uZXJyb3I6bnVsbCx2ZXJib3NlOiExLGNvbmZpZzp7Zm9yY2VQYXJzZXI6ITF9LGluaXQ6ZnVuY3Rpb24oY29uZmlnKXtjb25maWc9Y29uZmlnfHx7fTtmb3IodmFyIGkgaW4gY29uZmlnKXRoaXNbaV09Y29uZmlnW2ldO2lmKHRoaXMuY29uZmlnPWNvbmZpZyxpc1dvcmtlcil0cnl7aW1wb3J0U2NyaXB0cyh0aGlzLmxpYnNQYXRoK1wiZ2wtbWF0cml4LW1pbi5qc1wiLHRoaXMubGlic1BhdGgrXCJ0aW55eG1sLmpzXCIpfWNhdGNoKGVycil7Q29sbGFkYS50aHJvd0V4Y2VwdGlvbihDb2xsYWRhLkxJQk1JU1NJTkdfRVJST1IpfXRlbXBfbWF0ND1fZ2xNYXRyaXgubWF0NC5jcmVhdGUoKSx0ZW1wX3ZlYzI9dmVjMy5jcmVhdGUoKSx0ZW1wX3ZlYzM9dmVjMy5jcmVhdGUoKSx0ZW1wX3ZlYzQ9dmVjMy5jcmVhdGUoKSx0ZW1wX3F1YXQ9X2dsTWF0cml4LnF1YXQuY3JlYXRlKCksaXNXb3JrZXImJmNvbnNvbGUubG9nKFwiQ29sbGFkYSB3b3JrZXIgcmVhZHlcIil9LGxvYWQ6ZnVuY3Rpb24odXJsLGNhbGxiYWNrKXtyZXF1ZXN0KHVybCxmdW5jdGlvbihkYXRhKXtjYWxsYmFjayhkYXRhP0NvbGxhZGEucGFyc2UoZGF0YSk6bnVsbCl9KX0sX3htbHJvb3Q6bnVsbCxfbm9kZXNfYnlfaWQ6bnVsbCxfdHJhbnNmZXJhYmxlczpudWxsLF9jb250cm9sbGVyc19mb3VuZDpudWxsLF9nZW9tZXRyaWVzX2ZvdW5kOm51bGwsc2FmZVN0cmluZzpmdW5jdGlvbihzdHIpe3JldHVybiBzdHI/dGhpcy5jb252ZXJ0SUQ/dGhpcy5jb252ZXJ0SUQoc3RyKTpzdHIucmVwbGFjZSgvIC9nLFwiX1wiKTpcIlwifSxMSUJNSVNTSU5HX0VSUk9SOlwiTGlicmFyaWVzIGxvYWRpbmcgZXJyb3IsIHdoZW4gdXNpbmcgd29ya2VycyByZW1lbWJlciB0byBwYXNzIHRoZSBVUkwgdG8gdGhlIHRpbnl4bWwuanMgaW4gdGhlIG9wdGlvbnMubGlic1BhdGhcIixOT1hNTFBBUlNFUl9FUlJPUjpcIlRpbnlYTUwgbm90IGZvdW5kLCB3aGVuIHVzaW5nIHdvcmtlcnMgcmVtZW1iZXIgdG8gcGFzcyB0aGUgVVJMIHRvIHRoZSB0aW55eG1sLmpzIGluIHRoZSBvcHRpb25zLmxpYnNQYXRoIChXb3JrZXJzIGRvIG5vdCBhbGxvdyB0byBhY2Nlc3MgdGhlIG5hdGl2ZSBYTUwgRE9NUGFyc2VyKVwiLHRocm93RXhjZXB0aW9uOmZ1bmN0aW9uKG1zZyl7dGhyb3cgaXNXb3JrZXI/c2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOlwiZXhjZXB0aW9uXCIsbXNnOm1zZ30pOkNvbGxhZGEub25lcnJvciYmQ29sbGFkYS5vbmVycm9yKG1zZyksbXNnfSxnZXRGaWxlbmFtZTpmdW5jdGlvbihmaWxlbmFtZSl7dmFyIHBvcz1maWxlbmFtZS5sYXN0SW5kZXhPZihcIlxcXFxcIik7cmV0dXJuLTEhPXBvcyYmKGZpbGVuYW1lPWZpbGVuYW1lLnN1YnN0cihwb3MrMSkpLHBvcz1maWxlbmFtZS5sYXN0SW5kZXhPZihcIi9cIiksLTEhPXBvcyYmKGZpbGVuYW1lPWZpbGVuYW1lLnN1YnN0cihwb3MrMSkpLGZpbGVuYW1lfSxsYXN0X25hbWU6MCxnZW5lcmF0ZU5hbWU6ZnVuY3Rpb24odil7dj12fHxcIm5hbWVfXCI7dmFyIG5hbWU9dit0aGlzLmxhc3RfbmFtZTtyZXR1cm4gdGhpcy5sYXN0X25hbWUrKyxuYW1lfSxwYXJzZTpmdW5jdGlvbihkYXRhLG9wdGlvbnMsZmlsZW5hbWUpe29wdGlvbnM9b3B0aW9uc3x8e30sZmlsZW5hbWU9ZmlsZW5hbWV8fFwiX2RhZV9cIitEYXRlLm5vdygpK1wiLmRhZVwiO3ZhciB4bWxwYXJzZXI9bnVsbCxyb290PW51bGw7aWYodGhpcy5fdHJhbnNmZXJhYmxlcz1bXSx0aGlzLnZlcmJvc2UmJmNvbnNvbGUubG9nKFwiIC0gWE1MIHBhcnNpbmcuLi5cIiksZ2xvYmFsLkRPTVBhcnNlciYmIXRoaXMuY29uZmlnLmZvcmNlUGFyc2VyKXhtbHBhcnNlcj1uZXcgRE9NUGFyc2VyLHJvb3Q9eG1scGFyc2VyLnBhcnNlRnJvbVN0cmluZyhkYXRhLFwidGV4dC94bWxcIiksdGhpcy52ZXJib3NlJiZjb25zb2xlLmxvZyhcIiAtIFhNTCBwYXJzZWRcIik7ZWxzZXtpZighZ2xvYmFsLkRPTUltcGxlbWVudGF0aW9uKXJldHVybiBDb2xsYWRhLnRocm93RXhjZXB0aW9uKENvbGxhZGEuTk9YTUxQQVJTRVJfRVJST1IpO3RyeXt4bWxwYXJzZXI9bmV3IERPTUltcGxlbWVudGF0aW9ufWNhdGNoKGVycil7cmV0dXJuIENvbGxhZGEudGhyb3dFeGNlcHRpb24oQ29sbGFkYS5OT1hNTFBBUlNFUl9FUlJPUil9cm9vdD14bWxwYXJzZXIubG9hZFhNTChkYXRhKSx0aGlzLnZlcmJvc2UmJmNvbnNvbGUubG9nKFwiIC0gWE1MIHBhcnNlZFwiKTtmb3IodmFyIGJ5X2lkcz1yb290Ll9ub2Rlc19ieV9pZD17fSxpPTAsbD1yb290LmFsbC5sZW5ndGg7aTxsOysraSl7dmFyIG5vZGU9cm9vdC5hbGxbaV07YnlfaWRzW25vZGUuaWRdPW5vZGUsbm9kZS5nZXRBdHRyaWJ1dGUoXCJzaWRcIikmJihieV9pZHNbbm9kZS5nZXRBdHRyaWJ1dGUoXCJzaWRcIildPW5vZGUpfXRoaXMuZXh0cmFfZnVuY3Rpb25zfHwodGhpcy5leHRyYV9mdW5jdGlvbnM9ITAsRE9NRG9jdW1lbnQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3I9RE9NRWxlbWVudC5wcm90b3R5cGUucXVlcnlTZWxlY3Rvcj1mdW5jdGlvbihzZWxlY3Rvcil7Zm9yKHZhciB0YWdzPXNlbGVjdG9yLnNwbGl0KFwiIFwiKSxjdXJyZW50X2VsZW1lbnQ9dGhpczt0YWdzLmxlbmd0aDspe3ZhciBjdXJyZW50PXRhZ3Muc2hpZnQoKSx0b2tlbnM9Y3VycmVudC5zcGxpdChcIiNcIiksdGFnbmFtZT10b2tlbnNbMF0saWQ9dG9rZW5zWzFdLGVsZW1lbnRzPXRhZ25hbWU/Y3VycmVudF9lbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZ25hbWUpOmN1cnJlbnRfZWxlbWVudC5jaGlsZE5vZGVzO2lmKGlkKXtmb3IodmFyIGk9MDtpPGVsZW1lbnRzLmxlbmd0aDtpKyspaWYoZWxlbWVudHMuaXRlbShpKS5nZXRBdHRyaWJ1dGUoXCJpZFwiKT09aWQpe2lmKDA9PXRhZ3MubGVuZ3RoKXJldHVybiBlbGVtZW50cy5pdGVtKGkpO2N1cnJlbnRfZWxlbWVudD1lbGVtZW50cy5pdGVtKGkpO2JyZWFrfX1lbHNle2lmKDA9PXRhZ3MubGVuZ3RoKXJldHVybiBlbGVtZW50cy5pdGVtKDApO2N1cnJlbnRfZWxlbWVudD1lbGVtZW50cy5pdGVtKDApfX1yZXR1cm4gbnVsbH0sRE9NRG9jdW1lbnQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3JBbGw9RE9NRWxlbWVudC5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbD1mdW5jdGlvbihzZWxlY3Rvcil7ZnVuY3Rpb24gaW5uZXIocm9vdCx0YWdzKXtpZih0YWdzKXt2YXIgY3VycmVudD10YWdzLnNoaWZ0KCksZWxlbWVudHM9cm9vdC5nZXRFbGVtZW50c0J5VGFnTmFtZShjdXJyZW50KTtpZigwIT10YWdzLmxlbmd0aClmb3IodmFyIGk9MDtpPGVsZW1lbnRzLmxlbmd0aDtpKyspaW5uZXIoZWxlbWVudHMuaXRlbShpKSx0YWdzLmNvbmNhdCgpKTtlbHNlIGZvcih2YXIgaT0wO2k8ZWxlbWVudHMubGVuZ3RoO2krKylyZXN1bHQucHVzaChlbGVtZW50cy5pdGVtKGkpKX19dmFyIHRhZ3M9c2VsZWN0b3Iuc3BsaXQoXCIgXCIpO2lmKDE9PXRhZ3MubGVuZ3RoKXJldHVybiB0aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lKHNlbGVjdG9yKTt2YXIgcmVzdWx0PVtdO2lubmVyKHRoaXMsdGFncyk7dmFyIGxpc3Q9bmV3IERPTU5vZGVMaXN0KHRoaXMuZG9jdW1lbnRFbGVtZW50KTtyZXR1cm4gbGlzdC5fbm9kZXM9cmVzdWx0LGxpc3QubGVuZ3RoPXJlc3VsdC5sZW5ndGgsbGlzdH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KERPTUVsZW1lbnQucHJvdG90eXBlLFwidGV4dENvbnRlbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q2hpbGROb2RlcygpLml0ZW0oMCkudG9TdHJpbmcoKX0sc2V0OmZ1bmN0aW9uKCl7fX0pKX10aGlzLl94bWxyb290PXJvb3Q7dmFyIHhtbGNvbGxhZGE9cm9vdC5xdWVyeVNlbGVjdG9yKFwiQ09MTEFEQVwiKTt4bWxjb2xsYWRhJiYodGhpcy5fY3VycmVudF9EQUVfdmVyc2lvbj14bWxjb2xsYWRhLmdldEF0dHJpYnV0ZShcInZlcnNpb25cIiksY29uc29sZS5sb2coXCJEQUUgVmVyc2lvbjpcIit0aGlzLl9jdXJyZW50X0RBRV92ZXJzaW9uKSk7dmFyIHhtbHZpc3VhbF9zY2VuZT1yb290LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidmlzdWFsX3NjZW5lXCIpLml0ZW0oMCk7aWYoIXhtbHZpc3VhbF9zY2VuZSl0aHJvd1widmlzdWFsX3NjZW5lIFhNTCBub2RlIG5vdCBmb3VuZCBpbiBEQUVcIjt0aGlzLl9ub2Rlc19ieV9pZD17fSx0aGlzLl9jb250cm9sbGVyc19mb3VuZD17fSx0aGlzLl9nZW9tZXRyaWVzX2ZvdW5kPXt9O3ZhciBzY2VuZT17b2JqZWN0X3R5cGU6XCJTY2VuZVRyZWVcIixsaWdodDpudWxsLG1hdGVyaWFsczp7fSxtZXNoZXM6e30scmVzb3VyY2VzOnt9LHJvb3Q6e2NoaWxkcmVuOltdfSxleHRlcm5hbF9maWxlczp7fX0seG1sYXNzZXQ9cm9vdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImFzc2V0XCIpWzBdO3htbGFzc2V0JiYoc2NlbmUubWV0YWRhdGE9dGhpcy5yZWFkQXNzZXQoeG1sYXNzZXQpKTtmb3IodmFyIHhtbG5vZGVzPXhtbHZpc3VhbF9zY2VuZS5jaGlsZE5vZGVzLGk9MDtpPHhtbG5vZGVzLmxlbmd0aDtpKyspaWYoXCJub2RlXCI9PXhtbG5vZGVzLml0ZW0oaSkubG9jYWxOYW1lKXt2YXIgbm9kZT10aGlzLnJlYWROb2RlVHJlZSh4bWxub2Rlcy5pdGVtKGkpLHNjZW5lLDAsITEpO25vZGUmJnNjZW5lLnJvb3QuY2hpbGRyZW4ucHVzaChub2RlKX1mb3IodmFyIGk9MDtpPHhtbG5vZGVzLmxlbmd0aDtpKyspXCJub2RlXCI9PXhtbG5vZGVzLml0ZW0oaSkubG9jYWxOYW1lJiZ0aGlzLnJlYWROb2RlSW5mbyh4bWxub2Rlcy5pdGVtKGkpLHNjZW5lLDAsITEpO3RoaXMucmVhZExpYnJhcnlDb250cm9sbGVycyhzY2VuZSk7dmFyIGFuaW1hdGlvbnM9dGhpcy5yZWFkQW5pbWF0aW9ucyhyb290LHNjZW5lKTtpZihhbmltYXRpb25zKXt2YXIgYW5pbWF0aW9uc19uYW1lPVwiI2FuaW1hdGlvbnNfXCIrZmlsZW5hbWUuc3Vic3RyKDAsZmlsZW5hbWUuaW5kZXhPZihcIi5cIikpO3NjZW5lLnJlc291cmNlc1thbmltYXRpb25zX25hbWVdPWFuaW1hdGlvbnMsc2NlbmUucm9vdC5hbmltYXRpb25zPWFuaW1hdGlvbnNfbmFtZX1yZXR1cm4gc2NlbmUuaW1hZ2VzPXRoaXMucmVhZEltYWdlcyhyb290KSx0aGlzLl9ub2Rlc19ieV9pZD17fSx0aGlzLl9jb250cm9sbGVyc19mb3VuZD17fSx0aGlzLl9nZW9tZXRyaWVzX2ZvdW5kPXt9LHRoaXMuX3htbHJvb3Q9bnVsbCxzY2VuZX0scmVhZEFzc2V0OmZ1bmN0aW9uKHhtbGFzc2V0KXtmb3IodmFyIG1ldGFkYXRhPXt9LGk9MDtpPHhtbGFzc2V0LmNoaWxkTm9kZXMubGVuZ3RoO2krKyl7dmFyIHhtbGNoaWxkPXhtbGFzc2V0LmNoaWxkTm9kZXMuaXRlbShpKTtpZigxPT14bWxjaGlsZC5ub2RlVHlwZSlzd2l0Y2goeG1sY2hpbGQubG9jYWxOYW1lKXtjYXNlXCJjb250cmlidXRvclwiOnZhciB0b29sPXhtbGNoaWxkLnF1ZXJ5U2VsZWN0b3IoXCJhdXRob3JpbmdfdG9vbFwiKTt0b29sJiYobWV0YWRhdGEuYXV0aG9yaW5nX3Rvb2w9dG9vbC50ZXh0Q29udGV4dCk7YnJlYWs7Y2FzZVwidW5pdFwiOm1ldGFkYXRhLnVuaXQ9eG1sY2hpbGQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTticmVhaztkZWZhdWx0Om1ldGFkYXRhW3htbGNoaWxkLmxvY2FsTmFtZV09eG1sY2hpbGQudGV4dENvbnRlbnR9fXJldHVybiBtZXRhZGF0YX0scmVhZE5vZGVUcmVlOmZ1bmN0aW9uKHhtbG5vZGUsc2NlbmUsbGV2ZWwsZmxpcCl7dmFyIG5vZGVfaWQ9dGhpcy5zYWZlU3RyaW5nKHhtbG5vZGUuZ2V0QXR0cmlidXRlKFwiaWRcIikpLG5vZGVfc2lkPXRoaXMuc2FmZVN0cmluZyh4bWxub2RlLmdldEF0dHJpYnV0ZShcInNpZFwiKSk7aWYoIW5vZGVfaWQmJiFub2RlX3NpZClyZXR1cm4gbnVsbDt2YXIgbm9kZT17aWQ6bm9kZV9zaWR8fG5vZGVfaWQsY2hpbGRyZW46W10sX2RlcHRoOmxldmVsfSxub2RlX3R5cGU9eG1sbm9kZS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpO25vZGVfdHlwZSYmKG5vZGUudHlwZT1ub2RlX3R5cGUpO3ZhciBub2RlX25hbWU9eG1sbm9kZS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO25vZGVfbmFtZSYmKG5vZGUubmFtZT1ub2RlX25hbWUpLHRoaXMuX25vZGVzX2J5X2lkW25vZGUuaWRdPW5vZGUsbm9kZV9pZCYmKHRoaXMuX25vZGVzX2J5X2lkW25vZGVfaWRdPW5vZGUpLG5vZGVfc2lkJiYodGhpcy5fbm9kZXNfYnlfaWRbbm9kZV9zaWRdPW5vZGUpLG5vZGUubW9kZWw9dGhpcy5yZWFkVHJhbnNmb3JtKHhtbG5vZGUsbGV2ZWwsZmxpcCk7Zm9yKHZhciBpPTA7aTx4bWxub2RlLmNoaWxkTm9kZXMubGVuZ3RoO2krKyl7dmFyIHhtbGNoaWxkPXhtbG5vZGUuY2hpbGROb2Rlcy5pdGVtKGkpO2lmKDE9PXhtbGNoaWxkLm5vZGVUeXBlKWlmKFwibm9kZVwiIT14bWxjaGlsZC5sb2NhbE5hbWUpO2Vsc2V7dmFyIGNoaWxkX25vZGU9dGhpcy5yZWFkTm9kZVRyZWUoeG1sY2hpbGQsc2NlbmUsbGV2ZWwrMSxmbGlwKTtjaGlsZF9ub2RlJiZub2RlLmNoaWxkcmVuLnB1c2goY2hpbGRfbm9kZSl9fXJldHVybiBub2RlfSxyZWFkTm9kZUluZm86ZnVuY3Rpb24oeG1sbm9kZSxzY2VuZSxsZXZlbCxmbGlwLHBhcmVudCl7dmFyIG5vZGUsbm9kZV9pZD10aGlzLnNhZmVTdHJpbmcoeG1sbm9kZS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSksbm9kZV9zaWQ9dGhpcy5zYWZlU3RyaW5nKHhtbG5vZGUuZ2V0QXR0cmlidXRlKFwic2lkXCIpKTtpZihub2RlX2lkfHxub2RlX3NpZClub2RlPXRoaXMuX25vZGVzX2J5X2lkW25vZGVfaWR8fG5vZGVfc2lkXTtlbHNle2lmKCFwYXJlbnQpcmV0dXJuIG51bGw7bm9kZT10aGlzLl9ub2Rlc19ieV9pZFtwYXJlbnQuaWR8fHBhcmVudC5zaWRdfWlmKCFub2RlKXJldHVybiBjb25zb2xlLndhcm4oXCJDb2xsYWRhOiBOb2RlIG5vdCBmb3VuZCBieSBpZDogXCIrKG5vZGVfaWR8fG5vZGVfc2lkKSksbnVsbDtmb3IodmFyIGk9MDtpPHhtbG5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7aSsrKXt2YXIgeG1sY2hpbGQ9eG1sbm9kZS5jaGlsZE5vZGVzLml0ZW0oaSk7aWYoMT09eG1sY2hpbGQubm9kZVR5cGUpaWYoXCJub2RlXCIhPXhtbGNoaWxkLmxvY2FsTmFtZSl7aWYoXCJpbnN0YW5jZV9nZW9tZXRyeVwiPT14bWxjaGlsZC5sb2NhbE5hbWUpe3ZhciB1cmw9eG1sY2hpbGQuZ2V0QXR0cmlidXRlKFwidXJsXCIpLG1lc2hfaWQ9dXJsLnRvU3RyaW5nKCkuc3Vic3RyKDEpO2lmKG5vZGUubWVzaD1tZXNoX2lkLCFzY2VuZS5tZXNoZXNbdXJsXSl7dmFyIG1lc2hfZGF0YT10aGlzLnJlYWRHZW9tZXRyeSh1cmwsZmxpcCk7bWVzaF9kYXRhJiYobWVzaF9kYXRhLm5hbWU9bWVzaF9pZCxzY2VuZS5tZXNoZXNbbWVzaF9pZF09bWVzaF9kYXRhKX12YXIgeG1sbWF0ZXJpYWxzPXhtbGNoaWxkLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnN0YW5jZV9tYXRlcmlhbFwiKTtpZih4bWxtYXRlcmlhbHMpZm9yKHZhciBpTWF0PTA7aU1hdDx4bWxtYXRlcmlhbHMubGVuZ3RoOysraU1hdCl7dmFyIHhtbG1hdGVyaWFsPXhtbG1hdGVyaWFscy5pdGVtKGlNYXQpO2lmKHhtbG1hdGVyaWFsKXt2YXIgbWF0bmFtZT14bWxtYXRlcmlhbC5nZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIikudG9TdHJpbmcoKS5zdWJzdHIoMSk7aWYoIXNjZW5lLm1hdGVyaWFsc1ttYXRuYW1lXSl7dmFyIG1hdGVyaWFsPXRoaXMucmVhZE1hdGVyaWFsKG1hdG5hbWUpO21hdGVyaWFsJiYobWF0ZXJpYWwuaWQ9bWF0bmFtZSxzY2VuZS5tYXRlcmlhbHNbbWF0ZXJpYWwuaWRdPW1hdGVyaWFsKX0wPT1pTWF0P25vZGUubWF0ZXJpYWw9bWF0bmFtZToobm9kZS5tYXRlcmlhbHN8fChub2RlLm1hdGVyaWFscz1bXSksbm9kZS5tYXRlcmlhbHMucHVzaChtYXRuYW1lKSl9ZWxzZSBjb25zb2xlLndhcm4oXCJpbnN0YW5jZV9tYXRlcmlhbCBub3QgZm91bmQ6IFwiK2kpfX1pZihcImluc3RhbmNlX2NvbnRyb2xsZXJcIj09eG1sY2hpbGQubG9jYWxOYW1lKXt2YXIgdXJsPXhtbGNoaWxkLmdldEF0dHJpYnV0ZShcInVybFwiKSx4bWxjb250cm9sbGVyPXRoaXMuX3htbHJvb3QucXVlcnlTZWxlY3RvcihcImNvbnRyb2xsZXJcIit1cmwpO2lmKHhtbGNvbnRyb2xsZXIpe3ZhciBtZXNoX2RhdGE9dGhpcy5yZWFkQ29udHJvbGxlcih4bWxjb250cm9sbGVyLGZsaXAsc2NlbmUpLHhtbGJpbmRfbWF0ZXJpYWw9eG1sY2hpbGQucXVlcnlTZWxlY3RvcihcImJpbmRfbWF0ZXJpYWxcIik7aWYoeG1sYmluZF9tYXRlcmlhbClmb3IodmFyIHhtbHRlY2huaXF1ZXM9eG1sYmluZF9tYXRlcmlhbC5xdWVyeVNlbGVjdG9yQWxsKFwidGVjaG5pcXVlX2NvbW1vblwiKSxpVGVjPTA7aVRlYzx4bWx0ZWNobmlxdWVzLmxlbmd0aDtpVGVjKyspZm9yKHZhciB4bWx0ZWNobmlxdWU9eG1sdGVjaG5pcXVlcy5pdGVtKGlUZWMpLHhtbGluc3RhbmNlX21hdGVyaWFscz14bWx0ZWNobmlxdWUucXVlcnlTZWxlY3RvckFsbChcImluc3RhbmNlX21hdGVyaWFsXCIpLGlNYXQ9MDtpTWF0PHhtbGluc3RhbmNlX21hdGVyaWFscy5sZW5ndGg7aU1hdCsrKXt2YXIgeG1saW5zdGFuY2VfbWF0ZXJpYWw9eG1saW5zdGFuY2VfbWF0ZXJpYWxzLml0ZW0oaU1hdCk7aWYoeG1saW5zdGFuY2VfbWF0ZXJpYWwpe3ZhciBtYXRuYW1lPXhtbGluc3RhbmNlX21hdGVyaWFsLmdldEF0dHJpYnV0ZShcInRhcmdldFwiKS50b1N0cmluZygpLnN1YnN0cigxKTtpZighc2NlbmUubWF0ZXJpYWxzW21hdG5hbWVdKXt2YXIgbWF0ZXJpYWw9dGhpcy5yZWFkTWF0ZXJpYWwobWF0bmFtZSk7bWF0ZXJpYWwmJihtYXRlcmlhbC5pZD1tYXRuYW1lLHNjZW5lLm1hdGVyaWFsc1ttYXRlcmlhbC5pZF09bWF0ZXJpYWwpfTA9PWlNYXQ/bm9kZS5tYXRlcmlhbD1tYXRuYW1lOihub2RlLm1hdGVyaWFsc3x8KG5vZGUubWF0ZXJpYWxzPVtdKSxub2RlLm1hdGVyaWFscy5wdXNoKG1hdG5hbWUpKX1lbHNlIGNvbnNvbGUud2FybihcImluc3RhbmNlX21hdGVyaWFsIGZvciBjb250cm9sbGVyIG5vdCBmb3VuZDogXCIreG1saW5zdGFuY2VfbWF0ZXJpYWwpfWlmKG1lc2hfZGF0YSl7dmFyIG1lc2g9bWVzaF9kYXRhO1wibW9ycGhcIj09bWVzaF9kYXRhLnR5cGUmJihtZXNoPW1lc2hfZGF0YS5tZXNoLG5vZGUubW9ycGhfdGFyZ2V0cz1tZXNoX2RhdGEubW9ycGhfdGFyZ2V0cyksbWVzaC5uYW1lPXVybC50b1N0cmluZygpLG5vZGUubWVzaD11cmwudG9TdHJpbmcoKSxzY2VuZS5tZXNoZXNbdXJsXT1tZXNofX19aWYoXCJpbnN0YW5jZV9saWdodFwiPT14bWxjaGlsZC5sb2NhbE5hbWUpe3ZhciB1cmw9eG1sY2hpbGQuZ2V0QXR0cmlidXRlKFwidXJsXCIpO3RoaXMucmVhZExpZ2h0KG5vZGUsdXJsKX1pZihcImluc3RhbmNlX2NhbWVyYVwiPT14bWxjaGlsZC5sb2NhbE5hbWUpe3ZhciB1cmw9eG1sY2hpbGQuZ2V0QXR0cmlidXRlKFwidXJsXCIpO3RoaXMucmVhZENhbWVyYShub2RlLHVybCl9fWVsc2UgdGhpcy5yZWFkTm9kZUluZm8oeG1sY2hpbGQsc2NlbmUsbGV2ZWwrMSxmbGlwLHhtbG5vZGUpfX0sbWF0ZXJpYWxfdHJhbnNsYXRlX3RhYmxlOnt9LGxpZ2h0X3RyYW5zbGF0ZV90YWJsZTp7cG9pbnQ6XCJvbW5pXCIsZGlyZWN0aW9uYWw6XCJkaXJlY3Rpb25hbFwiLHNwb3Q6XCJzcG90XCJ9LGNhbWVyYV90cmFuc2xhdGVfdGFibGU6e3hmb3Y6XCJmb3ZcIixhc3BlY3RfcmF0aW86XCJhc3BlY3RcIix6bmVhcjpcIm5lYXJcIix6ZmFyOlwiZmFyXCJ9LHF1ZXJ5U2VsZWN0b3JBbmRJZDpmdW5jdGlvbihyb290LHNlbGVjdG9yLGlkKXtmb3IodmFyIG5vZGVzPXJvb3QucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvciksaT0wO2k8bm9kZXMubGVuZ3RoO2krKyl7dmFyIGF0dHJfaWQ9bm9kZXMuaXRlbShpKS5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtpZihhdHRyX2lkJiYoYXR0cl9pZD1hdHRyX2lkLnRvU3RyaW5nKCkpPT1pZClyZXR1cm4gbm9kZXMuaXRlbShpKX1yZXR1cm4gbnVsbH0sZ2V0Rmlyc3RDaGlsZEVsZW1lbnQ6ZnVuY3Rpb24ocm9vdCxsb2NhbE5hbWUpe2Zvcih2YXIgYz1yb290LmNoaWxkTm9kZXMsaT0wO2k8Yy5sZW5ndGg7KytpKXt2YXIgaXRlbT1jLml0ZW0oaSk7aWYoaXRlbS5sb2NhbE5hbWUmJiFsb2NhbE5hbWV8fGxvY2FsTmFtZSYmbG9jYWxOYW1lPT1pdGVtLmxvY2FsTmFtZSlyZXR1cm4gaXRlbX1yZXR1cm4gbnVsbH0scmVhZE1hdGVyaWFsOmZ1bmN0aW9uKHVybCl7dmFyIHhtbG1hdGVyaWFsPXRoaXMucXVlcnlTZWxlY3RvckFuZElkKHRoaXMuX3htbHJvb3QsXCJsaWJyYXJ5X21hdGVyaWFscyBtYXRlcmlhbFwiLHVybCk7aWYoIXhtbG1hdGVyaWFsKXJldHVybiBudWxsO3ZhciB4bWxlZmZlY3Q9eG1sbWF0ZXJpYWwucXVlcnlTZWxlY3RvcihcImluc3RhbmNlX2VmZmVjdFwiKTtpZigheG1sZWZmZWN0KXJldHVybiBudWxsO3ZhciBlZmZlY3RfdXJsPXhtbGVmZmVjdC5nZXRBdHRyaWJ1dGUoXCJ1cmxcIikuc3Vic3RyKDEpLHhtbGVmZmVjdHM9dGhpcy5xdWVyeVNlbGVjdG9yQW5kSWQodGhpcy5feG1scm9vdCxcImxpYnJhcnlfZWZmZWN0cyBlZmZlY3RcIixlZmZlY3RfdXJsKTtpZigheG1sZWZmZWN0cylyZXR1cm4gbnVsbDt2YXIgeG1sdGVjaG5pcXVlPXhtbGVmZmVjdHMucXVlcnlTZWxlY3RvcihcInRlY2huaXF1ZVwiKTtpZigheG1sdGVjaG5pcXVlKXJldHVybiBudWxsO2Zvcih2YXIgeG1sbmV3cGFyYW1zPXhtbGVmZmVjdHMucXVlcnlTZWxlY3RvckFsbChcIm5ld3BhcmFtXCIpLG5ld3BhcmFtcz17fSxpPTA7aTx4bWxuZXdwYXJhbXMubGVuZ3RoO2krKyl7dmFyIHBhcmVudCxpbml0X2Zyb209eG1sbmV3cGFyYW1zW2ldLnF1ZXJ5U2VsZWN0b3IoXCJpbml0X2Zyb21cIik7aWYoaW5pdF9mcm9tKXBhcmVudD1pbml0X2Zyb20uaW5uZXJIVE1MO2Vsc2V7cGFyZW50PXhtbG5ld3BhcmFtc1tpXS5xdWVyeVNlbGVjdG9yKFwic291cmNlXCIpLmlubmVySFRNTH1uZXdwYXJhbXNbeG1sbmV3cGFyYW1zW2ldLmdldEF0dHJpYnV0ZShcInNpZFwiKV09e3BhcmVudDpwYXJlbnR9fXZhciBtYXRlcmlhbD17fSxpbWFnZXM9dGhpcy5yZWFkSW1hZ2VzKHRoaXMuX3htbHJvb3QpLHhtbHBob25nPXhtbHRlY2huaXF1ZS5xdWVyeVNlbGVjdG9yKFwicGhvbmdcIik7aWYoeG1scGhvbmd8fCh4bWxwaG9uZz14bWx0ZWNobmlxdWUucXVlcnlTZWxlY3RvcihcImJsaW5uXCIpKSx4bWxwaG9uZ3x8KHhtbHBob25nPXhtbHRlY2huaXF1ZS5xdWVyeVNlbGVjdG9yKFwibGFtYmVydFwiKSksIXhtbHBob25nKXJldHVybiBudWxsO2Zvcih2YXIgaT0wO2k8eG1scGhvbmcuY2hpbGROb2Rlcy5sZW5ndGg7KytpKXt2YXIgeG1scGFyYW09eG1scGhvbmcuY2hpbGROb2Rlcy5pdGVtKGkpO2lmKHhtbHBhcmFtLmxvY2FsTmFtZSl7dmFyIHBhcmFtX25hbWU9eG1scGFyYW0ubG9jYWxOYW1lLnRvU3RyaW5nKCk7dGhpcy5tYXRlcmlhbF90cmFuc2xhdGVfdGFibGVbcGFyYW1fbmFtZV0mJihwYXJhbV9uYW1lPXRoaXMubWF0ZXJpYWxfdHJhbnNsYXRlX3RhYmxlW3BhcmFtX25hbWVdKTt2YXIgeG1scGFyYW1fdmFsdWU9dGhpcy5nZXRGaXJzdENoaWxkRWxlbWVudCh4bWxwYXJhbSk7aWYoeG1scGFyYW1fdmFsdWUpaWYoXCJjb2xvclwiIT14bWxwYXJhbV92YWx1ZS5sb2NhbE5hbWUudG9TdHJpbmcoKSlpZihcImZsb2F0XCIhPXhtbHBhcmFtX3ZhbHVlLmxvY2FsTmFtZS50b1N0cmluZygpKXtpZihcInRleHR1cmVcIj09eG1scGFyYW1fdmFsdWUubG9jYWxOYW1lLnRvU3RyaW5nKCkpe21hdGVyaWFsLnRleHR1cmVzfHwobWF0ZXJpYWwudGV4dHVyZXM9e30pO3ZhciBtYXBfaWQ9eG1scGFyYW1fdmFsdWUuZ2V0QXR0cmlidXRlKFwidGV4dHVyZVwiKTtpZighbWFwX2lkKWNvbnRpbnVlOy0xPT09bWFwX2lkLmluZGV4T2YoXCIuXCIpJiYobWFwX2lkPXRoaXMuZ2V0UGFyZW50UGFyYW0obmV3cGFyYW1zLG1hcF9pZCksaW1hZ2VzW21hcF9pZF0mJihtYXBfaWQ9aW1hZ2VzW21hcF9pZF0ucGF0aCkpO3ZhciBtYXBfaW5mbz17bWFwX2lkOm1hcF9pZH0sdXZzPXhtbHBhcmFtX3ZhbHVlLmdldEF0dHJpYnV0ZShcInRleGNvb3JkXCIpO21hcF9pbmZvLnV2cz11dnMsbWF0ZXJpYWwudGV4dHVyZXNbcGFyYW1fbmFtZV09bWFwX2luZm99fWVsc2UgbWF0ZXJpYWxbcGFyYW1fbmFtZV09dGhpcy5yZWFkQ29udGVudEFzRmxvYXRzKHhtbHBhcmFtX3ZhbHVlKVswXTtlbHNle3ZhciB2YWx1ZT10aGlzLnJlYWRDb250ZW50QXNGbG9hdHMoeG1scGFyYW1fdmFsdWUpO1wiUkdCX1pFUk9cIj09eG1scGFyYW0uZ2V0QXR0cmlidXRlKFwib3BhcXVlXCIpP21hdGVyaWFsW3BhcmFtX25hbWVdPXZhbHVlLnN1YmFycmF5KDAsNCk6bWF0ZXJpYWxbcGFyYW1fbmFtZV09dmFsdWUuc3ViYXJyYXkoMCwzKX19fXJldHVybiBtYXRlcmlhbC5vYmplY3RfdHlwZT1cIk1hdGVyaWFsXCIsbWF0ZXJpYWx9LGdldFBhcmVudFBhcmFtOmZ1bmN0aW9uKG5ld3BhcmFtcyxwYXJhbSl7cmV0dXJuIG5ld3BhcmFtc1twYXJhbV0mJm5ld3BhcmFtc1twYXJhbV0ucGFyZW50P3RoaXMuZ2V0UGFyZW50UGFyYW0obmV3cGFyYW1zLG5ld3BhcmFtc1twYXJhbV0ucGFyZW50KTpwYXJhbX0scmVhZExpZ2h0OmZ1bmN0aW9uKG5vZGUsdXJsKXtmdW5jdGlvbiBwYXJzZV9wYXJhbXMobGlnaHQseG1sKXtmb3IodmFyIGk9MDtpPHhtbC5jaGlsZE5vZGVzLmxlbmd0aDtpKyspe3ZhciBjaGlsZD14bWwuY2hpbGROb2Rlcy5pdGVtKGkpO2lmKGNoaWxkJiYxPT1jaGlsZC5ub2RlVHlwZSlzd2l0Y2goY2hpbGQubG9jYWxOYW1lKXtjYXNlXCJjb2xvclwiOmxpZ2h0LmNvbG9yPUNvbGxhZGEucmVhZENvbnRlbnRBc0Zsb2F0cyhjaGlsZCk7YnJlYWs7Y2FzZVwiZmFsbG9mZl9hbmdsZVwiOmxpZ2h0LmFuZ2xlX2VuZD1Db2xsYWRhLnJlYWRDb250ZW50QXNGbG9hdHMoY2hpbGQpWzBdLGxpZ2h0LmFuZ2xlPWxpZ2h0LmFuZ2xlX2VuZC0xMH19fXZhciBsaWdodD17fSx4bWxub2RlPW51bGw7aWYodXJsLmxlbmd0aD4xKXhtbG5vZGU9dGhpcy5feG1scm9vdC5xdWVyeVNlbGVjdG9yKFwibGlicmFyeV9saWdodHMgXCIrdXJsKTtlbHNle3ZhciB4bWxsaWJsaWdodHM9dGhpcy5feG1scm9vdC5xdWVyeVNlbGVjdG9yKFwibGlicmFyeV9saWdodHNcIik7eG1sbm9kZT10aGlzLmdldEZpcnN0Q2hpbGRFbGVtZW50KHhtbGxpYmxpZ2h0cyxcImxpZ2h0XCIpfWlmKCF4bWxub2RlKXJldHVybiBudWxsO3ZhciBjaGlsZHJlbj1bXSx4bWw9eG1sbm9kZS5xdWVyeVNlbGVjdG9yKFwidGVjaG5pcXVlX2NvbW1vblwiKTtpZih4bWwpZm9yKHZhciBpPTA7aTx4bWwuY2hpbGROb2Rlcy5sZW5ndGg7aSsrKTE9PXhtbC5jaGlsZE5vZGVzLml0ZW0oaSkubm9kZVR5cGUmJmNoaWxkcmVuLnB1c2goeG1sLmNoaWxkTm9kZXMuaXRlbShpKSk7Zm9yKHZhciB4bWxzPXhtbG5vZGUucXVlcnlTZWxlY3RvckFsbChcInRlY2huaXF1ZVwiKSxpPTA7aTx4bWxzLmxlbmd0aDtpKyspZm9yKHZhciB4bWwyPXhtbHMuaXRlbShpKSxqPTA7ajx4bWwyLmNoaWxkTm9kZXMubGVuZ3RoO2orKykxPT14bWwyLmNoaWxkTm9kZXMuaXRlbShqKS5ub2RlVHlwZSYmY2hpbGRyZW4ucHVzaCh4bWwyLmNoaWxkTm9kZXMuaXRlbShqKSk7Zm9yKHZhciBpPTA7aTxjaGlsZHJlbi5sZW5ndGg7aSsrKXt2YXIgeG1sPWNoaWxkcmVuW2ldO3N3aXRjaCh4bWwubG9jYWxOYW1lKXtjYXNlXCJwb2ludFwiOmNhc2VcImRpcmVjdGlvbmFsXCI6Y2FzZVwic3BvdFwiOmxpZ2h0LnR5cGU9dGhpcy5saWdodF90cmFuc2xhdGVfdGFibGVbeG1sLmxvY2FsTmFtZV0scGFyc2VfcGFyYW1zKGxpZ2h0LHhtbCk7YnJlYWs7Y2FzZVwiaW50ZW5zaXR5XCI6bGlnaHQuaW50ZW5zaXR5PXRoaXMucmVhZENvbnRlbnRBc0Zsb2F0cyh4bWwpWzBdfX1pZihub2RlLm1vZGVsKXtsaWdodC5wb3NpdGlvbj1bbm9kZS5tb2RlbFsxMl0sbm9kZS5tb2RlbFsxM10sbm9kZS5tb2RlbFsxNF1dO3ZhciBmb3J3YXJkPVstbm9kZS5tb2RlbFs4XSwtbm9kZS5tb2RlbFs5XSwtbm9kZS5tb2RlbFsxMF1dO2xpZ2h0LnRhcmdldD1bbGlnaHQucG9zaXRpb25bMF0rZm9yd2FyZFswXSxsaWdodC5wb3NpdGlvblsxXStmb3J3YXJkWzFdLGxpZ2h0LnBvc2l0aW9uWzJdK2ZvcndhcmRbMl1dfWVsc2UgY29uc29sZS53YXJuKFwiQ291bGQgbm90IHJlYWQgbGlnaHQgcG9zaXRpb24gZm9yIGxpZ2h0OiBcIitub2RlLm5hbWUrXCIuIFNldHRpbmcgZGVmYXVsdHMuXCIpLGxpZ2h0LnBvc2l0aW9uPVswLDAsMF0sbGlnaHQudGFyZ2V0PVswLC0xLDBdO25vZGUubGlnaHQ9bGlnaHR9LHJlYWRDYW1lcmE6ZnVuY3Rpb24obm9kZSx1cmwpe3ZhciBjYW1lcmE9e30seG1sbm9kZT10aGlzLl94bWxyb290LnF1ZXJ5U2VsZWN0b3IoXCJsaWJyYXJ5X2NhbWVyYXMgXCIrdXJsKTtpZigheG1sbm9kZSlyZXR1cm4gbnVsbDt2YXIgY2hpbGRyZW49W10seG1sPXhtbG5vZGUucXVlcnlTZWxlY3RvcihcInRlY2huaXF1ZV9jb21tb25cIik7aWYoeG1sKWZvcih2YXIgaT0wO2k8eG1sLmNoaWxkTm9kZXMubGVuZ3RoO2krKykxPT14bWwuY2hpbGROb2Rlcy5pdGVtKGkpLm5vZGVUeXBlJiZjaGlsZHJlbi5wdXNoKHhtbC5jaGlsZE5vZGVzLml0ZW0oaSkpO2Zvcih2YXIgaT0wO2k8Y2hpbGRyZW4ubGVuZ3RoO2krKyl7dmFyIHRhZz1jaGlsZHJlbltpXTshZnVuY3Rpb24oY2FtZXJhLHhtbCl7Zm9yKHZhciBpPTA7aTx4bWwuY2hpbGROb2Rlcy5sZW5ndGg7aSsrKXt2YXIgY2hpbGQ9eG1sLmNoaWxkTm9kZXMuaXRlbShpKTtjaGlsZCYmMT09Y2hpbGQubm9kZVR5cGUmJihjYW1lcmFbQ29sbGFkYS5jYW1lcmFfdHJhbnNsYXRlX3RhYmxlW2NoaWxkLmxvY2FsTmFtZV18fGNoaWxkLmxvY2FsTmFtZV09cGFyc2VGbG9hdChjaGlsZC50ZXh0Q29udGVudCkpfX0oY2FtZXJhLHRhZyl9Y2FtZXJhLnlmb3YmJiFjYW1lcmEuZm92JiYoY2FtZXJhLmFzcGVjdD9jYW1lcmEuZm92PWNhbWVyYS55Zm92KmNhbWVyYS5hc3BlY3Q6Y29uc29sZS53YXJuKFwiQ291bGQgbm90IGNvbnZlcnQgY2FtZXJhIHlmb3YgdG8geGZvdiBiZWNhdXNlIGFzcGVjdCByYXRpbyBub3Qgc2V0XCIpKSxub2RlLmNhbWVyYT1jYW1lcmF9LHJlYWRUcmFuc2Zvcm06ZnVuY3Rpb24oeG1sbm9kZSxsZXZlbCxmbGlwKXtmb3IodmFyIG1hdHJpeD1fZ2xNYXRyaXgubWF0NC5jcmVhdGUoKSx0ZW1wPV9nbE1hdHJpeC5tYXQ0LmNyZWF0ZSgpLHRtcHE9X2dsTWF0cml4LnF1YXQuY3JlYXRlKCksaT0wO2k8eG1sbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDtpKyspe3ZhciB4bWw9eG1sbm9kZS5jaGlsZE5vZGVzLml0ZW0oaSk7aWYoeG1sJiYxPT14bWwubm9kZVR5cGUpe2lmKFwibWF0cml4XCI9PXhtbC5sb2NhbE5hbWUpe3ZhciBtYXRyaXg9dGhpcy5yZWFkQ29udGVudEFzRmxvYXRzKHhtbCk7cmV0dXJuIHRoaXMudHJhbnNmb3JtTWF0cml4KG1hdHJpeCwwPT1sZXZlbCksbWF0cml4fWlmKFwidHJhbnNsYXRlXCIhPXhtbC5sb2NhbE5hbWUpaWYoXCJyb3RhdGVcIiE9eG1sLmxvY2FsTmFtZSl7aWYoXCJzY2FsZVwiPT14bWwubG9jYWxOYW1lKXt2YXIgdmFsdWVzPXRoaXMucmVhZENvbnRlbnRBc0Zsb2F0cyh4bWwpO2lmKGZsaXApe3ZhciB0bXA9dmFsdWVzWzFdO3ZhbHVlc1sxXT12YWx1ZXNbMl0sdmFsdWVzWzJdPS10bXB9X2dsTWF0cml4Lm1hdDQuc2NhbGUobWF0cml4LG1hdHJpeCx2YWx1ZXMpfX1lbHNle3ZhciB2YWx1ZXM9dGhpcy5yZWFkQ29udGVudEFzRmxvYXRzKHhtbCk7aWYoND09dmFsdWVzLmxlbmd0aCl7dmFyIGlkPXhtbC5nZXRBdHRyaWJ1dGUoXCJzaWRcIik7aWYoXCJqb2ludE9yaWVudFhcIj09aWQmJih2YWx1ZXNbM10rPTkwLCEwKSxmbGlwKXt2YXIgdG1wPXZhbHVlc1sxXTt2YWx1ZXNbMV09dmFsdWVzWzJdLHZhbHVlc1syXT0tdG1wfTAhPXZhbHVlc1szXSYmKF9nbE1hdHJpeC5xdWF0LnNldEF4aXNBbmdsZSh0bXBxLHZhbHVlcy5zdWJhcnJheSgwLDMpLHZhbHVlc1szXSpERUcyUkFEKSxfZ2xNYXRyaXgubWF0NC5mcm9tUXVhdCh0ZW1wLHRtcHEpLF9nbE1hdHJpeC5tYXQ0Lm11bHRpcGx5KG1hdHJpeCxtYXRyaXgsdGVtcCkpfX1lbHNle3ZhciB2YWx1ZXM9dGhpcy5yZWFkQ29udGVudEFzRmxvYXRzKHhtbCk7aWYoZmxpcCYmbGV2ZWw+MCl7dmFyIHRtcD12YWx1ZXNbMV07dmFsdWVzWzFdPXZhbHVlc1syXSx2YWx1ZXNbMl09LXRtcH1fZ2xNYXRyaXgubWF0NC50cmFuc2xhdGUobWF0cml4LG1hdHJpeCx2YWx1ZXMpfX19cmV0dXJuIG1hdHJpeH0scmVhZFRyYW5zZm9ybTI6ZnVuY3Rpb24oeG1sbm9kZSxsZXZlbCxmbGlwKXtmb3IodmFyIG1hdHJpeD1fZ2xNYXRyaXgubWF0NC5jcmVhdGUoKSxyb3RhdGlvbj1fZ2xNYXRyaXgucXVhdC5jcmVhdGUoKSx0bXBtYXRyaXg9X2dsTWF0cml4Lm1hdDQuY3JlYXRlKCksdG1wcT1fZ2xNYXRyaXgucXVhdC5jcmVhdGUoKSx0cmFuc2xhdGU9dmVjMy5jcmVhdGUoKSxzY2FsZT12ZWMzLmZyb21WYWx1ZXMoMSwxLDEpLGk9MDtpPHhtbG5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7aSsrKXt2YXIgeG1sPXhtbG5vZGUuY2hpbGROb2Rlcy5pdGVtKGkpO2lmKFwibWF0cml4XCI9PXhtbC5sb2NhbE5hbWUpe3ZhciBtYXRyaXg9dGhpcy5yZWFkQ29udGVudEFzRmxvYXRzKHhtbCk7cmV0dXJuIHRoaXMudHJhbnNmb3JtTWF0cml4KG1hdHJpeCwwPT1sZXZlbCksbWF0cml4fWlmKFwidHJhbnNsYXRlXCIhPXhtbC5sb2NhbE5hbWUpaWYoXCJyb3RhdGVcIiE9eG1sLmxvY2FsTmFtZSl7aWYoXCJzY2FsZVwiPT14bWwubG9jYWxOYW1lKXt2YXIgdmFsdWVzPXRoaXMucmVhZENvbnRlbnRBc0Zsb2F0cyh4bWwpO2lmKGZsaXApe3ZhciB0bXA9dmFsdWVzWzFdO3ZhbHVlc1sxXT12YWx1ZXNbMl0sdmFsdWVzWzJdPS10bXB9c2NhbGUuc2V0KHZhbHVlcyl9fWVsc2V7dmFyIHZhbHVlcz10aGlzLnJlYWRDb250ZW50QXNGbG9hdHMoeG1sKTtpZig0PT12YWx1ZXMubGVuZ3RoKXt2YXIgaWQ9eG1sLmdldEF0dHJpYnV0ZShcInNpZFwiKTtpZihcImpvaW50T3JpZW50WFwiPT1pZCYmKHZhbHVlc1szXSs9OTAsITApLGZsaXApe3ZhciB0bXA9dmFsdWVzWzFdO3ZhbHVlc1sxXT12YWx1ZXNbMl0sdmFsdWVzWzJdPS10bXB9MCE9dmFsdWVzWzNdJiYoX2dsTWF0cml4LnF1YXQuc2V0QXhpc0FuZ2xlKHRtcHEsdmFsdWVzLnN1YmFycmF5KDAsMyksdmFsdWVzWzNdKkRFRzJSQUQpLF9nbE1hdHJpeC5xdWF0Lm11bHRpcGx5KHJvdGF0aW9uLHJvdGF0aW9uLHRtcHEpKX19ZWxzZXt2YXIgdmFsdWVzPXRoaXMucmVhZENvbnRlbnRBc0Zsb2F0cyh4bWwpO3RyYW5zbGF0ZS5zZXQodmFsdWVzKX19aWYoZmxpcCYmbGV2ZWw+MCl7dmFyIHRtcD10cmFuc2xhdGVbMV07dHJhbnNsYXRlWzFdPXRyYW5zbGF0ZVsyXSx0cmFuc2xhdGVbMl09LXRtcH1yZXR1cm4gX2dsTWF0cml4Lm1hdDQudHJhbnNsYXRlKG1hdHJpeCxtYXRyaXgsdHJhbnNsYXRlKSxfZ2xNYXRyaXgubWF0NC5mcm9tUXVhdCh0bXBtYXRyaXgscm90YXRpb24pLF9nbE1hdHJpeC5tYXQ0Lm11bHRpcGx5KG1hdHJpeCxtYXRyaXgsdG1wbWF0cml4KSxfZ2xNYXRyaXgubWF0NC5zY2FsZShtYXRyaXgsbWF0cml4LHNjYWxlKSxtYXRyaXh9LHJlYWRHZW9tZXRyeTpmdW5jdGlvbihpZCxmbGlwLHNjZW5lKXtpZih2b2lkIDAhPT10aGlzLl9nZW9tZXRyaWVzX2ZvdW5kW2lkXSlyZXR1cm4gdGhpcy5fZ2VvbWV0cmllc19mb3VuZFtpZF07dmFyIHhtbGdlb21ldHJ5PXRoaXMuX3htbHJvb3QuZ2V0RWxlbWVudEJ5SWQoaWQuc3Vic3RyKDEpKTtpZigheG1sZ2VvbWV0cnkpcmV0dXJuIGNvbnNvbGUud2FybihcInJlYWRHZW9tZXRyeTogZ2VvbWV0cnkgbm90IGZvdW5kOiBcIitpZCksdGhpcy5fZ2VvbWV0cmllc19mb3VuZFtpZF09bnVsbCxudWxsO2lmKFwiY29udHJvbGxlclwiPT14bWxnZW9tZXRyeS5sb2NhbE5hbWUpe3ZhciBnZW9tZXRyeT10aGlzLnJlYWRDb250cm9sbGVyKHhtbGdlb21ldHJ5LGZsaXAsc2NlbmUpO3JldHVybiB0aGlzLl9nZW9tZXRyaWVzX2ZvdW5kW2lkXT1nZW9tZXRyeSxnZW9tZXRyeX1pZihcImdlb21ldHJ5XCIhPXhtbGdlb21ldHJ5LmxvY2FsTmFtZSlyZXR1cm4gY29uc29sZS53YXJuKFwicmVhZEdlb21ldHJ5OiB0YWcgc2hvdWxkIGJlIGdlb21ldHJ5LCBpbnN0ZWFkIGl0IHdhcyBmb3VuZDogXCIreG1sZ2VvbWV0cnkubG9jYWxOYW1lKSx0aGlzLl9nZW9tZXRyaWVzX2ZvdW5kW2lkXT1udWxsLG51bGw7dmFyIHhtbG1lc2g9eG1sZ2VvbWV0cnkucXVlcnlTZWxlY3RvcihcIm1lc2hcIik7aWYoIXhtbG1lc2gpcmV0dXJuIGNvbnNvbGUud2FybihcInJlYWRHZW9tZXRyeTogbWVzaCBub3QgZm91bmQgaW4gZ2VvbWV0cnk6IFwiK2lkKSx0aGlzLl9nZW9tZXRyaWVzX2ZvdW5kW2lkXT1udWxsLG51bGw7Zm9yKHZhciBzb3VyY2VzPXt9LHhtbHNvdXJjZXM9eG1sbWVzaC5xdWVyeVNlbGVjdG9yQWxsKFwic291cmNlXCIpLGk9MDtpPHhtbHNvdXJjZXMubGVuZ3RoO2krKyl7dmFyIHhtbHNvdXJjZT14bWxzb3VyY2VzLml0ZW0oaSk7aWYoeG1sc291cmNlLnF1ZXJ5U2VsZWN0b3Ipe3ZhciBmbG9hdF9hcnJheT14bWxzb3VyY2UucXVlcnlTZWxlY3RvcihcImZsb2F0X2FycmF5XCIpO2lmKGZsb2F0X2FycmF5KXt2YXIgZmxvYXRzPXRoaXMucmVhZENvbnRlbnRBc0Zsb2F0cyhmbG9hdF9hcnJheSkseG1sYWNjZXNzb3I9eG1sc291cmNlLnF1ZXJ5U2VsZWN0b3IoXCJhY2Nlc3NvclwiKSxzdHJpZGU9cGFyc2VJbnQoeG1sYWNjZXNzb3IuZ2V0QXR0cmlidXRlKFwic3RyaWRlXCIpKTtzb3VyY2VzW3htbHNvdXJjZS5nZXRBdHRyaWJ1dGUoXCJpZFwiKV09e3N0cmlkZTpzdHJpZGUsZGF0YTpmbG9hdHN9fX19dmFyIHhtbHZlcnRpY2VzPXhtbG1lc2gucXVlcnlTZWxlY3RvcihcInZlcnRpY2VzIGlucHV0XCIpLHZlcnRpY2VzX3NvdXJjZT1zb3VyY2VzW3htbHZlcnRpY2VzLmdldEF0dHJpYnV0ZShcInNvdXJjZVwiKS5zdWJzdHIoMSldO3NvdXJjZXNbeG1sbWVzaC5xdWVyeVNlbGVjdG9yKFwidmVydGljZXNcIikuZ2V0QXR0cmlidXRlKFwiaWRcIildPXZlcnRpY2VzX3NvdXJjZTt2YXIgbWVzaD1udWxsLHhtbHBvbHlnb25zPXhtbG1lc2gucXVlcnlTZWxlY3RvcihcInBvbHlnb25zXCIpO2lmKHhtbHBvbHlnb25zJiYobWVzaD10aGlzLnJlYWRUcmlhbmdsZXMoeG1scG9seWdvbnMsc291cmNlcykpLCFtZXNoKXt2YXIgeG1sdHJpYW5nbGVzPXhtbG1lc2gucXVlcnlTZWxlY3RvckFsbChcInRyaWFuZ2xlc1wiKTt4bWx0cmlhbmdsZXMmJnhtbHRyaWFuZ2xlcy5sZW5ndGgmJihtZXNoPXRoaXMucmVhZFRyaWFuZ2xlcyh4bWx0cmlhbmdsZXMsc291cmNlcykpfWlmKCFtZXNoKXt2YXIgeG1scG9seWxpc3Q9eG1sbWVzaC5xdWVyeVNlbGVjdG9yKFwicG9seWxpc3RcIik7eG1scG9seWxpc3QmJihtZXNoPXRoaXMucmVhZFBvbHlsaXN0KHhtbHBvbHlsaXN0LHNvdXJjZXMpKX1pZighbWVzaCl7dmFyIHhtbGxpbmVzdHJpcD14bWxtZXNoLnF1ZXJ5U2VsZWN0b3IoXCJsaW5lc3RyaXBzXCIpO3htbGxpbmVzdHJpcCYmKG1lc2g9dGhpcy5yZWFkTGluZVN0cmlwKHNvdXJjZXMseG1sbGluZXN0cmlwKSl9aWYoIW1lc2gpcmV0dXJuIGNvbnNvbGUubG9nKFwibm8gcG9seWdvbnMgb3IgdHJpYW5nbGVzIGluIG1lc2g6IFwiK2lkKSx0aGlzLl9nZW9tZXRyaWVzX2ZvdW5kW2lkXT1udWxsLG51bGw7aWYoZmxpcCYmIXRoaXMubm9fZmxpcCl7Zm9yKHZhciB0bXA9MCxhcnJheT1tZXNoLnZlcnRpY2VzLGk9MCxsPWFycmF5Lmxlbmd0aDtpPGw7aSs9Myl0bXA9YXJyYXlbaSsxXSxhcnJheVtpKzFdPWFycmF5W2krMl0sYXJyYXlbaSsyXT0tdG1wO2FycmF5PW1lc2gubm9ybWFscztmb3IodmFyIGk9MCxsPWFycmF5Lmxlbmd0aDtpPGw7aSs9Myl0bXA9YXJyYXlbaSsxXSxhcnJheVtpKzFdPWFycmF5W2krMl0sYXJyYXlbaSsyXT0tdG1wfWlmKGlzV29ya2VyJiZ0aGlzLnVzZV90cmFuc2ZlcmFibGVzKWZvcih2YXIgaSBpbiBtZXNoKXt2YXIgZGF0YT1tZXNoW2ldO2RhdGEmJmRhdGEuYnVmZmVyJiZkYXRhLmxlbmd0aD4xMDAmJnRoaXMuX3RyYW5zZmVyYWJsZXMucHVzaChkYXRhLmJ1ZmZlcil9cmV0dXJuIG1lc2guZmlsZW5hbWU9aWQsbWVzaC5vYmplY3RfdHlwZT1cIk1lc2hcIix0aGlzLl9nZW9tZXRyaWVzX2ZvdW5kW2lkXT1tZXNoLG1lc2h9LHJlYWRUcmlhbmdsZXM6ZnVuY3Rpb24oeG1sdHJpYW5nbGVzLHNvdXJjZXMpe2Zvcih2YXIgZ3JvdXBzPVtdLGJ1ZmZlcnM9W10sbGFzdF9pbmRleD0wLGZhY2VtYXA9e30sdmVydGV4X3JlbWFwPVtdLGluZGljZXNBcnJheT1bXSxsYXN0X3N0YXJ0PTAsbWF0ZXJpYWxfbmFtZT1cIlwiLHRyaXM9MDt0cmlzPHhtbHRyaWFuZ2xlcy5sZW5ndGg7dHJpcysrKXt2YXIgeG1sX3NoYXBlX3Jvb3Q9eG1sdHJpYW5nbGVzLml0ZW0odHJpcyksdHJpYW5nbGVzPVwidHJpYW5nbGVzXCI9PXhtbF9zaGFwZV9yb290LmxvY2FsTmFtZTttYXRlcmlhbF9uYW1lPXhtbF9zaGFwZV9yb290LmdldEF0dHJpYnV0ZShcIm1hdGVyaWFsXCIpLDA9PXRyaXMmJihidWZmZXJzPXRoaXMucmVhZFNoYXBlSW5wdXRzKHhtbF9zaGFwZV9yb290LHNvdXJjZXMpKTtmb3IodmFyIHhtbHBzPXhtbF9zaGFwZV9yb290LnF1ZXJ5U2VsZWN0b3JBbGwoXCJwXCIpLGk9KGJ1ZmZlcnMubGVuZ3RoLDApO2k8eG1scHMubGVuZ3RoO2krKyl7dmFyIHhtbHA9eG1scHMuaXRlbShpKTtpZigheG1scHx8IXhtbHAudGV4dENvbnRlbnQpYnJlYWs7dmFyIGRhdGE9eG1scC50ZXh0Q29udGVudC50cmltKCkuc3BsaXQoXCIgXCIpLGZpcnN0X2luZGV4PS0xLGN1cnJlbnRfaW5kZXg9LTEscHJldl9pbmRleD0tMSxudW1fdmFsdWVzX3Blcl92ZXJ0ZXg9MTtmb3IodmFyIGIgaW4gYnVmZmVycyludW1fdmFsdWVzX3Blcl92ZXJ0ZXg9TWF0aC5tYXgobnVtX3ZhbHVlc19wZXJfdmVydGV4LGJ1ZmZlcnNbYl1bNF0rMSk7Zm9yKHZhciBrPTAsbD1kYXRhLmxlbmd0aDtrPGw7ays9bnVtX3ZhbHVlc19wZXJfdmVydGV4KXt2YXIgdmVydGV4X2lkPWRhdGEuc2xpY2UoayxrK251bV92YWx1ZXNfcGVyX3ZlcnRleCkuam9pbihcIiBcIik7aWYocHJldl9pbmRleD1jdXJyZW50X2luZGV4LGZhY2VtYXAuaGFzT3duUHJvcGVydHkodmVydGV4X2lkKSljdXJyZW50X2luZGV4PWZhY2VtYXBbdmVydGV4X2lkXTtlbHNle2Zvcih2YXIgaj0wO2o8YnVmZmVycy5sZW5ndGg7KytqKXt2YXIgYnVmZmVyPWJ1ZmZlcnNbal0sYXJyYXk9YnVmZmVyWzFdLHNvdXJjZT1idWZmZXJbM10saW5kZXg9cGFyc2VJbnQoZGF0YVtrK2J1ZmZlcls0XV0pOzA9PWomJih2ZXJ0ZXhfcmVtYXBbYXJyYXkubGVuZ3RoL2J1ZmZlclsyXV09aW5kZXgpLGluZGV4Kj1idWZmZXJbMl07Zm9yKHZhciB4PTA7eDxidWZmZXJbMl07Kyt4KXtpZih2b2lkIDA9PT1zb3VyY2VbaW5kZXgreF0pdGhyb3dcIlVOREVGSU5FRCFcIjthcnJheS5wdXNoKHNvdXJjZVtpbmRleCt4XSl9fWN1cnJlbnRfaW5kZXg9bGFzdF9pbmRleCxsYXN0X2luZGV4Kz0xLGZhY2VtYXBbdmVydGV4X2lkXT1jdXJyZW50X2luZGV4fXRyaWFuZ2xlc3x8KDA9PWsmJihmaXJzdF9pbmRleD1jdXJyZW50X2luZGV4KSxrPjImJihpbmRpY2VzQXJyYXkucHVzaChmaXJzdF9pbmRleCksaW5kaWNlc0FycmF5LnB1c2gocHJldl9pbmRleCkpKSxpbmRpY2VzQXJyYXkucHVzaChjdXJyZW50X2luZGV4KX19dmFyIGdyb3VwPXtuYW1lOlwiZ3JvdXBcIit0cmlzLHN0YXJ0Omxhc3Rfc3RhcnQsbGVuZ3RoOmluZGljZXNBcnJheS5sZW5ndGgtbGFzdF9zdGFydCxtYXRlcmlhbDptYXRlcmlhbF9uYW1lfHxcIlwifTtsYXN0X3N0YXJ0PWluZGljZXNBcnJheS5sZW5ndGgsZ3JvdXBzLnB1c2goZ3JvdXApfXZhciBtZXNoPXt2ZXJ0aWNlczpuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcnNbMF1bMV0pLGluZm86e2dyb3Vwczpncm91cHN9LF9yZW1hcDpuZXcgVWludDMyQXJyYXkodmVydGV4X3JlbWFwKX07cmV0dXJuIHRoaXMudHJhbnNmb3JtTWVzaEluZm8obWVzaCxidWZmZXJzLGluZGljZXNBcnJheSksbWVzaH0scmVhZFBvbHlsaXN0OmZ1bmN0aW9uKHhtbF9zaGFwZV9yb290LHNvdXJjZXMpe3ZhciBidWZmZXJzPVtdLGxhc3RfaW5kZXg9MCxmYWNlbWFwPXt9LHZlcnRleF9yZW1hcD1bXSxpbmRpY2VzQXJyYXk9W107eG1sX3NoYXBlX3Jvb3QuZ2V0QXR0cmlidXRlKFwibWF0ZXJpYWxcIiksYnVmZmVycz10aGlzLnJlYWRTaGFwZUlucHV0cyh4bWxfc2hhcGVfcm9vdCxzb3VyY2VzKTtmb3IodmFyIHhtbHZjb3VudD14bWxfc2hhcGVfcm9vdC5xdWVyeVNlbGVjdG9yKFwidmNvdW50XCIpLHZjb3VudD10aGlzLnJlYWRDb250ZW50QXNVSW50MzIoeG1sdmNvdW50KSx4bWxwPXhtbF9zaGFwZV9yb290LnF1ZXJ5U2VsZWN0b3IoXCJwXCIpLGRhdGE9dGhpcy5yZWFkQ29udGVudEFzVUludDMyKHhtbHApLG51bV9kYXRhX3ZlcnRleD1idWZmZXJzLmxlbmd0aCxwb3M9MCxpPTAsbD12Y291bnQubGVuZ3RoO2k8bDsrK2kpZm9yKHZhciBudW1fdmVydGljZXM9dmNvdW50W2ldLGZpcnN0X2luZGV4PS0xLGN1cnJlbnRfaW5kZXg9LTEscHJldl9pbmRleD0tMSxrPTA7azxudW1fdmVydGljZXM7KytrKXt2YXIgdmVydGV4X2lkPWRhdGEuc3ViYXJyYXkocG9zLHBvcytudW1fZGF0YV92ZXJ0ZXgpLmpvaW4oXCIgXCIpO2lmKHByZXZfaW5kZXg9Y3VycmVudF9pbmRleCxmYWNlbWFwLmhhc093blByb3BlcnR5KHZlcnRleF9pZCkpY3VycmVudF9pbmRleD1mYWNlbWFwW3ZlcnRleF9pZF07ZWxzZXtmb3IodmFyIGo9MDtqPGJ1ZmZlcnMubGVuZ3RoOysrail7dmFyIGJ1ZmZlcj1idWZmZXJzW2pdLGluZGV4PXBhcnNlSW50KGRhdGFbcG9zK2pdKSxhcnJheT1idWZmZXJbMV0sc291cmNlPWJ1ZmZlclszXTswPT1qJiYodmVydGV4X3JlbWFwW2FycmF5Lmxlbmd0aC9udW1fZGF0YV92ZXJ0ZXhdPWluZGV4KSxpbmRleCo9YnVmZmVyWzJdO2Zvcih2YXIgeD0wO3g8YnVmZmVyWzJdOysreClhcnJheS5wdXNoKHNvdXJjZVtpbmRleCt4XSl9Y3VycmVudF9pbmRleD1sYXN0X2luZGV4LGxhc3RfaW5kZXgrPTEsZmFjZW1hcFt2ZXJ0ZXhfaWRdPWN1cnJlbnRfaW5kZXh9bnVtX3ZlcnRpY2VzPjMmJigwPT1rJiYoZmlyc3RfaW5kZXg9Y3VycmVudF9pbmRleCksaz4yJiYoaW5kaWNlc0FycmF5LnB1c2goZmlyc3RfaW5kZXgpLGluZGljZXNBcnJheS5wdXNoKHByZXZfaW5kZXgpKSksaW5kaWNlc0FycmF5LnB1c2goY3VycmVudF9pbmRleCkscG9zKz1udW1fZGF0YV92ZXJ0ZXh9dmFyIG1lc2g9e3ZlcnRpY2VzOm5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyc1swXVsxXSksaW5mbzp7fSxfcmVtYXA6bmV3IFVpbnQzMkFycmF5KHZlcnRleF9yZW1hcCl9O3JldHVybiB0aGlzLnRyYW5zZm9ybU1lc2hJbmZvKG1lc2gsYnVmZmVycyxpbmRpY2VzQXJyYXkpLG1lc2h9LHJlYWRTaGFwZUlucHV0czpmdW5jdGlvbih4bWxfc2hhcGVfcm9vdCxzb3VyY2VzKXtmb3IodmFyIGJ1ZmZlcnM9W10seG1saW5wdXRzPXhtbF9zaGFwZV9yb290LnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFwiKSxpPTA7aTx4bWxpbnB1dHMubGVuZ3RoO2krKyl7dmFyIHhtbGlucHV0PXhtbGlucHV0cy5pdGVtKGkpO2lmKHhtbGlucHV0LmdldEF0dHJpYnV0ZSl7dmFyIHNlbWFudGljPXhtbGlucHV0LmdldEF0dHJpYnV0ZShcInNlbWFudGljXCIpLnRvVXBwZXJDYXNlKCksc3RyZWFtX3NvdXJjZT1zb3VyY2VzW3htbGlucHV0LmdldEF0dHJpYnV0ZShcInNvdXJjZVwiKS5zdWJzdHIoMSldLG9mZnNldD1wYXJzZUludCh4bWxpbnB1dC5nZXRBdHRyaWJ1dGUoXCJvZmZzZXRcIikpLGRhdGFfc2V0PTA7eG1saW5wdXQuZ2V0QXR0cmlidXRlKFwic2V0XCIpJiYoZGF0YV9zZXQ9cGFyc2VJbnQoeG1saW5wdXQuZ2V0QXR0cmlidXRlKFwic2V0XCIpKSksYnVmZmVycy5wdXNoKFtzZW1hbnRpYyxbXSxzdHJlYW1fc291cmNlLnN0cmlkZSxzdHJlYW1fc291cmNlLmRhdGEsb2Zmc2V0LGRhdGFfc2V0XSl9fXJldHVybiBidWZmZXJzfSx0cmFuc2Zvcm1NZXNoSW5mbzpmdW5jdGlvbihtZXNoLGJ1ZmZlcnMsaW5kaWNlc0FycmF5KXtmb3IodmFyIHRyYW5zbGF0b3I9e25vcm1hbDpcIm5vcm1hbHNcIix0ZXhjb29yZDpcImNvb3Jkc1wifSxpPTE7aTxidWZmZXJzLmxlbmd0aDsrK2kpe3ZhciBuYW1lPWJ1ZmZlcnNbaV1bMF0udG9Mb3dlckNhc2UoKSxkYXRhPWJ1ZmZlcnNbaV1bMV07ZGF0YS5sZW5ndGgmJih0cmFuc2xhdG9yW25hbWVdJiYobmFtZT10cmFuc2xhdG9yW25hbWVdKSxtZXNoW25hbWVdJiYobmFtZSs9YnVmZmVyc1tpXVs1XSksbWVzaFtuYW1lXT1uZXcgRmxvYXQzMkFycmF5KGRhdGEpKX1yZXR1cm4gaW5kaWNlc0FycmF5JiZpbmRpY2VzQXJyYXkubGVuZ3RoJiYobWVzaC52ZXJ0aWNlcy5sZW5ndGg+NjU1MzY/bWVzaC50cmlhbmdsZXM9bmV3IFVpbnQzMkFycmF5KGluZGljZXNBcnJheSk6bWVzaC50cmlhbmdsZXM9bmV3IFVpbnQxNkFycmF5KGluZGljZXNBcnJheSkpLG1lc2h9LHJlYWRMaW5lU3RyaXA6ZnVuY3Rpb24oc291cmNlcyx4bWxsaW5lc3RyaXApe2Zvcih2YXIgYnVmZmVycz1bXSxsYXN0X2luZGV4PTAsZmFjZW1hcD17fSx2ZXJ0ZXhfcmVtYXA9W10saW5kaWNlc0FycmF5PVtdLHhtbGlucHV0cz14bWxsaW5lc3RyaXAucXVlcnlTZWxlY3RvckFsbChcImlucHV0XCIpLGk9MDtpPHhtbGlucHV0cy5sZW5ndGg7aSsrKXt2YXIgeG1saW5wdXQ9eG1saW5wdXRzLml0ZW0oaSk7aWYoeG1saW5wdXQuZ2V0QXR0cmlidXRlKXt2YXIgc2VtYW50aWM9eG1saW5wdXQuZ2V0QXR0cmlidXRlKFwic2VtYW50aWNcIikudG9VcHBlckNhc2UoKSxzdHJlYW1fc291cmNlPXNvdXJjZXNbeG1saW5wdXQuZ2V0QXR0cmlidXRlKFwic291cmNlXCIpLnN1YnN0cigxKV0sb2Zmc2V0PXBhcnNlSW50KHhtbGlucHV0LmdldEF0dHJpYnV0ZShcIm9mZnNldFwiKSksZGF0YV9zZXQ9MDt4bWxpbnB1dC5nZXRBdHRyaWJ1dGUoXCJzZXRcIikmJihkYXRhX3NldD1wYXJzZUludCh4bWxpbnB1dC5nZXRBdHRyaWJ1dGUoXCJzZXRcIikpKSxidWZmZXJzLnB1c2goW3NlbWFudGljLFtdLHN0cmVhbV9zb3VyY2Uuc3RyaWRlLHN0cmVhbV9zb3VyY2UuZGF0YSxvZmZzZXQsZGF0YV9zZXRdKX19Zm9yKHZhciB4bWxwcz14bWxsaW5lc3RyaXAucXVlcnlTZWxlY3RvckFsbChcInBcIiksbnVtX2RhdGFfdmVydGV4PWJ1ZmZlcnMubGVuZ3RoLGk9MDtpPHhtbHBzLmxlbmd0aDtpKyspe3ZhciB4bWxwPXhtbHBzLml0ZW0oaSk7aWYoIXhtbHB8fCF4bWxwLnRleHRDb250ZW50KWJyZWFrO2Zvcih2YXIgZGF0YT14bWxwLnRleHRDb250ZW50LnRyaW0oKS5zcGxpdChcIiBcIiksY3VycmVudF9pbmRleD0tMSxrPTAsbD1kYXRhLmxlbmd0aDtrPGw7ays9bnVtX2RhdGFfdmVydGV4KXt2YXIgdmVydGV4X2lkPWRhdGEuc2xpY2UoayxrK251bV9kYXRhX3ZlcnRleCkuam9pbihcIiBcIik7aWYoY3VycmVudF9pbmRleCxmYWNlbWFwLmhhc093blByb3BlcnR5KHZlcnRleF9pZCkpY3VycmVudF9pbmRleD1mYWNlbWFwW3ZlcnRleF9pZF07ZWxzZXtmb3IodmFyIGo9MDtqPGJ1ZmZlcnMubGVuZ3RoOysrail7dmFyIGJ1ZmZlcj1idWZmZXJzW2pdLGluZGV4PXBhcnNlSW50KGRhdGFbaytqXSksYXJyYXk9YnVmZmVyWzFdLHNvdXJjZT1idWZmZXJbM107MD09aiYmKHZlcnRleF9yZW1hcFthcnJheS5sZW5ndGgvbnVtX2RhdGFfdmVydGV4XT1pbmRleCksaW5kZXgqPWJ1ZmZlclsyXTtmb3IodmFyIHg9MDt4PGJ1ZmZlclsyXTsrK3gpYXJyYXkucHVzaChzb3VyY2VbaW5kZXgreF0pfWN1cnJlbnRfaW5kZXg9bGFzdF9pbmRleCxsYXN0X2luZGV4Kz0xLGZhY2VtYXBbdmVydGV4X2lkXT1jdXJyZW50X2luZGV4fWluZGljZXNBcnJheS5wdXNoKGN1cnJlbnRfaW5kZXgpfX12YXIgbWVzaD17cHJpbWl0aXZlOlwibGluZV9zdHJpcFwiLHZlcnRpY2VzOm5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyc1swXVsxXSksaW5mbzp7fX07cmV0dXJuIHRoaXMudHJhbnNmb3JtTWVzaEluZm8obWVzaCxidWZmZXJzLGluZGljZXNBcnJheSl9LGZpbmRYTUxOb2RlQnlJZDpmdW5jdGlvbihyb290LG5vZGVuYW1lLGlkKXtpZih0aGlzLl94bWxyb290Ll9ub2Rlc19ieV9pZCl7dmFyIG49dGhpcy5feG1scm9vdC5fbm9kZXNfYnlfaWRbaWRdO2lmKG4mJm4ubG9jYWxOYW1lPT1ub2RlbmFtZSlyZXR1cm4gbn1lbHNle3ZhciBuPXRoaXMuX3htbHJvb3QuZ2V0RWxlbWVudEJ5SWQoaWQpO2lmKG4pcmV0dXJuIG59Zm9yKHZhciBjaGlsZHM9cm9vdC5jaGlsZE5vZGVzLGk9MDtpPGNoaWxkcy5sZW5ndGg7KytpKXt2YXIgeG1sbm9kZT1jaGlsZHMuaXRlbShpKTtpZigxPT14bWxub2RlLm5vZGVUeXBlJiZ4bWxub2RlLmxvY2FsTmFtZT09bm9kZW5hbWUpe2lmKHhtbG5vZGUuZ2V0QXR0cmlidXRlKFwiaWRcIik9PWlkKXJldHVybiB4bWxub2RlfX1yZXR1cm4gbnVsbH0scmVhZEltYWdlczpmdW5jdGlvbihyb290KXt2YXIgeG1saW1hZ2VzPXJvb3QucXVlcnlTZWxlY3RvcihcImxpYnJhcnlfaW1hZ2VzXCIpO2lmKCF4bWxpbWFnZXMpcmV0dXJuIG51bGw7Zm9yKHZhciBpbWFnZXM9e30seG1saW1hZ2VzX2NoaWxkcz14bWxpbWFnZXMuY2hpbGROb2RlcyxpPTA7aTx4bWxpbWFnZXNfY2hpbGRzLmxlbmd0aDsrK2kpe3ZhciB4bWxpbWFnZT14bWxpbWFnZXNfY2hpbGRzLml0ZW0oaSk7aWYoMT09eG1saW1hZ2Uubm9kZVR5cGUpe3ZhciB4bWxpbml0ZnJvbT14bWxpbWFnZS5xdWVyeVNlbGVjdG9yKFwiaW5pdF9mcm9tXCIpO2lmKHhtbGluaXRmcm9tJiZ4bWxpbml0ZnJvbS50ZXh0Q29udGVudCl7dmFyIGZpbGVuYW1lPXRoaXMuZ2V0RmlsZW5hbWUoeG1saW5pdGZyb20udGV4dENvbnRlbnQpLGlkPXhtbGltYWdlLmdldEF0dHJpYnV0ZShcImlkXCIpO2ltYWdlc1tpZF09e2ZpbGVuYW1lOmZpbGVuYW1lLG1hcDppZCxuYW1lOnhtbGltYWdlLmdldEF0dHJpYnV0ZShcIm5hbWVcIikscGF0aDp4bWxpbml0ZnJvbS50ZXh0Q29udGVudH19fX1yZXR1cm4gaW1hZ2VzfSxyZWFkQW5pbWF0aW9uczpmdW5jdGlvbihyb290LHNjZW5lKXt2YXIgeG1sYW5pbWF0aW9ucz1yb290LnF1ZXJ5U2VsZWN0b3IoXCJsaWJyYXJ5X2FuaW1hdGlvbnNcIik7aWYoIXhtbGFuaW1hdGlvbnMpcmV0dXJuIG51bGw7Zm9yKHZhciB4bWxhbmltYXRpb25fY2hpbGRzPXhtbGFuaW1hdGlvbnMuY2hpbGROb2RlcyxhbmltYXRpb25zPXtvYmplY3RfdHlwZTpcIkFuaW1hdGlvblwiLHRha2VzOnt9fSxkZWZhdWx0X3Rha2U9e3RyYWNrczpbXX0sdHJhY2tzPWRlZmF1bHRfdGFrZS50cmFja3MsaT0wO2k8eG1sYW5pbWF0aW9uX2NoaWxkcy5sZW5ndGg7KytpKXt2YXIgeG1sYW5pbWF0aW9uPXhtbGFuaW1hdGlvbl9jaGlsZHMuaXRlbShpKTtpZigxPT14bWxhbmltYXRpb24ubm9kZVR5cGUmJlwiYW5pbWF0aW9uXCI9PXhtbGFuaW1hdGlvbi5sb2NhbE5hbWUpe2lmKHhtbGFuaW1hdGlvbi5nZXRBdHRyaWJ1dGUoXCJpZFwiKSl0aGlzLnJlYWRBbmltYXRpb24oeG1sYW5pbWF0aW9uLHRyYWNrcyk7ZWxzZXt2YXIgeG1sYW5pbWF0aW9uMl9jaGlsZHM9eG1sYW5pbWF0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoXCJhbmltYXRpb25cIik7aWYoeG1sYW5pbWF0aW9uMl9jaGlsZHMubGVuZ3RoKWZvcih2YXIgaj0wO2o8eG1sYW5pbWF0aW9uMl9jaGlsZHMubGVuZ3RoOysrail7dmFyIHhtbGFuaW1hdGlvbjI9eG1sYW5pbWF0aW9uMl9jaGlsZHMuaXRlbShqKTt0aGlzLnJlYWRBbmltYXRpb24oeG1sYW5pbWF0aW9uMix0cmFja3MpfWVsc2UgdGhpcy5yZWFkQW5pbWF0aW9uKHhtbGFuaW1hdGlvbix0cmFja3MpfX19aWYoIXRyYWNrcy5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKHZhciBtYXhfdGltZT0wLGk9MDtpPHRyYWNrcy5sZW5ndGg7KytpKW1heF90aW1lPHRyYWNrc1tpXS5kdXJhdGlvbiYmKG1heF90aW1lPXRyYWNrc1tpXS5kdXJhdGlvbik7cmV0dXJuIGRlZmF1bHRfdGFrZS5uYW1lPVwiZGVmYXVsdFwiLGRlZmF1bHRfdGFrZS5kdXJhdGlvbj1tYXhfdGltZSxhbmltYXRpb25zLnRha2VzW2RlZmF1bHRfdGFrZS5uYW1lXT1kZWZhdWx0X3Rha2UsYW5pbWF0aW9uc30scmVhZEFuaW1hdGlvbjpmdW5jdGlvbih4bWxhbmltYXRpb24scmVzdWx0KXtpZihcImFuaW1hdGlvblwiIT14bWxhbmltYXRpb24ubG9jYWxOYW1lKXJldHVybiBudWxsO3ZhciB4bWxjaGFubmVsX2xpc3Q9KHhtbGFuaW1hdGlvbi5nZXRBdHRyaWJ1dGUoXCJpZFwiKSx4bWxhbmltYXRpb24ucXVlcnlTZWxlY3RvckFsbChcImNoYW5uZWxcIikpO2lmKCF4bWxjaGFubmVsX2xpc3QubGVuZ3RoKXJldHVybiBudWxsO2Zvcih2YXIgdHJhY2tzPXJlc3VsdHx8W10saT0wO2k8eG1sY2hhbm5lbF9saXN0Lmxlbmd0aDsrK2kpe3ZhciBhbmltPXRoaXMucmVhZENoYW5uZWwoeG1sY2hhbm5lbF9saXN0Lml0ZW0oaSkseG1sYW5pbWF0aW9uKTthbmltJiZ0cmFja3MucHVzaChhbmltKX1yZXR1cm4gdHJhY2tzfSxyZWFkQ2hhbm5lbDpmdW5jdGlvbih4bWxjaGFubmVsLHhtbGFuaW1hdGlvbil7aWYoXCJjaGFubmVsXCIhPXhtbGNoYW5uZWwubG9jYWxOYW1lfHxcImFuaW1hdGlvblwiIT14bWxhbmltYXRpb24ubG9jYWxOYW1lKXJldHVybiBudWxsO3ZhciBzb3VyY2U9eG1sY2hhbm5lbC5nZXRBdHRyaWJ1dGUoXCJzb3VyY2VcIiksdGFyZ2V0PXhtbGNoYW5uZWwuZ2V0QXR0cmlidXRlKFwidGFyZ2V0XCIpLHhtbHNhbXBsZXI9dGhpcy5maW5kWE1MTm9kZUJ5SWQoeG1sYW5pbWF0aW9uLFwic2FtcGxlclwiLHNvdXJjZS5zdWJzdHIoMSkpO2lmKCF4bWxzYW1wbGVyKXJldHVybiBjb25zb2xlLmVycm9yKFwiRXJyb3IgREFFOiBTYW1wbGVyIG5vdCBmb3VuZCBpbiBcIitzb3VyY2UpLG51bGw7Zm9yKHZhciBpbnB1dHM9e30scGFyYW1zPXt9LHNvdXJjZXM9e30seG1saW5wdXRzPXhtbHNhbXBsZXIucXVlcnlTZWxlY3RvckFsbChcImlucHV0XCIpLHRpbWVfZGF0YT1udWxsLGo9MDtqPHhtbGlucHV0cy5sZW5ndGg7aisrKXt2YXIgeG1saW5wdXQ9eG1saW5wdXRzLml0ZW0oaiksc291cmNlX25hbWU9eG1saW5wdXQuZ2V0QXR0cmlidXRlKFwic291cmNlXCIpLHNlbWFudGljPXhtbGlucHV0LmdldEF0dHJpYnV0ZShcInNlbWFudGljXCIpLHhtbHNvdXJjZT10aGlzLmZpbmRYTUxOb2RlQnlJZCh4bWxhbmltYXRpb24sXCJzb3VyY2VcIixzb3VyY2VfbmFtZS5zdWJzdHIoMSkpO2lmKHhtbHNvdXJjZSl7dmFyIHhtbHBhcmFtPXhtbHNvdXJjZS5xdWVyeVNlbGVjdG9yKFwicGFyYW1cIik7aWYoeG1scGFyYW0pe3ZhciB0eXBlPXhtbHBhcmFtLmdldEF0dHJpYnV0ZShcInR5cGVcIik7aW5wdXRzW3NlbWFudGljXT17c291cmNlOnNvdXJjZV9uYW1lLHR5cGU6dHlwZX07dmFyIGRhdGFfYXJyYXk9bnVsbDtpZihcImZsb2F0XCI9PXR5cGV8fFwiZmxvYXQ0eDRcIj09dHlwZSl7dmFyIHhtbGZsb2F0YXJyYXk9eG1sc291cmNlLnF1ZXJ5U2VsZWN0b3IoXCJmbG9hdF9hcnJheVwiKSxmbG9hdHM9dGhpcy5yZWFkQ29udGVudEFzRmxvYXRzKHhtbGZsb2F0YXJyYXkpO3NvdXJjZXNbc291cmNlX25hbWVdPWZsb2F0cyxkYXRhX2FycmF5PWZsb2F0czt2YXIgcGFyYW1fbmFtZT14bWxwYXJhbS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1wiVElNRVwiPT1wYXJhbV9uYW1lJiYodGltZV9kYXRhPWRhdGFfYXJyYXkpLFwiT1VUUFVUXCI9PXNlbWFudGljJiYocGFyYW1fbmFtZT1zZW1hbnRpYykscGFyYW1fbmFtZT9wYXJhbXNbcGFyYW1fbmFtZV09dHlwZTpjb25zb2xlLndhcm4oXCJDb2xsYWRhOiA8cGFyYW0+IHdpdGhvdXQgbmFtZSBhdHRyaWJ1dGUgaW4gPGFuaW1hdGlvbj5cIil9fX19aWYoIXRpbWVfZGF0YSlyZXR1cm4gY29uc29sZS5lcnJvcihcIkVycm9yIERBRTogbm8gVElNRSBpbmZvIGZvdW5kIGluIDxjaGFubmVsPjogXCIreG1sY2hhbm5lbC5nZXRBdHRyaWJ1dGUoXCJzb3VyY2VcIikpLG51bGw7dmFyIHBhdGg9dGFyZ2V0LnNwbGl0KFwiL1wiKSxhbmltPXt9LG5vZGVuYW1lPXBhdGhbMF0sbm9kZT10aGlzLl9ub2Rlc19ieV9pZFtub2RlbmFtZV0sbG9jYXRvcj1ub2RlLmlkK1wiL1wiK3BhdGhbMV07YW5pbS5uYW1lPXBhdGhbMV0sYW5pbS5wcm9wZXJ0eT1sb2NhdG9yO3ZhciB0eXBlPVwibnVtYmVyXCIsZWxlbWVudF9zaXplPTEscGFyYW1fdHlwZT1wYXJhbXMuT1VUUFVUO3N3aXRjaChwYXJhbV90eXBlKXtjYXNlXCJmbG9hdFwiOmVsZW1lbnRfc2l6ZT0xO2JyZWFrO2Nhc2VcImZsb2F0M3gzXCI6ZWxlbWVudF9zaXplPTksdHlwZT1cIm1hdDNcIjticmVhaztjYXNlXCJmbG9hdDR4NFwiOmVsZW1lbnRfc2l6ZT0xNix0eXBlPVwibWF0NFwifWFuaW0udHlwZT10eXBlLGFuaW0udmFsdWVfc2l6ZT1lbGVtZW50X3NpemUsYW5pbS5kdXJhdGlvbj10aW1lX2RhdGFbdGltZV9kYXRhLmxlbmd0aC0xXTt2YXIgdmFsdWVfZGF0YT1zb3VyY2VzW2lucHV0cy5PVVRQVVQuc291cmNlXTtpZighdmFsdWVfZGF0YSlyZXR1cm4gbnVsbDtmb3IodmFyIG51bV9zYW1wbGVzPXRpbWVfZGF0YS5sZW5ndGgsc2FtcGxlX3NpemU9ZWxlbWVudF9zaXplKzEsYW5pbV9kYXRhPW5ldyBGbG9hdDMyQXJyYXkobnVtX3NhbXBsZXMqc2FtcGxlX3NpemUpLGo9MDtqPHRpbWVfZGF0YS5sZW5ndGg7KytqKXthbmltX2RhdGFbaipzYW1wbGVfc2l6ZV09dGltZV9kYXRhW2pdO3ZhciB2YWx1ZT12YWx1ZV9kYXRhLnN1YmFycmF5KGoqZWxlbWVudF9zaXplLChqKzEpKmVsZW1lbnRfc2l6ZSk7XCJmbG9hdDR4NFwiPT1wYXJhbV90eXBlJiZ0aGlzLnRyYW5zZm9ybU1hdHJpeCh2YWx1ZSxub2RlPzA9PW5vZGUuX2RlcHRoOjApLGFuaW1fZGF0YS5zZXQodmFsdWUsaipzYW1wbGVfc2l6ZSsxKX1pZihpc1dvcmtlciYmdGhpcy51c2VfdHJhbnNmZXJhYmxlcyl7dmFyIGRhdGE9YW5pbV9kYXRhO2RhdGEmJmRhdGEuYnVmZmVyJiZkYXRhLmxlbmd0aD4xMDAmJnRoaXMuX3RyYW5zZmVyYWJsZXMucHVzaChkYXRhLmJ1ZmZlcil9cmV0dXJuIGFuaW0uZGF0YT1hbmltX2RhdGEsYW5pbX0sZmluZE5vZGU6ZnVuY3Rpb24ocm9vdCxpZCl7aWYocm9vdC5pZD09aWQpcmV0dXJuIHJvb3Q7aWYocm9vdC5jaGlsZHJlbilmb3IodmFyIGkgaW4gcm9vdC5jaGlsZHJlbil7dmFyIHJldD10aGlzLmZpbmROb2RlKHJvb3QuY2hpbGRyZW5baV0saWQpO2lmKHJldClyZXR1cm4gcmV0fXJldHVybiBudWxsfSxyZWFkTGlicmFyeUNvbnRyb2xsZXJzOmZ1bmN0aW9uKHNjZW5lKXt2YXIgeG1sbGlicmFyeWNvbnRyb2xsZXJzPXRoaXMuX3htbHJvb3QucXVlcnlTZWxlY3RvcihcImxpYnJhcnlfY29udHJvbGxlcnNcIik7aWYoIXhtbGxpYnJhcnljb250cm9sbGVycylyZXR1cm4gbnVsbDtmb3IodmFyIHhtbGxpYnJhcnljb250cm9sbGVyc19jaGlsZHM9eG1sbGlicmFyeWNvbnRyb2xsZXJzLmNoaWxkTm9kZXMsaT0wO2k8eG1sbGlicmFyeWNvbnRyb2xsZXJzX2NoaWxkcy5sZW5ndGg7KytpKXt2YXIgeG1sY29udHJvbGxlcj14bWxsaWJyYXJ5Y29udHJvbGxlcnNfY2hpbGRzLml0ZW0oaSk7aWYoMT09eG1sY29udHJvbGxlci5ub2RlVHlwZSYmXCJjb250cm9sbGVyXCI9PXhtbGNvbnRyb2xsZXIubG9jYWxOYW1lKXt2YXIgaWQ9eG1sY29udHJvbGxlci5nZXRBdHRyaWJ1dGUoXCJpZFwiKTt0aGlzLl9jb250cm9sbGVyc19mb3VuZFtpZF18fHRoaXMucmVhZENvbnRyb2xsZXIoeG1sY29udHJvbGxlcixudWxsLHNjZW5lKX19fSxyZWFkQ29udHJvbGxlcjpmdW5jdGlvbih4bWxjb250cm9sbGVyLGZsaXAsc2NlbmUpe2lmKFwiY29udHJvbGxlclwiPT0heG1sY29udHJvbGxlci5sb2NhbE5hbWUpcmV0dXJuIGNvbnNvbGUud2FybihcInJlYWRDb250cm9sbGVyOiBub3QgYSBjb250cm9sbGVyOiBcIit4bWxjb250cm9sbGVyLmxvY2FsTmFtZSksbnVsbDt2YXIgaWQ9eG1sY29udHJvbGxlci5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtpZih0aGlzLl9jb250cm9sbGVyc19mb3VuZFtpZF0pcmV0dXJuIHRoaXMuX2NvbnRyb2xsZXJzX2ZvdW5kW2lkXTt2YXIgbWVzaD1udWxsLHhtbHNraW49eG1sY29udHJvbGxlci5xdWVyeVNlbGVjdG9yKFwic2tpblwiKTt4bWxza2luJiYobWVzaD10aGlzLnJlYWRTa2luQ29udHJvbGxlcih4bWxza2luLGZsaXAsc2NlbmUpKTt2YXIgeG1sbW9ycGg9eG1sY29udHJvbGxlci5xdWVyeVNlbGVjdG9yKFwibW9ycGhcIik7cmV0dXJuIHhtbG1vcnBoJiYobWVzaD10aGlzLnJlYWRNb3JwaENvbnRyb2xsZXIoeG1sbW9ycGgsZmxpcCxzY2VuZSxtZXNoKSksdGhpcy5fY29udHJvbGxlcnNfZm91bmRbaWRdP2lkKz1cIl8xYmxhaFwiOnRoaXMuX2NvbnRyb2xsZXJzX2ZvdW5kW2lkXT1tZXNoLG1lc2h9LHJlYWRTa2luQ29udHJvbGxlcjpmdW5jdGlvbih4bWxza2luLGZsaXAsc2NlbmUpe3ZhciBpZF9nZW9tZXRyeT14bWxza2luLmdldEF0dHJpYnV0ZShcInNvdXJjZVwiKSxtZXNoPXRoaXMucmVhZEdlb21ldHJ5KGlkX2dlb21ldHJ5LGZsaXAsc2NlbmUpO2lmKCFtZXNoKXJldHVybiBudWxsO3ZhciBzb3VyY2VzPXRoaXMucmVhZFNvdXJjZXMoeG1sc2tpbixmbGlwKTtpZighc291cmNlcylyZXR1cm4gbnVsbDt2YXIgYmluZF9tYXRyaXg9bnVsbCx4bWxiaW5kbWF0cml4PXhtbHNraW4ucXVlcnlTZWxlY3RvcihcImJpbmRfc2hhcGVfbWF0cml4XCIpO3htbGJpbmRtYXRyaXg/KGJpbmRfbWF0cml4PXRoaXMucmVhZENvbnRlbnRBc0Zsb2F0cyh4bWxiaW5kbWF0cml4KSx0aGlzLnRyYW5zZm9ybU1hdHJpeChiaW5kX21hdHJpeCwhMCwhMCkpOmJpbmRfbWF0cml4PV9nbE1hdHJpeC5tYXQ0LmNyZWF0ZSgpO3ZhciBqb2ludHM9W10seG1sam9pbnRzPXhtbHNraW4ucXVlcnlTZWxlY3RvcihcImpvaW50c1wiKTtpZih4bWxqb2ludHMpe2Zvcih2YXIgam9pbnRzX3NvdXJjZT1udWxsLGludl9iaW5kX3NvdXJjZT1udWxsLHhtbGlucHV0cz14bWxqb2ludHMucXVlcnlTZWxlY3RvckFsbChcImlucHV0XCIpLGk9MDtpPHhtbGlucHV0cy5sZW5ndGg7aSsrKXt2YXIgeG1saW5wdXQ9eG1saW5wdXRzW2ldLHNlbT14bWxpbnB1dC5nZXRBdHRyaWJ1dGUoXCJzZW1hbnRpY1wiKS50b1VwcGVyQ2FzZSgpLHNyYz14bWxpbnB1dC5nZXRBdHRyaWJ1dGUoXCJzb3VyY2VcIiksc291cmNlPXNvdXJjZXNbc3JjLnN1YnN0cigxKV07XCJKT0lOVFwiPT1zZW0/am9pbnRzX3NvdXJjZT1zb3VyY2U6XCJJTlZfQklORF9NQVRSSVhcIj09c2VtJiYoaW52X2JpbmRfc291cmNlPXNvdXJjZSl9aWYoIWludl9iaW5kX3NvdXJjZXx8IWpvaW50c19zb3VyY2UpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBEQUU6IG5vIGpvaW50cyBvciBpbnZfYmluZCBzb3VyY2VzIGZvdW5kXCIpLG51bGw7Zm9yKHZhciBpIGluIGpvaW50c19zb3VyY2Upe3ZhciBpbnZfbWF0PWludl9iaW5kX3NvdXJjZS5zdWJhcnJheSgxNippLDE2KmkrMTYpLG5vZGVuYW1lPWpvaW50c19zb3VyY2VbaV0sbm9kZT10aGlzLl9ub2Rlc19ieV9pZFtub2RlbmFtZV07bm9kZT8odGhpcy50cmFuc2Zvcm1NYXRyaXgoaW52X21hdCwwPT1ub2RlLl9kZXB0aCwhMCksam9pbnRzLnB1c2goW25vZGVuYW1lLGludl9tYXRdKSk6Y29uc29sZS53YXJuKFwiTm9kZSBcIitub2RlbmFtZStcIiBub3QgZm91bmRcIil9fXZhciB4bWx2ZXJ0ZXh3ZWlnaHRzPXhtbHNraW4ucXVlcnlTZWxlY3RvcihcInZlcnRleF93ZWlnaHRzXCIpO2lmKHhtbHZlcnRleHdlaWdodHMpe2Zvcih2YXIgd2VpZ2h0c19pbmRleGVkX2FycmF5PW51bGwseG1saW5wdXRzPXhtbHZlcnRleHdlaWdodHMucXVlcnlTZWxlY3RvckFsbChcImlucHV0XCIpLGk9MDtpPHhtbGlucHV0cy5sZW5ndGg7aSsrKVwiV0VJR0hUXCI9PXhtbGlucHV0c1tpXS5nZXRBdHRyaWJ1dGUoXCJzZW1hbnRpY1wiKS50b1VwcGVyQ2FzZSgpJiYod2VpZ2h0c19pbmRleGVkX2FycmF5PXNvdXJjZXNbeG1saW5wdXRzLml0ZW0oaSkuZ2V0QXR0cmlidXRlKFwic291cmNlXCIpLnN1YnN0cigxKV0pO2lmKCF3ZWlnaHRzX2luZGV4ZWRfYXJyYXkpdGhyb3dcIm5vIHdlaWdodHMgZm91bmRcIjtmb3IodmFyIHhtbHZjb3VudD14bWx2ZXJ0ZXh3ZWlnaHRzLnF1ZXJ5U2VsZWN0b3IoXCJ2Y291bnRcIiksdmNvdW50PXRoaXMucmVhZENvbnRlbnRBc1VJbnQzMih4bWx2Y291bnQpLHhtbHY9eG1sdmVydGV4d2VpZ2h0cy5xdWVyeVNlbGVjdG9yKFwidlwiKSx2PXRoaXMucmVhZENvbnRlbnRBc1VJbnQzMih4bWx2KSxudW1fdmVydGljZXM9bWVzaC52ZXJ0aWNlcy5sZW5ndGgvMyx3ZWlnaHRzX2FycmF5PW5ldyBGbG9hdDMyQXJyYXkoNCpudW1fdmVydGljZXMpLGJvbmVfaW5kZXhfYXJyYXk9bmV3IFVpbnQ4QXJyYXkoNCpudW1fdmVydGljZXMpLHBvcz0wLHJlbWFwPW1lc2guX3JlbWFwLG1heF9ib25lPTAsaT0wLGw9dmNvdW50Lmxlbmd0aDtpPGw7KytpKXtmb3IodmFyIG51bV9ib25lcz12Y291bnRbaV0sb2Zmc2V0PXBvcyxiPWJvbmVfaW5kZXhfYXJyYXkuc3ViYXJyYXkoNCppLDQqaSs0KSx3PXdlaWdodHNfYXJyYXkuc3ViYXJyYXkoNCppLDQqaSs0KSxzdW09MCxqPTA7ajxudW1fYm9uZXMmJmo8NDsrK2opYltqXT12W29mZnNldCsyKmpdLGJbal0+bWF4X2JvbmUmJihtYXhfYm9uZT1iW2pdKSx3W2pdPXdlaWdodHNfaW5kZXhlZF9hcnJheVt2W29mZnNldCsyKmorMV1dLHN1bSs9d1tqXTtpZihudW1fYm9uZXM+NCYmc3VtPDEpZm9yKHZhciBpbnZfc3VtPTEvc3VtLGo9MDtqPDQ7KytqKXdbal0qPWludl9zdW07cG9zKz0yKm51bV9ib25lc31mb3IodmFyIGZpbmFsX3dlaWdodHM9bmV3IEZsb2F0MzJBcnJheSg0Km51bV92ZXJ0aWNlcyksZmluYWxfYm9uZV9pbmRpY2VzPW5ldyBVaW50OEFycmF5KDQqbnVtX3ZlcnRpY2VzKSx1c2VkX2pvaW50cz1bXSxpPTA7aTxudW1fdmVydGljZXM7KytpKXtmb3IodmFyIHA9NCpyZW1hcFtpXSx3PXdlaWdodHNfYXJyYXkuc3ViYXJyYXkocCxwKzQpLGI9Ym9uZV9pbmRleF9hcnJheS5zdWJhcnJheShwLHArNCksaz0wO2s8MzsrK2spe2Zvcih2YXIgbWF4X3Bvcz1rLG1heF92YWx1ZT13W2tdLGo9aysxO2o8NDsrK2opd1tqXTw9bWF4X3ZhbHVlfHwobWF4X3Bvcz1qLG1heF92YWx1ZT13W2pdKTtpZihtYXhfcG9zIT1rKXt2YXIgdG1wPXdba107d1trXT13W21heF9wb3NdLHdbbWF4X3Bvc109dG1wLHRtcD1iW2tdLGJba109YlttYXhfcG9zXSxiW21heF9wb3NdPXRtcH19ZmluYWxfd2VpZ2h0cy5zZXQodyw0KmkpLGZpbmFsX2JvbmVfaW5kaWNlcy5zZXQoYiw0KmkpLHdbMF0mJih1c2VkX2pvaW50c1tiWzBdXT0hMCksd1sxXSYmKHVzZWRfam9pbnRzW2JbMV1dPSEwKSx3WzJdJiYodXNlZF9qb2ludHNbYlsyXV09ITApLHdbM10mJih1c2VkX2pvaW50c1tiWzNdXT0hMCl9bWF4X2JvbmU+PWpvaW50cy5sZW5ndGgmJmNvbnNvbGUud2FybihcIk1lc2ggdXNlcyBoaWdoZXIgYm9uZSBpbmRleCB0aGFuIGJvbmVzIGZvdW5kXCIpO2Zvcih2YXIgbmV3X2JvbmVzPVtdLGJvbmVzX3RyYW5zbGF0aW9uPXt9LGk9MDtpPHVzZWRfam9pbnRzLmxlbmd0aDsrK2kpdXNlZF9qb2ludHNbaV0mJihib25lc190cmFuc2xhdGlvbltpXT1uZXdfYm9uZXMubGVuZ3RoLG5ld19ib25lcy5wdXNoKGpvaW50c1tpXSkpO2lmKG5ld19ib25lcy5sZW5ndGg8am9pbnRzLmxlbmd0aCl7Zm9yKHZhciBpPTA7aTxmaW5hbF9ib25lX2luZGljZXMubGVuZ3RoO2krKylmaW5hbF9ib25lX2luZGljZXNbaV09Ym9uZXNfdHJhbnNsYXRpb25bZmluYWxfYm9uZV9pbmRpY2VzW2ldXTtqb2ludHM9bmV3X2JvbmVzfW1lc2gud2VpZ2h0cz1maW5hbF93ZWlnaHRzLG1lc2guYm9uZV9pbmRpY2VzPWZpbmFsX2JvbmVfaW5kaWNlcyxtZXNoLmJvbmVzPWpvaW50cyxtZXNoLmJpbmRfbWF0cml4PWJpbmRfbWF0cml4fXJldHVybiBtZXNofSxyZWFkTW9ycGhDb250cm9sbGVyOmZ1bmN0aW9uKHhtbG1vcnBoLGZsaXAsc2NlbmUsbWVzaCl7dmFyIGlkX2dlb21ldHJ5PXhtbG1vcnBoLmdldEF0dHJpYnV0ZShcInNvdXJjZVwiKSxiYXNlX21lc2g9dGhpcy5yZWFkR2VvbWV0cnkoaWRfZ2VvbWV0cnksZmxpcCxzY2VuZSk7aWYoIWJhc2VfbWVzaClyZXR1cm4gbnVsbDt2YXIgc291cmNlcz10aGlzLnJlYWRTb3VyY2VzKHhtbG1vcnBoLGZsaXApLG1vcnBocz1bXSx4bWx0YXJnZXRzPXhtbG1vcnBoLnF1ZXJ5U2VsZWN0b3IoXCJ0YXJnZXRzXCIpO2lmKCF4bWx0YXJnZXRzKXJldHVybiBudWxsO2Zvcih2YXIgeG1saW5wdXRzPXhtbHRhcmdldHMucXVlcnlTZWxlY3RvckFsbChcImlucHV0XCIpLHRhcmdldHM9bnVsbCx3ZWlnaHRzPW51bGwsaT0wO2k8eG1saW5wdXRzLmxlbmd0aDtpKyspe3ZhciB4bWxpbnB1dD14bWxpbnB1dHMuaXRlbShpKSxzZW1hbnRpYz14bWxpbnB1dC5nZXRBdHRyaWJ1dGUoXCJzZW1hbnRpY1wiKS50b1VwcGVyQ2FzZSgpLGRhdGE9c291cmNlc1t4bWxpbnB1dC5nZXRBdHRyaWJ1dGUoXCJzb3VyY2VcIikuc3Vic3RyKDEpXTtcIk1PUlBIX1RBUkdFVFwiPT1zZW1hbnRpYz90YXJnZXRzPWRhdGE6XCJNT1JQSF9XRUlHSFRcIj09c2VtYW50aWMmJih3ZWlnaHRzPWRhdGEpfWlmKCF0YXJnZXRzfHwhd2VpZ2h0cylyZXR1cm4gY29uc29sZS53YXJuKFwiTW9ycGggY29udHJvbGxlciB3aXRob3V0IHRhcmdldHMgb3Igd2VpZ2h0cy4gU2tpcHBpbmcgaXQuXCIpLG51bGw7Zm9yKHZhciBpIGluIHRhcmdldHMpe3ZhciBpZD1cIiNcIit0YXJnZXRzW2ldLGdlb21ldHJ5PXRoaXMucmVhZEdlb21ldHJ5KGlkLGZsaXAsc2NlbmUpO3NjZW5lLm1lc2hlc1tpZF09Z2VvbWV0cnksbW9ycGhzLnB1c2goe21lc2g6aWQsd2VpZ2h0OndlaWdodHNbaV19KX1yZXR1cm4gYmFzZV9tZXNoLm1vcnBoX3RhcmdldHM9bW9ycGhzLGJhc2VfbWVzaH0scmVhZEJpbmRNYXRlcmlhbHM6ZnVuY3Rpb24oeG1sYmluZF9tYXRlcmlhbCxtZXNoKXtmb3IodmFyIG1hdGVyaWFscz1bXSx4bWx0ZWNobmlxdWVzPXhtbGJpbmRfbWF0ZXJpYWwucXVlcnlTZWxlY3RvckFsbChcInRlY2huaXF1ZV9jb21tb25cIiksaT0wO2k8eG1sdGVjaG5pcXVlcy5sZW5ndGg7aSsrKWZvcih2YXIgeG1sdGVjaG5pcXVlPXhtbHRlY2huaXF1ZXMuaXRlbShpKSx4bWxpbnN0YW5jZV9tYXRlcmlhbHM9eG1sdGVjaG5pcXVlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnN0YW5jZV9tYXRlcmlhbFwiKSxqPTA7ajx4bWxpbnN0YW5jZV9tYXRlcmlhbHMubGVuZ3RoO2orKyl7dmFyIHhtbGluc3RhbmNlX21hdGVyaWFsPXhtbGluc3RhbmNlX21hdGVyaWFscy5pdGVtKGopO3htbGluc3RhbmNlX21hdGVyaWFsJiZtYXRlcmlhbHMucHVzaCh4bWxpbnN0YW5jZV9tYXRlcmlhbC5nZXRBdHRyaWJ1dGUoXCJzeW1ib2xcIikpfXJldHVybiBtYXRlcmlhbHN9LHJlYWRTb3VyY2VzOmZ1bmN0aW9uKHhtbG5vZGUsZmxpcCl7Zm9yKHZhciBzb3VyY2VzPXt9LHhtbHNvdXJjZXM9eG1sbm9kZS5xdWVyeVNlbGVjdG9yQWxsKFwic291cmNlXCIpLGk9MDtpPHhtbHNvdXJjZXMubGVuZ3RoO2krKyl7dmFyIHhtbHNvdXJjZT14bWxzb3VyY2VzLml0ZW0oaSk7aWYoeG1sc291cmNlLnF1ZXJ5U2VsZWN0b3Ipe2lmKHhtbHNvdXJjZS5xdWVyeVNlbGVjdG9yKFwiZmxvYXRfYXJyYXlcIikpe3ZhciBmbG9hdHM9dGhpcy5yZWFkQ29udGVudEFzRmxvYXRzKHhtbHNvdXJjZSk7c291cmNlc1t4bWxzb3VyY2UuZ2V0QXR0cmlidXRlKFwiaWRcIildPWZsb2F0c31lbHNle3ZhciBuYW1lX2FycmF5PXhtbHNvdXJjZS5xdWVyeVNlbGVjdG9yKFwiTmFtZV9hcnJheVwiKTtpZihuYW1lX2FycmF5KXt2YXIgbmFtZXM9dGhpcy5yZWFkQ29udGVudEFzU3RyaW5nc0FycmF5KG5hbWVfYXJyYXkpO2lmKCFuYW1lcyljb250aW51ZTtzb3VyY2VzW3htbHNvdXJjZS5nZXRBdHRyaWJ1dGUoXCJpZFwiKV09bmFtZXN9ZWxzZXt2YXIgcmVmX2FycmF5PXhtbHNvdXJjZS5xdWVyeVNlbGVjdG9yKFwiSURSRUZfYXJyYXlcIik7aWYocmVmX2FycmF5KXt2YXIgbmFtZXM9dGhpcy5yZWFkQ29udGVudEFzU3RyaW5nc0FycmF5KHJlZl9hcnJheSk7aWYoIW5hbWVzKWNvbnRpbnVlO3NvdXJjZXNbeG1sc291cmNlLmdldEF0dHJpYnV0ZShcImlkXCIpXT1uYW1lc31lbHNlO319fX1yZXR1cm4gc291cmNlc30scmVhZENvbnRlbnRBc1VJbnQzMjpmdW5jdGlvbih4bWxub2RlKXtpZigheG1sbm9kZSlyZXR1cm4gbnVsbDt2YXIgdGV4dD14bWxub2RlLnRleHRDb250ZW50O2lmKHRleHQ9dGV4dC5yZXBsYWNlKC9cXG4vZ2ksXCIgXCIpLHRleHQ9dGV4dC50cmltKCksMD09dGV4dC5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKHZhciBudW1iZXJzPXRleHQuc3BsaXQoXCIgXCIpLGZsb2F0cz1uZXcgVWludDMyQXJyYXkobnVtYmVycy5sZW5ndGgpLGs9MDtrPG51bWJlcnMubGVuZ3RoO2srKylmbG9hdHNba109cGFyc2VJbnQobnVtYmVyc1trXSk7cmV0dXJuIGZsb2F0c30scmVhZENvbnRlbnRBc0Zsb2F0czpmdW5jdGlvbih4bWxub2RlKXtpZigheG1sbm9kZSlyZXR1cm4gbnVsbDt2YXIgdGV4dD14bWxub2RlLnRleHRDb250ZW50O3RleHQ9dGV4dC5yZXBsYWNlKC9cXG4vZ2ksXCIgXCIpLHRleHQ9dGV4dC5yZXBsYWNlKC9cXHNcXHMrL2dpLFwiIFwiKSx0ZXh0PXRleHQucmVwbGFjZSgvXFx0L2dpLFwiXCIpLHRleHQ9dGV4dC50cmltKCk7Zm9yKHZhciBudW1iZXJzPXRleHQuc3BsaXQoXCIgXCIpLGNvdW50PXhtbG5vZGUuZ2V0QXR0cmlidXRlKFwiY291bnRcIiksbGVuZ3RoPWNvdW50P3BhcnNlSW50KGNvdW50KTpudW1iZXJzLmxlbmd0aCxmbG9hdHM9bmV3IEZsb2F0MzJBcnJheShsZW5ndGgpLGs9MDtrPG51bWJlcnMubGVuZ3RoO2srKylmbG9hdHNba109cGFyc2VGbG9hdChudW1iZXJzW2tdKTtyZXR1cm4gZmxvYXRzfSxyZWFkQ29udGVudEFzU3RyaW5nc0FycmF5OmZ1bmN0aW9uKHhtbG5vZGUpe2lmKCF4bWxub2RlKXJldHVybiBudWxsO3ZhciB0ZXh0PXhtbG5vZGUudGV4dENvbnRlbnQ7dGV4dD10ZXh0LnJlcGxhY2UoL1xcbi9naSxcIiBcIiksdGV4dD10ZXh0LnJlcGxhY2UoL1xcc1xccy9naSxcIiBcIiksdGV4dD10ZXh0LnRyaW0oKTtmb3IodmFyIHdvcmRzPXRleHQuc3BsaXQoXCIgXCIpLGs9MDtrPHdvcmRzLmxlbmd0aDtrKyspd29yZHNba109d29yZHNba10udHJpbSgpO2lmKHhtbG5vZGUuZ2V0QXR0cmlidXRlKFwiY291bnRcIikmJnBhcnNlSW50KHhtbG5vZGUuZ2V0QXR0cmlidXRlKFwiY291bnRcIikpIT13b3Jkcy5sZW5ndGgpe3ZhciBtZXJnZWRfd29yZHM9W10sbmFtZT1cIlwiO2Zvcih2YXIgaSBpbiB3b3JkcyluYW1lP25hbWUrPVwiIFwiK3dvcmRzW2ldOm5hbWU9d29yZHNbaV0sdGhpcy5fbm9kZXNfYnlfaWRbdGhpcy5zYWZlU3RyaW5nKG5hbWUpXSYmKG1lcmdlZF93b3Jkcy5wdXNoKHRoaXMuc2FmZVN0cmluZyhuYW1lKSksbmFtZT1cIlwiKTt2YXIgY291bnQ9cGFyc2VJbnQoeG1sbm9kZS5nZXRBdHRyaWJ1dGUoXCJjb3VudFwiKSk7cmV0dXJuIG1lcmdlZF93b3Jkcy5sZW5ndGg9PWNvdW50P21lcmdlZF93b3JkczooY29uc29sZS5lcnJvcihcIkVycm9yOiBib25lIG5hbWVzIGhhdmUgc3BhY2VzLCBhdm9pZCB1c2luZyBzcGFjZXMgaW4gbmFtZXNcIiksbnVsbCl9cmV0dXJuIHdvcmRzfSxtYXgzZF9tYXRyaXhfMDpuZXcgRmxvYXQzMkFycmF5KFswLC0xLDAsMCwwLDAsLTEsMCwxLDAsMCwtMCwwLDAsMCwxXSksdHJhbnNmb3JtTWF0cml4OmZ1bmN0aW9uKG1hdHJpeCxmaXJzdF9sZXZlbCxpbnZlcnRlZCl7aWYoX2dsTWF0cml4Lm1hdDQudHJhbnNwb3NlKG1hdHJpeCxtYXRyaXgpLHRoaXMubm9fZmxpcClyZXR1cm4gbWF0cml4O2lmKGZpcnN0X2xldmVsKXt2YXIgdGVtcD1uZXcgRmxvYXQzMkFycmF5KG1hdHJpeC5zdWJhcnJheSg0LDgpKTttYXRyaXguc2V0KG1hdHJpeC5zdWJhcnJheSg4LDEyKSw0KSxtYXRyaXguc2V0KHRlbXAsOCksdGVtcD1tYXRyaXguc3ViYXJyYXkoOCwxMiksdmVjNC5zY2FsZSh0ZW1wLHRlbXAsLTEpfWVsc2V7dmFyIE09X2dsTWF0cml4Lm1hdDQuY3JlYXRlKCksbT1tYXRyaXg7TS5zZXQoW21bMF0sbVsyXSwtbVsxXV0sMCksTS5zZXQoW21bOF0sbVsxMF0sLW1bOV1dLDQpLE0uc2V0KFstbVs0XSwtbVs2XSxtWzVdXSw4KSxNLnNldChbbVsxMl0sbVsxNF0sLW1bMTNdXSwxMiksbS5zZXQoTSl9cmV0dXJuIG1hdHJpeH19O2V4cG9ydHMuZGVmYXVsdD1Db2xsYWRhLG1vZHVsZS5leHBvcnRzPWV4cG9ydHMuZGVmYXVsdH0pLmNhbGwoZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKDcwKSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBnLF90eXBlb2Y9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKG9iail7cmV0dXJuIHR5cGVvZiBvYmp9OmZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZvYmouY29uc3RydWN0b3I9PT1TeW1ib2wmJm9iaiE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2Ygb2JqfTtnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCk7dHJ5e2c9Z3x8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfHwoMCxldmFsKShcInRoaXNcIil9Y2F0Y2goZSl7XCJvYmplY3RcIj09PShcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93P1widW5kZWZpbmVkXCI6X3R5cGVvZih3aW5kb3cpKSYmKGc9d2luZG93KX1tb2R1bGUuZXhwb3J0cz1nfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX1Bhc3M9X193ZWJwYWNrX3JlcXVpcmVfXyg5KSxfR0xUb29sPShfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXNzKSxfX3dlYnBhY2tfcmVxdWlyZV9fKDApKSxfR0xUb29sMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRvb2wpLF9HZW9tPV9fd2VicGFja19yZXF1aXJlX18oNyksX0dlb20yPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dlb20pLF9GcmFtZUJ1ZmZlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSxfRnJhbWVCdWZmZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZyYW1lQnVmZmVyKSxFZmZlY3RDb21wb3Nlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIEVmZmVjdENvbXBvc2VyKG1XaWR0aCxtSGVpZ2h0KXthcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdO19jbGFzc0NhbGxDaGVjayh0aGlzLEVmZmVjdENvbXBvc2VyKSx0aGlzLl93aWR0aD1tV2lkdGh8fF9HTFRvb2wyLmRlZmF1bHQud2lkdGgsdGhpcy5faGVpZ2h0PW1IZWlnaHR8fF9HTFRvb2wyLmRlZmF1bHQuaGVpZ2h0LHRoaXMuX3BhcmFtcz17fSx0aGlzLnNldFNpemUobVdpZHRoLG1IZWlnaHQpLHRoaXMuX21lc2g9X0dlb20yLmRlZmF1bHQuYmlnVHJpYW5nbGUoKSx0aGlzLl9wYXNzZXM9W10sdGhpcy5fcmV0dXJuVGV4dHVyZX1yZXR1cm4gX2NyZWF0ZUNsYXNzKEVmZmVjdENvbXBvc2VyLFt7a2V5OlwiYWRkUGFzc1wiLHZhbHVlOmZ1bmN0aW9uKHBhc3Mpe2lmKHBhc3MucGFzc2VzKXJldHVybiB2b2lkIHRoaXMuYWRkUGFzcyhwYXNzLnBhc3Nlcyk7aWYocGFzcy5sZW5ndGgpZm9yKHZhciBpPTA7aTxwYXNzLmxlbmd0aDtpKyspdGhpcy5fcGFzc2VzLnB1c2gocGFzc1tpXSk7ZWxzZSB0aGlzLl9wYXNzZXMucHVzaChwYXNzKX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbihtU291cmNlKXt2YXIgX3RoaXM9dGhpcyxzb3VyY2U9bVNvdXJjZSxmYm9UYXJnZXQ9dm9pZCAwO3JldHVybiB0aGlzLl9wYXNzZXMuZm9yRWFjaChmdW5jdGlvbihwYXNzKXtmYm9UYXJnZXQ9cGFzcy5oYXNGYm8/cGFzcy5mYm86X3RoaXMuX2Zib1RhcmdldCxmYm9UYXJnZXQuYmluZCgpLF9HTFRvb2wyLmRlZmF1bHQuY2xlYXIoMCwwLDAsMCkscGFzcy5yZW5kZXIoc291cmNlKSxfR0xUb29sMi5kZWZhdWx0LmRyYXcoX3RoaXMuX21lc2gpLGZib1RhcmdldC51bmJpbmQoKSxwYXNzLmhhc0Zibz9zb3VyY2U9cGFzcy5mYm8uZ2V0VGV4dHVyZSgpOihfdGhpcy5fc3dhcCgpLHNvdXJjZT1fdGhpcy5fZmJvQ3VycmVudC5nZXRUZXh0dXJlKCkpfSksdGhpcy5fcmV0dXJuVGV4dHVyZT1zb3VyY2Usc291cmNlfX0se2tleTpcIl9zd2FwXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdG1wPXRoaXMuX2Zib0N1cnJlbnQ7dGhpcy5fZmJvQ3VycmVudD10aGlzLl9mYm9UYXJnZXQsdGhpcy5fZmJvVGFyZ2V0PXRtcCx0aGlzLl9jdXJyZW50PXRoaXMuX2Zib0N1cnJlbnQsdGhpcy5fdGFyZ2V0PXRoaXMuX2Zib1RhcmdldH19LHtrZXk6XCJzZXRTaXplXCIsdmFsdWU6ZnVuY3Rpb24obVdpZHRoLG1IZWlnaHQpe3RoaXMuX3dpZHRoPW1XaWR0aCx0aGlzLl9oZWlnaHQ9bUhlaWdodCx0aGlzLl9mYm9DdXJyZW50PW5ldyBfRnJhbWVCdWZmZXIyLmRlZmF1bHQodGhpcy5fd2lkdGgsdGhpcy5faGVpZ2h0LHRoaXMuX3BhcmFtcyksdGhpcy5fZmJvVGFyZ2V0PW5ldyBfRnJhbWVCdWZmZXIyLmRlZmF1bHQodGhpcy5fd2lkdGgsdGhpcy5faGVpZ2h0LHRoaXMuX3BhcmFtcyl9fSx7a2V5OlwiZ2V0VGV4dHVyZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JldHVyblRleHR1cmV9fSx7a2V5OlwicGFzc2VzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Bhc3Nlc319XSksRWZmZWN0Q29tcG9zZXJ9KCk7ZXhwb3J0cy5kZWZhdWx0PUVmZmVjdENvbXBvc2VyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfUGFzc1ZCbHVyPV9fd2VicGFja19yZXF1aXJlX18oMzcpLF9QYXNzVkJsdXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Bhc3NWQmx1ciksX1Bhc3NIQmx1cj1fX3dlYnBhY2tfcmVxdWlyZV9fKDM5KSxfUGFzc0hCbHVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXNzSEJsdXIpLF9QYXNzTWFjcm8yPV9fd2VicGFja19yZXF1aXJlX18oMzYpLF9QYXNzTWFjcm8zPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1Bhc3NNYWNybzIpLFBhc3NCbHVyPWZ1bmN0aW9uKF9QYXNzTWFjcm8pe2Z1bmN0aW9uIFBhc3NCbHVyKCl7dmFyIG1RdWFsaXR5PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTo5LG1XaWR0aD1hcmd1bWVudHNbMV0sbUhlaWdodD1hcmd1bWVudHNbMl0sbVBhcmFtcz1hcmd1bWVudHNbM107X2NsYXNzQ2FsbENoZWNrKHRoaXMsUGFzc0JsdXIpO3ZhciBfdGhpcz1fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChQYXNzQmx1ci5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihQYXNzQmx1cikpLmNhbGwodGhpcykpLHZCbHVyPW5ldyBfUGFzc1ZCbHVyMi5kZWZhdWx0KG1RdWFsaXR5LG1XaWR0aCxtSGVpZ2h0LG1QYXJhbXMpLGhCbHVyPW5ldyBfUGFzc0hCbHVyMi5kZWZhdWx0KG1RdWFsaXR5LG1XaWR0aCxtSGVpZ2h0LG1QYXJhbXMpO3JldHVybiBfdGhpcy5hZGRQYXNzKHZCbHVyKSxfdGhpcy5hZGRQYXNzKGhCbHVyKSxfdGhpc31yZXR1cm4gX2luaGVyaXRzKFBhc3NCbHVyLF9QYXNzTWFjcm8pLFBhc3NCbHVyfShfUGFzc01hY3JvMy5kZWZhdWx0KTtleHBvcnRzLmRlZmF1bHQ9UGFzc0JsdXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1cIi8vIGJsdXI1LmZyYWdcXG4vLyBzb3VyY2UgIDogaHR0cHM6Ly9naXRodWIuY29tL0phbTMvZ2xzbC1mYXN0LWdhdXNzaWFuLWJsdXJcXG5cXG4jZGVmaW5lIFNIQURFUl9OQU1FIEJMVVJfNVxcblxcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4jZGVmaW5lIEdMU0xJRlkgMVxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7XFxudW5pZm9ybSB2ZWMyIHVEaXJlY3Rpb247XFxudW5pZm9ybSB2ZWMyIHVSZXNvbHV0aW9uO1xcblxcbnZlYzQgYmx1cjUoc2FtcGxlcjJEIGltYWdlLCB2ZWMyIHV2LCB2ZWMyIHJlc29sdXRpb24sIHZlYzIgZGlyZWN0aW9uKSB7XFxuXFx0dmVjNCBjb2xvciA9IHZlYzQoMC4wKTtcXG5cXHR2ZWMyIG9mZjEgPSB2ZWMyKDEuMzMzMzMzMzMzMzMzMzMzMykgKiBkaXJlY3Rpb247XFxuXFx0Y29sb3IgKz0gdGV4dHVyZTJEKGltYWdlLCB1dikgKiAwLjI5NDExNzY0NzA1ODgyMzU0O1xcblxcdGNvbG9yICs9IHRleHR1cmUyRChpbWFnZSwgdXYgKyAob2ZmMSAvIHJlc29sdXRpb24pKSAqIDAuMzUyOTQxMTc2NDcwNTg4MjY7XFxuXFx0Y29sb3IgKz0gdGV4dHVyZTJEKGltYWdlLCB1diAtIChvZmYxIC8gcmVzb2x1dGlvbikpICogMC4zNTI5NDExNzY0NzA1ODgyNjtcXG5cXHRyZXR1cm4gY29sb3I7IFxcbn1cXG5cXG5cXG52b2lkIG1haW4odm9pZCkge1xcbiAgICBnbF9GcmFnQ29sb3IgPSBibHVyNSh0ZXh0dXJlLCB2VGV4dHVyZUNvb3JkLCB1UmVzb2x1dGlvbiwgdURpcmVjdGlvbik7XFxufVwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9XCIvLyBibHVyOS5mcmFnXFxuLy8gc291cmNlICA6IGh0dHBzOi8vZ2l0aHViLmNvbS9KYW0zL2dsc2wtZmFzdC1nYXVzc2lhbi1ibHVyXFxuXFxuI2RlZmluZSBTSEFERVJfTkFNRSBCTFVSXzlcXG5cXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlO1xcbnVuaWZvcm0gdmVjMiB1RGlyZWN0aW9uO1xcbnVuaWZvcm0gdmVjMiB1UmVzb2x1dGlvbjtcXG5cXG52ZWM0IGJsdXI5KHNhbXBsZXIyRCBpbWFnZSwgdmVjMiB1diwgdmVjMiByZXNvbHV0aW9uLCB2ZWMyIGRpcmVjdGlvbikge1xcblxcdHZlYzQgY29sb3IgPSB2ZWM0KDAuMCk7XFxuXFx0dmVjMiBvZmYxID0gdmVjMigxLjM4NDYxNTM4NDYpICogZGlyZWN0aW9uO1xcblxcdHZlYzIgb2ZmMiA9IHZlYzIoMy4yMzA3NjkyMzA4KSAqIGRpcmVjdGlvbjtcXG5cXHRjb2xvciArPSB0ZXh0dXJlMkQoaW1hZ2UsIHV2KSAqIDAuMjI3MDI3MDI3MDtcXG5cXHRjb2xvciArPSB0ZXh0dXJlMkQoaW1hZ2UsIHV2ICsgKG9mZjEgLyByZXNvbHV0aW9uKSkgKiAwLjMxNjIxNjIxNjI7XFxuXFx0Y29sb3IgKz0gdGV4dHVyZTJEKGltYWdlLCB1diAtIChvZmYxIC8gcmVzb2x1dGlvbikpICogMC4zMTYyMTYyMTYyO1xcblxcdGNvbG9yICs9IHRleHR1cmUyRChpbWFnZSwgdXYgKyAob2ZmMiAvIHJlc29sdXRpb24pKSAqIDAuMDcwMjcwMjcwMztcXG5cXHRjb2xvciArPSB0ZXh0dXJlMkQoaW1hZ2UsIHV2IC0gKG9mZjIgLyByZXNvbHV0aW9uKSkgKiAwLjA3MDI3MDI3MDM7XFxuXFx0cmV0dXJuIGNvbG9yO1xcbn1cXG5cXG5cXG52b2lkIG1haW4odm9pZCkge1xcbiAgICBnbF9GcmFnQ29sb3IgPSBibHVyOSh0ZXh0dXJlLCB2VGV4dHVyZUNvb3JkLCB1UmVzb2x1dGlvbiwgdURpcmVjdGlvbik7XFxufVwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9XCIvLyBibHVyMTMuZnJhZ1xcbi8vIHNvdXJjZSAgOiBodHRwczovL2dpdGh1Yi5jb20vSmFtMy9nbHNsLWZhc3QtZ2F1c3NpYW4tYmx1clxcblxcbiNkZWZpbmUgU0hBREVSX05BTUUgQkxVUl8xM1xcblxcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4jZGVmaW5lIEdMU0xJRlkgMVxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7XFxudW5pZm9ybSB2ZWMyIHVEaXJlY3Rpb247XFxudW5pZm9ybSB2ZWMyIHVSZXNvbHV0aW9uO1xcblxcbnZlYzQgYmx1cjEzKHNhbXBsZXIyRCBpbWFnZSwgdmVjMiB1diwgdmVjMiByZXNvbHV0aW9uLCB2ZWMyIGRpcmVjdGlvbikge1xcblxcdHZlYzQgY29sb3IgPSB2ZWM0KDAuMCk7XFxuXFx0dmVjMiBvZmYxID0gdmVjMigxLjQxMTc2NDcwNTg4MjM1MykgKiBkaXJlY3Rpb247XFxuXFx0dmVjMiBvZmYyID0gdmVjMigzLjI5NDExNzY0NzA1ODgyMzQpICogZGlyZWN0aW9uO1xcblxcdHZlYzIgb2ZmMyA9IHZlYzIoNS4xNzY0NzA1ODgyMzUyOTQpICogZGlyZWN0aW9uO1xcblxcdGNvbG9yICs9IHRleHR1cmUyRChpbWFnZSwgdXYpICogMC4xOTY0ODI1NTAxNTExNDA0O1xcblxcdGNvbG9yICs9IHRleHR1cmUyRChpbWFnZSwgdXYgKyAob2ZmMSAvIHJlc29sdXRpb24pKSAqIDAuMjk2OTA2OTY0NjcyODM0NDtcXG5cXHRjb2xvciArPSB0ZXh0dXJlMkQoaW1hZ2UsIHV2IC0gKG9mZjEgLyByZXNvbHV0aW9uKSkgKiAwLjI5NjkwNjk2NDY3MjgzNDQ7XFxuXFx0Y29sb3IgKz0gdGV4dHVyZTJEKGltYWdlLCB1diArIChvZmYyIC8gcmVzb2x1dGlvbikpICogMC4wOTQ0NzAzOTc4NTA0NDczMjtcXG5cXHRjb2xvciArPSB0ZXh0dXJlMkQoaW1hZ2UsIHV2IC0gKG9mZjIgLyByZXNvbHV0aW9uKSkgKiAwLjA5NDQ3MDM5Nzg1MDQ0NzMyO1xcblxcdGNvbG9yICs9IHRleHR1cmUyRChpbWFnZSwgdXYgKyAob2ZmMyAvIHJlc29sdXRpb24pKSAqIDAuMDEwMzgxMzYyNDAxMTQ4MDU3O1xcblxcdGNvbG9yICs9IHRleHR1cmUyRChpbWFnZSwgdXYgLSAob2ZmMyAvIHJlc29sdXRpb24pKSAqIDAuMDEwMzgxMzYyNDAxMTQ4MDU3O1xcblxcdHJldHVybiBjb2xvcjtcXG59XFxuXFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gYmx1cjEzKHRleHR1cmUsIHZUZXh0dXJlQ29vcmQsIHVSZXNvbHV0aW9uLCB1RGlyZWN0aW9uKTtcXG59XCJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hY2FsbHx8XCJvYmplY3RcIiE9dHlwZW9mIGNhbGwmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGNhbGw/c2VsZjpjYWxsfWZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcyxzdXBlckNsYXNzKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBzdXBlckNsYXNzJiZudWxsIT09c3VwZXJDbGFzcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2Ygc3VwZXJDbGFzcyk7c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxzdXBlckNsYXNzJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKTpzdWJDbGFzcy5fX3Byb3RvX189c3VwZXJDbGFzcyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRvb2wpLF9QYXNzMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDkpLF9QYXNzMz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYXNzMiksX2Z4YWE9X193ZWJwYWNrX3JlcXVpcmVfXyg0MCksX2Z4YWEyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Z4YWEpLFBhc3NGeGFhPWZ1bmN0aW9uKF9QYXNzKXtmdW5jdGlvbiBQYXNzRnhhYSgpe19jbGFzc0NhbGxDaGVjayh0aGlzLFBhc3NGeGFhKTt2YXIgX3RoaXM9X3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoUGFzc0Z4YWEuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoUGFzc0Z4YWEpKS5jYWxsKHRoaXMsX2Z4YWEyLmRlZmF1bHQpKTtyZXR1cm4gX3RoaXMudW5pZm9ybShcInVSZXNvbHV0aW9uXCIsWzEvX0dMVG9vbDIuZGVmYXVsdC53aWR0aCwxL19HTFRvb2wyLmRlZmF1bHQuaGVpZ2h0XSksX3RoaXN9cmV0dXJuIF9pbmhlcml0cyhQYXNzRnhhYSxfUGFzcyksUGFzc0Z4YWF9KF9QYXNzMy5kZWZhdWx0KTtleHBvcnRzLmRlZmF1bHQ9UGFzc0Z4YWF9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKXtyZXR1cm4gb2JqJiZvYmouX19lc01vZHVsZT9vYmo6e2RlZmF1bHQ6b2JqfX1mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hY2FsbHx8XCJvYmplY3RcIiE9dHlwZW9mIGNhbGwmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGNhbGw/c2VsZjpjYWxsfWZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcyxzdXBlckNsYXNzKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBzdXBlckNsYXNzJiZudWxsIT09c3VwZXJDbGFzcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2Ygc3VwZXJDbGFzcyk7c3ViQ2xhc3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyYmc3VwZXJDbGFzcy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpzdWJDbGFzcyxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxzdXBlckNsYXNzJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKTpzdWJDbGFzcy5fX3Byb3RvX189c3VwZXJDbGFzcyl9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX2dldD1mdW5jdGlvbiBnZXQob2JqZWN0LHByb3BlcnR5LHJlY2VpdmVyKXtudWxsPT09b2JqZWN0JiYob2JqZWN0PUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIGRlc2M9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QscHJvcGVydHkpO2lmKHZvaWQgMD09PWRlc2Mpe3ZhciBwYXJlbnQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7cmV0dXJuIG51bGw9PT1wYXJlbnQ/dm9pZCAwOmdldChwYXJlbnQscHJvcGVydHkscmVjZWl2ZXIpfWlmKFwidmFsdWVcImluIGRlc2MpcmV0dXJuIGRlc2MudmFsdWU7dmFyIGdldHRlcj1kZXNjLmdldDtpZih2b2lkIDAhPT1nZXR0ZXIpcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKX0sX0dlb209X193ZWJwYWNrX3JlcXVpcmVfXyg3KSxfR2VvbTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR2VvbSksX0dMU2hhZGVyPV9fd2VicGFja19yZXF1aXJlX18oMiksX0dMU2hhZGVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFNoYWRlciksX0JhdGNoMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLF9CYXRjaDM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmF0Y2gyKSx2cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSxmcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDE5KSxCYXRjaENvcHk9ZnVuY3Rpb24oX0JhdGNoKXtmdW5jdGlvbiBCYXRjaENvcHkoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxCYXRjaENvcHkpO3ZhciBtZXNoPV9HZW9tMi5kZWZhdWx0LmJpZ1RyaWFuZ2xlKCksc2hhZGVyPW5ldyBfR0xTaGFkZXIyLmRlZmF1bHQodnMsZnMpLF90aGlzPV9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsKEJhdGNoQ29weS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihCYXRjaENvcHkpKS5jYWxsKHRoaXMsbWVzaCxzaGFkZXIpKTtyZXR1cm4gc2hhZGVyLmJpbmQoKSxzaGFkZXIudW5pZm9ybShcInRleHR1cmVcIixcInVuaWZvcm0xaVwiLDApLF90aGlzfXJldHVybiBfaW5oZXJpdHMoQmF0Y2hDb3B5LF9CYXRjaCksX2NyZWF0ZUNsYXNzKEJhdGNoQ29weSxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0ZXh0dXJlKXt0aGlzLnNoYWRlci5iaW5kKCksdGV4dHVyZS5iaW5kKDApLF9nZXQoQmF0Y2hDb3B5LnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihCYXRjaENvcHkucHJvdG90eXBlKSxcImRyYXdcIix0aGlzKS5jYWxsKHRoaXMpfX1dKSxCYXRjaENvcHl9KF9CYXRjaDMuZGVmYXVsdCk7ZXhwb3J0cy5kZWZhdWx0PUJhdGNoQ29weX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFjYWxsfHxcIm9iamVjdFwiIT10eXBlb2YgY2FsbCYmXCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbD9zZWxmOmNhbGx9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN1cGVyQ2xhc3MmJm51bGwhPT1zdXBlckNsYXNzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBzdXBlckNsYXNzKTtzdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHN1cGVyQ2xhc3MmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVG9vbCksX01lc2g9X193ZWJwYWNrX3JlcXVpcmVfXyg1KSxfTWVzaDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWVzaCksX0dMU2hhZGVyPV9fd2VicGFja19yZXF1aXJlX18oMiksX0dMU2hhZGVyMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFNoYWRlciksX0JhdGNoMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLF9CYXRjaDM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQmF0Y2gyKSx2cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDc5KSxmcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDgwKSxCYXRjaEF4aXM9ZnVuY3Rpb24oX0JhdGNoKXtmdW5jdGlvbiBCYXRjaEF4aXMoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxCYXRjaEF4aXMpO3ZhciBwb3NpdGlvbnM9W10sY29sb3JzPVtdLGluZGljZXM9WzAsMSwyLDMsNCw1XSxyPTk5OTk7cG9zaXRpb25zLnB1c2goWy1yLDAsMF0pLHBvc2l0aW9ucy5wdXNoKFtyLDAsMF0pLHBvc2l0aW9ucy5wdXNoKFswLC1yLDBdKSxwb3NpdGlvbnMucHVzaChbMCxyLDBdKSxwb3NpdGlvbnMucHVzaChbMCwwLC1yXSkscG9zaXRpb25zLnB1c2goWzAsMCxyXSksY29sb3JzLnB1c2goWzEsMCwwXSksY29sb3JzLnB1c2goWzEsMCwwXSksY29sb3JzLnB1c2goWzAsMSwwXSksY29sb3JzLnB1c2goWzAsMSwwXSksY29sb3JzLnB1c2goWzAsMCwxXSksY29sb3JzLnB1c2goWzAsMCwxXSk7dmFyIG1lc2g9bmV3IF9NZXNoMi5kZWZhdWx0KF9HTFRvb2wyLmRlZmF1bHQuTElORVMpO21lc2guYnVmZmVyVmVydGV4KHBvc2l0aW9ucyksbWVzaC5idWZmZXJJbmRleChpbmRpY2VzKSxtZXNoLmJ1ZmZlckRhdGEoY29sb3JzLFwiYUNvbG9yXCIsMyk7dmFyIHNoYWRlcj1uZXcgX0dMU2hhZGVyMi5kZWZhdWx0KHZzLGZzKTtyZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoQmF0Y2hBeGlzLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEJhdGNoQXhpcykpLmNhbGwodGhpcyxtZXNoLHNoYWRlcikpfXJldHVybiBfaW5oZXJpdHMoQmF0Y2hBeGlzLF9CYXRjaCksQmF0Y2hBeGlzfShfQmF0Y2gzLmRlZmF1bHQpO2V4cG9ydHMuZGVmYXVsdD1CYXRjaEF4aXN9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1cIi8vIGF4aXMudmVydFxcblxcbiNkZWZpbmUgU0hBREVSX05BTUUgQkFTSUNfVkVSVEVYXFxuXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxuYXR0cmlidXRlIHZlYzMgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMzIGFDb2xvcjtcXG5hdHRyaWJ1dGUgdmVjMyBhTm9ybWFsO1xcblxcbnVuaWZvcm0gbWF0NCB1TW9kZWxNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVWaWV3TWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1UHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzMgdkNvbG9yO1xcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuICAgIGdsX1Bvc2l0aW9uID0gdVByb2plY3Rpb25NYXRyaXggKiB1Vmlld01hdHJpeCAqIHVNb2RlbE1hdHJpeCAqIHZlYzQoYVZlcnRleFBvc2l0aW9uLCAxLjApO1xcbiAgICB2Q29sb3IgPSBhQ29sb3I7XFxuICAgIHZOb3JtYWwgPSBhTm9ybWFsO1xcbn1cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPVwiLy8gYXhpcy5mcmFnXFxuXFxuI2RlZmluZSBTSEFERVJfTkFNRSBTSU1QTEVfVEVYVFVSRVxcblxcbnByZWNpc2lvbiBsb3dwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxudmFyeWluZyB2ZWMzIHZDb2xvcjtcXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG5cXG52b2lkIG1haW4odm9pZCkge1xcblxcdC8vIHZlYzMgY29sb3IgPSB2Tm9ybWFsO1xcblxcdHZlYzMgY29sb3IgPSB2Q29sb3IgKyB2Tm9ybWFsICogMC4wMDAxO1xcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxLjApO1xcbn1cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFjYWxsfHxcIm9iamVjdFwiIT10eXBlb2YgY2FsbCYmXCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbD9zZWxmOmNhbGx9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN1cGVyQ2xhc3MmJm51bGwhPT1zdXBlckNsYXNzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBzdXBlckNsYXNzKTtzdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHN1cGVyQ2xhc3MmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfZ2V0PWZ1bmN0aW9uIGdldChvYmplY3QscHJvcGVydHkscmVjZWl2ZXIpe251bGw9PT1vYmplY3QmJihvYmplY3Q9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgZGVzYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCxwcm9wZXJ0eSk7aWYodm9pZCAwPT09ZGVzYyl7dmFyIHBhcmVudD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtyZXR1cm4gbnVsbD09PXBhcmVudD92b2lkIDA6Z2V0KHBhcmVudCxwcm9wZXJ0eSxyZWNlaXZlcil9aWYoXCJ2YWx1ZVwiaW4gZGVzYylyZXR1cm4gZGVzYy52YWx1ZTt2YXIgZ2V0dGVyPWRlc2MuZ2V0O2lmKHZvaWQgMCE9PWdldHRlcilyZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpfSxfR2VvbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpLF9HZW9tMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HZW9tKSxfR0xTaGFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyKSxfR0xTaGFkZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMU2hhZGVyKSxfQmF0Y2gyPV9fd2VicGFja19yZXF1aXJlX18oNCksX0JhdGNoMz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXRjaDIpLHZzPV9fd2VicGFja19yZXF1aXJlX18oMzMpLGZzPV9fd2VicGFja19yZXF1aXJlX18oMTApLEJhdGNoQmFsbD1mdW5jdGlvbihfQmF0Y2gpe2Z1bmN0aW9uIEJhdGNoQmFsbCgpe19jbGFzc0NhbGxDaGVjayh0aGlzLEJhdGNoQmFsbCk7dmFyIG1lc2g9X0dlb20yLmRlZmF1bHQuc3BoZXJlKDEsMjQpLHNoYWRlcj1uZXcgX0dMU2hhZGVyMi5kZWZhdWx0KHZzLGZzKTtyZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoQmF0Y2hCYWxsLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEJhdGNoQmFsbCkpLmNhbGwodGhpcyxtZXNoLHNoYWRlcikpfXJldHVybiBfaW5oZXJpdHMoQmF0Y2hCYWxsLF9CYXRjaCksX2NyZWF0ZUNsYXNzKEJhdGNoQmFsbCxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBwb3NpdGlvbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06WzAsMCwwXSxzY2FsZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06WzEsMSwxXSxjb2xvcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06WzEsMSwxXSxvcGFjaXR5PWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXToxO3RoaXMuc2hhZGVyLmJpbmQoKSx0aGlzLnNoYWRlci51bmlmb3JtKFwicG9zaXRpb25cIixcInVuaWZvcm0zZnZcIixwb3NpdGlvbiksdGhpcy5zaGFkZXIudW5pZm9ybShcInNjYWxlXCIsXCJ1bmlmb3JtM2Z2XCIsc2NhbGUpLHRoaXMuc2hhZGVyLnVuaWZvcm0oXCJjb2xvclwiLFwidW5pZm9ybTNmdlwiLGNvbG9yKSx0aGlzLnNoYWRlci51bmlmb3JtKFwib3BhY2l0eVwiLFwidW5pZm9ybTFmXCIsb3BhY2l0eSksX2dldChCYXRjaEJhbGwucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEJhdGNoQmFsbC5wcm90b3R5cGUpLFwiZHJhd1wiLHRoaXMpLmNhbGwodGhpcyl9fV0pLEJhdGNoQmFsbH0oX0JhdGNoMy5kZWZhdWx0KTtleHBvcnRzLmRlZmF1bHQ9QmF0Y2hCYWxsfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9nZXQ9ZnVuY3Rpb24gZ2V0KG9iamVjdCxwcm9wZXJ0eSxyZWNlaXZlcil7bnVsbD09PW9iamVjdCYmKG9iamVjdD1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBkZXNjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LHByb3BlcnR5KTtpZih2b2lkIDA9PT1kZXNjKXt2YXIgcGFyZW50PU9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpO3JldHVybiBudWxsPT09cGFyZW50P3ZvaWQgMDpnZXQocGFyZW50LHByb3BlcnR5LHJlY2VpdmVyKX1pZihcInZhbHVlXCJpbiBkZXNjKXJldHVybiBkZXNjLnZhbHVlO3ZhciBnZXR0ZXI9ZGVzYy5nZXQ7aWYodm9pZCAwIT09Z2V0dGVyKXJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcil9LF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRvb2wpLF9NZXNoPV9fd2VicGFja19yZXF1aXJlX18oNSksX01lc2gyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2gpLF9HTFNoYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLF9HTFNoYWRlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xTaGFkZXIpLF9CYXRjaDI9X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxfQmF0Y2gzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JhdGNoMiksdnM9X193ZWJwYWNrX3JlcXVpcmVfXyg4MyksZnM9X193ZWJwYWNrX3JlcXVpcmVfXygxMCksQmF0Y2hEb3RzUGxhbmU9ZnVuY3Rpb24oX0JhdGNoKXtmdW5jdGlvbiBCYXRjaERvdHNQbGFuZSgpe19jbGFzc0NhbGxDaGVjayh0aGlzLEJhdGNoRG90c1BsYW5lKTt2YXIgcG9zaXRpb25zPVtdLGluZGljZXM9W10saW5kZXg9MCxpPXZvaWQgMCxqPXZvaWQgMDtmb3IoaT0tMTAwO2k8MTAwO2krPTEpZm9yKGo9LTEwMDtqPDEwMDtqKz0xKXBvc2l0aW9ucy5wdXNoKFtpLGosMF0pLGluZGljZXMucHVzaChpbmRleCksaW5kZXgrKyxwb3NpdGlvbnMucHVzaChbaSwwLGpdKSxpbmRpY2VzLnB1c2goaW5kZXgpLGluZGV4Kys7dmFyIG1lc2g9bmV3IF9NZXNoMi5kZWZhdWx0KF9HTFRvb2wyLmRlZmF1bHQuUE9JTlRTKTttZXNoLmJ1ZmZlclZlcnRleChwb3NpdGlvbnMpLG1lc2guYnVmZmVySW5kZXgoaW5kaWNlcyk7dmFyIHNoYWRlcj1uZXcgX0dMU2hhZGVyMi5kZWZhdWx0KHZzLGZzKSxfdGhpcz1fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChCYXRjaERvdHNQbGFuZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihCYXRjaERvdHNQbGFuZSkpLmNhbGwodGhpcyxtZXNoLHNoYWRlcikpO3JldHVybiBfdGhpcy5jb2xvcj1bMSwxLDFdLF90aGlzLm9wYWNpdHk9LjUsX3RoaXN9cmV0dXJuIF9pbmhlcml0cyhCYXRjaERvdHNQbGFuZSxfQmF0Y2gpLF9jcmVhdGVDbGFzcyhCYXRjaERvdHNQbGFuZSxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2hhZGVyLmJpbmQoKSx0aGlzLnNoYWRlci51bmlmb3JtKFwiY29sb3JcIixcInVuaWZvcm0zZnZcIix0aGlzLmNvbG9yKSx0aGlzLnNoYWRlci51bmlmb3JtKFwib3BhY2l0eVwiLFwidW5pZm9ybTFmXCIsdGhpcy5vcGFjaXR5KSxfZ2V0KEJhdGNoRG90c1BsYW5lLnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihCYXRjaERvdHNQbGFuZS5wcm90b3R5cGUpLFwiZHJhd1wiLHRoaXMpLmNhbGwodGhpcyl9fV0pLEJhdGNoRG90c1BsYW5lfShfQmF0Y2gzLmRlZmF1bHQpO2V4cG9ydHMuZGVmYXVsdD1CYXRjaERvdHNQbGFuZX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPVwiLy8gYmFzaWMudmVydFxcblxcbiNkZWZpbmUgU0hBREVSX05BTUUgRE9UU19QTEFORV9WRVJURVhcXG5cXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG5hdHRyaWJ1dGUgdmVjMyBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzMgYU5vcm1hbDtcXG5cXG51bmlmb3JtIG1hdDQgdU1vZGVsTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1Vmlld01hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG4gICAgZ2xfUG9zaXRpb24gPSB1UHJvamVjdGlvbk1hdHJpeCAqIHVWaWV3TWF0cml4ICogdU1vZGVsTWF0cml4ICogdmVjNChhVmVydGV4UG9zaXRpb24gKyBhTm9ybWFsICogMC4wMDAwMDEsIDEuMCk7XFxuICAgIGdsX1BvaW50U2l6ZSA9IDEuMDtcXG4gICAgdk5vcm1hbCA9IGFOb3JtYWw7XFxufVwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9nZXQ9ZnVuY3Rpb24gZ2V0KG9iamVjdCxwcm9wZXJ0eSxyZWNlaXZlcil7bnVsbD09PW9iamVjdCYmKG9iamVjdD1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBkZXNjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LHByb3BlcnR5KTtpZih2b2lkIDA9PT1kZXNjKXt2YXIgcGFyZW50PU9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpO3JldHVybiBudWxsPT09cGFyZW50P3ZvaWQgMDpnZXQocGFyZW50LHByb3BlcnR5LHJlY2VpdmVyKX1pZihcInZhbHVlXCJpbiBkZXNjKXJldHVybiBkZXNjLnZhbHVlO3ZhciBnZXR0ZXI9ZGVzYy5nZXQ7aWYodm9pZCAwIT09Z2V0dGVyKXJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcil9LF9HTFRvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxfR0xUb29sMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HTFRvb2wpLF9NZXNoPV9fd2VicGFja19yZXF1aXJlX18oNSksX01lc2gyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc2gpLF9HTFNoYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLF9HTFNoYWRlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xTaGFkZXIpLF9CYXRjaDI9X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxfQmF0Y2gzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JhdGNoMiksdnM9X193ZWJwYWNrX3JlcXVpcmVfXygxMSksZnM9X193ZWJwYWNrX3JlcXVpcmVfXygxMCksQmF0Y2hBeGlzPWZ1bmN0aW9uKF9CYXRjaCl7ZnVuY3Rpb24gQmF0Y2hBeGlzKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQmF0Y2hBeGlzKTt2YXIgcG9zaXRpb25zPVtdLGluZGljZXM9WzAsMV0sY29vcmRzPVtbMCwwXSxbMSwxXV07cG9zaXRpb25zLnB1c2goWzAsMCwwXSkscG9zaXRpb25zLnB1c2goWzAsMCwwXSk7dmFyIG1lc2g9bmV3IF9NZXNoMi5kZWZhdWx0KF9HTFRvb2wyLmRlZmF1bHQuTElORVMpO21lc2guYnVmZmVyVmVydGV4KHBvc2l0aW9ucyksbWVzaC5idWZmZXJUZXhDb29yZChjb29yZHMpLG1lc2guYnVmZmVySW5kZXgoaW5kaWNlcyk7dmFyIHNoYWRlcj1uZXcgX0dMU2hhZGVyMi5kZWZhdWx0KHZzLGZzKTtyZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoQmF0Y2hBeGlzLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEJhdGNoQXhpcykpLmNhbGwodGhpcyxtZXNoLHNoYWRlcikpfXJldHVybiBfaW5oZXJpdHMoQmF0Y2hBeGlzLF9CYXRjaCksX2NyZWF0ZUNsYXNzKEJhdGNoQXhpcyxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbihtUG9zaXRpb25BLG1Qb3NpdGlvbkIpe3ZhciBjb2xvcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06WzEsMSwxXSxvcGFjaXR5PWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXToxO3RoaXMuX21lc2guYnVmZmVyVmVydGV4KFttUG9zaXRpb25BLG1Qb3NpdGlvbkJdKSx0aGlzLl9zaGFkZXIuYmluZCgpLHRoaXMuX3NoYWRlci51bmlmb3JtKFwiY29sb3JcIixcInZlYzNcIixjb2xvciksdGhpcy5fc2hhZGVyLnVuaWZvcm0oXCJvcGFjaXR5XCIsXCJmbG9hdFwiLG9wYWNpdHkpLF9nZXQoQmF0Y2hBeGlzLnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihCYXRjaEF4aXMucHJvdG90eXBlKSxcImRyYXdcIix0aGlzKS5jYWxsKHRoaXMpfX1dKSxCYXRjaEF4aXN9KF9CYXRjaDMuZGVmYXVsdCk7ZXhwb3J0cy5kZWZhdWx0PUJhdGNoQXhpc30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFjYWxsfHxcIm9iamVjdFwiIT10eXBlb2YgY2FsbCYmXCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbD9zZWxmOmNhbGx9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN1cGVyQ2xhc3MmJm51bGwhPT1zdXBlckNsYXNzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBzdXBlckNsYXNzKTtzdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHN1cGVyQ2xhc3MmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfZ2V0PWZ1bmN0aW9uIGdldChvYmplY3QscHJvcGVydHkscmVjZWl2ZXIpe251bGw9PT1vYmplY3QmJihvYmplY3Q9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgZGVzYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCxwcm9wZXJ0eSk7aWYodm9pZCAwPT09ZGVzYyl7dmFyIHBhcmVudD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtyZXR1cm4gbnVsbD09PXBhcmVudD92b2lkIDA6Z2V0KHBhcmVudCxwcm9wZXJ0eSxyZWNlaXZlcil9aWYoXCJ2YWx1ZVwiaW4gZGVzYylyZXR1cm4gZGVzYy52YWx1ZTt2YXIgZ2V0dGVyPWRlc2MuZ2V0O2lmKHZvaWQgMCE9PWdldHRlcilyZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpfSxfR2VvbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpLF9HZW9tMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HZW9tKSxfR0xTaGFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyKSxfR0xTaGFkZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMU2hhZGVyKSxfQmF0Y2gyPV9fd2VicGFja19yZXF1aXJlX18oNCksX0JhdGNoMz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXRjaDIpLHZzPV9fd2VicGFja19yZXF1aXJlX18oMzQpLGZzPV9fd2VicGFja19yZXF1aXJlX18oMzUpLEJhdGNoU2t5Ym94PWZ1bmN0aW9uKF9CYXRjaCl7ZnVuY3Rpb24gQmF0Y2hTa3lib3goKXt2YXIgc2l6ZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MjA7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQmF0Y2hTa3lib3gpO3ZhciBtZXNoPV9HZW9tMi5kZWZhdWx0LnNreWJveChzaXplKSxzaGFkZXI9bmV3IF9HTFNoYWRlcjIuZGVmYXVsdCh2cyxmcyk7cmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsKEJhdGNoU2t5Ym94Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEJhdGNoU2t5Ym94KSkuY2FsbCh0aGlzLG1lc2gsc2hhZGVyKSl9cmV0dXJuIF9pbmhlcml0cyhCYXRjaFNreWJveCxfQmF0Y2gpLF9jcmVhdGVDbGFzcyhCYXRjaFNreWJveCxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0ZXh0dXJlKXt0aGlzLnNoYWRlci5iaW5kKCksdGV4dHVyZS5iaW5kKDApLF9nZXQoQmF0Y2hTa3lib3gucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEJhdGNoU2t5Ym94LnByb3RvdHlwZSksXCJkcmF3XCIsdGhpcykuY2FsbCh0aGlzKX19XSksQmF0Y2hTa3lib3h9KF9CYXRjaDMuZGVmYXVsdCk7ZXhwb3J0cy5kZWZhdWx0PUJhdGNoU2t5Ym94fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWNhbGx8fFwib2JqZWN0XCIhPXR5cGVvZiBjYWxsJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsP3NlbGY6Y2FsbH1mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc3VwZXJDbGFzcyYmbnVsbCE9PXN1cGVyQ2xhc3MpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO3N1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksc3VwZXJDbGFzcyYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3MpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHwhMSxkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBkZXNjcmlwdG9yJiYoZGVzY3JpcHRvci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKX19cmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLHByb3RvUHJvcHMsc3RhdGljUHJvcHMpe3JldHVybiBwcm90b1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKSxzdGF0aWNQcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3RvcixzdGF0aWNQcm9wcyksQ29uc3RydWN0b3J9fSgpLF9nZXQ9ZnVuY3Rpb24gZ2V0KG9iamVjdCxwcm9wZXJ0eSxyZWNlaXZlcil7bnVsbD09PW9iamVjdCYmKG9iamVjdD1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBkZXNjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LHByb3BlcnR5KTtpZih2b2lkIDA9PT1kZXNjKXt2YXIgcGFyZW50PU9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpO3JldHVybiBudWxsPT09cGFyZW50P3ZvaWQgMDpnZXQocGFyZW50LHByb3BlcnR5LHJlY2VpdmVyKX1pZihcInZhbHVlXCJpbiBkZXNjKXJldHVybiBkZXNjLnZhbHVlO3ZhciBnZXR0ZXI9ZGVzYy5nZXQ7aWYodm9pZCAwIT09Z2V0dGVyKXJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcil9LF9HZW9tPV9fd2VicGFja19yZXF1aXJlX18oNyksX0dlb20yPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dlb20pLF9HTFNoYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLF9HTFNoYWRlcjI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xTaGFkZXIpLF9CYXRjaDI9X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxfQmF0Y2gzPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0JhdGNoMiksdnM9X193ZWJwYWNrX3JlcXVpcmVfXyg4NyksZnM9X193ZWJwYWNrX3JlcXVpcmVfXygxOSksQmF0Y2hTa3k9ZnVuY3Rpb24oX0JhdGNoKXtmdW5jdGlvbiBCYXRjaFNreSgpe3ZhciBzaXplPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTo1MCxzZWc9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjI0O19jbGFzc0NhbGxDaGVjayh0aGlzLEJhdGNoU2t5KTt2YXIgbWVzaD1fR2VvbTIuZGVmYXVsdC5zcGhlcmUoc2l6ZSxzZWcsITApLHNoYWRlcj1uZXcgX0dMU2hhZGVyMi5kZWZhdWx0KHZzLGZzKTtyZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoQmF0Y2hTa3kuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmF0Y2hTa3kpKS5jYWxsKHRoaXMsbWVzaCxzaGFkZXIpKX1yZXR1cm4gX2luaGVyaXRzKEJhdGNoU2t5LF9CYXRjaCksX2NyZWF0ZUNsYXNzKEJhdGNoU2t5LFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHRleHR1cmUpe3RoaXMuc2hhZGVyLmJpbmQoKSx0ZXh0dXJlLmJpbmQoMCksX2dldChCYXRjaFNreS5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQmF0Y2hTa3kucHJvdG90eXBlKSxcImRyYXdcIix0aGlzKS5jYWxsKHRoaXMpfX1dKSxCYXRjaFNreX0oX0JhdGNoMy5kZWZhdWx0KTtleHBvcnRzLmRlZmF1bHQ9QmF0Y2hTa3l9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1cIi8vIHNreS52ZXJ0XFxuXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxuYXR0cmlidXRlIHZlYzMgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuYXR0cmlidXRlIHZlYzMgYU5vcm1hbDtcXG5cXG51bmlmb3JtIG1hdDQgdU1vZGVsTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1Vmlld01hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG5cXHRtYXQ0IG1hdFZpZXcgPSB1Vmlld01hdHJpeDtcXG5cXHRtYXRWaWV3WzNdWzBdID0gMC4wO1xcblxcdG1hdFZpZXdbM11bMV0gPSAwLjA7XFxuXFx0bWF0Vmlld1szXVsyXSA9IDAuMDtcXG5cXHRcXG4gICAgZ2xfUG9zaXRpb24gPSB1UHJvamVjdGlvbk1hdHJpeCAqIG1hdFZpZXcgKiB1TW9kZWxNYXRyaXggKiB2ZWM0KGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZOb3JtYWwgPSBhTm9ybWFsO1xcbn1cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFjYWxsfHxcIm9iamVjdFwiIT10eXBlb2YgY2FsbCYmXCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbD9zZWxmOmNhbGx9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN1cGVyQ2xhc3MmJm51bGwhPT1zdXBlckNsYXNzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBzdXBlckNsYXNzKTtzdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHN1cGVyQ2xhc3MmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfZ2V0PWZ1bmN0aW9uIGdldChvYmplY3QscHJvcGVydHkscmVjZWl2ZXIpe251bGw9PT1vYmplY3QmJihvYmplY3Q9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgZGVzYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCxwcm9wZXJ0eSk7aWYodm9pZCAwPT09ZGVzYyl7dmFyIHBhcmVudD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtyZXR1cm4gbnVsbD09PXBhcmVudD92b2lkIDA6Z2V0KHBhcmVudCxwcm9wZXJ0eSxyZWNlaXZlcil9aWYoXCJ2YWx1ZVwiaW4gZGVzYylyZXR1cm4gZGVzYy52YWx1ZTt2YXIgZ2V0dGVyPWRlc2MuZ2V0O2lmKHZvaWQgMCE9PWdldHRlcilyZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpfSxfR0xUb29sPV9fd2VicGFja19yZXF1aXJlX18oMCksX0dMVG9vbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xUb29sKSxfR2VvbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpLF9HZW9tMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HZW9tKSxfR0xTaGFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyKSxfR0xTaGFkZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMU2hhZGVyKSxfQmF0Y2gyPV9fd2VicGFja19yZXF1aXJlX18oNCksX0JhdGNoMz1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CYXRjaDIpLHZzPV9fd2VicGFja19yZXF1aXJlX18oMTgpLGZzPV9fd2VicGFja19yZXF1aXJlX18oNDApLEJhdGNoRlhBQT1mdW5jdGlvbihfQmF0Y2gpe2Z1bmN0aW9uIEJhdGNoRlhBQSgpe19jbGFzc0NhbGxDaGVjayh0aGlzLEJhdGNoRlhBQSk7dmFyIG1lc2g9X0dlb20yLmRlZmF1bHQuYmlnVHJpYW5nbGUoKSxzaGFkZXI9bmV3IF9HTFNoYWRlcjIuZGVmYXVsdCh2cyxmcyksX3RoaXM9X3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoQmF0Y2hGWEFBLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEJhdGNoRlhBQSkpLmNhbGwodGhpcyxtZXNoLHNoYWRlcikpO3JldHVybiBzaGFkZXIuYmluZCgpLHNoYWRlci51bmlmb3JtKFwidGV4dHVyZVwiLFwidW5pZm9ybTFpXCIsMCksX3RoaXN9cmV0dXJuIF9pbmhlcml0cyhCYXRjaEZYQUEsX0JhdGNoKSxfY3JlYXRlQ2xhc3MoQmF0Y2hGWEFBLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHRleHR1cmUpe3RoaXMuc2hhZGVyLmJpbmQoKSx0ZXh0dXJlLmJpbmQoMCksdGhpcy5zaGFkZXIudW5pZm9ybShcInVSZXNvbHV0aW9uXCIsXCJ2ZWMyXCIsWzEvX0dMVG9vbDIuZGVmYXVsdC53aWR0aCwxL19HTFRvb2wyLmRlZmF1bHQuaGVpZ2h0XSksX2dldChCYXRjaEZYQUEucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEJhdGNoRlhBQS5wcm90b3R5cGUpLFwiZHJhd1wiLHRoaXMpLmNhbGwodGhpcyl9fV0pLEJhdGNoRlhBQX0oX0JhdGNoMy5kZWZhdWx0KTtleHBvcnRzLmRlZmF1bHQ9QmF0Y2hGWEFBfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fCExLGRlc2NyaXB0b3IuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGRlc2NyaXB0b3ImJihkZXNjcmlwdG9yLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LGRlc2NyaXB0b3Iua2V5LGRlc2NyaXB0b3IpfX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7cmV0dXJuIHByb3RvUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpLHN0YXRpY1Byb3BzJiZkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKSxDb25zdHJ1Y3Rvcn19KCksX3NjaGVkdWxpbmc9X193ZWJwYWNrX3JlcXVpcmVfXyg2KSxfc2NoZWR1bGluZzI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2NoZWR1bGluZyksX0dMVG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9HTFRvb2wyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMVG9vbCksX0NhbWVyYVBlcnNwZWN0aXZlPV9fd2VicGFja19yZXF1aXJlX18oMTYpLF9DYW1lcmFQZXJzcGVjdGl2ZTI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FtZXJhUGVyc3BlY3RpdmUpLF9DYW1lcmFPcnRobz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMwKSxfQ2FtZXJhT3J0aG8yPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbWVyYU9ydGhvKSxfT3JiaXRhbENvbnRyb2w9X193ZWJwYWNrX3JlcXVpcmVfXygyOSksX09yYml0YWxDb250cm9sMj1faW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PcmJpdGFsQ29udHJvbCksU2NlbmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBTY2VuZSgpe3ZhciBfdGhpcz10aGlzO19jbGFzc0NhbGxDaGVjayh0aGlzLFNjZW5lKSx0aGlzLl9jaGlsZHJlbj1bXSx0aGlzLl9tYXRyaXhJZGVudGl0eT1tYXQ0LmNyZWF0ZSgpLF9HTFRvb2wyLmRlZmF1bHQuZW5hYmxlQWxwaGFCbGVuZGluZygpLHRoaXMuX2luaXQoKSx0aGlzLl9pbml0VGV4dHVyZXMoKSx0aGlzLl9pbml0Vmlld3MoKSx0aGlzLl9lZkluZGV4PV9zY2hlZHVsaW5nMi5kZWZhdWx0LmFkZEVGKGZ1bmN0aW9uKCl7cmV0dXJuIF90aGlzLl9sb29wKCl9KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIF90aGlzLnJlc2l6ZSgpfSl9cmV0dXJuIF9jcmVhdGVDbGFzcyhTY2VuZSxbe2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcInN0b3BcIix2YWx1ZTpmdW5jdGlvbigpey0xIT09dGhpcy5fZWZJbmRleCYmKHRoaXMuX2VmSW5kZXg9X3NjaGVkdWxpbmcyLmRlZmF1bHQucmVtb3ZlRUYodGhpcy5fZWZJbmRleCkpfX0se2tleTpcInN0YXJ0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgX3RoaXMyPXRoaXM7LTE9PT10aGlzLl9lZkluZGV4JiYodGhpcy5fZWZJbmRleD1fc2NoZWR1bGluZzIuZGVmYXVsdC5hZGRFRihmdW5jdGlvbigpe3JldHVybiBfdGhpczIuX2xvb3AoKX0pKX19LHtrZXk6XCJyZXNpemVcIix2YWx1ZTpmdW5jdGlvbigpe19HTFRvb2wyLmRlZmF1bHQuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCx3aW5kb3cuaW5uZXJIZWlnaHQpLHRoaXMuY2FtZXJhLnNldEFzcGVjdFJhdGlvKF9HTFRvb2wyLmRlZmF1bHQuYXNwZWN0UmF0aW8pfX0se2tleTpcImFkZENoaWxkXCIsdmFsdWU6ZnVuY3Rpb24obUNoaWxkKXt0aGlzLl9jaGlsZHJlbi5wdXNoKG1DaGlsZCl9fSx7a2V5OlwicmVtb3ZlQ2hpbGRcIix2YWx1ZTpmdW5jdGlvbihtQ2hpbGQpe3ZhciBpbmRleD10aGlzLl9jaGlsZHJlbi5pbmRleE9mKG1DaGlsZCk7aWYoLTE9PWluZGV4KXJldHVybiB2b2lkIGNvbnNvbGUud2FybihcIkNoaWxkIG5vIGV4aXN0XCIpO3RoaXMuX2NoaWxkcmVuLnNwbGljZShpbmRleCwxKX19LHtrZXk6XCJfaW5pdFRleHR1cmVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OlwiX2luaXRWaWV3c1wiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcIl9yZW5kZXJDaGlsZHJlblwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBjaGlsZD12b2lkIDAsaT0wO2k8dGhpcy5fY2hpbGRyZW4ubGVuZ3RoO2krKyljaGlsZD10aGlzLl9jaGlsZHJlbltpXSxjaGlsZC50b1JlbmRlcigpO19HTFRvb2wyLmRlZmF1bHQucm90YXRlKHRoaXMuX21hdHJpeElkZW50aXR5KX19LHtrZXk6XCJfaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jYW1lcmE9bmV3IF9DYW1lcmFQZXJzcGVjdGl2ZTIuZGVmYXVsdCx0aGlzLmNhbWVyYS5zZXRQZXJzcGVjdGl2ZSg0NSpNYXRoLlBJLzE4MCxfR0xUb29sMi5kZWZhdWx0LmFzcGVjdFJhdGlvLC4xLDEwMCksdGhpcy5vcmJpdGFsQ29udHJvbD1uZXcgX09yYml0YWxDb250cm9sMi5kZWZhdWx0KHRoaXMuY2FtZXJhLHdpbmRvdywxNSksdGhpcy5vcmJpdGFsQ29udHJvbC5yYWRpdXMudmFsdWU9MTAsdGhpcy5jYW1lcmFPcnRobz1uZXcgX0NhbWVyYU9ydGhvMi5kZWZhdWx0fX0se2tleTpcIl9sb29wXCIsdmFsdWU6ZnVuY3Rpb24oKXtfR0xUb29sMi5kZWZhdWx0LnZpZXdwb3J0KDAsMCxfR0xUb29sMi5kZWZhdWx0LndpZHRoLF9HTFRvb2wyLmRlZmF1bHQuaGVpZ2h0KSxfR0xUb29sMi5kZWZhdWx0LnNldE1hdHJpY2VzKHRoaXMuY2FtZXJhKSx0aGlzLnVwZGF0ZSgpLHRoaXMuX3JlbmRlckNoaWxkcmVuKCksdGhpcy5yZW5kZXIoKX19XSksU2NlbmV9KCk7ZXhwb3J0cy5kZWZhdWx0PVNjZW5lfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfR0xTaGFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyKSxfR0xTaGFkZXIyPWZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiYmb2JqLl9fZXNNb2R1bGU/b2JqOntkZWZhdWx0Om9ian19KF9HTFNoYWRlciksVmlldz1mdW5jdGlvbigpe2Z1bmN0aW9uIFZpZXcobVN0clZlcnRleCxtU3RyRnJhZyl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsVmlldyksdGhpcy5zaGFkZXI9bmV3IF9HTFNoYWRlcjIuZGVmYXVsdChtU3RyVmVydGV4LG1TdHJGcmFnKSx0aGlzLl9pbml0KCl9cmV0dXJuIF9jcmVhdGVDbGFzcyhWaWV3LFt7a2V5OlwiX2luaXRcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe319XSksVmlld30oKTtleHBvcnRzLmRlZmF1bHQ9Vmlld30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmope3JldHVybiBvYmomJm9iai5fX2VzTW9kdWxlP29iajp7ZGVmYXVsdDpvYmp9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsY2FsbCl7aWYoIXNlbGYpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFjYWxsfHxcIm9iamVjdFwiIT10eXBlb2YgY2FsbCYmXCJmdW5jdGlvblwiIT10eXBlb2YgY2FsbD9zZWxmOmNhbGx9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHN1cGVyQ2xhc3MmJm51bGwhPT1zdXBlckNsYXNzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBzdXBlckNsYXNzKTtzdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHN1cGVyQ2xhc3MmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLHN1cGVyQ2xhc3MpOnN1YkNsYXNzLl9fcHJvdG9fXz1zdXBlckNsYXNzKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQscHJvcHMpe2Zvcih2YXIgaT0wO2k8cHJvcHMubGVuZ3RoO2krKyl7dmFyIGRlc2NyaXB0b3I9cHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlPWRlc2NyaXB0b3IuZW51bWVyYWJsZXx8ITEsZGVzY3JpcHRvci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvciYmKGRlc2NyaXB0b3Iud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcil9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtyZXR1cm4gcHJvdG9Qcm9wcyYmZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUscHJvdG9Qcm9wcyksc3RhdGljUHJvcHMmJmRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpLENvbnN0cnVjdG9yfX0oKSxfT2JqZWN0M0QyPV9fd2VicGFja19yZXF1aXJlX18oMzEpLF9PYmplY3QzRDM9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT2JqZWN0M0QyKSxfR0xTaGFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyKSxfR0xTaGFkZXIyPV9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dMU2hhZGVyKSxfR0xUb29sPV9fd2VicGFja19yZXF1aXJlX18oMCksX0dMVG9vbDI9X2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR0xUb29sKSxWaWV3M0Q9ZnVuY3Rpb24oX09iamVjdDNEKXtmdW5jdGlvbiBWaWV3M0QobVN0clZlcnRleCxtU3RyRnJhZyl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsVmlldzNEKTt2YXIgX3RoaXM9X3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoVmlldzNELl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKFZpZXczRCkpLmNhbGwodGhpcykpO3JldHVybiBfdGhpcy5fY2hpbGRyZW49W10sX3RoaXMuc2hhZGVyPW5ldyBfR0xTaGFkZXIyLmRlZmF1bHQobVN0clZlcnRleCxtU3RyRnJhZyksX3RoaXMuX2luaXQoKSxfdGhpcy5fbWF0cml4VGVtcD1tYXQ0LmNyZWF0ZSgpLF90aGlzfXJldHVybiBfaW5oZXJpdHMoVmlldzNELF9PYmplY3QzRCksX2NyZWF0ZUNsYXNzKFZpZXczRCxbe2tleTpcIl9pbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OlwiYWRkQ2hpbGRcIix2YWx1ZTpmdW5jdGlvbihtQ2hpbGQpe3RoaXMuX2NoaWxkcmVuLnB1c2gobUNoaWxkKX19LHtrZXk6XCJyZW1vdmVDaGlsZFwiLHZhbHVlOmZ1bmN0aW9uKG1DaGlsZCl7dmFyIGluZGV4PXRoaXMuX2NoaWxkcmVuLmluZGV4T2YobUNoaWxkKTtpZigtMT09aW5kZXgpcmV0dXJuIHZvaWQgY29uc29sZS53YXJuKFwiQ2hpbGQgbm8gZXhpc3RcIik7dGhpcy5fY2hpbGRyZW4uc3BsaWNlKGluZGV4LDEpfX0se2tleTpcInRvUmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24obWF0cml4KXt2b2lkIDA9PT1tYXRyaXgmJihtYXRyaXg9bWF0NC5jcmVhdGUoKSksbWF0NC5tdWwodGhpcy5fbWF0cml4VGVtcCxtYXRyaXgsdGhpcy5tYXRyaXgpLF9HTFRvb2wyLmRlZmF1bHQucm90YXRlKHRoaXMuX21hdHJpeFRlbXApLHRoaXMucmVuZGVyKCk7Zm9yKHZhciBpPTA7aTx0aGlzLl9jaGlsZHJlbi5sZW5ndGg7aSsrKXt0aGlzLl9jaGlsZHJlbltpXS50b1JlbmRlcih0aGlzLm1hdHJpeCl9fX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7fX1dKSxWaWV3M0R9KF9PYmplY3QzRDMuZGVmYXVsdCk7ZXhwb3J0cy5kZWZhdWx0PVZpZXczRH1dKX0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2FsZnJpZC9idWlsZC9hbGZyaWQuanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIvLyBDb25maWcuanNcblxuZXhwb3J0IGRlZmF1bHQge1xuXHRudW1UcmVlczo1MCxcblx0dHJlZVNjYWxlOjEuNSxcblx0Zmxvb3JSYWRpdXM6Myxcblx0bWF4Rmxvb3JIZWlnaHQ6MC42LFxuXHR0cmVlQnVtcEhlaWdodDowLjI1LFxuXHRudW1TbGlkZXM6MzAsXG5cdG5vaXNlTnVtOjgsXG5cdG5vaXNlU2NhbGU6Myxcblx0YW5pbWF0ZWQ6ZmFsc2UsXG5cdGZ4YWE6dHJ1ZSxcblx0b3ZlcmxheU9wYWNpdHk6LjI1XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL0NvbmZpZy5qcyIsIi8vIEFzc2V0cy5qc1xuXG5pbXBvcnQgYXNzZXRzVG9Mb2FkIGZyb20gJy4vYXNzZXQtbGlzdCc7XG5pbXBvcnQgYWxmcmlkLCB7IEdMVGV4dHVyZSwgR0xDdWJlVGV4dHVyZSwgTWVzaCwgT2JqTG9hZGVyIH0gZnJvbSAnYWxmcmlkJztcblxuY29uc3QgQXNzZXRzID0ge307XG5sZXQgX2Fzc2V0cyA9IFtdO1xuXG5jb25zdCBnZXRBc3NldCA9IGZ1bmN0aW9uKGlkKSB7XG5cdHJldHVybiBhc3NldHMuZmluZCggKGEpID0+IGEuaWQgPT09IGlkKS5maWxlO1xufVxuXG5jb25zdCBnZXRFeHRlbnNpb24gPSBmdW5jdGlvbihtRmlsZSkge1xuXHRjb25zdCBhcnkgPSBtRmlsZS5zcGxpdCgnLicpO1xuXHRyZXR1cm4gYXJ5W2FyeS5sZW5ndGggLSAxXTtcbn1cblxuQXNzZXRzLmluaXQgPSBmdW5jdGlvbigpIHtcblx0bGV0IGhkckN1YmVtYXBzID0ge307XG5cdF9hc3NldHMgPSBhc3NldHNUb0xvYWQubWFwKChvKT0+IHtcblx0XHRjb25zdCBleHQgPSBnZXRFeHRlbnNpb24oby51cmwpO1xuXHRcdGNvbnN0IGZpbGUgPSBnZXRBc3NldChvLmlkKTtcblx0XHRsZXQgdGV4dHVyZTtcblxuXHRcdHN3aXRjaChleHQpIHtcblx0XHRcdGNhc2UgJ2pwZyc6XG5cdFx0XHRjYXNlICdwbmcnOlxuXHRcdFx0XHR0ZXh0dXJlID0gbmV3IEdMVGV4dHVyZShmaWxlKTtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRpZDpvLmlkLFxuXHRcdFx0XHRcdGZpbGU6dGV4dHVyZVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSAnaGRyJzpcblx0XHRcdFx0bGV0IGN1YmVtYXBOYW1lID0gby5pZC5zcGxpdCgnXycpWzBdO1xuXHRcdFx0XHR0ZXh0dXJlID0gYWxmcmlkLkhEUkxvYWRlci5wYXJzZShmaWxlKTtcblxuXHRcdFx0XHRjb25zdCBvQXNzZXQgPSB7XG5cdFx0XHRcdFx0aWQ6by5pZCxcblx0XHRcdFx0XHRmaWxlOnRleHR1cmVcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRpZighaGRyQ3ViZW1hcHNbY3ViZW1hcE5hbWVdKSB7XG5cdFx0XHRcdFx0aGRyQ3ViZW1hcHNbY3ViZW1hcE5hbWVdID0gW107XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRoZHJDdWJlbWFwc1tjdWJlbWFwTmFtZV0ucHVzaChvQXNzZXQpO1xuXHRcdFx0XHRyZXR1cm4gb0Fzc2V0O1xuXG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnZGRzJzpcblx0XHRcdFx0dGV4dHVyZSA9IEdMQ3ViZVRleHR1cmUucGFyc2VERFMoZmlsZSk7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0aWQ6by5pZCxcblx0XHRcdFx0XHRmaWxlOnRleHR1cmVcblx0XHRcdFx0fTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgJ29iaic6XG5cdFx0XHRcdGNvbnN0IG1lc2ggPSBPYmpMb2FkZXIucGFyc2UoZmlsZSk7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0aWQ6by5pZCxcblx0XHRcdFx0XHRmaWxlOm1lc2hcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cblx0fSk7XG5cblx0Zm9yKGxldCBzIGluIGhkckN1YmVtYXBzKSB7XG5cdFx0aWYoaGRyQ3ViZW1hcHNbc10ubGVuZ3RoID09IDYpIHtcblx0XHRcdGNvbnNvbGUubG9nKCdHZW5lcmF0ZSBDdWJlbWFwIDonLCBzKTtcblxuXHRcdFx0Y29uc3QgYXJ5ID0gW1xuXHRcdFx0XHRBc3NldHMuZ2V0KGAke3N9X3Bvc3hgKSxcblx0XHRcdFx0QXNzZXRzLmdldChgJHtzfV9uZWd4YCksXG5cdFx0XHRcdEFzc2V0cy5nZXQoYCR7c31fcG9zeWApLFxuXHRcdFx0XHRBc3NldHMuZ2V0KGAke3N9X25lZ3lgKSxcblx0XHRcdFx0QXNzZXRzLmdldChgJHtzfV9wb3N6YCksXG5cdFx0XHRcdEFzc2V0cy5nZXQoYCR7c31fbmVnemApXG5cdFx0XHRdO1xuXG5cdFx0XHRjb25zdCB0ZXh0dXJlID0gbmV3IGFsZnJpZC5HTEN1YmVUZXh0dXJlKGFyeSk7XG5cdFx0XHRfYXNzZXRzLnB1c2goe1xuXHRcdFx0XHRpZDpzLFxuXHRcdFx0XHRmaWxlOnRleHR1cmVcblx0XHRcdH0pXG5cdFx0fVxuXHR9XG5cblx0aWYoX2Fzc2V0cy5sZW5ndGggPiAwKSB7XG5cdFx0Y29uc29sZS5kZWJ1ZygnQVNTRVRTOicpO1xuXHRcdGNvbnNvbGUudGFibGUoX2Fzc2V0cyk7XHRcblx0fVxuXHRcbn1cblxuQXNzZXRzLmdldCA9IGZ1bmN0aW9uKG1JZCkge1xuXHRyZXR1cm4gX2Fzc2V0cy5maW5kKChhKSA9PiB7XG5cdFx0cmV0dXJuIGEuaWQgPT09IG1JZDtcblx0fSkuZmlsZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQXNzZXRzO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9Bc3NldHMuanMiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKHVuZGVmaW5lZCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJodG1sLCBib2R5IHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBwb3NpdGlvbjogc3RhdGljO1xcbiAgLyogUGVybWFsaW5rIC0gdXNlIHRvIGVkaXQgYW5kIHNoYXJlIHRoaXMgZ3JhZGllbnQ6IGh0dHA6Ly9jb2xvcnppbGxhLmNvbS9ncmFkaWVudC1lZGl0b3IvIzZkNmQ2ZCswLDAwMDAwMCsxMDAgKi9cXG4gIGJhY2tncm91bmQ6ICMzMzMzMzM7XFxuICAvKiBPbGQgYnJvd3NlcnMgKi9cXG4gIGJhY2tncm91bmQ6IC1tb3otcmFkaWFsLWdyYWRpZW50KGNlbnRlciwgZWxsaXBzZSBjb3ZlciwgIzMzMzMzMyAwJSwgIzAwMDAwMCAxMDAlKTtcXG4gIC8qIEZGMy42LTE1ICovXFxuICBiYWNrZ3JvdW5kOiAtd2Via2l0LXJhZGlhbC1ncmFkaWVudChjZW50ZXIsIGVsbGlwc2UgY292ZXIsICMzMzMzMzMgMCUsICMwMDAwMDAgMTAwJSk7XFxuICAvKiBDaHJvbWUxMC0yNSxTYWZhcmk1LjEtNiAqL1xcbiAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGVsbGlwc2UgYXQgY2VudGVyLCAjMzMzMzMzIDAlLCAjMDAwMDAwIDEwMCUpO1xcbiAgLyogVzNDLCBJRTEwKywgRkYxNissIENocm9tZTI2KywgT3BlcmExMissIFNhZmFyaTcrICovIH1cXG5cXG5odG1sIHtcXG4gIC13ZWJraXQtdGV4dC1zaXplLWFkanVzdDogbm9uZTtcXG4gIC1tb3otdGV4dC1zaXplLWFkanVzdDogbm9uZTtcXG4gIHRleHQtc2l6ZS1hZGp1c3Q6IG5vbmU7IH1cXG5cXG5oMSwgaDIsIGgzLCBoNCwgdGV4dCwgcCB7XFxuICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcXG4gIC1tb3otb3N4LXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XFxuICBmb250LWZhbWlseTogJ09wZW4gU2FucycsIHNhbnMtc2VyaWY7IH1cXG5cXG4uTWFpbi1DYW52YXMge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICB0b3A6IDBweDtcXG4gIGxlZnQ6IDBweDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgb3BhY2l0eTogMTtcXG4gIHRyYW5zaXRpb246IG9wYWNpdHkgLjVzIGVhc2Utb3V0IC4yNXM7IH1cXG4gIC5pc0xvYWRpbmcgLk1haW4tQ2FudmFzIHtcXG4gICAgb3BhY2l0eTogMDsgfVxcblxcbi5NZXNzYWdlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDk5OTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgdG9wOiBjYWxjKDUwJSAtIDUwcHgpO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgbGV0dGVyLXNwYWNpbmc6IDExcHg7XFxuICBjb2xvcjogd2hpdGU7XFxuICBvcGFjaXR5OiAwO1xcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAuNXMgZWFzZS1vdXQsIGxldHRlci1zcGFjaW5nIC41cyBlYXNlLW91dDsgfVxcbiAgLmlzTG9hZGluZyAuTWVzc2FnZSB7XFxuICAgIGxldHRlci1zcGFjaW5nOiAxMHB4O1xcbiAgICBvcGFjaXR5OiAxOyB9XFxuXFxuLkxvYWRpbmctQmFyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDk5ODtcXG4gIHdpZHRoOiAwJTtcXG4gIGhlaWdodDogMXB4O1xcbiAgdG9wOiA1MCU7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSk7XFxuICBvcGFjaXR5OiAwO1xcbiAgdHJhbnNpdGlvbjogd2lkdGggLjVzIGVhc2Utb3V0LCBvcGFjaXR5IC41cyBlYXNlLW91dDsgfVxcbiAgLmlzTG9hZGluZyAuTG9hZGluZy1CYXIge1xcbiAgICBvcGFjaXR5OiAxOyB9XFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlcj91cmw9ZmFsc2UhLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL3NyYy9zY3NzL2dsb2JhbC5zY3NzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlxuY29uc3QgYXNzZXRzVG9Mb2FkID0gW1xuXHR7XCJpZFwiOlwibm9pc2VcIixcInVybFwiOlwiYXNzZXRzL2ltZy9ub2lzZS5qcGdcIixcInR5cGVcIjpcImpwZ1wifSxcblx0e1wiaWRcIjpcInRyZWUxXCIsXCJ1cmxcIjpcImFzc2V0cy9vYmovdHJlZTEub2JqXCIsXCJ0eXBlXCI6XCJ0ZXh0XCJ9LFxuXHR7XCJpZFwiOlwidHJlZTJcIixcInVybFwiOlwiYXNzZXRzL29iai90cmVlMi5vYmpcIixcInR5cGVcIjpcInRleHRcIn1cbl07XG5cblxuZXhwb3J0IGRlZmF1bHQgYXNzZXRzVG9Mb2FkO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9hc3NldC1saXN0LmpzIiwiLy8gU2V0dGluZ3MuanNcblxuaW1wb3J0IENvbmZpZyBmcm9tICcuL0NvbmZpZyc7XG5pbXBvcnQgdXJsIGZyb20gJ2Zhc3QtdXJsLXBhcnNlcic7XG51cmwucXVlcnlTdHJpbmcgPSByZXF1aXJlKFwicXVlcnlzdHJpbmdwYXJzZXJcIik7XG5cbmxldCBlbmFibGVkID0gdHJ1ZTtcblxuXG5jb25zdCByZWxvYWQgPSAoKSA9PiB7XG5cdGlmKCFlbmFibGVkKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbit3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyAnP2NvbmZpZz0nICsgSlNPTi5zdHJpbmdpZnkoQ29uZmlnKTtcbn1cblxuY29uc3QgcmVmcmVzaCA9ICgpID0+IHtcblx0aWYoIWVuYWJsZWQpIHtcblx0XHRyZXR1cm47XG5cdH1cblx0d2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKCdleHBlcmltZW50JywgJ1RpdGxlJywgd2luZG93LmxvY2F0aW9uLm9yaWdpbit3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyAnP2NvbmZpZz0nICsgSlNPTi5zdHJpbmdpZnkoQ29uZmlnKSk7XHRcbn1cblxuXG5sZXQgZGVsYXlJbmRleCA9IC0xO1xuXG5jb25zdCBkZWxheVJlbG9hZCA9ICgpID0+IHtcblx0aWYoIWVuYWJsZWQpIHtcblx0XHRyZXR1cm47XG5cdH1cblx0d2luZG93LmNsZWFyVGltZW91dChkZWxheUluZGV4KTtcblxuXHRkZWxheUluZGV4ID0gd2luZG93LnNldFRpbWVvdXQoKCk9PiB7XG5cdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luK3dpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArICc/Y29uZmlnPScgKyBKU09OLnN0cmluZ2lmeShDb25maWcpO1xuXHR9LCA1MDApO1xufVxuXG5cbmNvbnN0IGluaXQgPSAobUVuYWJsZWQ9dHJ1ZSkgPT4ge1xuXHRlbmFibGVkID0gbUVuYWJsZWQ7XG5cdGNvbnN0IHBhcnNlZCA9IHVybC5wYXJzZSh3aW5kb3cubG9jYXRpb24uc2VhcmNoLCB0cnVlKTtcblxuXHRpZihwYXJzZWQucXVlcnkuY29uZmlnKSB7XG5cdFx0Y29uc3Qgb0NvbmZpZyA9IEpTT04ucGFyc2UocGFyc2VkLnF1ZXJ5LmNvbmZpZyk7XG5cblx0XHRmb3IobGV0IGtleSBpbiBvQ29uZmlnKSB7XG5cdFx0XHRDb25maWdba2V5XSA9IG9Db25maWdba2V5XTtcblx0XHR9XG5cdH1cblxuXHRjb25zb2xlLmxvZygnQ29uZmlnIDonLCBDb25maWcpO1xuXHRyZWZyZXNoKCk7XG59XG5cblxuZXhwb3J0IGRlZmF1bHQge1xuXHRlbmFibGVkLFxuXHRyZWxvYWQsXG5cdHJlZnJlc2gsXG5cdGRlbGF5UmVsb2FkLFxuXHRpbml0XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL1NldHRpbmdzLmpzIiwibW9kdWxlLmV4cG9ydHMgPSBcInByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4jZGVmaW5lIEdMU0xJRlkgMVxcbnZhcnlpbmcgdmVjNCB2U2NyZWVuUG9zaXRpb247XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG5cXHRmbG9hdCB6ID0gdlNjcmVlblBvc2l0aW9uLnogLyB2U2NyZWVuUG9zaXRpb24udztcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCh2ZWMzKHogKiAwLjI1KSwgMS4wKTtcXG59XCJcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9zaGFkZXJzL2RlcHRoLmZyYWdcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xuXG5mdW5jdGlvbiBFbWl0dGVyKCkge1xuICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuICAgIHRoaXMuc2V0TWF4TGlzdGVuZXJzKDIwKTtcbn1cblxuRW1pdHRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEV2ZW50RW1pdHRlci5wcm90b3R5cGUpO1xuRW1pdHRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBFbWl0dGVyO1xuXG5FbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcik7XG4gICAgfVxuICAgIGlmICh0eXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyh0eXBlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEVtaXR0ZXI7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9hc3NldHMtbG9hZGVyL3NyYy9lbWl0dGVyLmpzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgbWJzOiAwLFxuICAgIHNlY3M6IDAsXG4gICAgdXBkYXRlOiBmdW5jdGlvbihyZXF1ZXN0LCBzdGFydFRpbWUsIHVybCwgbG9nKSB7XG4gICAgICAgIHZhciBsZW5ndGg7XG4gICAgICAgIHZhciBoZWFkZXJzID0gcmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKTtcbiAgICAgICAgaWYgKGhlYWRlcnMpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IGhlYWRlcnMubWF0Y2goL2NvbnRlbnQtbGVuZ3RoOiAoXFxkKykvaSk7XG4gICAgICAgICAgICBpZiAobWF0Y2ggJiYgbWF0Y2gubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gbWF0Y2hbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmFyIGxlbmd0aCA9IHJlcXVlc3QuZ2V0UmVzcG9uc2VIZWFkZXIoJ0NvbnRlbnQtTGVuZ3RoJyk7XG4gICAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgICAgIGxlbmd0aCA9IHBhcnNlSW50KGxlbmd0aCwgMTApO1xuICAgICAgICAgICAgdmFyIG1icyA9IGxlbmd0aCAvIDEwMjQgLyAxMDI0O1xuICAgICAgICAgICAgdmFyIHNlY3MgPSAoRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSkgLyAxMDAwO1xuICAgICAgICAgICAgdGhpcy5zZWNzICs9IHNlY3M7XG4gICAgICAgICAgICB0aGlzLm1icyArPSBtYnM7XG4gICAgICAgICAgICBpZiAobG9nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2codXJsLCBtYnMsIHNlY3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYobG9nKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4uY2FsbChjb25zb2xlLCAnQ2FuXFwndCBnZXQgQ29udGVudC1MZW5ndGg6JywgdXJsKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbG9nOiBmdW5jdGlvbih1cmwsIG1icywgc2Vjcykge1xuICAgICAgICBpZiAodXJsKSB7XG4gICAgICAgICAgICB2YXIgZmlsZSA9ICdGaWxlIGxvYWRlZDogJyArXG4gICAgICAgICAgICAgICAgdXJsLnN1YnN0cih1cmwubGFzdEluZGV4T2YoJy8nKSArIDEpICtcbiAgICAgICAgICAgICAgICAnIHNpemU6JyArIG1icy50b0ZpeGVkKDIpICsgJ21iJyArXG4gICAgICAgICAgICAgICAgJyB0aW1lOicgKyBzZWNzLnRvRml4ZWQoMikgKyAncycgK1xuICAgICAgICAgICAgICAgICcgc3BlZWQ6JyArIChtYnMgLyBzZWNzKS50b0ZpeGVkKDIpICsgJ21icHMnO1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZy5jYWxsKGNvbnNvbGUsIGZpbGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0b3RhbCA9ICdUb3RhbCBsb2FkZWQ6ICcgKyB0aGlzLm1icy50b0ZpeGVkKDIpICsgJ21iJyArXG4gICAgICAgICAgICAnIHRpbWU6JyArIHRoaXMuc2Vjcy50b0ZpeGVkKDIpICsgJ3MnICtcbiAgICAgICAgICAgICcgc3BlZWQ6JyArIHRoaXMuZ2V0TWJwcygpLnRvRml4ZWQoMikgKyAnbWJwcyc7XG4gICAgICAgIGNvbnNvbGUubG9nLmNhbGwoY29uc29sZSwgdG90YWwpO1xuICAgIH0sXG4gICAgZ2V0TWJwczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1icyAvIHRoaXMuc2VjcztcbiAgICB9XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYXNzZXRzLWxvYWRlci9zcmMvc3RhdHMuanNcbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0ICcuLi9zY3NzL2dsb2JhbC5zY3NzJztcbmltcG9ydCBkZWJ1Z1BvbHlmaWxsIGZyb20gJy4vZGVidWcvZGVidWdQb2x5ZmlsbCc7XG5pbXBvcnQgYWxmcmlkLCB7IEdMIH0gZnJvbSAnYWxmcmlkJztcbmltcG9ydCBTY2VuZUFwcCBmcm9tICcuL1NjZW5lQXBwJztcbmltcG9ydCBBc3NldHNMb2FkZXIgZnJvbSAnYXNzZXRzLWxvYWRlcic7XG5cbmltcG9ydCBhc3NldHMgZnJvbSAnLi9hc3NldC1saXN0JztcbmltcG9ydCBBc3NldHMgZnJvbSAnLi9Bc3NldHMnO1xuXG5pZihkb2N1bWVudC5ib2R5KSB7XG5cdF9pbml0KCk7XG59IGVsc2Uge1xuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIF9pbml0KTtcbn1cblxuXG5mdW5jdGlvbiBfaW5pdCgpIHtcblxuXHQvL1x0TE9BRElORyBBU1NFVFNcblx0aWYoYXNzZXRzLmxlbmd0aCA+IDApIHtcblx0XHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2lzTG9hZGluZycpO1xuXG5cdFx0Y29uc3QgbG9hZGVyID0gbmV3IEFzc2V0c0xvYWRlcih7XG5cdFx0XHRhc3NldHM6YXNzZXRzXG5cdFx0fSlcblx0XHQub24oJ2Vycm9yJywgKGVycm9yKT0+e1xuXHRcdFx0Y29uc29sZS5sb2coJ0Vycm9yIDonLCBlcnJvcik7XG5cdFx0fSlcblx0XHQub24oJ3Byb2dyZXNzJywgKHApID0+IHtcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdQcm9ncmVzcyA6ICcsIHApO1xuXHRcdFx0Y29uc3QgbG9hZGVyID0gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKCcuTG9hZGluZy1CYXInKTtcblx0XHRcdGlmKGxvYWRlcikgbG9hZGVyLnN0eWxlLndpZHRoID0gYCR7KHAgKiAxMDApfSVgO1xuXHRcdH0pXG5cdFx0Lm9uKCdjb21wbGV0ZScsIF9vbkltYWdlTG9hZGVkKVxuXHRcdC5zdGFydCgpO1xuXG5cdH0gZWxzZSB7XG5cdFx0X2luaXQzRCgpO1xuXHR9XG59XG5cblxuZnVuY3Rpb24gX29uSW1hZ2VMb2FkZWQobykge1xuXHQvL1x0QVNTRVRTXG5cdGNvbnNvbGUubG9nKCdJbWFnZSBMb2FkZWQgOiAnLCBvKTtcblx0d2luZG93LmFzc2V0cyA9IG87XG5cdGNvbnN0IGxvYWRlciA9IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcignLkxvYWRpbmctQmFyJyk7XG5cdGNvbnNvbGUubG9nKCdMb2FkZXIgOicsIGxvYWRlcik7XG5cdGxvYWRlci5zdHlsZS53aWR0aCA9ICcxMDAlJztcblxuXHRfaW5pdDNEKCk7XG5cblx0c2V0VGltZW91dCgoKT0+IHtcblx0XHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2lzTG9hZGluZycpO1xuXHR9LCAyNTApO1xufVxuXG5cbmZ1bmN0aW9uIF9pbml0M0QoKSB7XG5cdC8vXHRDUkVBVEUgQ0FOVkFTXG5cdGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXHRjYW52YXMuY2xhc3NOYW1lID0gJ01haW4tQ2FudmFzJztcblx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xuXG5cdC8vXHRJTklUIDNEIFRPT0xcblx0R0wuaW5pdChjYW52YXMsIHtpZ25vcmVXZWJnbDI6dHJ1ZX0pO1xuXG5cdC8vXHRJTklUIEFTU0VUU1xuXHRBc3NldHMuaW5pdCgpO1xuXG5cdC8vXHRDUkVBVEUgU0NFTkVcblx0Y29uc3Qgc2NlbmUgPSBuZXcgU2NlbmVBcHAoKTtcblxuXHRcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvYXBwLmpzIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzP3VybD1mYWxzZSEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL2dsb2JhbC5zY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBQcmVwYXJlIGNzc1RyYW5zZm9ybWF0aW9uXG52YXIgdHJhbnNmb3JtO1xuXG52YXIgb3B0aW9ucyA9IHt9XG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz91cmw9ZmFsc2UhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9nbG9iYWwuc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/dXJsPWZhbHNlIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vZ2xvYmFsLnNjc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3Njc3MvZ2xvYmFsLnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcblx0dmFyIGxpc3QgPSBbXTtcblxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXHRcdFx0aWYoaXRlbVsyXSkge1xuXHRcdFx0XHRyZXR1cm4gXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBjb250ZW50ICsgXCJ9XCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gY29udGVudDtcblx0XHRcdH1cblx0XHR9KS5qb2luKFwiXCIpO1xuXHR9O1xuXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0fVxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG5cdHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblx0aWYgKCFjc3NNYXBwaW5nKSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdH1cblxuXHRpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG5cdFx0dmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcblx0XHRcdHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLydcblx0XHR9KTtcblxuXHRcdHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuXHR9XG5cblx0cmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn1cblxuLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblx0dmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG5cdHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG5cblx0cmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyXHRtZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRyZXR1cm4gbWVtbztcblx0fTtcbn07XG5cbnZhciBpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG5cdC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcblx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuXHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG5cdHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbn0pO1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24oc2VsZWN0b3IpIHtcblx0XHRpZiAodHlwZW9mIG1lbW9bc2VsZWN0b3JdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRtZW1vW3NlbGVjdG9yXSA9IGZuLmNhbGwodGhpcywgc2VsZWN0b3IpO1xuXHRcdH1cblxuXHRcdHJldHVybiBtZW1vW3NlbGVjdG9yXVxuXHR9O1xufSkoZnVuY3Rpb24gKHRhcmdldCkge1xuXHRyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpXG59KTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24pIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIDxoZWFkPiBlbGVtZW50XG5cdGlmICghb3B0aW9ucy5pbnNlcnRJbnRvKSBvcHRpb25zLmluc2VydEludG8gPSBcImhlYWRcIjtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgdGhlIHRhcmdldFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0QXQpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG5cblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbSAoc3R5bGVzLCBvcHRpb25zKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRpZihkb21TdHlsZSkge1xuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMgKGxpc3QsIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlcyA9IFtdO1xuXHR2YXIgbmV3U3R5bGVzID0ge307XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZSBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQgKG9wdGlvbnMsIHN0eWxlKSB7XG5cdHZhciB0YXJnZXQgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50bylcblxuXHRpZiAoIXRhcmdldCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuXHR9XG5cblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcFtzdHlsZXNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XG5cdFx0aWYgKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZiAobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHR9XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0Jy4gTXVzdCBiZSAndG9wJyBvciAnYm90dG9tJy5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUgKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XG5cblx0Ly8gSWYgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gd2FzIGRlZmluZWQsIHJ1biBpdCBvbiB0aGUgY3NzXG5cdGlmIChvcHRpb25zLnRyYW5zZm9ybSAmJiBvYmouY3NzKSB7XG5cdCAgICByZXN1bHQgPSBvcHRpb25zLnRyYW5zZm9ybShvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXG4vLyBtb2R1bGUgaWQgPSAxMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcbi8qKlxuICogV2hlbiBzb3VyY2UgbWFwcyBhcmUgZW5hYmxlZCwgYHN0eWxlLWxvYWRlcmAgdXNlcyBhIGxpbmsgZWxlbWVudCB3aXRoIGEgZGF0YS11cmkgdG9cbiAqIGVtYmVkIHRoZSBjc3Mgb24gdGhlIHBhZ2UuIFRoaXMgYnJlYWtzIGFsbCByZWxhdGl2ZSB1cmxzIGJlY2F1c2Ugbm93IHRoZXkgYXJlIHJlbGF0aXZlIHRvIGFcbiAqIGJ1bmRsZSBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogT25lIHNvbHV0aW9uIGlzIHRvIG9ubHkgdXNlIGZ1bGwgdXJscywgYnV0IHRoYXQgbWF5IGJlIGltcG9zc2libGUuXG4gKlxuICogSW5zdGVhZCwgdGhpcyBmdW5jdGlvbiBcImZpeGVzXCIgdGhlIHJlbGF0aXZlIHVybHMgdG8gYmUgYWJzb2x1dGUgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHBhZ2UgbG9jYXRpb24uXG4gKlxuICogQSBydWRpbWVudGFyeSB0ZXN0IHN1aXRlIGlzIGxvY2F0ZWQgYXQgYHRlc3QvZml4VXJscy5qc2AgYW5kIGNhbiBiZSBydW4gdmlhIHRoZSBgbnBtIHRlc3RgIGNvbW1hbmQuXG4gKlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcykge1xuICAvLyBnZXQgY3VycmVudCBsb2NhdGlvblxuICB2YXIgbG9jYXRpb24gPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5sb2NhdGlvbjtcblxuICBpZiAoIWxvY2F0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7XG4gIH1cblxuXHQvLyBibGFuayBvciBudWxsP1xuXHRpZiAoIWNzcyB8fCB0eXBlb2YgY3NzICE9PSBcInN0cmluZ1wiKSB7XG5cdCAgcmV0dXJuIGNzcztcbiAgfVxuXG4gIHZhciBiYXNlVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2NhdGlvbi5ob3N0O1xuICB2YXIgY3VycmVudERpciA9IGJhc2VVcmwgKyBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiL1wiKTtcblxuXHQvLyBjb252ZXJ0IGVhY2ggdXJsKC4uLilcblx0Lypcblx0VGhpcyByZWd1bGFyIGV4cHJlc3Npb24gaXMganVzdCBhIHdheSB0byByZWN1cnNpdmVseSBtYXRjaCBicmFja2V0cyB3aXRoaW5cblx0YSBzdHJpbmcuXG5cblx0IC91cmxcXHMqXFwoICA9IE1hdGNoIG9uIHRoZSB3b3JkIFwidXJsXCIgd2l0aCBhbnkgd2hpdGVzcGFjZSBhZnRlciBpdCBhbmQgdGhlbiBhIHBhcmVuc1xuXHQgICAoICA9IFN0YXJ0IGEgY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgKD86ICA9IFN0YXJ0IGEgbm9uLWNhcHR1cmluZyBncm91cFxuXHQgICAgICAgICBbXikoXSAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKD86ICA9IFN0YXJ0IGFub3RoZXIgbm9uLWNhcHR1cmluZyBncm91cHNcblx0ICAgICAgICAgICAgICAgICBbXikoXSsgID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgICAgIFteKShdKiAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICBcXCkgID0gTWF0Y2ggYSBlbmQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICkgID0gRW5kIEdyb3VwXG4gICAgICAgICAgICAgICpcXCkgPSBNYXRjaCBhbnl0aGluZyBhbmQgdGhlbiBhIGNsb3NlIHBhcmVuc1xuICAgICAgICAgICkgID0gQ2xvc2Ugbm9uLWNhcHR1cmluZyBncm91cFxuICAgICAgICAgICogID0gTWF0Y2ggYW55dGhpbmdcbiAgICAgICApICA9IENsb3NlIGNhcHR1cmluZyBncm91cFxuXHQgXFwpICA9IE1hdGNoIGEgY2xvc2UgcGFyZW5zXG5cblx0IC9naSAgPSBHZXQgYWxsIG1hdGNoZXMsIG5vdCB0aGUgZmlyc3QuICBCZSBjYXNlIGluc2Vuc2l0aXZlLlxuXHQgKi9cblx0dmFyIGZpeGVkQ3NzID0gY3NzLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLCBmdW5jdGlvbihmdWxsTWF0Y2gsIG9yaWdVcmwpIHtcblx0XHQvLyBzdHJpcCBxdW90ZXMgKGlmIHRoZXkgZXhpc3QpXG5cdFx0dmFyIHVucXVvdGVkT3JpZ1VybCA9IG9yaWdVcmxcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9eXCIoLiopXCIkLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pXG5cdFx0XHQucmVwbGFjZSgvXicoLiopJyQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSk7XG5cblx0XHQvLyBhbHJlYWR5IGEgZnVsbCB1cmw/IG5vIGNoYW5nZVxuXHRcdGlmICgvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcLykvaS50ZXN0KHVucXVvdGVkT3JpZ1VybCkpIHtcblx0XHQgIHJldHVybiBmdWxsTWF0Y2g7XG5cdFx0fVxuXG5cdFx0Ly8gY29udmVydCB0aGUgdXJsIHRvIGEgZnVsbCB1cmxcblx0XHR2YXIgbmV3VXJsO1xuXG5cdFx0aWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiLy9cIikgPT09IDApIHtcblx0XHQgIFx0Ly9UT0RPOiBzaG91bGQgd2UgYWRkIHByb3RvY29sP1xuXHRcdFx0bmV3VXJsID0gdW5xdW90ZWRPcmlnVXJsO1xuXHRcdH0gZWxzZSBpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvXCIpID09PSAwKSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYmFzZSB1cmxcblx0XHRcdG5ld1VybCA9IGJhc2VVcmwgKyB1bnF1b3RlZE9yaWdVcmw7IC8vIGFscmVhZHkgc3RhcnRzIHdpdGggJy8nXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIGN1cnJlbnQgZGlyZWN0b3J5XG5cdFx0XHRuZXdVcmwgPSBjdXJyZW50RGlyICsgdW5xdW90ZWRPcmlnVXJsLnJlcGxhY2UoL15cXC5cXC8vLCBcIlwiKTsgLy8gU3RyaXAgbGVhZGluZyAnLi8nXG5cdFx0fVxuXG5cdFx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCB1cmwoLi4uKVxuXHRcdHJldHVybiBcInVybChcIiArIEpTT04uc3RyaW5naWZ5KG5ld1VybCkgKyBcIilcIjtcblx0fSk7XG5cblx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCBjc3Ncblx0cmV0dXJuIGZpeGVkQ3NzO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvdXJscy5qc1xuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gZGVidWdQb2x5ZmlsbC5qc1xuXG53aW5kb3cuZ3VpID0ge1xuXHRhZGQ6KCk9PntcblxuXHR9XG59O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9kZWJ1Zy9kZWJ1Z1BvbHlmaWxsLmpzIiwiLy8gU2NlbmVBcHAuanNcblxuaW1wb3J0IGFsZnJpZCwgeyBTY2VuZSwgR0wgfSBmcm9tICdhbGZyaWQnO1xuaW1wb3J0IFZpZXdPYmpNb2RlbCBmcm9tICcuL1ZpZXdPYmpNb2RlbCc7XG5pbXBvcnQgQXNzZXRzIGZyb20gJy4vQXNzZXRzJztcbmltcG9ydCBTZXR0aW5ncyBmcm9tICcuL1NldHRpbmdzJztcbmltcG9ydCBDb25maWcgZnJvbSAnLi9Db25maWcnO1xuaW1wb3J0IE5vaXNlM0RUZXh0dXJlIGZyb20gJy4vTm9pc2UzRFRleHR1cmUnO1xuXG5pbXBvcnQgeyBnZW5lcmF0ZVRyZWVzLCBnZW5lcmF0ZUhlaWdodE1hcCB9IGZyb20gJy4vdXRpbHMnO1xuXG5pbXBvcnQgVmlld0Zsb29yIGZyb20gJy4vVmlld0Zsb29yJztcbmltcG9ydCBWaWV3VHJlZXMgZnJvbSAnLi9WaWV3VHJlZXMnO1xuaW1wb3J0IFZpZXdQbGFuZXMgZnJvbSAnLi9WaWV3UGxhbmVzJztcbmltcG9ydCBWaWV3QmcgZnJvbSAnLi9WaWV3QmcnO1xuaW1wb3J0IFZpZXdHcm91bmQgZnJvbSAnLi9WaWV3R3JvdW5kJztcbmltcG9ydCBWaWV3Rm9nIGZyb20gJy4vVmlld0ZvZyc7XG5pbXBvcnQgVmlld0ZYQUEgZnJvbSAnLi9WaWV3RlhBQSc7XG5cbmltcG9ydCBhZGRDb250cm9scyBmcm9tICcuL2RlYnVnL2FkZENvbnRyb2xzJztcblxuY2xhc3MgU2NlbmVBcHAgZXh0ZW5kcyBTY2VuZSB7XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdFNldHRpbmdzLmluaXQoKTtcblxuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5yZXNpemUoKTtcblx0XHRHTC5lbmFibGVBbHBoYUJsZW5kaW5nKCk7XG5cdFx0dGhpcy5vcmJpdGFsQ29udHJvbC5yYWRpdXMudmFsdWUgPSA1O1xuXHRcdC8vIHRoaXMub3JiaXRhbENvbnRyb2wucmFkaXVzLmxpbWl0KDUsIDUpO1xuXHRcdHRoaXMub3JiaXRhbENvbnRyb2wucmFkaXVzLmxpbWl0KDMsIDYpO1xuXHRcdC8vIHRoaXMub3JiaXRhbENvbnRyb2wucngubGltaXQoMCwgMCk7XG5cdFx0dGhpcy5vcmJpdGFsQ29udHJvbC5yeC5saW1pdCgwLCAuMik7XG5cblx0XHR0aGlzLm10eCA9IG1hdDQuY3JlYXRlKCk7XG5cdFx0bWF0NC50cmFuc2xhdGUodGhpcy5tdHgsIHRoaXMubXR4LCB2ZWMzLmZyb21WYWx1ZXMoMCwgLTEsIDApKTtcblxuXHRcdC8vXHRzZXR1cCBmcm9udCBjYW1lcmEgZm9yIHByb2plY3Rpb25cblx0XHR0aGlzLmNhbWVyYUZyb250ID0gbmV3IGFsZnJpZC5DYW1lcmFQZXJzcGVjdGl2ZSgpO1xuXHRcdGNvbnN0IGZvdiA9IDQ1ICogTWF0aC5QSSAvIDE4MDtcblx0XHR0aGlzLmNhbWVyYS5zZXRQZXJzcGVjdGl2ZShmb3YsIEdMLmFzcGVjdFJhdGlvLCAxLCAxNSk7XG5cdFx0dGhpcy5jYW1lcmFGcm9udC5zZXRQZXJzcGVjdGl2ZShmb3YsIEdMLmFzcGVjdFJhdGlvLCAxLCAxNSk7XG5cdFx0dGhpcy5jYW1lcmFGcm9udC5sb29rQXQoWzAsIDAsIDVdLCBbMCwgMCwgMF0pO1xuXG5cdFx0dGhpcy5fbXR4RnJvbnQgPSBtYXQ0LmNyZWF0ZSgpO1xuXHRcdG1hdDQubXVsKHRoaXMuX210eEZyb250LCB0aGlzLmNhbWVyYUZyb250LnByb2plY3Rpb24sIHRoaXMuY2FtZXJhRnJvbnQubWF0cml4KTtcblxuXHRcdHRoaXMuX2lzSW5UcmFuc2l0aW9uID0gZmFsc2U7XG5cblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKT0+IHtcblx0XHRcdC8vIGNvbnNvbGUubG9nKGUua2V5Q29kZSk7XG5cblx0XHRcdGlmKGUua2V5Q29kZSA9PT0gMzIpIHtcblx0XHRcdFx0dGhpcy5uZXh0KCk7XG5cdFx0XHRcdC8vIHRoaXMucmVzZXRDYW1lcmEoKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGFkZENvbnRyb2xzKHRoaXMpO1xuXHR9XG5cblx0X2luaXRUZXh0dXJlcygpIHtcblx0XHRjb25zb2xlLmxvZygnaW5pdCB0ZXh0dXJlcycsIEdMLndpZHRoKTtcblxuXHRcdHdpbmRvdy5HTCA9IEdMO1xuXHRcdGNvbnN0IGZib1NpemUgPSAyMDQ4O1xuXG5cdFx0dGhpcy5fZmJvQ2FwdHVyZSA9IG5ldyBhbGZyaWQuRnJhbWVCdWZmZXIoR0wud2lkdGgsIEdMLmhlaWdodCwge1xuXHRcdFx0bWluRmlsdGVyOkdMLkxJTkVBUixcblx0XHRcdG1hZ0ZpbHRlcjpHTC5MSU5FQVJcblx0XHR9KTtcblxuXHRcdHRoaXMuX2Zib1JlbmRlciA9IG5ldyBhbGZyaWQuRnJhbWVCdWZmZXIoR0wud2lkdGgsIEdMLmhlaWdodCk7XG5cblx0XHR0aGlzLl9ub2lzZTNEID0gbmV3IE5vaXNlM0RUZXh0dXJlKENvbmZpZy5ub2lzZU51bSwgQ29uZmlnLm5vaXNlU2NhbGUpO1xuXHRcdHRoaXMuX25vaXNlM0QucmVuZGVyKCk7XG5cdH1cblxuXG5cdF9pbml0Vmlld3MoKSB7XG5cdFx0Y29uc29sZS5sb2coJ2luaXQgdmlld3MnKTtcblxuXHRcdHRoaXMuX2JDb3B5ID0gbmV3IGFsZnJpZC5CYXRjaENvcHkoKTtcblx0XHR0aGlzLl9iQmFsbCA9IG5ldyBhbGZyaWQuQmF0Y2hCYWxsKCk7XG5cblx0XHR0aGlzLl92Rmxvb3IgID0gbmV3IFZpZXdGbG9vcigpO1xuXHRcdHRoaXMuX3ZUcmVlcyAgPSBuZXcgVmlld1RyZWVzKCk7XG5cdFx0dGhpcy5fdlBsYW5lcyA9IG5ldyBWaWV3UGxhbmVzKCk7XG5cdFx0dGhpcy5fdkJnICAgICA9IG5ldyBWaWV3QmcoKTtcblx0XHR0aGlzLl92R3JvdW5kID0gbmV3IFZpZXdHcm91bmQoKTtcblx0XHR0aGlzLl92Rm9nICAgID0gbmV3IFZpZXdGb2coKTtcblx0XHR0aGlzLl92RnhhYSA9IG5ldyBWaWV3RlhBQSgpO1xuXG5cdFx0dGhpcy5fcmVzZXRUcmVlUG9zaXRpb24oKTtcblx0fVxuXG5cblx0bmV4dCgpIHtcblx0XHRjb25zb2xlLmxvZygnbmV4dCcpO1xuXG5cdFx0Ly8gbGV0IGcgPSAwLjU7XG5cdFx0Ly9cdHRha2Ugc2NyZWVuIHNob3Qgb2YgY3VycmVudCBmcmFtZVxuXHRcdHRoaXMuX2Zib0NhcHR1cmUuYmluZCgpO1xuXHRcdEdMLmNsZWFyKDAsIDAsIDAsIDEpO1xuXHRcdEdMLnNldE1hdHJpY2VzKHRoaXMuY2FtZXJhKTtcblx0XHR0aGlzLnJlbmRlclNjZW5lKCk7XG5cdFx0dGhpcy5fZmJvQ2FwdHVyZS51bmJpbmQoKTtcblxuXHRcdC8vXHRzZXQgZmxhZyB0byBzdGFydCByZW5kZXJpbmcgdGhlIHBsYW5lc1xuXHRcdHRoaXMuX2lzSW5UcmFuc2l0aW9uID0gdHJ1ZTtcblxuXHRcdC8vXHRzZXQgY2FtZXJhIHBvc2l0aW9uIHRvIGZyb250XG5cdFx0dGhpcy5vcmJpdGFsQ29udHJvbC5yeC5zZXRUbygwKTtcblx0XHR0aGlzLm9yYml0YWxDb250cm9sLnJ5LnNldFRvKDApO1xuXHRcdHRoaXMub3JiaXRhbENvbnRyb2wucmFkaXVzLnNldFRvKDUpO1xuXG5cdFx0Ly9cdG1vdmUgY2FtZXJhIHRvIHNpZGUgdG8gaGlkZSB0aGUgcGxhbmVzXG5cblx0XHQvL1x0cmVzZXQgcGxhbmVzIHBvc2l0aW9uXG5cdFx0dGhpcy5fdlBsYW5lcy5yZXNldCgpO1xuXHRcdHRoaXMuX3ZQbGFuZXMub3BlbigpO1xuXG5cdFx0Ly8gdGhpcy5fdlRyZWVzLnJlc2V0KCk7XG5cdFx0dGhpcy5fcmVzZXRUcmVlUG9zaXRpb24oKTtcblxuXHRcdC8vXHR3aGVuIGNhbWVyYSBpbiBwb3NpdGlvbiAoIHBsYW5lcyBub3QgdmlzaWJsZSApXG5cdFx0Ly9cdGRpc2FibGUgcmVuZGVyaW5nIHRoZSBwbGFuZXNcblx0XHRcblx0fVxuXG5cblx0X3Jlc2V0VHJlZVBvc2l0aW9uKCkge1xuXHRcdHRoaXMuX3RyZWVzID0gZ2VuZXJhdGVUcmVlcygpO1xuXHRcdHRoaXMuX3ZUcmVlcy5yZXNldCh0aGlzLl90cmVlcyk7XG5cdFx0dGhpcy5fdGV4dHVyZUZsb29yID0gZ2VuZXJhdGVIZWlnaHRNYXAodGhpcy5fdHJlZXMpO1xuXHR9XG5cblxuXHRyZXNldENhbWVyYSgpIHtcblx0XHQvL1x0c2V0IGNhbWVyYSBwb3NpdGlvbiB0byBmcm9udFxuXHRcdHRoaXMub3JiaXRhbENvbnRyb2wucnguc2V0VG8oMCk7XG5cdFx0dGhpcy5vcmJpdGFsQ29udHJvbC5yeS5zZXRUbygwKTtcblx0fVxuXG5cblx0cmVuZGVyKCkge1xuXHRcdEdMLmNsZWFyKDAsIDAsIDAsIDEpO1xuXG5cdFx0dGhpcy5fZmJvUmVuZGVyLmJpbmQoKTtcblx0XHRHTC5jbGVhcigwLCAwLCAwLCAxKTtcblx0XHR0aGlzLnJlbmRlclNjZW5lKCk7XG5cblx0XHRpZih0aGlzLl9pc0luVHJhbnNpdGlvbikge1xuXHRcdFx0dGhpcy5fdlBsYW5lcy5yZW5kZXIodGhpcy5fbXR4RnJvbnQsIHRoaXMuX2Zib0NhcHR1cmUuZ2V0VGV4dHVyZSgpKTtcblx0XHR9XG5cblx0XHR0aGlzLl9mYm9SZW5kZXIudW5iaW5kKCk7XG5cblx0XHRpZihDb25maWcuZnhhYSkge1xuXHRcdFx0dGhpcy5fdkZ4YWEucmVuZGVyKHRoaXMuX2Zib1JlbmRlci5nZXRUZXh0dXJlKCkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9iQ29weS5kcmF3KHRoaXMuX2Zib1JlbmRlci5nZXRUZXh0dXJlKCkpO1x0XG5cdFx0fVxuXHRcdFxuXG5cblx0XHRHTC5kaXNhYmxlKEdMLkRFUFRIX1RFU1QpO1xuXHRcdGxldCBzID0gMTAwO1xuXG5cdFx0aWYodGhpcy5faXNJblRyYW5zaXRpb24pIHtcblx0XHRcdEdMLnZpZXdwb3J0KHMsIDAsIHMsIHMvR0wuYXNwZWN0UmF0aW8pO1xuXHRcdFx0dGhpcy5fYkNvcHkuZHJhdyh0aGlzLl9mYm9DYXB0dXJlLmdldFRleHR1cmUoKSk7XG5cdFx0fVxuXG5cdFx0R0wudmlld3BvcnQoMCwgMCwgcywgcyk7XG5cdFx0Ly8gdGhpcy5fYkNvcHkuZHJhdyh0aGlzLl90ZXh0dXJlRmxvb3IpO1xuXHRcdEdMLmVuYWJsZShHTC5ERVBUSF9URVNUKTtcblx0fVxuXG5cblx0cmVuZGVyU2NlbmUoKSB7XG5cdFx0R0wucm90YXRlKHRoaXMubXR4KTtcblxuXHRcdHRoaXMuX3ZCZy5yZW5kZXIoKTtcblx0XHR0aGlzLl92R3JvdW5kLnJlbmRlcigpO1xuXHRcdHRoaXMuX3ZGbG9vci5yZW5kZXIodGhpcy5fdGV4dHVyZUZsb29yKTtcblx0XHR0aGlzLl92VHJlZXMucmVuZGVyKCk7XG5cdFx0dGhpcy5fdkZvZy5yZW5kZXIodGhpcy5fbm9pc2UzRC5nZXRUZXh0dXJlKCkpO1xuXG5cdH1cblxuXG5cdHJlc2l6ZSgpIHtcblx0XHRjb25zdCB7IGlubmVyV2lkdGgsIGlubmVySGVpZ2h0LCBkZXZpY2VQaXhlbFJhdGlvIH0gPSB3aW5kb3c7XG5cdFx0R0wuc2V0U2l6ZShpbm5lcldpZHRoLCBpbm5lckhlaWdodCk7XG5cdFx0dGhpcy5jYW1lcmEuc2V0QXNwZWN0UmF0aW8oR0wuYXNwZWN0UmF0aW8pO1xuXG5cdFx0aWYodGhpcy5jYW1lcmFGcm9udCkge1xuXHRcdFx0dGhpcy5jYW1lcmFGcm9udC5zZXRBc3BlY3RSYXRpbyhHTC5hc3BlY3RSYXRpbyk7XHRcblx0XHRcdG1hdDQuaWRlbnRpdHkodGhpcy5fbXR4RnJvbnQsIHRoaXMuX210eEZyb250KTtcblx0XHRcdG1hdDQubXVsKHRoaXMuX210eEZyb250LCB0aGlzLmNhbWVyYUZyb250LnByb2plY3Rpb24sIHRoaXMuY2FtZXJhRnJvbnQubWF0cml4KTtcblx0XHR9XG5cdH1cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBTY2VuZUFwcDtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvU2NlbmVBcHAuanMiLCIvLyBWaWV3T2JqTW9kZWwuanNcblxuaW1wb3J0IGFsZnJpZCwgeyBHTCB9IGZyb20gJ2FsZnJpZCc7XG5pbXBvcnQgQXNzZXRzIGZyb20gJy4vQXNzZXRzJztcblxuaW1wb3J0IHZzIGZyb20gJy4uL3NoYWRlcnMvcGJyLnZlcnQnO1xuaW1wb3J0IGZzIGZyb20gJy4uL3NoYWRlcnMvcGJyLmZyYWcnO1xuXG5pbXBvcnQgQ29uZmlnIGZyb20gJy4vQ29uZmlnJztcblxuXG5jb25zdCBkZWZpbmVzVG9TdHJpbmcgPSBmdW5jdGlvbihkZWZpbmVzKSB7XG4gICAgbGV0IG91dFN0ciA9ICcnO1xuICAgIGZvciAoY29uc3QgZGVmIGluIGRlZmluZXMpIHtcbiAgICBcdGlmKGRlZmluZXNbZGVmXSkge1xuICAgIFx0XHRvdXRTdHIgKz0gJyNkZWZpbmUgJyArIGRlZiArICcgJyArIGRlZmluZXNbZGVmXSArICdcXG4nO1x0XG4gICAgXHR9XG4gICAgICAgIFxuICAgIH1cbiAgICByZXR1cm4gb3V0U3RyO1xufTtcblxuY2xhc3MgVmlld09iak1vZGVsIGV4dGVuZHMgYWxmcmlkLlZpZXcge1xuXHRcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0Y29uc3QgZGVmaW5lcyA9IHtcbiAgICAgICAgICAgICdVU0VfSUJMJzogMSxcbiAgICAgICAgICAgICdIQVNfQkFTRUNPTE9STUFQJzogMCxcbiAgICAgICAgICAgICdIQVNfTk9STUFMTUFQJzogMCxcbiAgICAgICAgICAgICdIQVNfRU1JU1NJVkVNQVAnOiAwLFxuICAgICAgICAgICAgJ0hBU19PQ0NMVVNJT05NQVAnOiAxLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBkZWZpbmVTdHIgPSBkZWZpbmVzVG9TdHJpbmcoZGVmaW5lcyk7XG4gICAgICAgIGNvbnNvbGUubG9nKGRlZmluZVN0cik7XG4gICAgICAgIGxldCBfdnMgPSBgJHtkZWZpbmVTdHJ9XFxuJHt2c31gO1xuICAgICAgICBsZXQgX2ZzID0gYCR7ZGVmaW5lU3RyfVxcbiR7ZnN9YDtcblxuXHRcdHN1cGVyKF92cywgX2ZzKTtcblx0fVxuXG5cblx0X2luaXQoKSB7XG5cdFx0dGhpcy5tZXNoID0gQXNzZXRzLmdldCgnbW9kZWwnKTtcblxuXHRcdHRoaXMucm91Z2huZXNzID0gMTtcblx0XHR0aGlzLm1ldGFsbGljID0gMDtcblx0XHR0aGlzLmJhc2VDb2xvciA9IFsxLCAxLCAxXTtcblxuXHRcdGd1aS5hZGQodGhpcywgJ3JvdWdobmVzcycsIDAsIDEpO1xuXHRcdGd1aS5hZGQodGhpcywgJ21ldGFsbGljJywgMCwgMSk7XG5cdH1cblxuXG5cdHJlbmRlcih0ZXh0dXJlUmFkLCB0ZXh0dXJlSXJyLCB0ZXh0dXJlQU8pIHtcblx0XHR0aGlzLnNoYWRlci5iaW5kKCk7XG5cblx0XHR0aGlzLnNoYWRlci51bmlmb3JtKCd1QW9NYXAnLCAndW5pZm9ybTFpJywgMCk7XG5cdFx0dGV4dHVyZUFPLmJpbmQoMCk7XG5cdFx0dGhpcy5zaGFkZXIudW5pZm9ybShcInVCUkRGTWFwXCIsIFwidW5pZm9ybTFpXCIsIDEpO1xuXHRcdEFzc2V0cy5nZXQoJ2JyZGZMVVQnKS5iaW5kKDEpO1xuXG5cdFx0dGhpcy5zaGFkZXIudW5pZm9ybSgndVJhZGlhbmNlTWFwJywgJ3VuaWZvcm0xaScsIDMpO1xuXHRcdHRoaXMuc2hhZGVyLnVuaWZvcm0oJ3VJcnJhZGlhbmNlTWFwJywgJ3VuaWZvcm0xaScsIDIpO1xuXHRcdFxuXHRcdHRleHR1cmVSYWQuYmluZCgzKTtcblx0XHR0ZXh0dXJlSXJyLmJpbmQoMik7XG5cblx0XHR0aGlzLnNoYWRlci51bmlmb3JtKCd1QmFzZUNvbG9yJywgJ3VuaWZvcm0zZnYnLCB0aGlzLmJhc2VDb2xvcik7XG5cdFx0dGhpcy5zaGFkZXIudW5pZm9ybSgndVJvdWdobmVzcycsICd1bmlmb3JtMWYnLCB0aGlzLnJvdWdobmVzcyk7XG5cdFx0dGhpcy5zaGFkZXIudW5pZm9ybSgndU1ldGFsbGljJywgJ3VuaWZvcm0xZicsIHRoaXMubWV0YWxsaWMpO1xuXHRcdHRoaXMuc2hhZGVyLnVuaWZvcm0oJ3VTcGVjdWxhcicsICd1bmlmb3JtMWYnLCB0aGlzLnNwZWN1bGFyKTtcblxuXHRcdC8vXHRwYnJcblx0XHR0aGlzLnNoYWRlci51bmlmb3JtKFwidUxpZ2h0RGlyZWN0aW9uXCIsIFwidmVjM1wiLCBbMC41LCAwLjUsIDAuNV0pO1xuXHRcdHRoaXMuc2hhZGVyLnVuaWZvcm0oXCJ1TGlnaHRDb2xvclwiLCBcInZlYzNcIiwgWzEsIDEsIDFdKTtcblxuXHRcdHRoaXMuc2hhZGVyLnVuaWZvcm0oXCJ1U2NhbGVEaWZmQmFzZU1SXCIsIFwidmVjNFwiLCBbMCwgMCwgMCwgMF0pO1xuXHRcdHRoaXMuc2hhZGVyLnVuaWZvcm0oXCJ1U2NhbGVGR0RTcGVjXCIsIFwidmVjNFwiLCBbMCwgMCwgMCwgMF0pO1xuXHRcdHRoaXMuc2hhZGVyLnVuaWZvcm0oXCJ1U2NhbGVJQkxBbWJpZW50XCIsIFwidmVjNFwiLCBbMSwgMSwgMSwgMV0pO1xuXG5cdFx0dGhpcy5zaGFkZXIudW5pZm9ybShcInVDYW1lcmFQb3NcIiwgXCJ2ZWMzXCIsIEdMLmNhbWVyYS5wb3NpdGlvbik7XG5cdFx0dGhpcy5zaGFkZXIudW5pZm9ybShcInVPY2NsdXNpb25TdHJlbmd0aFwiLCBcImZsb2F0XCIsIDEpO1xuXG5cdFx0R0wuZHJhdyh0aGlzLm1lc2gpO1xuXHR9XG5cblxufVxuXG5leHBvcnQgZGVmYXVsdCBWaWV3T2JqTW9kZWw7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL1ZpZXdPYmpNb2RlbC5qcyIsIm1vZHVsZS5leHBvcnRzID0gXCIjZGVmaW5lIFNIQURFUl9OQU1FIHBicl92ZXJ0XFxuXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxuYXR0cmlidXRlIHZlYzMgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuYXR0cmlidXRlIHZlYzMgYU5vcm1hbDtcXG5cXG51bmlmb3JtIG1hdDQgdU1vZGVsTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1Vmlld01hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHVOb3JtYWxNYXRyaXg7XFxudW5pZm9ybSBtYXQzIHVNb2RlbFZpZXdNYXRyaXhJbnZlcnNlO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbnZhcnlpbmcgdmVjMyB2UG9zaXRpb247XFxuXFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG5cXHR2ZWM0IHBvc2l0aW9uID0gdU1vZGVsTWF0cml4ICogdmVjNChhVmVydGV4UG9zaXRpb24sIDEuMCk7XFxuXFx0dlBvc2l0aW9uICAgICA9IHBvc2l0aW9uLnh5eiAvIHBvc2l0aW9uLnc7XFxuXFx0XFxuXFx0dk5vcm1hbCAgICAgICA9IG5vcm1hbGl6ZSh2ZWMzKHVNb2RlbE1hdHJpeCAqIHZlYzQoYU5vcm1hbCwgMC4wKSkpO1xcblxcdHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcblxcdFxcblxcdGdsX1Bvc2l0aW9uICAgPSB1UHJvamVjdGlvbk1hdHJpeCAqIHVWaWV3TWF0cml4ICogcG9zaXRpb247XFxufVxcblwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvc2hhZGVycy9wYnIudmVydFxuLy8gbW9kdWxlIGlkID0gMTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBcIiNkZWZpbmUgU0hBREVSX05BTUUgcGJyX2ZyYWdcXG5cXG4jZXh0ZW5zaW9uIEdMX0VYVF9zaGFkZXJfdGV4dHVyZV9sb2Q6IGVuYWJsZVxcbiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIDogZW5hYmxlXFxuXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgXFx0dUJSREZNYXA7XFxudW5pZm9ybSBzYW1wbGVyQ3ViZSB1UmFkaWFuY2VNYXA7XFxudW5pZm9ybSBzYW1wbGVyQ3ViZSB1SXJyYWRpYW5jZU1hcDtcXG5cXG4jaWZkZWYgSEFTX0JBU0VDT0xPUk1BUFxcbnVuaWZvcm0gc2FtcGxlcjJEIHVDb2xvck1hcDtcXG4jZW5kaWZcXG5cXG4jaWZkZWYgSEFTX09DQ0xVU0lPTk1BUFxcbnVuaWZvcm0gc2FtcGxlcjJEIHVBb01hcDtcXG51bmlmb3JtIGZsb2F0IHVPY2NsdXNpb25TdHJlbmd0aDtcXG4jZW5kaWZcXG5cXG4jaWZkZWYgSEFTX05PUk1BTE1BUFxcbnVuaWZvcm0gc2FtcGxlcjJEIHVOb3JtYWxNYXA7XFxudW5pZm9ybSBmbG9hdCB1Tm9ybWFsU2NhbGU7XFxuI2VuZGlmXFxuXFxuI2lmZGVmIEhBU19FTUlTU0lWRU1BUFxcbnVuaWZvcm0gc2FtcGxlcjJEIHVFbWlzc2l2ZU1hcDtcXG51bmlmb3JtIHZlYzMgdUVtaXNzaXZlRmFjdG9yO1xcbiNlbmRpZlxcblxcbnVuaWZvcm0gdmVjMyB1TGlnaHREaXJlY3Rpb247XFxudW5pZm9ybSB2ZWMzIHVMaWdodENvbG9yO1xcbnVuaWZvcm0gdmVjMyB1Q2FtZXJhUG9zO1xcblxcbnVuaWZvcm0gdmVjNCB1U2NhbGVEaWZmQmFzZU1SO1xcbnVuaWZvcm0gdmVjNCB1U2NhbGVGR0RTcGVjO1xcbnVuaWZvcm0gdmVjNCB1U2NhbGVJQkxBbWJpZW50O1xcblxcbnVuaWZvcm0gdmVjMyB1QmFzZUNvbG9yO1xcbnVuaWZvcm0gZmxvYXQgdVJvdWdobmVzcztcXG51bmlmb3JtIGZsb2F0IHVNZXRhbGxpYztcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdlBvc2l0aW9uO1xcblxcbi8vXFx0RnJvbSBHTFRGIFdlYkdMIFBCUiA6XFxuLy9cXHRodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYtV2ViR0wtUEJSXFxuXFxuLy8gRW5jYXBzdWxhdGUgdGhlIHZhcmlvdXMgaW5wdXRzIHVzZWQgYnkgdGhlIHZhcmlvdXMgZnVuY3Rpb25zIGluIHRoZSBzaGFkaW5nIGVxdWF0aW9uXFxuLy8gV2Ugc3RvcmUgdmFsdWVzIGluIHRoaXMgc3RydWN0IHRvIHNpbXBsaWZ5IHRoZSBpbnRlZ3JhdGlvbiBvZiBhbHRlcm5hdGl2ZSBpbXBsZW1lbnRhdGlvbnNcXG4vLyBvZiB0aGUgc2hhZGluZyB0ZXJtcywgb3V0bGluZWQgaW4gdGhlIFJlYWRtZS5NRCBBcHBlbmRpeC5cXG5zdHJ1Y3QgUEJSSW5mb1xcbntcXG5cXHRmbG9hdCBOZG90TDsgICAgICAgICAgICAgICAgICAvLyBjb3MgYW5nbGUgYmV0d2VlbiBub3JtYWwgYW5kIGxpZ2h0IGRpcmVjdGlvblxcblxcdGZsb2F0IE5kb3RWOyAgICAgICAgICAgICAgICAgIC8vIGNvcyBhbmdsZSBiZXR3ZWVuIG5vcm1hbCBhbmQgdmlldyBkaXJlY3Rpb25cXG5cXHRmbG9hdCBOZG90SDsgICAgICAgICAgICAgICAgICAvLyBjb3MgYW5nbGUgYmV0d2VlbiBub3JtYWwgYW5kIGhhbGYgdmVjdG9yXFxuXFx0ZmxvYXQgTGRvdEg7ICAgICAgICAgICAgICAgICAgLy8gY29zIGFuZ2xlIGJldHdlZW4gbGlnaHQgZGlyZWN0aW9uIGFuZCBoYWxmIHZlY3RvclxcblxcdGZsb2F0IFZkb3RIOyAgICAgICAgICAgICAgICAgIC8vIGNvcyBhbmdsZSBiZXR3ZWVuIHZpZXcgZGlyZWN0aW9uIGFuZCBoYWxmIHZlY3RvclxcblxcdGZsb2F0IHBlcmNlcHR1YWxSb3VnaG5lc3M7ICAgIC8vIHJvdWdobmVzcyB2YWx1ZSwgYXMgYXV0aG9yZWQgYnkgdGhlIG1vZGVsIGNyZWF0b3IgKGlucHV0IHRvIHNoYWRlcilcXG5cXHRmbG9hdCBtZXRhbG5lc3M7ICAgICAgICAgICAgICAvLyBtZXRhbGxpYyB2YWx1ZSBhdCB0aGUgc3VyZmFjZVxcblxcdHZlYzMgcmVmbGVjdGFuY2UwOyAgICAgICAgICAgIC8vIGZ1bGwgcmVmbGVjdGFuY2UgY29sb3IgKG5vcm1hbCBpbmNpZGVuY2UgYW5nbGUpXFxuXFx0dmVjMyByZWZsZWN0YW5jZTkwOyAgICAgICAgICAgLy8gcmVmbGVjdGFuY2UgY29sb3IgYXQgZ3JhemluZyBhbmdsZVxcblxcdGZsb2F0IGFscGhhUm91Z2huZXNzOyAgICAgICAgIC8vIHJvdWdobmVzcyBtYXBwZWQgdG8gYSBtb3JlIGxpbmVhciBjaGFuZ2UgaW4gdGhlIHJvdWdobmVzcyAocHJvcG9zZWQgYnkgWzJdKVxcblxcdHZlYzMgZGlmZnVzZUNvbG9yOyAgICAgICAgICAgIC8vIGNvbG9yIGNvbnRyaWJ1dGlvbiBmcm9tIGRpZmZ1c2UgbGlnaHRpbmdcXG5cXHR2ZWMzIHNwZWN1bGFyQ29sb3I7ICAgICAgICAgICAvLyBjb2xvciBjb250cmlidXRpb24gZnJvbSBzcGVjdWxhciBsaWdodGluZ1xcbn07XFxuXFxuXFxuY29uc3QgZmxvYXQgTV9QSSA9IDMuMTQxNTkyNjUzNTg5NzkzO1xcbmNvbnN0IGZsb2F0IGNfTWluUm91Z2huZXNzID0gMC4wNDtcXG5cXG5cXG52ZWM0IFNSR0J0b0xJTkVBUih2ZWM0IHNyZ2JJbilcXG57XFxuXFx0I2lmZGVmIE1BTlVBTF9TUkdCXFxuXFx0I2lmZGVmIFNSR0JfRkFTVF9BUFBST1hJTUFUSU9OXFxuXFx0dmVjMyBsaW5PdXQgPSBwb3coc3JnYkluLnh5eix2ZWMzKDIuMikpO1xcblxcdCNlbHNlIC8vU1JHQl9GQVNUX0FQUFJPWElNQVRJT05cXG5cXHR2ZWMzIGJMZXNzID0gc3RlcCh2ZWMzKDAuMDQwNDUpLHNyZ2JJbi54eXopO1xcblxcdHZlYzMgbGluT3V0ID0gbWl4KCBzcmdiSW4ueHl6L3ZlYzMoMTIuOTIpLCBwb3coKHNyZ2JJbi54eXordmVjMygwLjA1NSkpL3ZlYzMoMS4wNTUpLHZlYzMoMi40KSksIGJMZXNzICk7XFxuXFx0I2VuZGlmIC8vU1JHQl9GQVNUX0FQUFJPWElNQVRJT05cXG5cXHRyZXR1cm4gdmVjNChsaW5PdXQsc3JnYkluLncpOztcXG5cXHQjZWxzZSAvL01BTlVBTF9TUkdCXFxuXFx0cmV0dXJuIHNyZ2JJbjtcXG5cXHQjZW5kaWYgLy9NQU5VQUxfU1JHQlxcbn1cXG5cXG5cXG52ZWMzIGdldE5vcm1hbCgpIHtcXG5cXHR2ZWMzIHBvc19keCA9IGRGZHgodlBvc2l0aW9uKTtcXG5cXHR2ZWMzIHBvc19keSA9IGRGZHkodlBvc2l0aW9uKTtcXG5cXHR2ZWMzIHRleF9keCA9IGRGZHgodmVjMyh2VGV4dHVyZUNvb3JkLCAwLjApKTtcXG5cXHR2ZWMzIHRleF9keSA9IGRGZHkodmVjMyh2VGV4dHVyZUNvb3JkLCAwLjApKTtcXG5cXHR2ZWMzIHQgPSAodGV4X2R5LnQgKiBwb3NfZHggLSB0ZXhfZHgudCAqIHBvc19keSkgLyAodGV4X2R4LnMgKiB0ZXhfZHkudCAtIHRleF9keS5zICogdGV4X2R4LnQpO1xcblxcblxcdHZlYzMgbmcgPSBub3JtYWxpemUodk5vcm1hbCk7XFxuXFxuXFx0dCA9IG5vcm1hbGl6ZSh0IC0gbmcgKiBkb3QobmcsIHQpKTtcXG5cXHR2ZWMzIGIgPSBub3JtYWxpemUoY3Jvc3MobmcsIHQpKTtcXG5cXHRtYXQzIHRibiA9IG1hdDModCwgYiwgbmcpO1xcblxcbiNpZmRlZiBIQVNfTk9STUFMTUFQXFxuXFx0dmVjMyBuID0gdGV4dHVyZTJEKHVOb3JtYWxNYXAsIHZUZXh0dXJlQ29vcmQpLnJnYjtcXG5cXHRuID0gbm9ybWFsaXplKHRibiAqICgoMi4wICogbiAtIDEuMCkgKiB2ZWMzKHVOb3JtYWxTY2FsZSwgdU5vcm1hbFNjYWxlLCAxLjApKSk7XFxuI2Vsc2VcXG5cXHQvLyBUaGUgdGJuIG1hdHJpeCBpcyBsaW5lYXJseSBpbnRlcnBvbGF0ZWQsIHNvIHdlIG5lZWQgdG8gcmUtbm9ybWFsaXplXFxuXFx0dmVjMyBuID0gbm9ybWFsaXplKHRiblsyXS54eXopO1xcbiNlbmRpZlxcblxcblxcdHJldHVybiBuO1xcbn1cXG5cXG5cXG52ZWMzIGdldElCTENvbnRyaWJ1dGlvbihQQlJJbmZvIHBicklucHV0cywgdmVjMyBuLCB2ZWMzIHJlZmxlY3Rpb24pXFxue1xcblxcdGZsb2F0IG1pcENvdW50ID0gNy4wOyAvLyByZXNvbHV0aW9uIG9mIDUxMng1MTJcXG5cXHRmbG9hdCBsb2QgPSAocGJySW5wdXRzLnBlcmNlcHR1YWxSb3VnaG5lc3MgKiBtaXBDb3VudCk7XFxuXFx0Ly8gcmV0cmlldmUgYSBzY2FsZSBhbmQgYmlhcyB0byBGMC4gU2VlIFsxXSwgRmlndXJlIDNcXG5cXHR2ZWMzIGJyZGYgPSBTUkdCdG9MSU5FQVIodGV4dHVyZTJEKHVCUkRGTWFwLCB2ZWMyKHBicklucHV0cy5OZG90ViwgMS4wIC0gcGJySW5wdXRzLnBlcmNlcHR1YWxSb3VnaG5lc3MpKSkucmdiO1xcblxcdHZlYzMgZGlmZnVzZUxpZ2h0ID0gU1JHQnRvTElORUFSKHRleHR1cmVDdWJlKHVJcnJhZGlhbmNlTWFwLCBuKSkucmdiO1xcblxcblxcdHZlYzMgc3BlY3VsYXJMaWdodCA9IFNSR0J0b0xJTkVBUih0ZXh0dXJlQ3ViZUxvZEVYVCh1UmFkaWFuY2VNYXAsIHJlZmxlY3Rpb24sIGxvZCkpLnJnYjtcXG5cXG5cXHR2ZWMzIGRpZmZ1c2UgPSBkaWZmdXNlTGlnaHQgKiBwYnJJbnB1dHMuZGlmZnVzZUNvbG9yO1xcblxcdHZlYzMgc3BlY3VsYXIgPSBzcGVjdWxhckxpZ2h0ICogKHBicklucHV0cy5zcGVjdWxhckNvbG9yICogYnJkZi54ICsgYnJkZi55KTtcXG5cXG5cXHQvLyBGb3IgcHJlc2VudGF0aW9uLCB0aGlzIGFsbG93cyB1cyB0byBkaXNhYmxlIElCTCB0ZXJtc1xcblxcdGRpZmZ1c2UgKj0gdVNjYWxlSUJMQW1iaWVudC54O1xcblxcdHNwZWN1bGFyICo9IHVTY2FsZUlCTEFtYmllbnQueTtcXG5cXG5cXHRyZXR1cm4gZGlmZnVzZSArIHNwZWN1bGFyO1xcbn1cXG5cXG5cXG52ZWMzIGRpZmZ1c2UoUEJSSW5mbyBwYnJJbnB1dHMpXFxue1xcblxcdHJldHVybiBwYnJJbnB1dHMuZGlmZnVzZUNvbG9yIC8gTV9QSTtcXG59XFxuXFxuXFxudmVjMyBzcGVjdWxhclJlZmxlY3Rpb24oUEJSSW5mbyBwYnJJbnB1dHMpXFxue1xcblxcdHJldHVybiBwYnJJbnB1dHMucmVmbGVjdGFuY2UwICsgKHBicklucHV0cy5yZWZsZWN0YW5jZTkwIC0gcGJySW5wdXRzLnJlZmxlY3RhbmNlMCkgKiBwb3coY2xhbXAoMS4wIC0gcGJySW5wdXRzLlZkb3RILCAwLjAsIDEuMCksIDUuMCk7XFxufVxcblxcbmZsb2F0IGdlb21ldHJpY09jY2x1c2lvbihQQlJJbmZvIHBicklucHV0cylcXG57XFxuXFx0ZmxvYXQgTmRvdEwgPSBwYnJJbnB1dHMuTmRvdEw7XFxuXFx0ZmxvYXQgTmRvdFYgPSBwYnJJbnB1dHMuTmRvdFY7XFxuXFx0ZmxvYXQgciA9IHBicklucHV0cy5hbHBoYVJvdWdobmVzcztcXG5cXG5cXHRmbG9hdCBhdHRlbnVhdGlvbkwgPSAyLjAgKiBOZG90TCAvIChOZG90TCArIHNxcnQociAqIHIgKyAoMS4wIC0gciAqIHIpICogKE5kb3RMICogTmRvdEwpKSk7XFxuXFx0ZmxvYXQgYXR0ZW51YXRpb25WID0gMi4wICogTmRvdFYgLyAoTmRvdFYgKyBzcXJ0KHIgKiByICsgKDEuMCAtIHIgKiByKSAqIChOZG90ViAqIE5kb3RWKSkpO1xcblxcdHJldHVybiBhdHRlbnVhdGlvbkwgKiBhdHRlbnVhdGlvblY7XFxufVxcblxcblxcbmZsb2F0IG1pY3JvZmFjZXREaXN0cmlidXRpb24oUEJSSW5mbyBwYnJJbnB1dHMpXFxue1xcblxcdGZsb2F0IHJvdWdobmVzc1NxID0gcGJySW5wdXRzLmFscGhhUm91Z2huZXNzICogcGJySW5wdXRzLmFscGhhUm91Z2huZXNzO1xcblxcdGZsb2F0IGYgPSAocGJySW5wdXRzLk5kb3RIICogcm91Z2huZXNzU3EgLSBwYnJJbnB1dHMuTmRvdEgpICogcGJySW5wdXRzLk5kb3RIICsgMS4wO1xcblxcdHJldHVybiByb3VnaG5lc3NTcSAvIChNX1BJICogZiAqIGYpO1xcbn1cXG5cXG52b2lkIG1haW4oKSB7XFxuXFxuXFx0ZmxvYXQgcGVyY2VwdHVhbFJvdWdobmVzcyAgID0gdVJvdWdobmVzcztcXG5cXHRmbG9hdCBtZXRhbGxpYyAgICAgICAgICAgICAgPSB1TWV0YWxsaWM7XFxuXFx0cGVyY2VwdHVhbFJvdWdobmVzcyAgICAgICAgID0gY2xhbXAocGVyY2VwdHVhbFJvdWdobmVzcywgY19NaW5Sb3VnaG5lc3MsIDEuMCk7XFxuXFx0bWV0YWxsaWMgICAgICAgICAgICAgICAgICAgID0gY2xhbXAobWV0YWxsaWMsIDAuMCwgMS4wKTtcXG5cXHRmbG9hdCBhbHBoYVJvdWdobmVzcyAgICAgICAgPSBwZXJjZXB0dWFsUm91Z2huZXNzICogcGVyY2VwdHVhbFJvdWdobmVzcztcXG5cXG4jaWZkZWYgSEFTX0JBU0VDT0xPUk1BUFxcdFxcblxcdHZlYzQgYmFzZUNvbG9yID0gU1JHQnRvTElORUFSKHRleHR1cmUyRCh1Q29sb3JNYXAsIHZUZXh0dXJlQ29vcmQpKTtcXG4jZWxzZVxcblxcdHZlYzQgYmFzZUNvbG9yICAgICAgICAgICAgICA9IHZlYzQodUJhc2VDb2xvciwgMS4wKTtcXG4jZW5kaWZcXHRcXG5cXHRcXG5cXHR2ZWMzIGYwICAgICAgICAgICAgICAgICAgICAgPSB2ZWMzKDAuMDQpO1xcblxcdHZlYzMgZGlmZnVzZUNvbG9yICAgICAgICAgICA9IGJhc2VDb2xvci5yZ2IgKiAodmVjMygxLjApIC0gZjApO1xcblxcdGRpZmZ1c2VDb2xvciAgICAgICAgICAgICAgICAqPSAxLjAgLSBtZXRhbGxpYztcXG5cXHR2ZWMzIHNwZWN1bGFyQ29sb3IgICAgICAgICAgPSBtaXgoZjAsIGJhc2VDb2xvci5yZ2IsIG1ldGFsbGljKTtcXG5cXHRcXG5cXHQvLyBDb21wdXRlIHJlZmxlY3RhbmNlLlxcblxcdGZsb2F0IHJlZmxlY3RhbmNlICAgICAgICAgICA9IG1heChtYXgoc3BlY3VsYXJDb2xvci5yLCBzcGVjdWxhckNvbG9yLmcpLCBzcGVjdWxhckNvbG9yLmIpO1xcblxcdFxcblxcdC8vIEZvciB0eXBpY2FsIGluY2lkZW50IHJlZmxlY3RhbmNlIHJhbmdlIChiZXR3ZWVuIDQlIHRvIDEwMCUpIHNldCB0aGUgZ3JhemluZyByZWZsZWN0YW5jZSB0byAxMDAlIGZvciB0eXBpY2FsIGZyZXNuZWwgZWZmZWN0LlxcblxcdC8vIEZvciB2ZXJ5IGxvdyByZWZsZWN0YW5jZSByYW5nZSBvbiBoaWdobHkgZGlmZnVzZSBvYmplY3RzIChiZWxvdyA0JSksIGluY3JlbWVudGFsbHkgcmVkdWNlIGdyYXppbmcgcmVmbGVjYW5jZSB0byAwJS5cXG5cXHRmbG9hdCByZWZsZWN0YW5jZTkwICAgICAgICAgPSBjbGFtcChyZWZsZWN0YW5jZSAqIDI1LjAsIDAuMCwgMS4wKTtcXG5cXHR2ZWMzIHNwZWN1bGFyRW52aXJvbm1lbnRSMCAgPSBzcGVjdWxhckNvbG9yLnJnYjtcXG5cXHR2ZWMzIHNwZWN1bGFyRW52aXJvbm1lbnRSOTAgPSB2ZWMzKDEuMCwgMS4wLCAxLjApICogcmVmbGVjdGFuY2U5MDtcXG5cXHRcXG5cXHR2ZWMzIG4gICAgICAgICAgICAgICAgICAgICAgPSBnZXROb3JtYWwoKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vcm1hbCBhdCBzdXJmYWNlIHBvaW50XFxuXFx0dmVjMyB2ICAgICAgICAgICAgICAgICAgICAgID0gbm9ybWFsaXplKHVDYW1lcmFQb3MgLSB2UG9zaXRpb24pOyAgICAgICAgLy8gVmVjdG9yIGZyb20gc3VyZmFjZSBwb2ludCB0byBjYW1lcmFcXG5cXHR2ZWMzIGwgICAgICAgICAgICAgICAgICAgICAgPSBub3JtYWxpemUodUxpZ2h0RGlyZWN0aW9uKTsgICAgICAgICAgICAgLy8gVmVjdG9yIGZyb20gc3VyZmFjZSBwb2ludCB0byBsaWdodFxcblxcdHZlYzMgaCAgICAgICAgICAgICAgICAgICAgICA9IG5vcm1hbGl6ZShsK3YpOyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFsZiB2ZWN0b3IgYmV0d2VlbiBib3RoIGwgYW5kIHZcXG5cXHR2ZWMzIHJlZmxlY3Rpb24gICAgICAgICAgICAgPSAtbm9ybWFsaXplKHJlZmxlY3QodiwgbikpO1xcblxcdFxcblxcdGZsb2F0IE5kb3RMICAgICAgICAgICAgICAgICA9IGNsYW1wKGRvdChuLCBsKSwgMC4wMDEsIDEuMCk7XFxuXFx0ZmxvYXQgTmRvdFYgICAgICAgICAgICAgICAgID0gYWJzKGRvdChuLCB2KSkgKyAwLjAwMTtcXG5cXHRmbG9hdCBOZG90SCAgICAgICAgICAgICAgICAgPSBjbGFtcChkb3QobiwgaCksIDAuMCwgMS4wKTtcXG5cXHRmbG9hdCBMZG90SCAgICAgICAgICAgICAgICAgPSBjbGFtcChkb3QobCwgaCksIDAuMCwgMS4wKTtcXG5cXHRmbG9hdCBWZG90SCAgICAgICAgICAgICAgICAgPSBjbGFtcChkb3QodiwgaCksIDAuMCwgMS4wKTtcXG5cXG5cXHRQQlJJbmZvIHBicklucHV0cyA9IFBCUkluZm8oXFxuXFx0XFx0TmRvdEwsXFxuXFx0XFx0TmRvdFYsXFxuXFx0XFx0TmRvdEgsXFxuXFx0XFx0TGRvdEgsXFxuXFx0XFx0VmRvdEgsXFxuXFx0XFx0cGVyY2VwdHVhbFJvdWdobmVzcyxcXG5cXHRcXHRtZXRhbGxpYyxcXG5cXHRcXHRzcGVjdWxhckVudmlyb25tZW50UjAsXFxuXFx0XFx0c3BlY3VsYXJFbnZpcm9ubWVudFI5MCxcXG5cXHRcXHRhbHBoYVJvdWdobmVzcyxcXG5cXHRcXHRkaWZmdXNlQ29sb3IsXFxuXFx0XFx0c3BlY3VsYXJDb2xvclxcblxcdCk7XFxuXFxuXFx0Ly8gQ2FsY3VsYXRlIHRoZSBzaGFkaW5nIHRlcm1zIGZvciB0aGUgbWljcm9mYWNldCBzcGVjdWxhciBzaGFkaW5nIG1vZGVsXFxuXFx0dmVjMyBGICAgICAgICAgICAgICA9IHNwZWN1bGFyUmVmbGVjdGlvbihwYnJJbnB1dHMpO1xcblxcdGZsb2F0IEcgICAgICAgICAgICAgPSBnZW9tZXRyaWNPY2NsdXNpb24ocGJySW5wdXRzKTtcXG5cXHRmbG9hdCBEICAgICAgICAgICAgID0gbWljcm9mYWNldERpc3RyaWJ1dGlvbihwYnJJbnB1dHMpO1xcblxcdFxcblxcdC8vIENhbGN1bGF0aW9uIG9mIGFuYWx5dGljYWwgbGlnaHRpbmcgY29udHJpYnV0aW9uXFxuXFx0dmVjMyBkaWZmdXNlQ29udHJpYiA9ICgxLjAgLSBGKSAqIGRpZmZ1c2UocGJySW5wdXRzKTtcXG5cXHR2ZWMzIHNwZWNDb250cmliICAgID0gRiAqIEcgKiBEIC8gKDQuMCAqIE5kb3RMICogTmRvdFYpO1xcblxcdC8vIE9idGFpbiBmaW5hbCBpbnRlbnNpdHkgYXMgcmVmbGVjdGFuY2UgKEJSREYpIHNjYWxlZCBieSB0aGUgZW5lcmd5IG9mIHRoZSBsaWdodCAoY29zaW5lIGxhdylcXG5cXHR2ZWMzIGNvbG9yICAgICAgICAgID0gTmRvdEwgKiB1TGlnaHRDb2xvciAqIChkaWZmdXNlQ29udHJpYiArIHNwZWNDb250cmliKTtcXG5cXHRcXG4jaWZkZWYgVVNFX0lCTFxcblxcdGNvbG9yICs9IGdldElCTENvbnRyaWJ1dGlvbihwYnJJbnB1dHMsIG4sIHJlZmxlY3Rpb24pO1xcbiNlbmRpZlxcblxcbiNpZmRlZiBIQVNfT0NDTFVTSU9OTUFQXFx0XFxuXFx0ZmxvYXQgYW8gICAgICAgICAgICA9IHRleHR1cmUyRCh1QW9NYXAsIHZUZXh0dXJlQ29vcmQpLnI7XFxuXFx0Y29sb3IgICAgICAgICAgICAgICA9IG1peChjb2xvciwgY29sb3IgKiBhbywgdU9jY2x1c2lvblN0cmVuZ3RoKTtcXG4jZW5kaWZcXHRcXG5cXG4jaWZkZWYgSEFTX0VNSVNTSVZFTUFQXFxuICAgIHZlYzMgZW1pc3NpdmUgPSBTUkdCdG9MSU5FQVIodGV4dHVyZTJEKHVFbWlzc2l2ZU1hcCwgdlRleHR1cmVDb29yZCkpLnJnYiAqIHVFbWlzc2l2ZUZhY3RvcjtcXG4gICAgY29sb3IgKz0gZW1pc3NpdmU7XFxuI2VuZGlmXFxuXFx0XFxuXFx0Ly8gVGhpcyBzZWN0aW9uIHVzZXMgbWl4IHRvIG92ZXJyaWRlIGZpbmFsIGNvbG9yIGZvciByZWZlcmVuY2UgYXBwIHZpc3VhbGl6YXRpb25cXG5cXHQvLyBvZiB2YXJpb3VzIHBhcmFtZXRlcnMgaW4gdGhlIGxpZ2h0aW5nIGVxdWF0aW9uLlxcblxcdGNvbG9yICAgICAgICAgICAgICAgPSBtaXgoY29sb3IsIEYsIHVTY2FsZUZHRFNwZWMueCk7XFxuXFx0Y29sb3IgICAgICAgICAgICAgICA9IG1peChjb2xvciwgdmVjMyhHKSwgdVNjYWxlRkdEU3BlYy55KTtcXG5cXHRjb2xvciAgICAgICAgICAgICAgID0gbWl4KGNvbG9yLCB2ZWMzKEQpLCB1U2NhbGVGR0RTcGVjLnopO1xcblxcdGNvbG9yICAgICAgICAgICAgICAgPSBtaXgoY29sb3IsIHNwZWNDb250cmliLCB1U2NhbGVGR0RTcGVjLncpO1xcblxcdFxcblxcdGNvbG9yICAgICAgICAgICAgICAgPSBtaXgoY29sb3IsIGRpZmZ1c2VDb250cmliLCB1U2NhbGVEaWZmQmFzZU1SLngpO1xcblxcdGNvbG9yICAgICAgICAgICAgICAgPSBtaXgoY29sb3IsIGJhc2VDb2xvci5yZ2IsIHVTY2FsZURpZmZCYXNlTVIueSk7XFxuXFx0Y29sb3IgICAgICAgICAgICAgICA9IG1peChjb2xvciwgdmVjMyhtZXRhbGxpYyksIHVTY2FsZURpZmZCYXNlTVIueik7XFxuXFx0Y29sb3IgICAgICAgICAgICAgICA9IG1peChjb2xvciwgdmVjMyhwZXJjZXB0dWFsUm91Z2huZXNzKSwgdVNjYWxlRGlmZkJhc2VNUi53KTtcXG5cXHRcXG5cXHQvLyBvdXRwdXQgdGhlIGZyYWdtZW50IGNvbG9yXFxuXFx0Z2xfRnJhZ0NvbG9yICAgICAgICA9IHZlYzQocG93KGNvbG9yLHZlYzMoMS4wLzIuMikpLCBiYXNlQ29sb3IuYSk7XFxuXFxufVwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvc2hhZGVycy9wYnIuZnJhZ1xuLy8gbW9kdWxlIGlkID0gMThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuQ29weXJpZ2h0IChjKSAyMDE0IFBldGthIEFudG9ub3ZcblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cblRIRSBTT0ZUV0FSRS5cbiovXG5mdW5jdGlvbiBVcmwoKSB7XG4gICAgLy9Gb3IgbW9yZSBlZmZpY2llbnQgaW50ZXJuYWwgcmVwcmVzZW50YXRpb24gYW5kIGxhemluZXNzLlxuICAgIC8vVGhlIG5vbi11bmRlcnNjb3JlIHZlcnNpb25zIG9mIHRoZXNlIHByb3BlcnRpZXMgYXJlIGFjY2Vzc29yIGZ1bmN0aW9uc1xuICAgIC8vZGVmaW5lZCBvbiB0aGUgcHJvdG90eXBlLlxuICAgIHRoaXMuX3Byb3RvY29sID0gbnVsbDtcbiAgICB0aGlzLl9ocmVmID0gXCJcIjtcbiAgICB0aGlzLl9wb3J0ID0gLTE7XG4gICAgdGhpcy5fcXVlcnkgPSBudWxsO1xuXG4gICAgdGhpcy5hdXRoID0gbnVsbDtcbiAgICB0aGlzLnNsYXNoZXMgPSBudWxsO1xuICAgIHRoaXMuaG9zdCA9IG51bGw7XG4gICAgdGhpcy5ob3N0bmFtZSA9IG51bGw7XG4gICAgdGhpcy5oYXNoID0gbnVsbDtcbiAgICB0aGlzLnNlYXJjaCA9IG51bGw7XG4gICAgdGhpcy5wYXRobmFtZSA9IG51bGw7XG5cbiAgICB0aGlzLl9wcmVwZW5kU2xhc2ggPSBmYWxzZTtcbn1cblxudmFyIHF1ZXJ5c3RyaW5nID0gcmVxdWlyZShcInF1ZXJ5c3RyaW5nXCIpO1xuXG5VcmwucXVlcnlTdHJpbmcgPSBxdWVyeXN0cmluZztcblxuVXJsLnByb3RvdHlwZS5wYXJzZSA9XG5mdW5jdGlvbiBVcmwkcGFyc2Uoc3RyLCBwYXJzZVF1ZXJ5U3RyaW5nLCBob3N0RGVub3Rlc1NsYXNoLCBkaXNhYmxlQXV0b0VzY2FwZUNoYXJzKSB7XG4gICAgaWYgKHR5cGVvZiBzdHIgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlBhcmFtZXRlciAndXJsJyBtdXN0IGJlIGEgc3RyaW5nLCBub3QgXCIgK1xuICAgICAgICAgICAgdHlwZW9mIHN0cik7XG4gICAgfVxuICAgIHZhciBzdGFydCA9IDA7XG4gICAgdmFyIGVuZCA9IHN0ci5sZW5ndGggLSAxO1xuXG4gICAgLy9UcmltIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdzXG4gICAgd2hpbGUgKHN0ci5jaGFyQ29kZUF0KHN0YXJ0KSA8PSAweDIwIC8qJyAnKi8pIHN0YXJ0Kys7XG4gICAgd2hpbGUgKHN0ci5jaGFyQ29kZUF0KGVuZCkgPD0gMHgyMCAvKicgJyovKSBlbmQtLTtcblxuICAgIHN0YXJ0ID0gdGhpcy5fcGFyc2VQcm90b2NvbChzdHIsIHN0YXJ0LCBlbmQpO1xuXG4gICAgLy9KYXZhc2NyaXB0IGRvZXNuJ3QgaGF2ZSBob3N0XG4gICAgaWYgKHRoaXMuX3Byb3RvY29sICE9PSBcImphdmFzY3JpcHRcIikge1xuICAgICAgICBzdGFydCA9IHRoaXMuX3BhcnNlSG9zdChzdHIsIHN0YXJ0LCBlbmQsIGhvc3REZW5vdGVzU2xhc2gpO1xuICAgICAgICB2YXIgcHJvdG8gPSB0aGlzLl9wcm90b2NvbDtcbiAgICAgICAgaWYgKCF0aGlzLmhvc3RuYW1lICYmXG4gICAgICAgICAgICAodGhpcy5zbGFzaGVzIHx8IChwcm90byAmJiAhc2xhc2hQcm90b2NvbHNbcHJvdG9dKSkpIHtcbiAgICAgICAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3QgPSBcIlwiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0IDw9IGVuZCkge1xuICAgICAgICB2YXIgY2ggPSBzdHIuY2hhckNvZGVBdChzdGFydCk7XG5cbiAgICAgICAgaWYgKGNoID09PSAweDJGIC8qJy8nKi8gfHwgY2ggPT09IDB4NUMgLyonXFwnKi8pIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlUGF0aChzdHIsIHN0YXJ0LCBlbmQsIGRpc2FibGVBdXRvRXNjYXBlQ2hhcnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoID09PSAweDNGIC8qJz8nKi8pIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlUXVlcnkoc3RyLCBzdGFydCwgZW5kLCBkaXNhYmxlQXV0b0VzY2FwZUNoYXJzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaCA9PT0gMHgyMyAvKicjJyovKSB7XG4gICAgICAgICAgdGhpcy5fcGFyc2VIYXNoKHN0ciwgc3RhcnQsIGVuZCwgZGlzYWJsZUF1dG9Fc2NhcGVDaGFycyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fcHJvdG9jb2wgIT09IFwiamF2YXNjcmlwdFwiKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJzZVBhdGgoc3RyLCBzdGFydCwgZW5kLCBkaXNhYmxlQXV0b0VzY2FwZUNoYXJzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy9Gb3IgamF2YXNjcmlwdCB0aGUgcGF0aG5hbWUgaXMganVzdCB0aGUgcmVzdCBvZiBpdFxuICAgICAgICAgICAgdGhpcy5wYXRobmFtZSA9IHN0ci5zbGljZShzdGFydCwgZW5kICsgMSApO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucGF0aG5hbWUgJiYgdGhpcy5ob3N0bmFtZSAmJlxuICAgICAgICB0aGlzLl9zbGFzaFByb3RvY29sc1t0aGlzLl9wcm90b2NvbF0pIHtcbiAgICAgICAgdGhpcy5wYXRobmFtZSA9IFwiL1wiO1xuICAgIH1cblxuICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgIHZhciBzZWFyY2ggPSB0aGlzLnNlYXJjaDtcbiAgICAgICAgaWYgKHNlYXJjaCA9PSBudWxsKSB7XG4gICAgICAgICAgICBzZWFyY2ggPSB0aGlzLnNlYXJjaCA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlYXJjaC5jaGFyQ29kZUF0KDApID09PSAweDNGIC8qJz8nKi8pIHtcbiAgICAgICAgICAgIHNlYXJjaCA9IHNlYXJjaC5zbGljZSgxKTtcbiAgICAgICAgfVxuICAgICAgICAvL1RoaXMgY2FsbHMgYSBzZXR0ZXIgZnVuY3Rpb24sIHRoZXJlIGlzIG5vIC5xdWVyeSBkYXRhIHByb3BlcnR5XG4gICAgICAgIHRoaXMucXVlcnkgPSBVcmwucXVlcnlTdHJpbmcucGFyc2Uoc2VhcmNoKTtcbiAgICB9XG59O1xuXG5VcmwucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbiBVcmwkcmVzb2x2ZShyZWxhdGl2ZSkge1xuICAgIHJldHVybiB0aGlzLnJlc29sdmVPYmplY3QoVXJsLnBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSkpLmZvcm1hdCgpO1xufTtcblxuVXJsLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiBVcmwkZm9ybWF0KCkge1xuICAgIHZhciBhdXRoID0gdGhpcy5hdXRoIHx8IFwiXCI7XG5cbiAgICBpZiAoYXV0aCkge1xuICAgICAgICBhdXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgICAgICBhdXRoID0gYXV0aC5yZXBsYWNlKC8lM0EvaSwgXCI6XCIpO1xuICAgICAgICBhdXRoICs9IFwiQFwiO1xuICAgIH1cblxuICAgIHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2wgfHwgXCJcIjtcbiAgICB2YXIgcGF0aG5hbWUgPSB0aGlzLnBhdGhuYW1lIHx8IFwiXCI7XG4gICAgdmFyIGhhc2ggPSB0aGlzLmhhc2ggfHwgXCJcIjtcbiAgICB2YXIgc2VhcmNoID0gdGhpcy5zZWFyY2ggfHwgXCJcIjtcbiAgICB2YXIgcXVlcnkgPSBcIlwiO1xuICAgIHZhciBob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUgfHwgXCJcIjtcbiAgICB2YXIgcG9ydCA9IHRoaXMucG9ydCB8fCBcIlwiO1xuICAgIHZhciBob3N0ID0gZmFsc2U7XG4gICAgdmFyIHNjaGVtZSA9IFwiXCI7XG5cbiAgICAvL0NhY2hlIHRoZSByZXN1bHQgb2YgdGhlIGdldHRlciBmdW5jdGlvblxuICAgIHZhciBxID0gdGhpcy5xdWVyeTtcbiAgICBpZiAocSAmJiB0eXBlb2YgcSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBxdWVyeSA9IFVybC5xdWVyeVN0cmluZy5zdHJpbmdpZnkocSk7XG4gICAgfVxuXG4gICAgaWYgKCFzZWFyY2gpIHtcbiAgICAgICAgc2VhcmNoID0gcXVlcnkgPyBcIj9cIiArIHF1ZXJ5IDogXCJcIjtcbiAgICB9XG5cbiAgICBpZiAocHJvdG9jb2wgJiYgcHJvdG9jb2wuY2hhckNvZGVBdChwcm90b2NvbC5sZW5ndGggLSAxKSAhPT0gMHgzQSAvKic6JyovKVxuICAgICAgICBwcm90b2NvbCArPSBcIjpcIjtcblxuICAgIGlmICh0aGlzLmhvc3QpIHtcbiAgICAgICAgaG9zdCA9IGF1dGggKyB0aGlzLmhvc3Q7XG4gICAgfVxuICAgIGVsc2UgaWYgKGhvc3RuYW1lKSB7XG4gICAgICAgIHZhciBpcDYgPSBob3N0bmFtZS5pbmRleE9mKFwiOlwiKSA+IC0xO1xuICAgICAgICBpZiAoaXA2KSBob3N0bmFtZSA9IFwiW1wiICsgaG9zdG5hbWUgKyBcIl1cIjtcbiAgICAgICAgaG9zdCA9IGF1dGggKyBob3N0bmFtZSArIChwb3J0ID8gXCI6XCIgKyBwb3J0IDogXCJcIik7XG4gICAgfVxuXG4gICAgdmFyIHNsYXNoZXMgPSB0aGlzLnNsYXNoZXMgfHxcbiAgICAgICAgKCghcHJvdG9jb2wgfHxcbiAgICAgICAgc2xhc2hQcm90b2NvbHNbcHJvdG9jb2xdKSAmJiBob3N0ICE9PSBmYWxzZSk7XG5cblxuICAgIGlmIChwcm90b2NvbCkgc2NoZW1lID0gcHJvdG9jb2wgKyAoc2xhc2hlcyA/IFwiLy9cIiA6IFwiXCIpO1xuICAgIGVsc2UgaWYgKHNsYXNoZXMpIHNjaGVtZSA9IFwiLy9cIjtcblxuICAgIGlmIChzbGFzaGVzICYmIHBhdGhuYW1lICYmIHBhdGhuYW1lLmNoYXJDb2RlQXQoMCkgIT09IDB4MkYgLyonLycqLykge1xuICAgICAgICBwYXRobmFtZSA9IFwiL1wiICsgcGF0aG5hbWU7XG4gICAgfVxuICAgIGlmIChzZWFyY2ggJiYgc2VhcmNoLmNoYXJDb2RlQXQoMCkgIT09IDB4M0YgLyonPycqLylcbiAgICAgICAgc2VhcmNoID0gXCI/XCIgKyBzZWFyY2g7XG4gICAgaWYgKGhhc2ggJiYgaGFzaC5jaGFyQ29kZUF0KDApICE9PSAweDIzIC8qJyMnKi8pXG4gICAgICAgIGhhc2ggPSBcIiNcIiArIGhhc2g7XG5cbiAgICBwYXRobmFtZSA9IGVzY2FwZVBhdGhOYW1lKHBhdGhuYW1lKTtcbiAgICBzZWFyY2ggPSBlc2NhcGVTZWFyY2goc2VhcmNoKTtcblxuICAgIHJldHVybiBzY2hlbWUgKyAoaG9zdCA9PT0gZmFsc2UgPyBcIlwiIDogaG9zdCkgKyBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XG59O1xuXG5VcmwucHJvdG90eXBlLnJlc29sdmVPYmplY3QgPSBmdW5jdGlvbiBVcmwkcmVzb2x2ZU9iamVjdChyZWxhdGl2ZSkge1xuICAgIGlmICh0eXBlb2YgcmVsYXRpdmUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgIHJlbGF0aXZlID0gVXJsLnBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSk7XG5cbiAgICB2YXIgcmVzdWx0ID0gdGhpcy5fY2xvbmUoKTtcblxuICAgIC8vIGhhc2ggaXMgYWx3YXlzIG92ZXJyaWRkZW4sIG5vIG1hdHRlciB3aGF0LlxuICAgIC8vIGV2ZW4gaHJlZj1cIlwiIHdpbGwgcmVtb3ZlIGl0LlxuICAgIHJlc3VsdC5oYXNoID0gcmVsYXRpdmUuaGFzaDtcblxuICAgIC8vIGlmIHRoZSByZWxhdGl2ZSB1cmwgaXMgZW1wdHksIHRoZW4gdGhlcmVcInMgbm90aGluZyBsZWZ0IHRvIGRvIGhlcmUuXG4gICAgaWYgKCFyZWxhdGl2ZS5ocmVmKSB7XG4gICAgICAgIHJlc3VsdC5faHJlZiA9IFwiXCI7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gaHJlZnMgbGlrZSAvL2Zvby9iYXIgYWx3YXlzIGN1dCB0byB0aGUgcHJvdG9jb2wuXG4gICAgaWYgKHJlbGF0aXZlLnNsYXNoZXMgJiYgIXJlbGF0aXZlLl9wcm90b2NvbCkge1xuICAgICAgICByZWxhdGl2ZS5fY29weVByb3BzVG8ocmVzdWx0LCB0cnVlKTtcblxuICAgICAgICBpZiAoc2xhc2hQcm90b2NvbHNbcmVzdWx0Ll9wcm90b2NvbF0gJiZcbiAgICAgICAgICAgIHJlc3VsdC5ob3N0bmFtZSAmJiAhcmVzdWx0LnBhdGhuYW1lKSB7XG4gICAgICAgICAgICByZXN1bHQucGF0aG5hbWUgPSBcIi9cIjtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQuX2hyZWYgPSBcIlwiO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGlmIChyZWxhdGl2ZS5fcHJvdG9jb2wgJiYgcmVsYXRpdmUuX3Byb3RvY29sICE9PSByZXN1bHQuX3Byb3RvY29sKSB7XG4gICAgICAgIC8vIGlmIGl0XCJzIGEga25vd24gdXJsIHByb3RvY29sLCB0aGVuIGNoYW5naW5nXG4gICAgICAgIC8vIHRoZSBwcm90b2NvbCBkb2VzIHdlaXJkIHRoaW5nc1xuICAgICAgICAvLyBmaXJzdCwgaWYgaXRcInMgbm90IGZpbGU6LCB0aGVuIHdlIE1VU1QgaGF2ZSBhIGhvc3QsXG4gICAgICAgIC8vIGFuZCBpZiB0aGVyZSB3YXMgYSBwYXRoXG4gICAgICAgIC8vIHRvIGJlZ2luIHdpdGgsIHRoZW4gd2UgTVVTVCBoYXZlIGEgcGF0aC5cbiAgICAgICAgLy8gaWYgaXQgaXMgZmlsZTosIHRoZW4gdGhlIGhvc3QgaXMgZHJvcHBlZCxcbiAgICAgICAgLy8gYmVjYXVzZSB0aGF0XCJzIGtub3duIHRvIGJlIGhvc3RsZXNzLlxuICAgICAgICAvLyBhbnl0aGluZyBlbHNlIGlzIGFzc3VtZWQgdG8gYmUgYWJzb2x1dGUuXG4gICAgICAgIGlmICghc2xhc2hQcm90b2NvbHNbcmVsYXRpdmUuX3Byb3RvY29sXSkge1xuICAgICAgICAgICAgcmVsYXRpdmUuX2NvcHlQcm9wc1RvKHJlc3VsdCwgZmFsc2UpO1xuICAgICAgICAgICAgcmVzdWx0Ll9ocmVmID0gXCJcIjtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHQuX3Byb3RvY29sID0gcmVsYXRpdmUuX3Byb3RvY29sO1xuICAgICAgICBpZiAoIXJlbGF0aXZlLmhvc3QgJiYgcmVsYXRpdmUuX3Byb3RvY29sICE9PSBcImphdmFzY3JpcHRcIikge1xuICAgICAgICAgICAgdmFyIHJlbFBhdGggPSAocmVsYXRpdmUucGF0aG5hbWUgfHwgXCJcIikuc3BsaXQoXCIvXCIpO1xuICAgICAgICAgICAgd2hpbGUgKHJlbFBhdGgubGVuZ3RoICYmICEocmVsYXRpdmUuaG9zdCA9IHJlbFBhdGguc2hpZnQoKSkpO1xuICAgICAgICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0KSByZWxhdGl2ZS5ob3N0ID0gXCJcIjtcbiAgICAgICAgICAgIGlmICghcmVsYXRpdmUuaG9zdG5hbWUpIHJlbGF0aXZlLmhvc3RuYW1lID0gXCJcIjtcbiAgICAgICAgICAgIGlmIChyZWxQYXRoWzBdICE9PSBcIlwiKSByZWxQYXRoLnVuc2hpZnQoXCJcIik7XG4gICAgICAgICAgICBpZiAocmVsUGF0aC5sZW5ndGggPCAyKSByZWxQYXRoLnVuc2hpZnQoXCJcIik7XG4gICAgICAgICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxQYXRoLmpvaW4oXCIvXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsYXRpdmUucGF0aG5hbWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgICAgICByZXN1bHQuaG9zdCA9IHJlbGF0aXZlLmhvc3QgfHwgXCJcIjtcbiAgICAgICAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoO1xuICAgICAgICByZXN1bHQuaG9zdG5hbWUgPSByZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0O1xuICAgICAgICByZXN1bHQuX3BvcnQgPSByZWxhdGl2ZS5fcG9ydDtcbiAgICAgICAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICAgICAgICByZXN1bHQuX2hyZWYgPSBcIlwiO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHZhciBpc1NvdXJjZUFicyA9XG4gICAgICAgIChyZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLmNoYXJDb2RlQXQoMCkgPT09IDB4MkYgLyonLycqLyk7XG4gICAgdmFyIGlzUmVsQWJzID0gKFxuICAgICAgICAgICAgcmVsYXRpdmUuaG9zdCB8fFxuICAgICAgICAgICAgKHJlbGF0aXZlLnBhdGhuYW1lICYmXG4gICAgICAgICAgICByZWxhdGl2ZS5wYXRobmFtZS5jaGFyQ29kZUF0KDApID09PSAweDJGIC8qJy8nKi8pXG4gICAgICAgICk7XG4gICAgdmFyIG11c3RFbmRBYnMgPSAoaXNSZWxBYnMgfHwgaXNTb3VyY2VBYnMgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChyZXN1bHQuaG9zdCAmJiByZWxhdGl2ZS5wYXRobmFtZSkpO1xuXG4gICAgdmFyIHJlbW92ZUFsbERvdHMgPSBtdXN0RW5kQWJzO1xuXG4gICAgdmFyIHNyY1BhdGggPSByZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLnNwbGl0KFwiL1wiKSB8fCBbXTtcbiAgICB2YXIgcmVsUGF0aCA9IHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLnNwbGl0KFwiL1wiKSB8fCBbXTtcbiAgICB2YXIgcHN5Y2hvdGljID0gcmVzdWx0Ll9wcm90b2NvbCAmJiAhc2xhc2hQcm90b2NvbHNbcmVzdWx0Ll9wcm90b2NvbF07XG5cbiAgICAvLyBpZiB0aGUgdXJsIGlzIGEgbm9uLXNsYXNoZWQgdXJsLCB0aGVuIHJlbGF0aXZlXG4gICAgLy8gbGlua3MgbGlrZSAuLi8uLiBzaG91bGQgYmUgYWJsZVxuICAgIC8vIHRvIGNyYXdsIHVwIHRvIHRoZSBob3N0bmFtZSwgYXMgd2VsbC4gIFRoaXMgaXMgc3RyYW5nZS5cbiAgICAvLyByZXN1bHQucHJvdG9jb2wgaGFzIGFscmVhZHkgYmVlbiBzZXQgYnkgbm93LlxuICAgIC8vIExhdGVyIG9uLCBwdXQgdGhlIGZpcnN0IHBhdGggcGFydCBpbnRvIHRoZSBob3N0IGZpZWxkLlxuICAgIGlmIChwc3ljaG90aWMpIHtcbiAgICAgICAgcmVzdWx0Lmhvc3RuYW1lID0gXCJcIjtcbiAgICAgICAgcmVzdWx0Ll9wb3J0ID0gLTE7XG4gICAgICAgIGlmIChyZXN1bHQuaG9zdCkge1xuICAgICAgICAgICAgaWYgKHNyY1BhdGhbMF0gPT09IFwiXCIpIHNyY1BhdGhbMF0gPSByZXN1bHQuaG9zdDtcbiAgICAgICAgICAgIGVsc2Ugc3JjUGF0aC51bnNoaWZ0KHJlc3VsdC5ob3N0KTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQuaG9zdCA9IFwiXCI7XG4gICAgICAgIGlmIChyZWxhdGl2ZS5fcHJvdG9jb2wpIHtcbiAgICAgICAgICAgIHJlbGF0aXZlLmhvc3RuYW1lID0gXCJcIjtcbiAgICAgICAgICAgIHJlbGF0aXZlLl9wb3J0ID0gLTE7XG4gICAgICAgICAgICBpZiAocmVsYXRpdmUuaG9zdCkge1xuICAgICAgICAgICAgICAgIGlmIChyZWxQYXRoWzBdID09PSBcIlwiKSByZWxQYXRoWzBdID0gcmVsYXRpdmUuaG9zdDtcbiAgICAgICAgICAgICAgICBlbHNlIHJlbFBhdGgudW5zaGlmdChyZWxhdGl2ZS5ob3N0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbGF0aXZlLmhvc3QgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzICYmIChyZWxQYXRoWzBdID09PSBcIlwiIHx8IHNyY1BhdGhbMF0gPT09IFwiXCIpO1xuICAgIH1cblxuICAgIGlmIChpc1JlbEFicykge1xuICAgICAgICAvLyBpdFwicyBhYnNvbHV0ZS5cbiAgICAgICAgcmVzdWx0Lmhvc3QgPSByZWxhdGl2ZS5ob3N0ID9cbiAgICAgICAgICAgIHJlbGF0aXZlLmhvc3QgOiByZXN1bHQuaG9zdDtcbiAgICAgICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVsYXRpdmUuaG9zdG5hbWUgP1xuICAgICAgICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgOiByZXN1bHQuaG9zdG5hbWU7XG4gICAgICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgICAgIHNyY1BhdGggPSByZWxQYXRoO1xuICAgICAgICAvLyBmYWxsIHRocm91Z2ggdG8gdGhlIGRvdC1oYW5kbGluZyBiZWxvdy5cbiAgICB9IGVsc2UgaWYgKHJlbFBhdGgubGVuZ3RoKSB7XG4gICAgICAgIC8vIGl0XCJzIHJlbGF0aXZlXG4gICAgICAgIC8vIHRocm93IGF3YXkgdGhlIGV4aXN0aW5nIGZpbGUsIGFuZCB0YWtlIHRoZSBuZXcgcGF0aCBpbnN0ZWFkLlxuICAgICAgICBpZiAoIXNyY1BhdGgpIHNyY1BhdGggPSBbXTtcbiAgICAgICAgc3JjUGF0aC5wb3AoKTtcbiAgICAgICAgc3JjUGF0aCA9IHNyY1BhdGguY29uY2F0KHJlbFBhdGgpO1xuICAgICAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIH0gZWxzZSBpZiAocmVsYXRpdmUuc2VhcmNoKSB7XG4gICAgICAgIC8vIGp1c3QgcHVsbCBvdXQgdGhlIHNlYXJjaC5cbiAgICAgICAgLy8gbGlrZSBocmVmPVwiP2Zvb1wiLlxuICAgICAgICAvLyBQdXQgdGhpcyBhZnRlciB0aGUgb3RoZXIgdHdvIGNhc2VzIGJlY2F1c2UgaXQgc2ltcGxpZmllcyB0aGUgYm9vbGVhbnNcbiAgICAgICAgaWYgKHBzeWNob3RpYykge1xuICAgICAgICAgICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBzcmNQYXRoLnNoaWZ0KCk7XG4gICAgICAgICAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgICAgICAgICAvL3RoaXMgZXNwZWNpYWx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgICAgICAgICAgLy91cmwucmVzb2x2ZU9iamVjdChcIm1haWx0bzpsb2NhbDFAZG9tYWluMVwiLCBcImxvY2FsMkBkb21haW4yXCIpXG4gICAgICAgICAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoXCJAXCIpID4gMCA/XG4gICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoXCJAXCIpIDogZmFsc2U7XG4gICAgICAgICAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgICAgIHJlc3VsdC5faHJlZiA9IFwiXCI7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgICAgICAvLyBubyBwYXRoIGF0IGFsbC4gIGVhc3kuXG4gICAgICAgIC8vIHdlXCJ2ZSBhbHJlYWR5IGhhbmRsZWQgdGhlIG90aGVyIHN0dWZmIGFib3ZlLlxuICAgICAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgICAgICByZXN1bHQuX2hyZWYgPSBcIlwiO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vIGlmIGEgdXJsIEVORHMgaW4gLiBvciAuLiwgdGhlbiBpdCBtdXN0IGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICAgIC8vIGhvd2V2ZXIsIGlmIGl0IGVuZHMgaW4gYW55dGhpbmcgZWxzZSBub24tc2xhc2h5LFxuICAgIC8vIHRoZW4gaXQgbXVzdCBOT1QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gICAgdmFyIGxhc3QgPSBzcmNQYXRoLnNsaWNlKC0xKVswXTtcbiAgICB2YXIgaGFzVHJhaWxpbmdTbGFzaCA9IChcbiAgICAgICAgKHJlc3VsdC5ob3N0IHx8IHJlbGF0aXZlLmhvc3QpICYmIChsYXN0ID09PSBcIi5cIiB8fCBsYXN0ID09PSBcIi4uXCIpIHx8XG4gICAgICAgIGxhc3QgPT09IFwiXCIpO1xuXG4gICAgLy8gc3RyaXAgc2luZ2xlIGRvdHMsIHJlc29sdmUgZG91YmxlIGRvdHMgdG8gcGFyZW50IGRpclxuICAgIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gICAgdmFyIHVwID0gMDtcbiAgICBmb3IgKHZhciBpID0gc3JjUGF0aC5sZW5ndGg7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGxhc3QgPSBzcmNQYXRoW2ldO1xuICAgICAgICBpZiAobGFzdCA9PT0gXCIuXCIpIHtcbiAgICAgICAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgICB9IGVsc2UgaWYgKGxhc3QgPT09IFwiLi5cIikge1xuICAgICAgICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB1cCsrO1xuICAgICAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICAgICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIHVwLS07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gICAgaWYgKCFtdXN0RW5kQWJzICYmICFyZW1vdmVBbGxEb3RzKSB7XG4gICAgICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgICAgICAgc3JjUGF0aC51bnNoaWZ0KFwiLi5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobXVzdEVuZEFicyAmJiBzcmNQYXRoWzBdICE9PSBcIlwiICYmXG4gICAgICAgICghc3JjUGF0aFswXSB8fCBzcmNQYXRoWzBdLmNoYXJDb2RlQXQoMCkgIT09IDB4MkYgLyonLycqLykpIHtcbiAgICAgICAgc3JjUGF0aC51bnNoaWZ0KFwiXCIpO1xuICAgIH1cblxuICAgIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIChzcmNQYXRoLmpvaW4oXCIvXCIpLnN1YnN0cigtMSkgIT09IFwiL1wiKSkge1xuICAgICAgICBzcmNQYXRoLnB1c2goXCJcIik7XG4gICAgfVxuXG4gICAgdmFyIGlzQWJzb2x1dGUgPSBzcmNQYXRoWzBdID09PSBcIlwiIHx8XG4gICAgICAgIChzcmNQYXRoWzBdICYmIHNyY1BhdGhbMF0uY2hhckNvZGVBdCgwKSA9PT0gMHgyRiAvKicvJyovKTtcblxuICAgIC8vIHB1dCB0aGUgaG9zdCBiYWNrXG4gICAgaWYgKHBzeWNob3RpYykge1xuICAgICAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IGlzQWJzb2x1dGUgPyBcIlwiIDpcbiAgICAgICAgICAgIHNyY1BhdGgubGVuZ3RoID8gc3JjUGF0aC5zaGlmdCgpIDogXCJcIjtcbiAgICAgICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgICAgICAvL3RoaXMgZXNwZWNpYWx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgICAgICAvL3VybC5yZXNvbHZlT2JqZWN0KFwibWFpbHRvOmxvY2FsMUBkb21haW4xXCIsIFwibG9jYWwyQGRvbWFpbjJcIilcbiAgICAgICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKFwiQFwiKSA+IDAgP1xuICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoXCJAXCIpIDogZmFsc2U7XG4gICAgICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICAgICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgICAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgfHwgKHJlc3VsdC5ob3N0ICYmIHNyY1BhdGgubGVuZ3RoKTtcblxuICAgIGlmIChtdXN0RW5kQWJzICYmICFpc0Fic29sdXRlKSB7XG4gICAgICAgIHNyY1BhdGgudW5zaGlmdChcIlwiKTtcbiAgICB9XG5cbiAgICByZXN1bHQucGF0aG5hbWUgPSBzcmNQYXRoLmxlbmd0aCA9PT0gMCA/IG51bGwgOiBzcmNQYXRoLmpvaW4oXCIvXCIpO1xuICAgIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aCB8fCByZXN1bHQuYXV0aDtcbiAgICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gICAgcmVzdWx0Ll9ocmVmID0gXCJcIjtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIHB1bnljb2RlID0gcmVxdWlyZShcInB1bnljb2RlXCIpO1xuVXJsLnByb3RvdHlwZS5faG9zdElkbmEgPSBmdW5jdGlvbiBVcmwkX2hvc3RJZG5hKGhvc3RuYW1lKSB7XG4gICAgLy8gSUROQSBTdXBwb3J0OiBSZXR1cm5zIGEgcHVueWNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIFwiZG9tYWluXCIuXG4gICAgLy8gSXQgb25seSBjb252ZXJ0cyBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgdGhhdFxuICAgIC8vIGhhdmUgbm9uLUFTQ0lJIGNoYXJhY3RlcnMsIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWZcbiAgICAvLyB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQgYWxyZWFkeSBpcyBBU0NJSS1vbmx5LlxuICAgIHJldHVybiBwdW55Y29kZS50b0FTQ0lJKGhvc3RuYW1lKTtcbn07XG5cbnZhciBlc2NhcGVQYXRoTmFtZSA9IFVybC5wcm90b3R5cGUuX2VzY2FwZVBhdGhOYW1lID1cbmZ1bmN0aW9uIFVybCRfZXNjYXBlUGF0aE5hbWUocGF0aG5hbWUpIHtcbiAgICBpZiAoIWNvbnRhaW5zQ2hhcmFjdGVyMihwYXRobmFtZSwgMHgyMyAvKicjJyovLCAweDNGIC8qJz8nKi8pKSB7XG4gICAgICAgIHJldHVybiBwYXRobmFtZTtcbiAgICB9XG4gICAgLy9Bdm9pZCBjbG9zdXJlIGNyZWF0aW9uIHRvIGtlZXAgdGhpcyBpbmxpbmFibGVcbiAgICByZXR1cm4gX2VzY2FwZVBhdGgocGF0aG5hbWUpO1xufTtcblxudmFyIGVzY2FwZVNlYXJjaCA9IFVybC5wcm90b3R5cGUuX2VzY2FwZVNlYXJjaCA9XG5mdW5jdGlvbiBVcmwkX2VzY2FwZVNlYXJjaChzZWFyY2gpIHtcbiAgICBpZiAoIWNvbnRhaW5zQ2hhcmFjdGVyMihzZWFyY2gsIDB4MjMgLyonIycqLywgLTEpKSByZXR1cm4gc2VhcmNoO1xuICAgIC8vQXZvaWQgY2xvc3VyZSBjcmVhdGlvbiB0byBrZWVwIHRoaXMgaW5saW5hYmxlXG4gICAgcmV0dXJuIF9lc2NhcGVTZWFyY2goc2VhcmNoKTtcbn07XG5cblVybC5wcm90b3R5cGUuX3BhcnNlUHJvdG9jb2wgPSBmdW5jdGlvbiBVcmwkX3BhcnNlUHJvdG9jb2woc3RyLCBzdGFydCwgZW5kKSB7XG4gICAgdmFyIGRvTG93ZXJDYXNlID0gZmFsc2U7XG4gICAgdmFyIHByb3RvY29sQ2hhcmFjdGVycyA9IHRoaXMuX3Byb3RvY29sQ2hhcmFjdGVycztcblxuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8PSBlbmQ7ICsraSkge1xuICAgICAgICB2YXIgY2ggPSBzdHIuY2hhckNvZGVBdChpKTtcblxuICAgICAgICBpZiAoY2ggPT09IDB4M0EgLyonOicqLykge1xuICAgICAgICAgICAgdmFyIHByb3RvY29sID0gc3RyLnNsaWNlKHN0YXJ0LCBpKTtcbiAgICAgICAgICAgIGlmIChkb0xvd2VyQ2FzZSkgcHJvdG9jb2wgPSBwcm90b2NvbC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdGhpcy5fcHJvdG9jb2wgPSBwcm90b2NvbDtcbiAgICAgICAgICAgIHJldHVybiBpICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm90b2NvbENoYXJhY3RlcnNbY2hdID09PSAxKSB7XG4gICAgICAgICAgICBpZiAoY2ggPCAweDYxIC8qJ2EnKi8pXG4gICAgICAgICAgICAgICAgZG9Mb3dlckNhc2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXJ0O1xuICAgICAgICB9XG5cbiAgICB9XG4gICAgcmV0dXJuIHN0YXJ0O1xufTtcblxuVXJsLnByb3RvdHlwZS5fcGFyc2VBdXRoID0gZnVuY3Rpb24gVXJsJF9wYXJzZUF1dGgoc3RyLCBzdGFydCwgZW5kLCBkZWNvZGUpIHtcbiAgICB2YXIgYXV0aCA9IHN0ci5zbGljZShzdGFydCwgZW5kICsgMSk7XG4gICAgaWYgKGRlY29kZSkge1xuICAgICAgICBhdXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIH1cbiAgICB0aGlzLmF1dGggPSBhdXRoO1xufTtcblxuVXJsLnByb3RvdHlwZS5fcGFyc2VQb3J0ID0gZnVuY3Rpb24gVXJsJF9wYXJzZVBvcnQoc3RyLCBzdGFydCwgZW5kKSB7XG4gICAgLy9JbnRlcm5hbCBmb3JtYXQgaXMgaW50ZWdlciBmb3IgbW9yZSBlZmZpY2llbnQgcGFyc2luZ1xuICAgIC8vYW5kIGZvciBlZmZpY2llbnQgdHJpbW1pbmcgb2YgbGVhZGluZyB6ZXJvc1xuICAgIHZhciBwb3J0ID0gMDtcbiAgICAvL0Rpc3Rpbmd1aXNoIGJldHdlZW4gOjAgYW5kIDogKG5vIHBvcnQgbnVtYmVyIGF0IGFsbClcbiAgICB2YXIgaGFkQ2hhcnMgPSBmYWxzZTtcbiAgICB2YXIgdmFsaWRQb3J0ID0gdHJ1ZTtcblxuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8PSBlbmQ7ICsraSkge1xuICAgICAgICB2YXIgY2ggPSBzdHIuY2hhckNvZGVBdChpKTtcblxuICAgICAgICBpZiAoMHgzMCAvKicwJyovIDw9IGNoICYmIGNoIDw9IDB4MzkgLyonOScqLykge1xuICAgICAgICAgICAgcG9ydCA9ICgxMCAqIHBvcnQpICsgKGNoIC0gMHgzMCAvKicwJyovKTtcbiAgICAgICAgICAgIGhhZENoYXJzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhbGlkUG9ydCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGNoID09PSAweDVDLyonXFwnKi8gfHwgY2ggPT09IDB4MkYvKicvJyovKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRQb3J0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICB9XG4gICAgaWYgKChwb3J0ID09PSAwICYmICFoYWRDaGFycykgfHwgIXZhbGlkUG9ydCkge1xuICAgICAgICBpZiAoIXZhbGlkUG9ydCkge1xuICAgICAgICAgICAgdGhpcy5fcG9ydCA9IC0yO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHRoaXMuX3BvcnQgPSBwb3J0O1xuICAgIHJldHVybiBpIC0gc3RhcnQ7XG59O1xuXG5VcmwucHJvdG90eXBlLl9wYXJzZUhvc3QgPVxuZnVuY3Rpb24gVXJsJF9wYXJzZUhvc3Qoc3RyLCBzdGFydCwgZW5kLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICAgIHZhciBob3N0RW5kaW5nQ2hhcmFjdGVycyA9IHRoaXMuX2hvc3RFbmRpbmdDaGFyYWN0ZXJzO1xuICAgIHZhciBmaXJzdCA9IHN0ci5jaGFyQ29kZUF0KHN0YXJ0KTtcbiAgICB2YXIgc2Vjb25kID0gc3RyLmNoYXJDb2RlQXQoc3RhcnQgKyAxKTtcbiAgICBpZiAoKGZpcnN0ID09PSAweDJGIC8qJy8nKi8gfHwgZmlyc3QgPT09IDB4NUMgLyonXFwnKi8pICYmXG4gICAgICAgIChzZWNvbmQgPT09IDB4MkYgLyonLycqLyB8fCBzZWNvbmQgPT09IDB4NUMgLyonXFwnKi8pKSB7XG4gICAgICAgIHRoaXMuc2xhc2hlcyA9IHRydWU7XG5cbiAgICAgICAgLy9UaGUgc3RyaW5nIHN0YXJ0cyB3aXRoIC8vXG4gICAgICAgIGlmIChzdGFydCA9PT0gMCkge1xuICAgICAgICAgICAgLy9UaGUgc3RyaW5nIGlzIGp1c3QgXCIvL1wiXG4gICAgICAgICAgICBpZiAoZW5kIDwgMikgcmV0dXJuIHN0YXJ0O1xuICAgICAgICAgICAgLy9JZiBzbGFzaGVzIGRvIG5vdCBkZW5vdGUgaG9zdCBhbmQgdGhlcmUgaXMgbm8gYXV0aCxcbiAgICAgICAgICAgIC8vdGhlcmUgaXMgbm8gaG9zdCB3aGVuIHRoZSBzdHJpbmcgc3RhcnRzIHdpdGggLy9cbiAgICAgICAgICAgIHZhciBoYXNBdXRoID1cbiAgICAgICAgICAgICAgICBjb250YWluc0NoYXJhY3RlcihzdHIsIDB4NDAgLyonQCcqLywgMiwgaG9zdEVuZGluZ0NoYXJhY3RlcnMpO1xuICAgICAgICAgICAgaWYgKCFoYXNBdXRoICYmICFzbGFzaGVzRGVub3RlSG9zdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2xhc2hlcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vVGhlcmUgaXMgYSBob3N0IHRoYXQgc3RhcnRzIGFmdGVyIHRoZSAvL1xuICAgICAgICBzdGFydCArPSAyO1xuICAgIH1cbiAgICAvL0lmIHRoZXJlIGlzIG5vIHNsYXNoZXMsIHRoZXJlIGlzIG5vIGhvc3RuYW1lIGlmXG4gICAgLy8xLiB0aGVyZSB3YXMgbm8gcHJvdG9jb2wgYXQgYWxsXG4gICAgZWxzZSBpZiAoIXRoaXMuX3Byb3RvY29sIHx8XG4gICAgICAgIC8vMi4gdGhlcmUgd2FzIGEgcHJvdG9jb2wgdGhhdCByZXF1aXJlcyBzbGFzaGVzXG4gICAgICAgIC8vZS5nLiBpbiAnaHR0cDphc2QnICdhc2QnIGlzIG5vdCBhIGhvc3RuYW1lXG4gICAgICAgIHNsYXNoUHJvdG9jb2xzW3RoaXMuX3Byb3RvY29sXVxuICAgICkge1xuICAgICAgICByZXR1cm4gc3RhcnQ7XG4gICAgfVxuXG4gICAgdmFyIGRvTG93ZXJDYXNlID0gZmFsc2U7XG4gICAgdmFyIGlkbmEgPSBmYWxzZTtcbiAgICB2YXIgaG9zdE5hbWVTdGFydCA9IHN0YXJ0O1xuICAgIHZhciBob3N0TmFtZUVuZCA9IGVuZDtcbiAgICB2YXIgbGFzdENoID0gLTE7XG4gICAgdmFyIHBvcnRMZW5ndGggPSAwO1xuICAgIHZhciBjaGFyc0FmdGVyRG90ID0gMDtcbiAgICB2YXIgYXV0aE5lZWRzRGVjb2RpbmcgPSBmYWxzZTtcblxuICAgIHZhciBqID0gLTE7XG5cbiAgICAvL0ZpbmQgdGhlIGxhc3Qgb2NjdXJyZW5jZSBvZiBhbiBALXNpZ24gdW50aWwgaG9zdGVuZGluZyBjaGFyYWN0ZXIgaXMgbWV0XG4gICAgLy9hbHNvIG1hcmsgaWYgZGVjb2RpbmcgaXMgbmVlZGVkIGZvciB0aGUgYXV0aCBwb3J0aW9uXG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDw9IGVuZDsgKytpKSB7XG4gICAgICAgIHZhciBjaCA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuXG4gICAgICAgIGlmIChjaCA9PT0gMHg0MCAvKidAJyovKSB7XG4gICAgICAgICAgICBqID0gaTtcbiAgICAgICAgfVxuICAgICAgICAvL1RoaXMgY2hlY2sgaXMgdmVyeSwgdmVyeSBjaGVhcC4gVW5uZWVkZWQgZGVjb2RlVVJJQ29tcG9uZW50IGlzIHZlcnlcbiAgICAgICAgLy92ZXJ5IGV4cGVuc2l2ZVxuICAgICAgICBlbHNlIGlmIChjaCA9PT0gMHgyNSAvKiclJyovKSB7XG4gICAgICAgICAgICBhdXRoTmVlZHNEZWNvZGluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaG9zdEVuZGluZ0NoYXJhY3RlcnNbY2hdID09PSAxKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vQC1zaWduIHdhcyBmb3VuZCBhdCBpbmRleCBqLCBldmVyeXRoaW5nIHRvIHRoZSBsZWZ0IGZyb20gaXRcbiAgICAvL2lzIGF1dGggcGFydFxuICAgIGlmIChqID4gLTEpIHtcbiAgICAgICAgdGhpcy5fcGFyc2VBdXRoKHN0ciwgc3RhcnQsIGogLSAxLCBhdXRoTmVlZHNEZWNvZGluZyk7XG4gICAgICAgIC8vaG9zdG5hbWUgc3RhcnRzIGFmdGVyIHRoZSBsYXN0IEAtc2lnblxuICAgICAgICBzdGFydCA9IGhvc3ROYW1lU3RhcnQgPSBqICsgMTtcbiAgICB9XG5cbiAgICAvL0hvc3QgbmFtZSBpcyBzdGFydGluZyB3aXRoIGEgW1xuICAgIGlmIChzdHIuY2hhckNvZGVBdChzdGFydCkgPT09IDB4NUIgLyonWycqLykge1xuICAgICAgICBmb3IgKHZhciBpID0gc3RhcnQgKyAxOyBpIDw9IGVuZDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgY2ggPSBzdHIuY2hhckNvZGVBdChpKTtcblxuICAgICAgICAgICAgLy9Bc3N1bWUgdmFsaWQgSVA2IGlzIGJldHdlZW4gdGhlIGJyYWNrZXRzXG4gICAgICAgICAgICBpZiAoY2ggPT09IDB4NUQgLyonXScqLykge1xuICAgICAgICAgICAgICAgIGlmIChzdHIuY2hhckNvZGVBdChpICsgMSkgPT09IDB4M0EgLyonOicqLykge1xuICAgICAgICAgICAgICAgICAgICBwb3J0TGVuZ3RoID0gdGhpcy5fcGFyc2VQb3J0KHN0ciwgaSArIDIsIGVuZCkgKyAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgaG9zdG5hbWUgPSBzdHIuc2xpY2Uoc3RhcnQgKyAxLCBpKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaG9zdG5hbWUgPSBob3N0bmFtZTtcbiAgICAgICAgICAgICAgICB0aGlzLmhvc3QgPSB0aGlzLl9wb3J0ID4gMCA/XG4gICAgICAgICAgICAgICAgICAgIFwiW1wiICsgaG9zdG5hbWUgKyBcIl06XCIgKyB0aGlzLl9wb3J0IDpcbiAgICAgICAgICAgICAgICAgICAgXCJbXCIgKyBob3N0bmFtZSArIFwiXVwiO1xuICAgICAgICAgICAgICAgIHRoaXMucGF0aG5hbWUgPSBcIi9cIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gaSArIHBvcnRMZW5ndGggKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vRW1wdHkgaG9zdG5hbWUsIFsgc3RhcnRzIGEgcGF0aFxuICAgICAgICByZXR1cm4gc3RhcnQ7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDw9IGVuZDsgKytpKSB7XG4gICAgICAgIGlmIChjaGFyc0FmdGVyRG90ID4gNjIpIHtcbiAgICAgICAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3QgPSBzdHIuc2xpY2Uoc3RhcnQsIGkpO1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoID0gc3RyLmNoYXJDb2RlQXQoaSk7XG5cbiAgICAgICAgaWYgKGNoID09PSAweDNBIC8qJzonKi8pIHtcbiAgICAgICAgICAgIHBvcnRMZW5ndGggPSB0aGlzLl9wYXJzZVBvcnQoc3RyLCBpICsgMSwgZW5kKSArIDE7XG4gICAgICAgICAgICBob3N0TmFtZUVuZCA9IGkgLSAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2ggPCAweDYxIC8qJ2EnKi8pIHtcbiAgICAgICAgICAgIGlmIChjaCA9PT0gMHgyRSAvKicuJyovKSB7XG4gICAgICAgICAgICAgICAgLy9Ob2RlLmpzIGlnbm9yZXMgdGhpcyBlcnJvclxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgaWYgKGxhc3RDaCA9PT0gRE9UIHx8IGxhc3RDaCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGFydDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBjaGFyc0FmdGVyRG90ID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgweDQxIC8qJ0EnKi8gPD0gY2ggJiYgY2ggPD0gMHg1QSAvKidaJyovKSB7XG4gICAgICAgICAgICAgICAgZG9Mb3dlckNhc2UgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9WYWxpZCBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gQVNDSUkgbGV0dGVycyAtLCBfLCArLCAwLTlcbiAgICAgICAgICAgIGVsc2UgaWYgKCEoY2ggPT09IDB4MkQgLyonLScqLyB8fFxuICAgICAgICAgICAgICAgICAgICAgICBjaCA9PT0gMHg1RiAvKidfJyovIHx8XG4gICAgICAgICAgICAgICAgICAgICAgIGNoID09PSAweDJCIC8qJysnKi8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgKDB4MzAgLyonMCcqLyA8PSBjaCAmJiBjaCA8PSAweDM5IC8qJzknKi8pKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGlmIChob3N0RW5kaW5nQ2hhcmFjdGVyc1tjaF0gPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbm9QcmVwZW5kU2xhc2hIb3N0RW5kZXJzW2NoXSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcmVwZW5kU2xhc2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBob3N0TmFtZUVuZCA9IGkgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoID49IDB4N0IgLyoneycqLykge1xuICAgICAgICAgICAgaWYgKGNoIDw9IDB4N0UgLyonficqLykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9ub1ByZXBlbmRTbGFzaEhvc3RFbmRlcnNbY2hdID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ByZXBlbmRTbGFzaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhvc3ROYW1lRW5kID0gaSAtIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZG5hID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0Q2ggPSBjaDtcbiAgICAgICAgY2hhcnNBZnRlckRvdCsrO1xuICAgIH1cblxuICAgIC8vTm9kZS5qcyBpZ25vcmVzIHRoaXMgZXJyb3JcbiAgICAvKlxuICAgIGlmIChsYXN0Q2ggPT09IERPVCkge1xuICAgICAgICBob3N0TmFtZUVuZC0tO1xuICAgIH1cbiAgICAqL1xuXG4gICAgaWYgKGhvc3ROYW1lRW5kICsgMSAhPT0gc3RhcnQgJiZcbiAgICAgICAgaG9zdE5hbWVFbmQgLSBob3N0TmFtZVN0YXJ0IDw9IDI1Nikge1xuICAgICAgICB2YXIgaG9zdG5hbWUgPSBzdHIuc2xpY2UoaG9zdE5hbWVTdGFydCwgaG9zdE5hbWVFbmQgKyAxKTtcbiAgICAgICAgaWYgKGRvTG93ZXJDYXNlKSBob3N0bmFtZSA9IGhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChpZG5hKSBob3N0bmFtZSA9IHRoaXMuX2hvc3RJZG5hKGhvc3RuYW1lKTtcbiAgICAgICAgdGhpcy5ob3N0bmFtZSA9IGhvc3RuYW1lO1xuICAgICAgICB0aGlzLmhvc3QgPSB0aGlzLl9wb3J0ID4gMCA/IGhvc3RuYW1lICsgXCI6XCIgKyB0aGlzLl9wb3J0IDogaG9zdG5hbWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhvc3ROYW1lRW5kICsgMSArIHBvcnRMZW5ndGg7XG5cbn07XG5cblVybC5wcm90b3R5cGUuX2NvcHlQcm9wc1RvID0gZnVuY3Rpb24gVXJsJF9jb3B5UHJvcHNUbyhpbnB1dCwgbm9Qcm90b2NvbCkge1xuICAgIGlmICghbm9Qcm90b2NvbCkge1xuICAgICAgICBpbnB1dC5fcHJvdG9jb2wgPSB0aGlzLl9wcm90b2NvbDtcbiAgICB9XG4gICAgaW5wdXQuX2hyZWYgPSB0aGlzLl9ocmVmO1xuICAgIGlucHV0Ll9wb3J0ID0gdGhpcy5fcG9ydDtcbiAgICBpbnB1dC5fcHJlcGVuZFNsYXNoID0gdGhpcy5fcHJlcGVuZFNsYXNoO1xuICAgIGlucHV0LmF1dGggPSB0aGlzLmF1dGg7XG4gICAgaW5wdXQuc2xhc2hlcyA9IHRoaXMuc2xhc2hlcztcbiAgICBpbnB1dC5ob3N0ID0gdGhpcy5ob3N0O1xuICAgIGlucHV0Lmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZTtcbiAgICBpbnB1dC5oYXNoID0gdGhpcy5oYXNoO1xuICAgIGlucHV0LnNlYXJjaCA9IHRoaXMuc2VhcmNoO1xuICAgIGlucHV0LnBhdGhuYW1lID0gdGhpcy5wYXRobmFtZTtcbn07XG5cblVybC5wcm90b3R5cGUuX2Nsb25lID0gZnVuY3Rpb24gVXJsJF9jbG9uZSgpIHtcbiAgICB2YXIgcmV0ID0gbmV3IFVybCgpO1xuICAgIHJldC5fcHJvdG9jb2wgPSB0aGlzLl9wcm90b2NvbDtcbiAgICByZXQuX2hyZWYgPSB0aGlzLl9ocmVmO1xuICAgIHJldC5fcG9ydCA9IHRoaXMuX3BvcnQ7XG4gICAgcmV0Ll9wcmVwZW5kU2xhc2ggPSB0aGlzLl9wcmVwZW5kU2xhc2g7XG4gICAgcmV0LmF1dGggPSB0aGlzLmF1dGg7XG4gICAgcmV0LnNsYXNoZXMgPSB0aGlzLnNsYXNoZXM7XG4gICAgcmV0Lmhvc3QgPSB0aGlzLmhvc3Q7XG4gICAgcmV0Lmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZTtcbiAgICByZXQuaGFzaCA9IHRoaXMuaGFzaDtcbiAgICByZXQuc2VhcmNoID0gdGhpcy5zZWFyY2g7XG4gICAgcmV0LnBhdGhuYW1lID0gdGhpcy5wYXRobmFtZTtcbiAgICByZXR1cm4gcmV0O1xufTtcblxuVXJsLnByb3RvdHlwZS5fZ2V0Q29tcG9uZW50RXNjYXBlZCA9XG5mdW5jdGlvbiBVcmwkX2dldENvbXBvbmVudEVzY2FwZWQoc3RyLCBzdGFydCwgZW5kLCBpc0FmdGVyUXVlcnkpIHtcbiAgICB2YXIgY3VyID0gc3RhcnQ7XG4gICAgdmFyIGkgPSBzdGFydDtcbiAgICB2YXIgcmV0ID0gXCJcIjtcbiAgICB2YXIgYXV0b0VzY2FwZU1hcCA9IGlzQWZ0ZXJRdWVyeSA/XG4gICAgICAgIHRoaXMuX2FmdGVyUXVlcnlBdXRvRXNjYXBlTWFwIDogdGhpcy5fYXV0b0VzY2FwZU1hcDtcbiAgICBmb3IgKDsgaSA8PSBlbmQ7ICsraSkge1xuICAgICAgICB2YXIgY2ggPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgdmFyIGVzY2FwZWQgPSBhdXRvRXNjYXBlTWFwW2NoXTtcblxuICAgICAgICBpZiAoZXNjYXBlZCAhPT0gXCJcIiAmJiBlc2NhcGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChjdXIgPCBpKSByZXQgKz0gc3RyLnNsaWNlKGN1ciwgaSk7XG4gICAgICAgICAgICByZXQgKz0gZXNjYXBlZDtcbiAgICAgICAgICAgIGN1ciA9IGkgKyAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjdXIgPCBpICsgMSkgcmV0ICs9IHN0ci5zbGljZShjdXIsIGkpO1xuICAgIHJldHVybiByZXQ7XG59O1xuXG5VcmwucHJvdG90eXBlLl9wYXJzZVBhdGggPVxuZnVuY3Rpb24gVXJsJF9wYXJzZVBhdGgoc3RyLCBzdGFydCwgZW5kLCBkaXNhYmxlQXV0b0VzY2FwZUNoYXJzKSB7XG4gICAgdmFyIHBhdGhTdGFydCA9IHN0YXJ0O1xuICAgIHZhciBwYXRoRW5kID0gZW5kO1xuICAgIHZhciBlc2NhcGUgPSBmYWxzZTtcbiAgICB2YXIgYXV0b0VzY2FwZUNoYXJhY3RlcnMgPSB0aGlzLl9hdXRvRXNjYXBlQ2hhcmFjdGVycztcbiAgICB2YXIgcHJlUGF0aCA9IHRoaXMuX3BvcnQgPT09IC0yID8gXCIvOlwiIDogXCJcIjtcblxuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8PSBlbmQ7ICsraSkge1xuICAgICAgICB2YXIgY2ggPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGNoID09PSAweDIzIC8qJyMnKi8pIHtcbiAgICAgICAgICB0aGlzLl9wYXJzZUhhc2goc3RyLCBpLCBlbmQsIGRpc2FibGVBdXRvRXNjYXBlQ2hhcnMpO1xuICAgICAgICAgICAgcGF0aEVuZCA9IGkgLSAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2ggPT09IDB4M0YgLyonPycqLykge1xuICAgICAgICAgICAgdGhpcy5fcGFyc2VRdWVyeShzdHIsIGksIGVuZCwgZGlzYWJsZUF1dG9Fc2NhcGVDaGFycyk7XG4gICAgICAgICAgICBwYXRoRW5kID0gaSAtIDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghZGlzYWJsZUF1dG9Fc2NhcGVDaGFycyAmJiAhZXNjYXBlICYmIGF1dG9Fc2NhcGVDaGFyYWN0ZXJzW2NoXSA9PT0gMSkge1xuICAgICAgICAgICAgZXNjYXBlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwYXRoU3RhcnQgPiBwYXRoRW5kKSB7XG4gICAgICAgIHRoaXMucGF0aG5hbWUgPSBwcmVQYXRoID09PSBcIlwiID8gXCIvXCIgOiBwcmVQYXRoO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHBhdGg7XG4gICAgaWYgKGVzY2FwZSkge1xuICAgICAgICBwYXRoID0gdGhpcy5fZ2V0Q29tcG9uZW50RXNjYXBlZChzdHIsIHBhdGhTdGFydCwgcGF0aEVuZCwgZmFsc2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcGF0aCA9IHN0ci5zbGljZShwYXRoU3RhcnQsIHBhdGhFbmQgKyAxKTtcbiAgICB9XG4gICAgdGhpcy5wYXRobmFtZSA9IHByZVBhdGggPT09IFwiXCJcbiAgICAgICAgPyAodGhpcy5fcHJlcGVuZFNsYXNoID8gXCIvXCIgKyBwYXRoIDogcGF0aClcbiAgICAgICAgOiBwcmVQYXRoICsgcGF0aDtcbn07XG5cblVybC5wcm90b3R5cGUuX3BhcnNlUXVlcnkgPSBmdW5jdGlvbiBVcmwkX3BhcnNlUXVlcnkoc3RyLCBzdGFydCwgZW5kLCBkaXNhYmxlQXV0b0VzY2FwZUNoYXJzKSB7XG4gICAgdmFyIHF1ZXJ5U3RhcnQgPSBzdGFydDtcbiAgICB2YXIgcXVlcnlFbmQgPSBlbmQ7XG4gICAgdmFyIGVzY2FwZSA9IGZhbHNlO1xuICAgIHZhciBhdXRvRXNjYXBlQ2hhcmFjdGVycyA9IHRoaXMuX2F1dG9Fc2NhcGVDaGFyYWN0ZXJzO1xuXG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDw9IGVuZDsgKytpKSB7XG4gICAgICAgIHZhciBjaCA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuXG4gICAgICAgIGlmIChjaCA9PT0gMHgyMyAvKicjJyovKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJzZUhhc2goc3RyLCBpLCBlbmQsIGRpc2FibGVBdXRvRXNjYXBlQ2hhcnMpO1xuICAgICAgICAgICAgcXVlcnlFbmQgPSBpIC0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFkaXNhYmxlQXV0b0VzY2FwZUNoYXJzICYmICFlc2NhcGUgJiYgYXV0b0VzY2FwZUNoYXJhY3RlcnNbY2hdID09PSAxKSB7XG4gICAgICAgICAgICBlc2NhcGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHF1ZXJ5U3RhcnQgPiBxdWVyeUVuZCkge1xuICAgICAgICB0aGlzLnNlYXJjaCA9IFwiXCI7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgcXVlcnk7XG4gICAgaWYgKGVzY2FwZSkge1xuICAgICAgICBxdWVyeSA9IHRoaXMuX2dldENvbXBvbmVudEVzY2FwZWQoc3RyLCBxdWVyeVN0YXJ0LCBxdWVyeUVuZCwgdHJ1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBxdWVyeSA9IHN0ci5zbGljZShxdWVyeVN0YXJ0LCBxdWVyeUVuZCArIDEpO1xuICAgIH1cbiAgICB0aGlzLnNlYXJjaCA9IHF1ZXJ5O1xufTtcblxuVXJsLnByb3RvdHlwZS5fcGFyc2VIYXNoID0gZnVuY3Rpb24gVXJsJF9wYXJzZUhhc2goc3RyLCBzdGFydCwgZW5kLCBkaXNhYmxlQXV0b0VzY2FwZUNoYXJzKSB7XG4gICAgaWYgKHN0YXJ0ID4gZW5kKSB7XG4gICAgICAgIHRoaXMuaGFzaCA9IFwiXCI7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmhhc2ggPSBkaXNhYmxlQXV0b0VzY2FwZUNoYXJzID9cbiAgICAgICAgc3RyLnNsaWNlKHN0YXJ0LCBlbmQgKyAxKSA6IHRoaXMuX2dldENvbXBvbmVudEVzY2FwZWQoc3RyLCBzdGFydCwgZW5kLCB0cnVlKTtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShVcmwucHJvdG90eXBlLCBcInBvcnRcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9wb3J0ID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiAoXCJcIiArIHRoaXMuX3BvcnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2KSB7XG4gICAgICAgIGlmICh2ID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3BvcnQgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3BvcnQgPSBwYXJzZUludCh2LCAxMCk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFVybC5wcm90b3R5cGUsIFwicXVlcnlcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBxdWVyeSA9IHRoaXMuX3F1ZXJ5O1xuICAgICAgICBpZiAocXVlcnkgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5O1xuICAgICAgICB9XG4gICAgICAgIHZhciBzZWFyY2ggPSB0aGlzLnNlYXJjaDtcblxuICAgICAgICBpZiAoc2VhcmNoKSB7XG4gICAgICAgICAgICBpZiAoc2VhcmNoLmNoYXJDb2RlQXQoMCkgPT09IDB4M0YgLyonPycqLykge1xuICAgICAgICAgICAgICAgIHNlYXJjaCA9IHNlYXJjaC5zbGljZSgxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZWFyY2ggIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9xdWVyeSA9IHNlYXJjaDtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VhcmNoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWFyY2g7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgdGhpcy5fcXVlcnkgPSB2O1xuICAgIH1cbn0pO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVXJsLnByb3RvdHlwZSwgXCJwYXRoXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcCA9IHRoaXMucGF0aG5hbWUgfHwgXCJcIjtcbiAgICAgICAgdmFyIHMgPSB0aGlzLnNlYXJjaCB8fCBcIlwiO1xuICAgICAgICBpZiAocCB8fCBzKSB7XG4gICAgICAgICAgICByZXR1cm4gcCArIHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChwID09IG51bGwgJiYgcykgPyAoXCIvXCIgKyBzKSA6IG51bGw7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKCkge31cbn0pO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVXJsLnByb3RvdHlwZSwgXCJwcm90b2NvbFwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHByb3RvID0gdGhpcy5fcHJvdG9jb2w7XG4gICAgICAgIHJldHVybiBwcm90byA/IHByb3RvICsgXCI6XCIgOiBwcm90bztcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odikge1xuICAgICAgICBpZiAodHlwZW9mIHYgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHZhciBlbmQgPSB2Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgICBpZiAodi5jaGFyQ29kZUF0KGVuZCkgPT09IDB4M0EgLyonOicqLykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb3RvY29sID0gdi5zbGljZSgwLCBlbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvdG9jb2wgPSB2O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHYgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fcHJvdG9jb2wgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShVcmwucHJvdG90eXBlLCBcImhyZWZcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBocmVmID0gdGhpcy5faHJlZjtcbiAgICAgICAgaWYgKCFocmVmKSB7XG4gICAgICAgICAgICBocmVmID0gdGhpcy5faHJlZiA9IHRoaXMuZm9ybWF0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhyZWY7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgdGhpcy5faHJlZiA9IHY7XG4gICAgfVxufSk7XG5cblVybC5wYXJzZSA9IGZ1bmN0aW9uIFVybCRQYXJzZShzdHIsIHBhcnNlUXVlcnlTdHJpbmcsIGhvc3REZW5vdGVzU2xhc2gsIGRpc2FibGVBdXRvRXNjYXBlQ2hhcnMpIHtcbiAgICBpZiAoc3RyIGluc3RhbmNlb2YgVXJsKSByZXR1cm4gc3RyO1xuICAgIHZhciByZXQgPSBuZXcgVXJsKCk7XG4gICAgcmV0LnBhcnNlKHN0ciwgISFwYXJzZVF1ZXJ5U3RyaW5nLCAhIWhvc3REZW5vdGVzU2xhc2gsICEhZGlzYWJsZUF1dG9Fc2NhcGVDaGFycyk7XG4gICAgcmV0dXJuIHJldDtcbn07XG5cblVybC5mb3JtYXQgPSBmdW5jdGlvbiBVcmwkRm9ybWF0KG9iaikge1xuICAgIGlmICh0eXBlb2Ygb2JqID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIG9iaiA9IFVybC5wYXJzZShvYmopO1xuICAgIH1cbiAgICBpZiAoIShvYmogaW5zdGFuY2VvZiBVcmwpKSB7XG4gICAgICAgIHJldHVybiBVcmwucHJvdG90eXBlLmZvcm1hdC5jYWxsKG9iaik7XG4gICAgfVxuICAgIHJldHVybiBvYmouZm9ybWF0KCk7XG59O1xuXG5VcmwucmVzb2x2ZSA9IGZ1bmN0aW9uIFVybCRSZXNvbHZlKHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgICByZXR1cm4gVXJsLnBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmUocmVsYXRpdmUpO1xufTtcblxuVXJsLnJlc29sdmVPYmplY3QgPSBmdW5jdGlvbiBVcmwkUmVzb2x2ZU9iamVjdChzb3VyY2UsIHJlbGF0aXZlKSB7XG4gICAgaWYgKCFzb3VyY2UpIHJldHVybiByZWxhdGl2ZTtcbiAgICByZXR1cm4gVXJsLnBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmVPYmplY3QocmVsYXRpdmUpO1xufTtcblxuZnVuY3Rpb24gX2VzY2FwZVBhdGgocGF0aG5hbWUpIHtcbiAgICByZXR1cm4gcGF0aG5hbWUucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG1hdGNoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gX2VzY2FwZVNlYXJjaChzZWFyY2gpIHtcbiAgICByZXR1cm4gc2VhcmNoLnJlcGxhY2UoLyMvZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChtYXRjaCk7XG4gICAgfSk7XG59XG5cbi8vU2VhcmNoIGBjaGFyMWAgKGludGVnZXIgY29kZSBmb3IgYSBjaGFyYWN0ZXIpIGluIGBzdHJpbmdgXG4vL3N0YXJ0aW5nIGZyb20gYGZyb21JbmRleGAgYW5kIGVuZGluZyBhdCBgc3RyaW5nLmxlbmd0aCAtIDFgXG4vL29yIHdoZW4gYSBzdG9wIGNoYXJhY3RlciBpcyBmb3VuZFxuZnVuY3Rpb24gY29udGFpbnNDaGFyYWN0ZXIoc3RyaW5nLCBjaGFyMSwgZnJvbUluZGV4LCBzdG9wQ2hhcmFjdGVyVGFibGUpIHtcbiAgICB2YXIgbGVuID0gc3RyaW5nLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gZnJvbUluZGV4OyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgdmFyIGNoID0gc3RyaW5nLmNoYXJDb2RlQXQoaSk7XG5cbiAgICAgICAgaWYgKGNoID09PSBjaGFyMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RvcENoYXJhY3RlclRhYmxlW2NoXSA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy9TZWUgaWYgYGNoYXIxYCBvciBgY2hhcjJgIChpbnRlZ2VyIGNvZGVzIGZvciBjaGFyYWN0ZXJzKVxuLy9pcyBjb250YWluZWQgaW4gYHN0cmluZ2BcbmZ1bmN0aW9uIGNvbnRhaW5zQ2hhcmFjdGVyMihzdHJpbmcsIGNoYXIxLCBjaGFyMikge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzdHJpbmcubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgdmFyIGNoID0gc3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjaCA9PT0gY2hhcjEgfHwgY2ggPT09IGNoYXIyKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vL01ha2VzIGFuIGFycmF5IG9mIDEyOCB1aW50OCdzIHdoaWNoIHJlcHJlc2VudCBib29sZWFuIHZhbHVlcy5cbi8vU3BlYyBpcyBhbiBhcnJheSBvZiBhc2NpaSBjb2RlIHBvaW50cyBvciBhc2NpaSBjb2RlIHBvaW50IHJhbmdlc1xuLy9yYW5nZXMgYXJlIGV4cHJlc3NlZCBhcyBbc3RhcnQsIGVuZF1cblxuLy9DcmVhdGUgYSB0YWJsZSB3aXRoIHRoZSBjaGFyYWN0ZXJzIDB4MzAtMHgzOSAoZGVjaW1hbHMgJzAnIC0gJzknKSBhbmRcbi8vMHg3QSAobG93ZXJjYXNlbGV0dGVyICd6JykgYXMgYHRydWVgOlxuLy9cbi8vdmFyIGEgPSBtYWtlQXNjaWlUYWJsZShbWzB4MzAsIDB4MzldLCAweDdBXSk7XG4vL2FbMHgzMF07IC8vMVxuLy9hWzB4MTVdOyAvLzBcbi8vYVsweDM1XTsgLy8xXG5mdW5jdGlvbiBtYWtlQXNjaWlUYWJsZShzcGVjKSB7XG4gICAgdmFyIHJldCA9IG5ldyBVaW50OEFycmF5KDEyOCk7XG4gICAgc3BlYy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJldFtpdGVtXSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBpdGVtWzBdO1xuICAgICAgICAgICAgdmFyIGVuZCA9IGl0ZW1bMV07XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gc3RhcnQ7IGogPD0gZW5kOyArK2opIHtcbiAgICAgICAgICAgICAgICByZXRbal0gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmV0O1xufVxuXG5cbnZhciBhdXRvRXNjYXBlID0gW1wiPFwiLCBcIj5cIiwgXCJcXFwiXCIsIFwiYFwiLCBcIiBcIiwgXCJcXHJcIiwgXCJcXG5cIixcbiAgICBcIlxcdFwiLCBcIntcIiwgXCJ9XCIsIFwifFwiLCBcIlxcXFxcIiwgXCJeXCIsIFwiYFwiLCBcIidcIl07XG5cbnZhciBhdXRvRXNjYXBlTWFwID0gbmV3IEFycmF5KDEyOCk7XG5cblxuXG5mb3IgKHZhciBpID0gMCwgbGVuID0gYXV0b0VzY2FwZU1hcC5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgIGF1dG9Fc2NhcGVNYXBbaV0gPSBcIlwiO1xufVxuXG5mb3IgKHZhciBpID0gMCwgbGVuID0gYXV0b0VzY2FwZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgIHZhciBjID0gYXV0b0VzY2FwZVtpXTtcbiAgICB2YXIgZXNjID0gZW5jb2RlVVJJQ29tcG9uZW50KGMpO1xuICAgIGlmIChlc2MgPT09IGMpIHtcbiAgICAgICAgZXNjID0gZXNjYXBlKGMpO1xuICAgIH1cbiAgICBhdXRvRXNjYXBlTWFwW2MuY2hhckNvZGVBdCgwKV0gPSBlc2M7XG59XG52YXIgYWZ0ZXJRdWVyeUF1dG9Fc2NhcGVNYXAgPSBhdXRvRXNjYXBlTWFwLnNsaWNlKCk7XG5hdXRvRXNjYXBlTWFwWzB4NUMgLyonXFwnKi9dID0gXCIvXCI7XG5cbnZhciBzbGFzaFByb3RvY29scyA9IFVybC5wcm90b3R5cGUuX3NsYXNoUHJvdG9jb2xzID0ge1xuICAgIGh0dHA6IHRydWUsXG4gICAgaHR0cHM6IHRydWUsXG4gICAgZ29waGVyOiB0cnVlLFxuICAgIGZpbGU6IHRydWUsXG4gICAgZnRwOiB0cnVlLFxuXG4gICAgXCJodHRwOlwiOiB0cnVlLFxuICAgIFwiaHR0cHM6XCI6IHRydWUsXG4gICAgXCJnb3BoZXI6XCI6IHRydWUsXG4gICAgXCJmaWxlOlwiOiB0cnVlLFxuICAgIFwiZnRwOlwiOiB0cnVlXG59O1xuXG4vL09wdGltaXplIGJhY2sgZnJvbSBub3JtYWxpemVkIG9iamVjdCBjYXVzZWQgYnkgbm9uLWlkZW50aWZpZXIga2V5c1xuZnVuY3Rpb24gZigpe31cbmYucHJvdG90eXBlID0gc2xhc2hQcm90b2NvbHM7XG5cblVybC5wcm90b3R5cGUuX3Byb3RvY29sQ2hhcmFjdGVycyA9IG1ha2VBc2NpaVRhYmxlKFtcbiAgICBbMHg2MSAvKidhJyovLCAweDdBIC8qJ3onKi9dLFxuICAgIFsweDQxIC8qJ0EnKi8sIDB4NUEgLyonWicqL10sXG4gICAgMHgyRSAvKicuJyovLCAweDJCIC8qJysnKi8sIDB4MkQgLyonLScqL1xuXSk7XG5cblVybC5wcm90b3R5cGUuX2hvc3RFbmRpbmdDaGFyYWN0ZXJzID0gbWFrZUFzY2lpVGFibGUoW1xuICAgIDB4MjMgLyonIycqLywgMHgzRiAvKic/JyovLCAweDJGIC8qJy8nKi8sIDB4NUMgLyonXFwnKi9cbl0pO1xuXG5VcmwucHJvdG90eXBlLl9hdXRvRXNjYXBlQ2hhcmFjdGVycyA9IG1ha2VBc2NpaVRhYmxlKFxuICAgIGF1dG9Fc2NhcGUubWFwKGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgcmV0dXJuIHYuY2hhckNvZGVBdCgwKTtcbiAgICB9KVxuKTtcblxuLy9JZiB0aGVzZSBjaGFyYWN0ZXJzIGVuZCBhIGhvc3QgbmFtZSwgdGhlIHBhdGggd2lsbCBub3QgYmUgcHJlcGVuZGVkIGEgL1xuVXJsLnByb3RvdHlwZS5fbm9QcmVwZW5kU2xhc2hIb3N0RW5kZXJzID0gbWFrZUFzY2lpVGFibGUoXG4gICAgW1xuICAgICAgICBcIjxcIiwgXCI+XCIsIFwiJ1wiLCBcImBcIiwgXCIgXCIsIFwiXFxyXCIsXG4gICAgICAgIFwiXFxuXCIsIFwiXFx0XCIsIFwie1wiLCBcIn1cIiwgXCJ8XCIsXG4gICAgICAgIFwiXlwiLCBcImBcIiwgXCJcXFwiXCIsIFwiJVwiLCBcIjtcIlxuICAgIF0ubWFwKGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgcmV0dXJuIHYuY2hhckNvZGVBdCgwKTtcbiAgICB9KVxuKTtcblxuVXJsLnByb3RvdHlwZS5fYXV0b0VzY2FwZU1hcCA9IGF1dG9Fc2NhcGVNYXA7XG5VcmwucHJvdG90eXBlLl9hZnRlclF1ZXJ5QXV0b0VzY2FwZU1hcCA9IGFmdGVyUXVlcnlBdXRvRXNjYXBlTWFwO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFVybDtcblxuVXJsLnJlcGxhY2UgPSBmdW5jdGlvbiBVcmwkUmVwbGFjZSgpIHtcbiAgICByZXF1aXJlLmNhY2hlLnVybCA9IHtcbiAgICAgICAgZXhwb3J0czogVXJsXG4gICAgfTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9mYXN0LXVybC1wYXJzZXIvc3JjL3VybHBhcnNlci5qc1xuLy8gbW9kdWxlIGlkID0gMTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLmRlY29kZSA9IGV4cG9ydHMucGFyc2UgPSByZXF1aXJlKCcuL2RlY29kZScpO1xuZXhwb3J0cy5lbmNvZGUgPSBleHBvcnRzLnN0cmluZ2lmeSA9IHJlcXVpcmUoJy4vZW5jb2RlJyk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbi8vIElmIG9iai5oYXNPd25Qcm9wZXJ0eSBoYXMgYmVlbiBvdmVycmlkZGVuLCB0aGVuIGNhbGxpbmdcbi8vIG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSB3aWxsIGJyZWFrLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vam95ZW50L25vZGUvaXNzdWVzLzE3MDdcbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ocXMsIHNlcCwgZXEsIG9wdGlvbnMpIHtcbiAgc2VwID0gc2VwIHx8ICcmJztcbiAgZXEgPSBlcSB8fCAnPSc7XG4gIHZhciBvYmogPSB7fTtcblxuICBpZiAodHlwZW9mIHFzICE9PSAnc3RyaW5nJyB8fCBxcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgdmFyIHJlZ2V4cCA9IC9cXCsvZztcbiAgcXMgPSBxcy5zcGxpdChzZXApO1xuXG4gIHZhciBtYXhLZXlzID0gMTAwMDtcbiAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMubWF4S2V5cyA9PT0gJ251bWJlcicpIHtcbiAgICBtYXhLZXlzID0gb3B0aW9ucy5tYXhLZXlzO1xuICB9XG5cbiAgdmFyIGxlbiA9IHFzLmxlbmd0aDtcbiAgLy8gbWF4S2V5cyA8PSAwIG1lYW5zIHRoYXQgd2Ugc2hvdWxkIG5vdCBsaW1pdCBrZXlzIGNvdW50XG4gIGlmIChtYXhLZXlzID4gMCAmJiBsZW4gPiBtYXhLZXlzKSB7XG4gICAgbGVuID0gbWF4S2V5cztcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICB2YXIgeCA9IHFzW2ldLnJlcGxhY2UocmVnZXhwLCAnJTIwJyksXG4gICAgICAgIGlkeCA9IHguaW5kZXhPZihlcSksXG4gICAgICAgIGtzdHIsIHZzdHIsIGssIHY7XG5cbiAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgIGtzdHIgPSB4LnN1YnN0cigwLCBpZHgpO1xuICAgICAgdnN0ciA9IHguc3Vic3RyKGlkeCArIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrc3RyID0geDtcbiAgICAgIHZzdHIgPSAnJztcbiAgICB9XG5cbiAgICBrID0gZGVjb2RlVVJJQ29tcG9uZW50KGtzdHIpO1xuICAgIHYgPSBkZWNvZGVVUklDb21wb25lbnQodnN0cik7XG5cbiAgICBpZiAoIWhhc093blByb3BlcnR5KG9iaiwgaykpIHtcbiAgICAgIG9ialtrXSA9IHY7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KG9ialtrXSkpIHtcbiAgICAgIG9ialtrXS5wdXNoKHYpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpba10gPSBbb2JqW2tdLCB2XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcblxudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uICh4cykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHhzKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvZGVjb2RlLmpzXG4vLyBtb2R1bGUgaWQgPSAyMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgc3RyaW5naWZ5UHJpbWl0aXZlID0gZnVuY3Rpb24odikge1xuICBzd2l0Y2ggKHR5cGVvZiB2KSB7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHJldHVybiB2O1xuXG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gdiA/ICd0cnVlJyA6ICdmYWxzZSc7XG5cbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgcmV0dXJuIGlzRmluaXRlKHYpID8gdiA6ICcnO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnJztcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmosIHNlcCwgZXEsIG5hbWUpIHtcbiAgc2VwID0gc2VwIHx8ICcmJztcbiAgZXEgPSBlcSB8fCAnPSc7XG4gIGlmIChvYmogPT09IG51bGwpIHtcbiAgICBvYmogPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gbWFwKG9iamVjdEtleXMob2JqKSwgZnVuY3Rpb24oaykge1xuICAgICAgdmFyIGtzID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShrKSkgKyBlcTtcbiAgICAgIGlmIChpc0FycmF5KG9ialtrXSkpIHtcbiAgICAgICAgcmV0dXJuIG1hcChvYmpba10sIGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKHYpKTtcbiAgICAgICAgfSkuam9pbihzZXApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmpba10pKTtcbiAgICAgIH1cbiAgICB9KS5qb2luKHNlcCk7XG5cbiAgfVxuXG4gIGlmICghbmFtZSkgcmV0dXJuICcnO1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShuYW1lKSkgKyBlcSArXG4gICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9iaikpO1xufTtcblxudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uICh4cykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHhzKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5cbmZ1bmN0aW9uIG1hcCAoeHMsIGYpIHtcbiAgaWYgKHhzLm1hcCkgcmV0dXJuIHhzLm1hcChmKTtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgcmVzLnB1c2goZih4c1tpXSwgaSkpO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5cbnZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24gKG9iaikge1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgcmVzLnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gcmVzO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9lbmNvZGUuanNcbi8vIG1vZHVsZSBpZCA9IDIyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qISBodHRwczovL210aHMuYmUvcHVueWNvZGUgdjEuNC4xIGJ5IEBtYXRoaWFzICovXG47KGZ1bmN0aW9uKHJvb3QpIHtcblxuXHQvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovXG5cdHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiZcblx0XHQhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXHR2YXIgZnJlZU1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmXG5cdFx0IW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cdHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7XG5cdGlmIChcblx0XHRmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC5zZWxmID09PSBmcmVlR2xvYmFsXG5cdCkge1xuXHRcdHJvb3QgPSBmcmVlR2xvYmFsO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBgcHVueWNvZGVgIG9iamVjdC5cblx0ICogQG5hbWUgcHVueWNvZGVcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqL1xuXHR2YXIgcHVueWNvZGUsXG5cblx0LyoqIEhpZ2hlc3QgcG9zaXRpdmUgc2lnbmVkIDMyLWJpdCBmbG9hdCB2YWx1ZSAqL1xuXHRtYXhJbnQgPSAyMTQ3NDgzNjQ3LCAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xXG5cblx0LyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqL1xuXHRiYXNlID0gMzYsXG5cdHRNaW4gPSAxLFxuXHR0TWF4ID0gMjYsXG5cdHNrZXcgPSAzOCxcblx0ZGFtcCA9IDcwMCxcblx0aW5pdGlhbEJpYXMgPSA3Mixcblx0aW5pdGlhbE4gPSAxMjgsIC8vIDB4ODBcblx0ZGVsaW1pdGVyID0gJy0nLCAvLyAnXFx4MkQnXG5cblx0LyoqIFJlZ3VsYXIgZXhwcmVzc2lvbnMgKi9cblx0cmVnZXhQdW55Y29kZSA9IC9eeG4tLS8sXG5cdHJlZ2V4Tm9uQVNDSUkgPSAvW15cXHgyMC1cXHg3RV0vLCAvLyB1bnByaW50YWJsZSBBU0NJSSBjaGFycyArIG5vbi1BU0NJSSBjaGFyc1xuXHRyZWdleFNlcGFyYXRvcnMgPSAvW1xceDJFXFx1MzAwMlxcdUZGMEVcXHVGRjYxXS9nLCAvLyBSRkMgMzQ5MCBzZXBhcmF0b3JzXG5cblx0LyoqIEVycm9yIG1lc3NhZ2VzICovXG5cdGVycm9ycyA9IHtcblx0XHQnb3ZlcmZsb3cnOiAnT3ZlcmZsb3c6IGlucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3MnLFxuXHRcdCdub3QtYmFzaWMnOiAnSWxsZWdhbCBpbnB1dCA+PSAweDgwIChub3QgYSBiYXNpYyBjb2RlIHBvaW50KScsXG5cdFx0J2ludmFsaWQtaW5wdXQnOiAnSW52YWxpZCBpbnB1dCdcblx0fSxcblxuXHQvKiogQ29udmVuaWVuY2Ugc2hvcnRjdXRzICovXG5cdGJhc2VNaW51c1RNaW4gPSBiYXNlIC0gdE1pbixcblx0Zmxvb3IgPSBNYXRoLmZsb29yLFxuXHRzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLFxuXG5cdC8qKiBUZW1wb3JhcnkgdmFyaWFibGUgKi9cblx0a2V5O1xuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgZXJyb3IgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGVycm9yIHR5cGUuXG5cdCAqIEByZXR1cm5zIHtFcnJvcn0gVGhyb3dzIGEgYFJhbmdlRXJyb3JgIHdpdGggdGhlIGFwcGxpY2FibGUgZXJyb3IgbWVzc2FnZS5cblx0ICovXG5cdGZ1bmN0aW9uIGVycm9yKHR5cGUpIHtcblx0XHR0aHJvdyBuZXcgUmFuZ2VFcnJvcihlcnJvcnNbdHlwZV0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBgQXJyYXkjbWFwYCB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgYXJyYXlcblx0ICogaXRlbS5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBhcnJheSBvZiB2YWx1ZXMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwKGFycmF5LCBmbikge1xuXHRcdHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xuXHRcdHdoaWxlIChsZW5ndGgtLSkge1xuXHRcdFx0cmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIHNpbXBsZSBgQXJyYXkjbWFwYC1saWtlIHdyYXBwZXIgdG8gd29yayB3aXRoIGRvbWFpbiBuYW1lIHN0cmluZ3Mgb3IgZW1haWxcblx0ICogYWRkcmVzc2VzLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnlcblx0ICogY2hhcmFjdGVyLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IHN0cmluZyBvZiBjaGFyYWN0ZXJzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFja1xuXHQgKiBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcERvbWFpbihzdHJpbmcsIGZuKSB7XG5cdFx0dmFyIHBhcnRzID0gc3RyaW5nLnNwbGl0KCdAJyk7XG5cdFx0dmFyIHJlc3VsdCA9ICcnO1xuXHRcdGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG5cdFx0XHQvLyBJbiBlbWFpbCBhZGRyZXNzZXMsIG9ubHkgdGhlIGRvbWFpbiBuYW1lIHNob3VsZCBiZSBwdW55Y29kZWQuIExlYXZlXG5cdFx0XHQvLyB0aGUgbG9jYWwgcGFydCAoaS5lLiBldmVyeXRoaW5nIHVwIHRvIGBAYCkgaW50YWN0LlxuXHRcdFx0cmVzdWx0ID0gcGFydHNbMF0gKyAnQCc7XG5cdFx0XHRzdHJpbmcgPSBwYXJ0c1sxXTtcblx0XHR9XG5cdFx0Ly8gQXZvaWQgYHNwbGl0KHJlZ2V4KWAgZm9yIElFOCBjb21wYXRpYmlsaXR5LiBTZWUgIzE3LlxuXHRcdHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKHJlZ2V4U2VwYXJhdG9ycywgJ1xceDJFJyk7XG5cdFx0dmFyIGxhYmVscyA9IHN0cmluZy5zcGxpdCgnLicpO1xuXHRcdHZhciBlbmNvZGVkID0gbWFwKGxhYmVscywgZm4pLmpvaW4oJy4nKTtcblx0XHRyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG51bWVyaWMgY29kZSBwb2ludHMgb2YgZWFjaCBVbmljb2RlXG5cdCAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSxcblx0ICogdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnZlcnQgYSBwYWlyIG9mIHN1cnJvZ2F0ZSBoYWx2ZXMgKGVhY2ggb2Ygd2hpY2hcblx0ICogVUNTLTIgZXhwb3NlcyBhcyBzZXBhcmF0ZSBjaGFyYWN0ZXJzKSBpbnRvIGEgc2luZ2xlIGNvZGUgcG9pbnQsXG5cdCAqIG1hdGNoaW5nIFVURi0xNi5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5lbmNvZGVgXG5cdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBkZWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyBUaGUgVW5pY29kZSBpbnB1dCBzdHJpbmcgKFVDUy0yKS5cblx0ICogQHJldHVybnMge0FycmF5fSBUaGUgbmV3IGFycmF5IG9mIGNvZGUgcG9pbnRzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpIHtcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGNvdW50ZXIgPSAwLFxuXHRcdCAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuXHRcdCAgICB2YWx1ZSxcblx0XHQgICAgZXh0cmE7XG5cdFx0d2hpbGUgKGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdHZhbHVlID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdGlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdFx0Ly8gaGlnaCBzdXJyb2dhdGUsIGFuZCB0aGVyZSBpcyBhIG5leHQgY2hhcmFjdGVyXG5cdFx0XHRcdGV4dHJhID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdFx0aWYgKChleHRyYSAmIDB4RkMwMCkgPT0gMHhEQzAwKSB7IC8vIGxvdyBzdXJyb2dhdGVcblx0XHRcdFx0XHRvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIHVubWF0Y2hlZCBzdXJyb2dhdGU7IG9ubHkgYXBwZW5kIHRoaXMgY29kZSB1bml0LCBpbiBjYXNlIHRoZSBuZXh0XG5cdFx0XHRcdFx0Ly8gY29kZSB1bml0IGlzIHRoZSBoaWdoIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0XHRcdGNvdW50ZXItLTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5kZWNvZGVgXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGVuY29kZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBjb2RlUG9pbnRzIFRoZSBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgbmV3IFVuaWNvZGUgc3RyaW5nIChVQ1MtMikuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KSB7XG5cdFx0cmV0dXJuIG1hcChhcnJheSwgZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHZhciBvdXRwdXQgPSAnJztcblx0XHRcdGlmICh2YWx1ZSA+IDB4RkZGRikge1xuXHRcdFx0XHR2YWx1ZSAtPSAweDEwMDAwO1xuXHRcdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcblx0XHRcdFx0dmFsdWUgPSAweERDMDAgfCB2YWx1ZSAmIDB4M0ZGO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7XG5cdFx0XHRyZXR1cm4gb3V0cHV0O1xuXHRcdH0pLmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgYmFzaWMgY29kZSBwb2ludCBpbnRvIGEgZGlnaXQvaW50ZWdlci5cblx0ICogQHNlZSBgZGlnaXRUb0Jhc2ljKClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlUG9pbnQgVGhlIGJhc2ljIG51bWVyaWMgY29kZSBwb2ludCB2YWx1ZS5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50IChmb3IgdXNlIGluXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaW4gdGhlIHJhbmdlIGAwYCB0byBgYmFzZSAtIDFgLCBvciBgYmFzZWAgaWZcblx0ICogdGhlIGNvZGUgcG9pbnQgZG9lcyBub3QgcmVwcmVzZW50IGEgdmFsdWUuXG5cdCAqL1xuXHRmdW5jdGlvbiBiYXNpY1RvRGlnaXQoY29kZVBvaW50KSB7XG5cdFx0aWYgKGNvZGVQb2ludCAtIDQ4IDwgMTApIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSAyMjtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDY1IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA2NTtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDk3IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA5Nztcblx0XHR9XG5cdFx0cmV0dXJuIGJhc2U7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBkaWdpdC9pbnRlZ2VyIGludG8gYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAc2VlIGBiYXNpY1RvRGlnaXQoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGRpZ2l0IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIGJhc2ljIGNvZGUgcG9pbnQgd2hvc2UgdmFsdWUgKHdoZW4gdXNlZCBmb3Jcblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpcyBgZGlnaXRgLCB3aGljaCBuZWVkcyB0byBiZSBpbiB0aGUgcmFuZ2Vcblx0ICogYDBgIHRvIGBiYXNlIC0gMWAuIElmIGBmbGFnYCBpcyBub24temVybywgdGhlIHVwcGVyY2FzZSBmb3JtIGlzXG5cdCAqIHVzZWQ7IGVsc2UsIHRoZSBsb3dlcmNhc2UgZm9ybSBpcyB1c2VkLiBUaGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkXG5cdCAqIGlmIGBmbGFnYCBpcyBub24temVybyBhbmQgYGRpZ2l0YCBoYXMgbm8gdXBwZXJjYXNlIGZvcm0uXG5cdCAqL1xuXHRmdW5jdGlvbiBkaWdpdFRvQmFzaWMoZGlnaXQsIGZsYWcpIHtcblx0XHQvLyAgMC4uMjUgbWFwIHRvIEFTQ0lJIGEuLnogb3IgQS4uWlxuXHRcdC8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOVxuXHRcdHJldHVybiBkaWdpdCArIDIyICsgNzUgKiAoZGlnaXQgPCAyNikgLSAoKGZsYWcgIT0gMCkgPDwgNSk7XG5cdH1cblxuXHQvKipcblx0ICogQmlhcyBhZGFwdGF0aW9uIGZ1bmN0aW9uIGFzIHBlciBzZWN0aW9uIDMuNCBvZiBSRkMgMzQ5Mi5cblx0ICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjRcblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkge1xuXHRcdHZhciBrID0gMDtcblx0XHRkZWx0YSA9IGZpcnN0VGltZSA/IGZsb29yKGRlbHRhIC8gZGFtcCkgOiBkZWx0YSA+PiAxO1xuXHRcdGRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTtcblx0XHRmb3IgKC8qIG5vIGluaXRpYWxpemF0aW9uICovOyBkZWx0YSA+IGJhc2VNaW51c1RNaW4gKiB0TWF4ID4+IDE7IGsgKz0gYmFzZSkge1xuXHRcdFx0ZGVsdGEgPSBmbG9vcihkZWx0YSAvIGJhc2VNaW51c1RNaW4pO1xuXHRcdH1cblx0XHRyZXR1cm4gZmxvb3IoayArIChiYXNlTWludXNUTWluICsgMSkgKiBkZWx0YSAvIChkZWx0YSArIHNrZXcpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMgdG8gYSBzdHJpbmcgb2YgVW5pY29kZVxuXHQgKiBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHtcblx0XHQvLyBEb24ndCB1c2UgVUNTLTJcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoLFxuXHRcdCAgICBvdXQsXG5cdFx0ICAgIGkgPSAwLFxuXHRcdCAgICBuID0gaW5pdGlhbE4sXG5cdFx0ICAgIGJpYXMgPSBpbml0aWFsQmlhcyxcblx0XHQgICAgYmFzaWMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIGluZGV4LFxuXHRcdCAgICBvbGRpLFxuXHRcdCAgICB3LFxuXHRcdCAgICBrLFxuXHRcdCAgICBkaWdpdCxcblx0XHQgICAgdCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGJhc2VNaW51c1Q7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzOiBsZXQgYGJhc2ljYCBiZSB0aGUgbnVtYmVyIG9mIGlucHV0IGNvZGVcblx0XHQvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weVxuXHRcdC8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LlxuXG5cdFx0YmFzaWMgPSBpbnB1dC5sYXN0SW5kZXhPZihkZWxpbWl0ZXIpO1xuXHRcdGlmIChiYXNpYyA8IDApIHtcblx0XHRcdGJhc2ljID0gMDtcblx0XHR9XG5cblx0XHRmb3IgKGogPSAwOyBqIDwgYmFzaWM7ICsraikge1xuXHRcdFx0Ly8gaWYgaXQncyBub3QgYSBiYXNpYyBjb2RlIHBvaW50XG5cdFx0XHRpZiAoaW5wdXQuY2hhckNvZGVBdChqKSA+PSAweDgwKSB7XG5cdFx0XHRcdGVycm9yKCdub3QtYmFzaWMnKTtcblx0XHRcdH1cblx0XHRcdG91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZGVjb2RpbmcgbG9vcDogc3RhcnQganVzdCBhZnRlciB0aGUgbGFzdCBkZWxpbWl0ZXIgaWYgYW55IGJhc2ljIGNvZGVcblx0XHQvLyBwb2ludHMgd2VyZSBjb3BpZWQ7IHN0YXJ0IGF0IHRoZSBiZWdpbm5pbmcgb3RoZXJ3aXNlLlxuXG5cdFx0Zm9yIChpbmRleCA9IGJhc2ljID4gMCA/IGJhc2ljICsgMSA6IDA7IGluZGV4IDwgaW5wdXRMZW5ndGg7IC8qIG5vIGZpbmFsIGV4cHJlc3Npb24gKi8pIHtcblxuXHRcdFx0Ly8gYGluZGV4YCBpcyB0aGUgaW5kZXggb2YgdGhlIG5leHQgY2hhcmFjdGVyIHRvIGJlIGNvbnN1bWVkLlxuXHRcdFx0Ly8gRGVjb2RlIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIgaW50byBgZGVsdGFgLFxuXHRcdFx0Ly8gd2hpY2ggZ2V0cyBhZGRlZCB0byBgaWAuIFRoZSBvdmVyZmxvdyBjaGVja2luZyBpcyBlYXNpZXJcblx0XHRcdC8vIGlmIHdlIGluY3JlYXNlIGBpYCBhcyB3ZSBnbywgdGhlbiBzdWJ0cmFjdCBvZmYgaXRzIHN0YXJ0aW5nXG5cdFx0XHQvLyB2YWx1ZSBhdCB0aGUgZW5kIHRvIG9idGFpbiBgZGVsdGFgLlxuXHRcdFx0Zm9yIChvbGRpID0gaSwgdyA9IDEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXG5cdFx0XHRcdGlmIChpbmRleCA+PSBpbnB1dExlbmd0aCkge1xuXHRcdFx0XHRcdGVycm9yKCdpbnZhbGlkLWlucHV0Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkaWdpdCA9IGJhc2ljVG9EaWdpdChpbnB1dC5jaGFyQ29kZUF0KGluZGV4KyspKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPj0gYmFzZSB8fCBkaWdpdCA+IGZsb29yKChtYXhJbnQgLSBpKSAvIHcpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpICs9IGRpZ2l0ICogdztcblx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0IDwgdCkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRpZiAodyA+IGZsb29yKG1heEludCAvIGJhc2VNaW51c1QpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR3ICo9IGJhc2VNaW51c1Q7XG5cblx0XHRcdH1cblxuXHRcdFx0b3V0ID0gb3V0cHV0Lmxlbmd0aCArIDE7XG5cdFx0XHRiaWFzID0gYWRhcHQoaSAtIG9sZGksIG91dCwgb2xkaSA9PSAwKTtcblxuXHRcdFx0Ly8gYGlgIHdhcyBzdXBwb3NlZCB0byB3cmFwIGFyb3VuZCBmcm9tIGBvdXRgIHRvIGAwYCxcblx0XHRcdC8vIGluY3JlbWVudGluZyBgbmAgZWFjaCB0aW1lLCBzbyB3ZSdsbCBmaXggdGhhdCBub3c6XG5cdFx0XHRpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRuICs9IGZsb29yKGkgLyBvdXQpO1xuXHRcdFx0aSAlPSBvdXQ7XG5cblx0XHRcdC8vIEluc2VydCBgbmAgYXQgcG9zaXRpb24gYGlgIG9mIHRoZSBvdXRwdXRcblx0XHRcdG91dHB1dC5zcGxpY2UoaSsrLCAwLCBuKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB1Y3MyZW5jb2RlKG91dHB1dCk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzIChlLmcuIGEgZG9tYWluIG5hbWUgbGFiZWwpIHRvIGFcblx0ICogUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7XG5cdFx0dmFyIG4sXG5cdFx0ICAgIGRlbHRhLFxuXHRcdCAgICBoYW5kbGVkQ1BDb3VudCxcblx0XHQgICAgYmFzaWNMZW5ndGgsXG5cdFx0ICAgIGJpYXMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIG0sXG5cdFx0ICAgIHEsXG5cdFx0ICAgIGssXG5cdFx0ICAgIHQsXG5cdFx0ICAgIGN1cnJlbnRWYWx1ZSxcblx0XHQgICAgb3V0cHV0ID0gW10sXG5cdFx0ICAgIC8qKiBgaW5wdXRMZW5ndGhgIHdpbGwgaG9sZCB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIGluIGBpbnB1dGAuICovXG5cdFx0ICAgIGlucHV0TGVuZ3RoLFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgaGFuZGxlZENQQ291bnRQbHVzT25lLFxuXHRcdCAgICBiYXNlTWludXNULFxuXHRcdCAgICBxTWludXNUO1xuXG5cdFx0Ly8gQ29udmVydCB0aGUgaW5wdXQgaW4gVUNTLTIgdG8gVW5pY29kZVxuXHRcdGlucHV0ID0gdWNzMmRlY29kZShpbnB1dCk7XG5cblx0XHQvLyBDYWNoZSB0aGUgbGVuZ3RoXG5cdFx0aW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGg7XG5cblx0XHQvLyBJbml0aWFsaXplIHRoZSBzdGF0ZVxuXHRcdG4gPSBpbml0aWFsTjtcblx0XHRkZWx0YSA9IDA7XG5cdFx0YmlhcyA9IGluaXRpYWxCaWFzO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50c1xuXHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShjdXJyZW50VmFsdWUpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRoYW5kbGVkQ1BDb3VudCA9IGJhc2ljTGVuZ3RoID0gb3V0cHV0Lmxlbmd0aDtcblxuXHRcdC8vIGBoYW5kbGVkQ1BDb3VudGAgaXMgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBoYW5kbGVkO1xuXHRcdC8vIGBiYXNpY0xlbmd0aGAgaXMgdGhlIG51bWJlciBvZiBiYXNpYyBjb2RlIHBvaW50cy5cblxuXHRcdC8vIEZpbmlzaCB0aGUgYmFzaWMgc3RyaW5nIC0gaWYgaXQgaXMgbm90IGVtcHR5IC0gd2l0aCBhIGRlbGltaXRlclxuXHRcdGlmIChiYXNpY0xlbmd0aCkge1xuXHRcdFx0b3V0cHV0LnB1c2goZGVsaW1pdGVyKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGVuY29kaW5nIGxvb3A6XG5cdFx0d2hpbGUgKGhhbmRsZWRDUENvdW50IDwgaW5wdXRMZW5ndGgpIHtcblxuXHRcdFx0Ly8gQWxsIG5vbi1iYXNpYyBjb2RlIHBvaW50cyA8IG4gaGF2ZSBiZWVuIGhhbmRsZWQgYWxyZWFkeS4gRmluZCB0aGUgbmV4dFxuXHRcdFx0Ly8gbGFyZ2VyIG9uZTpcblx0XHRcdGZvciAobSA9IG1heEludCwgaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID49IG4gJiYgY3VycmVudFZhbHVlIDwgbSkge1xuXHRcdFx0XHRcdG0gPSBjdXJyZW50VmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LFxuXHRcdFx0Ly8gYnV0IGd1YXJkIGFnYWluc3Qgb3ZlcmZsb3dcblx0XHRcdGhhbmRsZWRDUENvdW50UGx1c09uZSA9IGhhbmRsZWRDUENvdW50ICsgMTtcblx0XHRcdGlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWx0YSArPSAobSAtIG4pICogaGFuZGxlZENQQ291bnRQbHVzT25lO1xuXHRcdFx0biA9IG07XG5cblx0XHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCBuICYmICsrZGVsdGEgPiBtYXhJbnQpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPT0gbikge1xuXHRcdFx0XHRcdC8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyXG5cdFx0XHRcdFx0Zm9yIChxID0gZGVsdGEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXHRcdFx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cdFx0XHRcdFx0XHRpZiAocSA8IHQpIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRxTWludXNUID0gcSAtIHQ7XG5cdFx0XHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdFx0XHRvdXRwdXQucHVzaChcblx0XHRcdFx0XHRcdFx0c3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyh0ICsgcU1pbnVzVCAlIGJhc2VNaW51c1QsIDApKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdHEgPSBmbG9vcihxTWludXNUIC8gYmFzZU1pbnVzVCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyhxLCAwKSkpO1xuXHRcdFx0XHRcdGJpYXMgPSBhZGFwdChkZWx0YSwgaGFuZGxlZENQQ291bnRQbHVzT25lLCBoYW5kbGVkQ1BDb3VudCA9PSBiYXNpY0xlbmd0aCk7XG5cdFx0XHRcdFx0ZGVsdGEgPSAwO1xuXHRcdFx0XHRcdCsraGFuZGxlZENQQ291bnQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0KytkZWx0YTtcblx0XHRcdCsrbjtcblxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3Ncblx0ICogdG8gVW5pY29kZS4gT25seSB0aGUgUHVueWNvZGVkIHBhcnRzIG9mIHRoZSBpbnB1dCB3aWxsIGJlIGNvbnZlcnRlZCwgaS5lLlxuXHQgKiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCBvbiBhIHN0cmluZyB0aGF0IGhhcyBhbHJlYWR5IGJlZW5cblx0ICogY29udmVydGVkIHRvIFVuaWNvZGUuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlZCBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIGNvbnZlcnQgdG8gVW5pY29kZS5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFVuaWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIFB1bnljb2RlXG5cdCAqIHN0cmluZy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvVW5pY29kZShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4UHVueWNvZGUudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gZGVjb2RlKHN0cmluZy5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFVuaWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogUHVueWNvZGUuIE9ubHkgdGhlIG5vbi1BU0NJSSBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgd2lsbCBiZSBjb252ZXJ0ZWQsXG5cdCAqIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0J3MgYWxyZWFkeSBpblxuXHQgKiBBU0NJSS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0byBjb252ZXJ0LCBhcyBhXG5cdCAqIFVuaWNvZGUgc3RyaW5nLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgUHVueWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIGRvbWFpbiBuYW1lIG9yXG5cdCAqIGVtYWlsIGFkZHJlc3MuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b0FTQ0lJKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhOb25BU0NJSS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyAneG4tLScgKyBlbmNvZGUoc3RyaW5nKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKiBEZWZpbmUgdGhlIHB1YmxpYyBBUEkgKi9cblx0cHVueWNvZGUgPSB7XG5cdFx0LyoqXG5cdFx0ICogQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IFB1bnljb2RlLmpzIHZlcnNpb24gbnVtYmVyLlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIFN0cmluZ1xuXHRcdCAqL1xuXHRcdCd2ZXJzaW9uJzogJzEuNC4xJyxcblx0XHQvKipcblx0XHQgKiBBbiBvYmplY3Qgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGZyb20gSmF2YVNjcmlwdCdzIGludGVybmFsIGNoYXJhY3RlclxuXHRcdCAqIHJlcHJlc2VudGF0aW9uIChVQ1MtMikgdG8gVW5pY29kZSBjb2RlIHBvaW50cywgYW5kIGJhY2suXG5cdFx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgT2JqZWN0XG5cdFx0ICovXG5cdFx0J3VjczInOiB7XG5cdFx0XHQnZGVjb2RlJzogdWNzMmRlY29kZSxcblx0XHRcdCdlbmNvZGUnOiB1Y3MyZW5jb2RlXG5cdFx0fSxcblx0XHQnZGVjb2RlJzogZGVjb2RlLFxuXHRcdCdlbmNvZGUnOiBlbmNvZGUsXG5cdFx0J3RvQVNDSUknOiB0b0FTQ0lJLFxuXHRcdCd0b1VuaWNvZGUnOiB0b1VuaWNvZGVcblx0fTtcblxuXHQvKiogRXhwb3NlIGBwdW55Y29kZWAgKi9cblx0Ly8gU29tZSBBTUQgYnVpbGQgb3B0aW1pemVycywgbGlrZSByLmpzLCBjaGVjayBmb3Igc3BlY2lmaWMgY29uZGl0aW9uIHBhdHRlcm5zXG5cdC8vIGxpa2UgdGhlIGZvbGxvd2luZzpcblx0aWYgKFxuXHRcdHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJlxuXHRcdHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmXG5cdFx0ZGVmaW5lLmFtZFxuXHQpIHtcblx0XHRkZWZpbmUoJ3B1bnljb2RlJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gcHVueWNvZGU7XG5cdFx0fSk7XG5cdH0gZWxzZSBpZiAoZnJlZUV4cG9ydHMgJiYgZnJlZU1vZHVsZSkge1xuXHRcdGlmIChtb2R1bGUuZXhwb3J0cyA9PSBmcmVlRXhwb3J0cykge1xuXHRcdFx0Ly8gaW4gTm9kZS5qcywgaW8uanMsIG9yIFJpbmdvSlMgdjAuOC4wK1xuXHRcdFx0ZnJlZU1vZHVsZS5leHBvcnRzID0gcHVueWNvZGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGluIE5hcndoYWwgb3IgUmluZ29KUyB2MC43LjAtXG5cdFx0XHRmb3IgKGtleSBpbiBwdW55Y29kZSkge1xuXHRcdFx0XHRwdW55Y29kZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIChmcmVlRXhwb3J0c1trZXldID0gcHVueWNvZGVba2V5XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdC8vIGluIFJoaW5vIG9yIGEgd2ViIGJyb3dzZXJcblx0XHRyb290LnB1bnljb2RlID0gcHVueWNvZGU7XG5cdH1cblxufSh0aGlzKSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9wdW55Y29kZS9wdW55Y29kZS5qc1xuLy8gbW9kdWxlIGlkID0gMjNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcclxuXHRpZighbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xyXG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XHJcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcclxuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxyXG5cdFx0aWYoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XHJcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XHJcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xyXG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcclxuXHR9XHJcblx0cmV0dXJuIG1vZHVsZTtcclxufTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzXG4vLyBtb2R1bGUgaWQgPSAyNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSxldmFsKShcInRoaXNcIik7XHJcbn0gY2F0Y2goZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIilcclxuXHRcdGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanNcbi8vIG1vZHVsZSBpZCA9IDI1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzIFBldGthIEFudG9ub3ZcbiAqIFxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOjwvcD5cbiAqIFxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICogXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cblwidXNlIHN0cmljdFwiO1xudmFyIFF1ZXJ5U3RyaW5nU2VyaWFsaXplciA9IHJlcXVpcmUoXCIuL3F1ZXJ5c3RyaW5nc2VyaWFsaXplci5qc1wiKTtcbm1vZHVsZS5leHBvcnRzID0gUXVlcnlTdHJpbmdQYXJzZXI7XG5cbnZhciBycGx1cyA9IC9cXCsvZztcbnZhciByaW50ID0gL15bMC05XSskLztcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbnZhciBoYXZlUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5mdW5jdGlvbiBRdWVyeVN0cmluZ1BhcnNlcigpIHtcbiAgICB0aGlzLmNvbnRhaW5zU3BhcnNlID0gZmFsc2U7XG4gICAgdGhpcy5jYWNoZUtleSA9IFwiXCI7XG4gICAgdGhpcy5jYWNoZVZhbCA9IG51bGw7XG59XG5cblF1ZXJ5U3RyaW5nUGFyc2VyLm1heExlbmd0aCA9IDMyNzY4O1xuUXVlcnlTdHJpbmdQYXJzZXIubWF4RGVwdGggPSA0O1xuUXVlcnlTdHJpbmdQYXJzZXIubWF4S2V5cyA9IDI1NjtcblxuUXVlcnlTdHJpbmdQYXJzZXIucGFyc2UgPSBmdW5jdGlvbiBRdWVyeVN0cmluZ1BhcnNlciRQYXJzZShzdHIpIHtcbiAgICBpZiAodHlwZW9mIHN0ciA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICB2YXIgbWF4TGVuZ3RoID0gUXVlcnlTdHJpbmdQYXJzZXIubWF4TGVuZ3RoO1xuICAgICAgICBpZiAoc3RyLmxlbmd0aCA+IG1heExlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJzdHIgaXMgdG9vIGxhcmdlIChcIiArXG4gICAgICAgICAgICAgICAgXCJRdWVyeVN0cmluZ1BhcnNlci5tYXhMZW5ndGg9XCIgKyBtYXhMZW5ndGggKyBcIilcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFyc2VyID0gbmV3IFF1ZXJ5U3RyaW5nUGFyc2VyKCk7XG4gICAgICAgIHJldHVybiBwYXJzZXIucGFyc2VTdHJpbmcoc3RyLCBmYWxzZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHN0ciAhPT0gbnVsbCAmJiB0eXBlb2Ygc3RyID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHZhciBwYXJzZXIgPSBuZXcgUXVlcnlTdHJpbmdQYXJzZXIoKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlci5wYXJzZU9iamVjdChzdHIpO1xuICAgIH1cbiAgICByZXR1cm4ge307XG59O1xuXG5RdWVyeVN0cmluZ1BhcnNlci5zdHJpbmdpZnkgPVxuZnVuY3Rpb24gUXVlcnlTdHJpbmdQYXJzZXIkU3RyaW5naWZ5KHZhbHVlKSB7XG4gICAgdmFyIHNlcmlhbGl6ZXIgPSBuZXcgUXVlcnlTdHJpbmdTZXJpYWxpemVyKCk7XG4gICAgcmV0dXJuIHNlcmlhbGl6ZXIuc2VyaWFsaXplKHZhbHVlKTtcbn07XG5cblF1ZXJ5U3RyaW5nUGFyc2VyLnByb3RvdHlwZS5kZWNvZGUgPVxuZnVuY3Rpb24gUXVlcnlTdHJpbmdQYXJzZXIkZGVjb2RlKHN0ciwgc2hvdWxkRGVjb2RlLCBjb250YWluc1BsdXMpIHtcbiAgICBpZiAoc2hvdWxkRGVjb2RlID09PSBmYWxzZSkgcmV0dXJuIHN0cjtcbiAgICBpZiAoY29udGFpbnNQbHVzID09PSB0cnVlKSBzdHIgPSBzdHIucmVwbGFjZShycGx1cywgXCIgXCIpO1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG59O1xuXG5RdWVyeVN0cmluZ1BhcnNlci5wcm90b3R5cGUubWF5YmVBcnJheUluZGV4ID1cbmZ1bmN0aW9uIFF1ZXJ5U3RyaW5nUGFyc2VyJG1heWJlQXJyYXlJbmRleChzdHIsIGFycmF5TGVuZ3RoKSB7XG4gICAgdmFyIGxlbiA9IHN0ci5sZW5ndGg7XG4gICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gYXJyYXlMZW5ndGg7XG4gICAgfVxuICAgIHZhciBjaCA9IHN0ci5jaGFyQ29kZUF0KDApO1xuXG4gICAgaWYgKGNoID09PSA0OCkge1xuICAgICAgICByZXR1cm4gbGVuID4gMSA/IC0xIDogMDtcbiAgICB9XG4gICAgZWxzZSBpZiAoNDggPD0gY2ggJiYgY2ggPD0gNTcpIHtcbiAgICAgICAgaWYgKGxlbiA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGNoIC0gNDg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmludC50ZXN0KHN0cikpIHtcbiAgICAgICAgICAgIHZhciB2ID0gcGFyc2VJbnQoc3RyLCAxMCk7XG4gICAgICAgICAgICBpZiAoMCA8IHYgJiYgdiA8PSAxMDczNzQxODIyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufTtcblxuUXVlcnlTdHJpbmdQYXJzZXIucHJvdG90eXBlLmdldFNsb3QgPVxuZnVuY3Rpb24gUXVlcnlTdHJpbmdQYXJzZXIkZ2V0U2xvdChkaWN0aW9uYXJ5LCBwcmV2S2V5LCBjdXJLZXkpIHtcbiAgICB2YXIgc2xvdDtcbiAgICBpZiAoIShoYXZlUHJvcC5jYWxsKGRpY3Rpb25hcnksIHByZXZLZXkpKSkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLm1heWJlQXJyYXlJbmRleChjdXJLZXksIDApO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgc2xvdCA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2xvdCA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGRpY3Rpb25hcnlbcHJldktleV0gPSBzbG90O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2xvdCA9IGRpY3Rpb25hcnlbcHJldktleV07XG4gICAgfVxuICAgIHJldHVybiBzbG90O1xufTtcblxuUXVlcnlTdHJpbmdQYXJzZXIucHJvdG90eXBlLnBsYWNlTmVzdGVkVmFsdWUgPVxuZnVuY3Rpb24gUXVlcnlTdHJpbmdQYXJzZXIkcGxhY2VOZXN0ZWRWYWx1ZVxuKGRpY3Rpb25hcnksIGtleSwgdmFsdWUsIGksIHByZXZLZXksIGN1cktleSkge1xuICAgIHZhciBzbG90ID0gdGhpcy5nZXRTbG90KGRpY3Rpb25hcnksIHByZXZLZXksIGN1cktleSk7XG4gICAgdmFyIGluZGV4ID0gLTE7XG5cbiAgICBpZiAoaXNBcnJheShzbG90KSkge1xuICAgICAgICBpbmRleCA9IHRoaXMubWF5YmVBcnJheUluZGV4KGN1cktleSwgc2xvdC5sZW5ndGgpO1xuICAgIH1cblxuICAgIHZhciBsZW4gPSBrZXkubGVuZ3RoO1xuICAgIHZhciBkZXB0aCA9IDI7XG4gICAgdmFyIG1heERlcHRoID0gUXVlcnlTdHJpbmdQYXJzZXIubWF4RGVwdGg7XG4gICAgdmFyIHN0YXJ0ID0gLTE7XG4gICAgZm9yICg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICB2YXIgY2ggPSBrZXkuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGNoID09PSA5MSkge1xuICAgICAgICAgICAgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaCA9PT0gOTMgJiZcbiAgICAgICAgICAgICAgICBzdGFydCA+IC0xKSB7XG4gICAgICAgICAgICBwcmV2S2V5ID0gY3VyS2V5O1xuICAgICAgICAgICAgY3VyS2V5ID0gc3RhcnQgPT09IGkgPyBcIlwiIDoga2V5LnN1YnN0cmluZyhzdGFydCwgaSk7XG4gICAgICAgICAgICBzdGFydCA9IC0xO1xuICAgICAgICAgICAgZGVwdGgrKztcbiAgICAgICAgICAgIGlmIChkZXB0aCA+IG1heERlcHRoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJOZXN0aW5nIGRlcHRoIG9mIGtleXMgaXMgdG9vIGxhcmdlIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCIoUXVlcnlTdHJpbmdQYXJzZXIubWF4RGVwdGg9XCIrbWF4RGVwdGgrXCIpXCIgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNsb3QgPSB0aGlzLmdldFNsb3Qoc2xvdCwgcHJldktleSwgY3VyS2V5KTtcblxuICAgICAgICAgICAgaW5kZXggPSBpc0FycmF5KHNsb3QpXG4gICAgICAgICAgICAgICAgPyB0aGlzLm1heWJlQXJyYXlJbmRleChjdXJLZXksIHNsb3QubGVuZ3RoKVxuICAgICAgICAgICAgICAgIDogLTE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZihpbmRleCA+IC0xKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSBzbG90Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHNsb3QucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5zU3BhcnNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzbG90W2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmluc2VydChzbG90LCBjdXJLZXksIHZhbHVlKTtcbiAgICB9XG59O1xuXG5RdWVyeVN0cmluZ1BhcnNlci5wcm90b3R5cGUuaW5zZXJ0ID1cbmZ1bmN0aW9uIFF1ZXJ5U3RyaW5nUGFyc2VyJGluc2VydChkaWN0aW9uYXJ5LCBrZXksIHZhbHVlKSB7XG4gICAgdmFyIHJldCA9IG51bGw7XG4gICAgaWYgKGhhdmVQcm9wLmNhbGwoZGljdGlvbmFyeSwga2V5KSkge1xuICAgICAgICB2YXIgcHJldiA9IGRpY3Rpb25hcnlba2V5XTtcbiAgICAgICAgaWYoIGlzQXJyYXkocHJldikgKSB7XG4gICAgICAgICAgICBwcmV2LnB1c2godmFsdWUpO1xuICAgICAgICAgICAgcmV0ID0gcHJldjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldCA9IFtwcmV2LCB2YWx1ZV07XG4gICAgICAgICAgICBkaWN0aW9uYXJ5W2tleV0gPSByZXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRpY3Rpb25hcnlba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufTtcblxuUXVlcnlTdHJpbmdQYXJzZXIucHJvdG90eXBlLnB1c2ggPVxuZnVuY3Rpb24gUXVlcnlTdHJpbmdQYXJzZXIkcHVzaChkaWN0aW9uYXJ5LCBrZXksIHZhbHVlKSB7XG4gICAgdmFyIHJldCA9IG51bGw7XG4gICAgaWYgKGhhdmVQcm9wLmNhbGwoZGljdGlvbmFyeSwga2V5KSkge1xuICAgICAgICB2YXIgcHJldiA9IGRpY3Rpb25hcnlba2V5XTtcbiAgICAgICAgcHJldi5wdXNoKHZhbHVlKTtcbiAgICAgICAgcmV0ID0gcHJldjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldCA9IFt2YWx1ZV07XG4gICAgICAgIGRpY3Rpb25hcnlba2V5XSA9IHJldDtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn07XG5cblF1ZXJ5U3RyaW5nUGFyc2VyLnByb3RvdHlwZS5tYXliZVBsYWNlTmVzdGVkVmFsdWUgPVxuZnVuY3Rpb24gUXVlcnlTdHJpbmdQYXJzZXIkbWF5YmVQbGFjZU5lc3RlZFZhbHVlKGRpY3Rpb25hcnksIGtleSwgdmFsdWUpIHtcbiAgICB2YXIgbGVuID0ga2V5Lmxlbmd0aDtcbiAgICBpZiAoa2V5LmNoYXJDb2RlQXQobGVuIC0gMSkgIT09IDkzKSB7XG4gICAgICAgIHRoaXMucGxhY2VWYWx1ZShkaWN0aW9uYXJ5LCBrZXksIHZhbHVlLCBmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHN0YXJ0ID0gLTE7XG5cbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGN1cktleTtcbiAgICB2YXIgcHJldktleTtcblxuICAgIGZvciAoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgdmFyIGNoID0ga2V5LmNoYXJDb2RlQXQoaSk7XG5cbiAgICAgICAgaWYgKGNoID09PSA5MSkge1xuICAgICAgICAgICAgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgIHByZXZLZXkgPSBrZXkuc2xpY2UoMCwgaSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2ggPT09IDkzKSB7XG4gICAgICAgICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGFjZVZhbHVlKGRpY3Rpb25hcnksIGtleSwgdmFsdWUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJLZXkgPSBzdGFydCA9PT0gaSA/IFwiXCIgOiBrZXkuc2xpY2Uoc3RhcnQsIGkpO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY3VyS2V5ID09PSB2b2lkIDApIHtcbiAgICAgICAgdGhpcy5wbGFjZVZhbHVlKGRpY3Rpb25hcnksIGtleSwgdmFsdWUsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjdXJLZXkgPT09IFwiXCIgJiYgdmFsdWUgIT09IFwiXCIgJiYgaSA9PT0gbGVuKSB7XG4gICAgICAgIGlmIChrZXkgPT09IHRoaXMuY2FjaGVLZXkpIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGVWYWwucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlS2V5ID0ga2V5O1xuICAgICAgICAgICAgdGhpcy5jYWNoZVZhbCA9IHRoaXMucHVzaChkaWN0aW9uYXJ5LCBwcmV2S2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMucGxhY2VOZXN0ZWRWYWx1ZShkaWN0aW9uYXJ5LCBrZXksIHZhbHVlLCBpLCBwcmV2S2V5LCBjdXJLZXkpO1xuICAgIH1cbn07XG5cblF1ZXJ5U3RyaW5nUGFyc2VyLnByb3RvdHlwZS5wbGFjZVZhbHVlID1cbmZ1bmN0aW9uIFF1ZXJ5U3RyaW5nUGFyc2VyJHBsYWNlVmFsdWUoZGljdGlvbmFyeSwga2V5LCB2YWx1ZSwgcG9zc2libHlOZXN0ZWQpIHtcbiAgICBpZiAocG9zc2libHlOZXN0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5tYXliZVBsYWNlTmVzdGVkVmFsdWUoZGljdGlvbmFyeSwga2V5LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gdGhpcy5jYWNoZUtleSkge1xuICAgICAgICB0aGlzLmNhY2hlVmFsLnB1c2godmFsdWUpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBjYWNoZSA9IHRoaXMuaW5zZXJ0KGRpY3Rpb25hcnksIGtleSwgdmFsdWUpO1xuICAgIGlmIChjYWNoZSAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLmNhY2hlS2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmNhY2hlVmFsID0gY2FjaGU7XG4gICAgfVxufTtcblxuUXVlcnlTdHJpbmdQYXJzZXIucHJvdG90eXBlLmNvbXBhY3QgPVxuZnVuY3Rpb24gUXVlcnlTdHJpbmdQYXJzZXIkY29tcGFjdChvYmopIHtcbiAgICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgICAgIHZhciByZXQgPSBbXTtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgICBmb3IoIHZhciBpID0gMCwgbGVuID0ga2V5cy5sZW5ndGg7IGkgPCBsZW47ICsraSApIHtcbiAgICAgICAgICAgIHJldC5wdXNoKG9ialtrZXlzW2ldXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgIGZvciggdmFyIGkgPSAwLCBsZW4gPSBrZXlzLmxlbmd0aDsgaSA8IGxlbjsgKytpICkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICBvYmpba2V5XSA9IHRoaXMuY29tcGFjdChvYmpba2V5XSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxufTtcblxuUXVlcnlTdHJpbmdQYXJzZXIucHJvdG90eXBlLnBhcnNlT2JqZWN0ID1cbmZ1bmN0aW9uIFF1ZXJ5U3RyaW5nUGFyc2VyJHBhcnNlT2JqZWN0KG9iaikge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICB2YXIgbGVuID0ga2V5cy5sZW5ndGg7XG4gICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGxlbi0tO1xuICAgIHZhciByZXQgPSBcIlwiO1xuICAgIHZhciBrZXk7XG4gICAgZm9yKCB2YXIgaSA9IDA7IGkgPCBsZW47ICsraSApIHtcbiAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgcmV0ICs9IGtleSArIFwiPVwiICsgb2JqW2tleV0gKyBcIiZcIjtcbiAgICB9XG4gICAga2V5ID0ga2V5c1tpXTtcbiAgICByZXQgKz0ga2V5ICsgXCI9XCIgKyBvYmpba2V5XTtcbiAgICByZXR1cm4gdGhpcy5wYXJzZVN0cmluZyhyZXQsIHRydWUpO1xufTtcblxuUXVlcnlTdHJpbmdQYXJzZXIucHJvdG90eXBlLnBhcnNlU3RyaW5nID1cbmZ1bmN0aW9uIFF1ZXJ5U3RyaW5nUGFyc2VyJHBhcnNlU3RyaW5nKHN0ciwgbm9EZWNvZGUpIHtcbiAgICB2YXIgbWF4S2V5cyA9IFF1ZXJ5U3RyaW5nUGFyc2VyLm1heEtleXM7XG4gICAgdmFyIGtleXMgPSAwO1xuICAgIHZhciBkZWNvZGVLZXkgPSBmYWxzZTtcbiAgICB2YXIgZGVjb2RlVmFsdWUgPSBmYWxzZTtcbiAgICB2YXIgcG9zc2libHlOZXN0ZWQgPSBmYWxzZTtcbiAgICB2YXIgbGVuID0gc3RyLmxlbmd0aDtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGRpY3Rpb25hcnkgPSB7fTtcbiAgICB2YXIga2V5U3RhcnQgPSAwO1xuICAgIHZhciBrZXlFbmQgPSAwO1xuICAgIHZhciB2YWx1ZVN0YXJ0ID0gMDtcbiAgICB2YXIgdmFsdWVFbmQgPSAwO1xuICAgIHZhciBsZWZ0ID0gMDtcbiAgICB2YXIgbGFzdEluZGV4ID0gbGVuIC0gMTtcbiAgICB2YXIgY29udGFpbnNQbHVzID0gZmFsc2U7XG5cblxuICAgIGZvciAoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgdmFyIGNoID0gc3RyLmNoYXJDb2RlQXQoaSk7XG5cbiAgICAgICAgaWYgKGNoID09PSA5MSkge1xuICAgICAgICAgICAgbGVmdCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxlZnQgPiAwICYmIGNoID09PSA5Mykge1xuICAgICAgICAgICAgcG9zc2libHlOZXN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgbGVmdC0tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxlZnQgPT09IDAgJiYgY2ggPT09IDYxKSB7XG4gICAgICAgICAgICB2YXIgaiA9IGkgKyAxO1xuXG4gICAgICAgICAgICBrZXlFbmQgPSBpIC0gMTtcbiAgICAgICAgICAgIHZhbHVlRW5kID0gdmFsdWVTdGFydCA9IGo7XG4gICAgICAgICAgICB2YXIga2V5ID0gc3RyLnNsaWNlKGtleVN0YXJ0LCBrZXlFbmQgKyAxKTtcbiAgICAgICAgICAgIGtleSA9IHRoaXMuZGVjb2RlKGtleSwgZGVjb2RlS2V5LCBjb250YWluc1BsdXMpO1xuICAgICAgICAgICAgZGVjb2RlS2V5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGZvciAoOyBqIDwgbGVuOyArK2opIHtcbiAgICAgICAgICAgICAgICBjaCA9IHN0ci5jaGFyQ29kZUF0KGopO1xuICAgICAgICAgICAgICAgIGlmICgoY2ggPT09IDQzIHx8IGNoID09PSAzNykgJiYgIW5vRGVjb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gNDMpIGNvbnRhaW5zUGx1cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGRlY29kZVZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNoID09PSAzOCB8fCBqID09PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVFbmQgPSBqO1xuICAgICAgICAgICAgICAgICAgICBpID0gajtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPT09IDM4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZUVuZC0tO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gc3RyLnNsaWNlKHZhbHVlU3RhcnQsIHZhbHVlRW5kICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5kZWNvZGUodmFsdWUsIGRlY29kZVZhbHVlLCBjb250YWluc1BsdXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxhY2VWYWx1ZShkaWN0aW9uYXJ5LCBrZXksIHZhbHVlLCBwb3NzaWJseU5lc3RlZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29udGFpbnNQbHVzID0gZGVjb2RlVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcG9zc2libHlOZXN0ZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBrZXlTdGFydCA9IGogKyAxO1xuICAgICAgICAgICAgICAgICAgICBrZXlzKys7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXlzID4gbWF4S2V5cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBbW91bnQgb2Yga2V5cyBpcyB0b28gbGFyZ2UgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiKFF1ZXJ5U3RyaW5nUGFyc2VyLm1heEtleXM9XCIgKyBtYXhLZXlzICsgXCIpXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoY2ggPT09IDQzIHx8IGNoID09PSAzNykgJiYgIW5vRGVjb2RlKSB7XG4gICAgICAgICAgICBpZiAoY2ggPT09IDQzKSBjb250YWluc1BsdXMgPSB0cnVlO1xuICAgICAgICAgICAgZGVjb2RlS2V5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoa2V5U3RhcnQgIT09IGxlbikge1xuICAgICAgICB2YXIgdmFsdWUgPSBcIlwiO1xuICAgICAgICB2YXIga2V5ID0gc3RyLnNsaWNlKGtleVN0YXJ0LCBsZW4pO1xuICAgICAgICBrZXkgPSB0aGlzLmRlY29kZShrZXksIGRlY29kZUtleSwgY29udGFpbnNQbHVzKTtcbiAgICAgICAgdGhpcy5wbGFjZVZhbHVlKGRpY3Rpb25hcnksIGtleSwgdmFsdWUsIHBvc3NpYmx5TmVzdGVkKTtcbiAgICB9XG5cblxuICAgIGlmICh0aGlzLmNvbnRhaW5zU3BhcnNlKSB7XG4gICAgICAgIHRoaXMuY29tcGFjdChkaWN0aW9uYXJ5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGljdGlvbmFyeTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZ3BhcnNlci9qcy9xdWVyeXN0cmluZ3BhcnNlci5qc1xuLy8gbW9kdWxlIGlkID0gMjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMgUGV0a2EgQW50b25vdlxuICogXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6PC9wPlxuICogXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKiBcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IFF1ZXJ5U3RyaW5nU2VyaWFsaXplcjtcbnZhciBlbmMgPSBlbmNvZGVVUklDb21wb25lbnQ7XG52YXIgQVJSQVkgPSBbXTtcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbnZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbnZhciBvUHJvdG8gPSBnZXRQcm90byh7fSk7XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICAgIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBwcm90byA9IGdldFByb3RvKG9iaik7XG5cbiAgICByZXR1cm4gcHJvdG8gPT09IG9Qcm90byB8fCBwcm90byA9PT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gUXVlcnlTdHJpbmdTZXJpYWxpemVyKCkge1xuXG59XG5cblF1ZXJ5U3RyaW5nU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplID1cbmZ1bmN0aW9uIFF1ZXJ5U3RyaW5nU2VyaWFsaXplciRzZXJpYWxpemUob2JqKSB7XG4gICAgaWYgKG9iaiA9PT0gbnVsbCB8fFxuICAgICAgICB0eXBlb2Ygb2JqICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJ0aGUgb2JqIHRvIHN0cmluZ2lmeSBtdXN0IGJlIGFuIG9iamVjdFwiKTtcbiAgICB9XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIHZhciBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgYXJyYXkgPSBBUlJBWTtcbiAgICB2YXIgc3RhY2sgPSBbXTtcbiAgICB2YXIgcmV0ID0gW107XG4gICAgdmFyIGN1ciA9IG9iajtcbiAgICB2YXIga2V5UHJlZml4ID0gXCJcIjtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMgPT09IGFycmF5ID8gaSA6IGtleXNbaV07XG4gICAgICAgIHZhciB2YWx1ZSA9IGN1cltrZXldO1xuICAgICAgICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKGtleVByZWZpeCwgY3VyLCBrZXlzLCBsZW4sIGkpO1xuXG4gICAgICAgICAgICBpZiAoa2V5UHJlZml4ID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAga2V5UHJlZml4ID0ga2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAga2V5UHJlZml4ID0ga2V5UHJlZml4ICsgXCJbXCIgKyBlbmMoa2V5KSArIFwiXVwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBrZXlzID0gYXJyYXk7XG4gICAgICAgICAgICAgICAgbGVuID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkgPSAtMTtcbiAgICAgICAgICAgIGN1ciA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gXCJcIiArIHZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgc2VyaWFsaXplZEtleSA9IGtleVByZWZpeCA9PT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGVuYyhrZXkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDoga2V5UHJlZml4ICsgXCJbXCIgKyBlbmMoa2V5KSArIFwiXVwiO1xuICAgICAgICAgICAgcmV0LnB1c2goc2VyaWFsaXplZEtleSArIFwiPVwiICsgZW5jKHZhbHVlKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZihpID09PSBsZW4gLSAxICYmIHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGkgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGxlbiA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAga2V5cyA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgY3VyID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBrZXlQcmVmaXggPSBzdGFjay5wb3AoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXQuam9pbihcIiZcIik7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmdwYXJzZXIvanMvcXVlcnlzdHJpbmdzZXJpYWxpemVyLmpzXG4vLyBtb2R1bGUgaWQgPSAyN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBOb2lzZTNEVGV4dHVyZS5qc1xuXG5pbXBvcnQgYWxmcmlkLCB7IEdMLCBHTFNoYWRlciwgR2VvbSB9IGZyb20gJ2FsZnJpZCc7XG5pbXBvcnQgZnMgZnJvbSAnLi4vc2hhZGVycy9ub2lzZS5mcmFnJztcblxuY2xhc3MgTm9pc2UzRFRleHR1cmUge1xuXHRjb25zdHJ1Y3RvcihtTnVtID0gOC4wLCBtTm9pc2VTY2FsZSA9IDEuMCkge1xuXHRcdHRoaXMuX251bSA9IG1OdW07XG5cdFx0dGhpcy5ub2lzZVNjYWxlID0gbU5vaXNlU2NhbGU7XG5cdFx0dGhpcy5fc2VlZCA9IE1hdGgucmFuZG9tKCkgKiAweEZGO1xuXG5cdFx0dGhpcy5faW5pdCgpO1xuXHR9XG5cblxuXHRfaW5pdCgpIHtcblx0XHR0aGlzLm1lc2ggPSBHZW9tLmJpZ1RyaWFuZ2xlKCk7XG5cdFx0dGhpcy5zaGFkZXIgPSBuZXcgR0xTaGFkZXIoYWxmcmlkLlNoYWRlckxpYnMuYmlnVHJpYW5nbGVWZXJ0LCBmcyk7XG5cblxuXHRcdHRoaXMuX25vaXNlU2l6ZSA9IHRoaXMuX251bSAqIHRoaXMuX251bTtcblx0XHRjb25zdCBmYm9TaXplID0gTWF0aC5wb3codGhpcy5fbnVtLCAzKTtcblxuXHRcdHRoaXMuX2Zib05vaXNlID0gbmV3IGFsZnJpZC5GcmFtZUJ1ZmZlcihmYm9TaXplLCBmYm9TaXplLCB7XG5cdFx0XHRtaW5GaWx0ZXI6R0wuTElORUFSLFxuXHRcdFx0bWFnRmlsdGVyOkdMLkxJTkVBUixcblx0XHRcdHdyYXBTOkdMLk1JUlJPUkVEX1JFUEVBVCxcblx0XHRcdHdyYXBUOkdMLk1JUlJPUkVEX1JFUEVBVCxcblx0XHR9KTtcblxuXHR9XG5cblxuXHRyZW5kZXIoKSB7XG5cdFx0dGhpcy5fc2VlZCArPSAwLjAwMztcblx0XHR0aGlzLl9mYm9Ob2lzZS5iaW5kKCk7XG5cdFx0R0wuY2xlYXIoMCwgMCwgMCwgMCk7XG5cdFx0Y29uc3Qgc2l6ZSA9IHRoaXMuX25vaXNlU2l6ZTtcblx0XHRsZXQgaW5kZXg7XG5cdFx0Zm9yKGxldCBpPTA7IGk8dGhpcy5fbnVtOyBpKyspIHtcblx0XHRcdGZvcihsZXQgaj0wOyBqPHRoaXMuX251bTsgaisrKSB7XG5cdFx0XHRcdEdMLnZpZXdwb3J0KGkgKiBzaXplLCBqICogc2l6ZSwgc2l6ZSwgc2l6ZSk7XG5cdFx0XHRcdGluZGV4ID0gKGkgKyBqICogdGhpcy5fbnVtKSAvIHRoaXMuX25vaXNlU2l6ZTtcblxuXHRcdFx0XHR0aGlzLnNoYWRlci5iaW5kKCk7XG5cdFx0XHRcdHRoaXMuc2hhZGVyLnVuaWZvcm0oXCJ1Tm9pc2VTY2FsZVwiLCBcImZsb2F0XCIsIHRoaXMubm9pc2VTY2FsZSk7XG5cdFx0XHRcdHRoaXMuc2hhZGVyLnVuaWZvcm0oXCJ1WlwiLCBcImZsb2F0XCIsIGluZGV4KTtcblx0XHRcdFx0dGhpcy5zaGFkZXIudW5pZm9ybShcInVTZWVkXCIsIFwiZmxvYXRcIiwgdGhpcy5fc2VlZCk7XG5cdFx0XHRcdEdMLmRyYXcodGhpcy5tZXNoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLl9mYm9Ob2lzZS51bmJpbmQoKTtcblx0fVxuXG5cblx0Z2V0VGV4dHVyZSgpIHtcdHJldHVybiB0aGlzLl9mYm9Ob2lzZS5nZXRUZXh0dXJlKCk7XHR9XG5cblx0Z2V0IG51bSgpIHtcdHJldHVybiB0aGlzLl9udW07XHR9XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgTm9pc2UzRFRleHR1cmU7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL05vaXNlM0RUZXh0dXJlLmpzIiwibW9kdWxlLmV4cG9ydHMgPSBcIi8vIG5vaXNlLmZyYWdcXG5cXG4jZGVmaW5lIFNIQURFUl9OQU1FIFNJTVBMRV9URVhUVVJFXFxuXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSBmbG9hdCB1WjtcXG51bmlmb3JtIGZsb2F0IHVTZWVkO1xcbnVuaWZvcm0gZmxvYXQgdU5vaXNlU2NhbGU7XFxuXFxuXFxudmVjMyBtb2QyODkodmVjMyB4KSB7XFx0cmV0dXJuIHggLSBmbG9vcih4ICogKDEuMCAvIDI4OS4wKSkgKiAyODkuMDtcXHR9XFxuXFxudmVjNCBtb2QyODkodmVjNCB4KSB7XFx0cmV0dXJuIHggLSBmbG9vcih4ICogKDEuMCAvIDI4OS4wKSkgKiAyODkuMDtcXHR9XFxuXFxudmVjNCBwZXJtdXRlKHZlYzQgeCkge1xcdHJldHVybiBtb2QyODkoKCh4KjM0LjApKzEuMCkqeCk7XFx0fVxcblxcbnZlYzQgdGF5bG9ySW52U3FydCh2ZWM0IHIpIHtcXHRyZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByO31cXG5cXG5mbG9hdCBzbm9pc2UodmVjMyB2KSB7IFxcblxcdGNvbnN0IHZlYzIgIEMgPSB2ZWMyKDEuMC82LjAsIDEuMC8zLjApIDtcXG5cXHRjb25zdCB2ZWM0ICBEID0gdmVjNCgwLjAsIDAuNSwgMS4wLCAyLjApO1xcblxcblxcdHZlYzMgaSAgPSBmbG9vcih2ICsgZG90KHYsIEMueXl5KSApO1xcblxcdHZlYzMgeDAgPSAgIHYgLSBpICsgZG90KGksIEMueHh4KSA7XFxuXFxuXFx0dmVjMyBnID0gc3RlcCh4MC55engsIHgwLnh5eik7XFxuXFx0dmVjMyBsID0gMS4wIC0gZztcXG5cXHR2ZWMzIGkxID0gbWluKCBnLnh5eiwgbC56eHkgKTtcXG5cXHR2ZWMzIGkyID0gbWF4KCBnLnh5eiwgbC56eHkgKTtcXG5cXG5cXHR2ZWMzIHgxID0geDAgLSBpMSArIEMueHh4O1xcblxcdHZlYzMgeDIgPSB4MCAtIGkyICsgQy55eXk7IC8vIDIuMCpDLnggPSAxLzMgPSBDLnlcXG5cXHR2ZWMzIHgzID0geDAgLSBELnl5eTsgICAgICAvLyAtMS4wKzMuMCpDLnggPSAtMC41ID0gLUQueVxcblxcblxcdGkgPSBtb2QyODkoaSk7IFxcblxcdHZlYzQgcCA9IHBlcm11dGUoIHBlcm11dGUoIHBlcm11dGUoIFxcblxcdFxcdFxcdFxcdFxcdFxcdCBpLnogKyB2ZWM0KDAuMCwgaTEueiwgaTIueiwgMS4wICkpXFxuXFx0XFx0XFx0XFx0XFx0ICsgaS55ICsgdmVjNCgwLjAsIGkxLnksIGkyLnksIDEuMCApKSBcXG5cXHRcXHRcXHRcXHRcXHQgKyBpLnggKyB2ZWM0KDAuMCwgaTEueCwgaTIueCwgMS4wICkpO1xcblxcblxcdGZsb2F0IG5fID0gMC4xNDI4NTcxNDI4NTc7IC8vIDEuMC83LjBcXG5cXHR2ZWMzICBucyA9IG5fICogRC53eXogLSBELnh6eDtcXG5cXG5cXHR2ZWM0IGogPSBwIC0gNDkuMCAqIGZsb29yKHAgKiBucy56ICogbnMueik7ICAvLyAgbW9kKHAsNyo3KVxcblxcblxcdHZlYzQgeF8gPSBmbG9vcihqICogbnMueik7XFxuXFx0dmVjNCB5XyA9IGZsb29yKGogLSA3LjAgKiB4XyApOyAgICAvLyBtb2QoaixOKVxcblxcblxcdHZlYzQgeCA9IHhfICpucy54ICsgbnMueXl5eTtcXG5cXHR2ZWM0IHkgPSB5XyAqbnMueCArIG5zLnl5eXk7XFxuXFx0dmVjNCBoID0gMS4wIC0gYWJzKHgpIC0gYWJzKHkpO1xcblxcblxcdHZlYzQgYjAgPSB2ZWM0KCB4Lnh5LCB5Lnh5ICk7XFxuXFx0dmVjNCBiMSA9IHZlYzQoIHguencsIHkuencgKTtcXG5cXG5cXHR2ZWM0IHMwID0gZmxvb3IoYjApKjIuMCArIDEuMDtcXG5cXHR2ZWM0IHMxID0gZmxvb3IoYjEpKjIuMCArIDEuMDtcXG5cXHR2ZWM0IHNoID0gLXN0ZXAoaCwgdmVjNCgwLjApKTtcXG5cXG5cXHR2ZWM0IGEwID0gYjAueHp5dyArIHMwLnh6eXcqc2gueHh5eSA7XFxuXFx0dmVjNCBhMSA9IGIxLnh6eXcgKyBzMS54enl3KnNoLnp6d3cgO1xcblxcblxcdHZlYzMgcDAgPSB2ZWMzKGEwLnh5LGgueCk7XFxuXFx0dmVjMyBwMSA9IHZlYzMoYTAuencsaC55KTtcXG5cXHR2ZWMzIHAyID0gdmVjMyhhMS54eSxoLnopO1xcblxcdHZlYzMgcDMgPSB2ZWMzKGExLnp3LGgudyk7XFxuXFxuXFx0dmVjNCBub3JtID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChwMCxwMCksIGRvdChwMSxwMSksIGRvdChwMiwgcDIpLCBkb3QocDMscDMpKSk7XFxuXFx0cDAgKj0gbm9ybS54O1xcblxcdHAxICo9IG5vcm0ueTtcXG5cXHRwMiAqPSBub3JtLno7XFxuXFx0cDMgKj0gbm9ybS53O1xcblxcblxcdHZlYzQgbSA9IG1heCgwLjYgLSB2ZWM0KGRvdCh4MCx4MCksIGRvdCh4MSx4MSksIGRvdCh4Mix4MiksIGRvdCh4Myx4MykpLCAwLjApO1xcblxcdG0gPSBtICogbTtcXG5cXHRyZXR1cm4gNDIuMCAqIGRvdCggbSptLCB2ZWM0KCBkb3QocDAseDApLCBkb3QocDEseDEpLCBcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRkb3QocDIseDIpLCBkb3QocDMseDMpICkgKTtcXG59XFxuXFxudmVjMyBzbm9pc2VWZWMzKCB2ZWMzIHggKXtcXG5cXG5cXHRmbG9hdCBzICA9IHNub2lzZSh2ZWMzKCB4ICkpO1xcblxcdGZsb2F0IHMxID0gc25vaXNlKHZlYzMoIHgueSAtIDE5LjEgLCB4LnogKyAzMy40ICwgeC54ICsgNDcuMiApKTtcXG5cXHRmbG9hdCBzMiA9IHNub2lzZSh2ZWMzKCB4LnogKyA3NC4yICwgeC54IC0gMTI0LjUgLCB4LnkgKyA5OS40ICkpO1xcblxcdHZlYzMgYyA9IHZlYzMoIHMgLCBzMSAsIHMyICk7XFxuXFx0cmV0dXJuIGM7XFxufVxcblxcbnZlYzMgY3VybE5vaXNlKCB2ZWMzIHAgKXtcXG5cXHRcXG5cXHRjb25zdCBmbG9hdCBlID0gLjE7XFxuXFx0dmVjMyBkeCA9IHZlYzMoIGUgICAsIDAuMCAsIDAuMCApO1xcblxcdHZlYzMgZHkgPSB2ZWMzKCAwLjAgLCBlICAgLCAwLjAgKTtcXG5cXHR2ZWMzIGR6ID0gdmVjMyggMC4wICwgMC4wICwgZSAgICk7XFxuXFxuXFx0dmVjMyBwX3gwID0gc25vaXNlVmVjMyggcCAtIGR4ICk7XFxuXFx0dmVjMyBwX3gxID0gc25vaXNlVmVjMyggcCArIGR4ICk7XFxuXFx0dmVjMyBwX3kwID0gc25vaXNlVmVjMyggcCAtIGR5ICk7XFxuXFx0dmVjMyBwX3kxID0gc25vaXNlVmVjMyggcCArIGR5ICk7XFxuXFx0dmVjMyBwX3owID0gc25vaXNlVmVjMyggcCAtIGR6ICk7XFxuXFx0dmVjMyBwX3oxID0gc25vaXNlVmVjMyggcCArIGR6ICk7XFxuXFxuXFx0ZmxvYXQgeCA9IHBfeTEueiAtIHBfeTAueiAtIHBfejEueSArIHBfejAueTtcXG5cXHRmbG9hdCB5ID0gcF96MS54IC0gcF96MC54IC0gcF94MS56ICsgcF94MC56O1xcblxcdGZsb2F0IHogPSBwX3gxLnkgLSBwX3gwLnkgLSBwX3kxLnggKyBwX3kwLng7XFxuXFxuXFx0Y29uc3QgZmxvYXQgZGl2aXNvciA9IDEuMCAvICggMi4wICogZSApO1xcblxcdHJldHVybiBub3JtYWxpemUoIHZlYzMoIHggLCB5ICwgeiApICogZGl2aXNvciApO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZCkge1xcblxcblxcdHZlYzMgb2Zmc2V0ID0gY3VybE5vaXNlKHZlYzModlRleHR1cmVDb29yZCwgdVNlZWQpKSAqIC41ICsgLjU7XFxuXFx0b2Zmc2V0ID0gbWl4KG9mZnNldCwgdmVjMygxLjApLCAuNSk7XFxuXFx0b2Zmc2V0ICs9IDAuNTtcXG5cXHR2ZWMzIG5vaXNlID0gY3VybE5vaXNlKHZlYzModlRleHR1cmVDb29yZCwgdVogKSAqIHVOb2lzZVNjYWxlICogb2Zmc2V0KTtcXG5cXG5cXHRub2lzZSA9IG5vaXNlICogLjUgKyAuNTtcXG5cXG5cXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KG5vaXNlLCAxLjApO1xcbn1cIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3NoYWRlcnMvbm9pc2UuZnJhZ1xuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gaW5kZXguanNcblxuZXhwb3J0IHsgZ2VuZXJhdGVUcmVlcyB9IGZyb20gJy4vZ2VuZXJhdGVUcmVlcyc7XG5leHBvcnQgeyBnZW5lcmF0ZUhlaWdodE1hcCB9IGZyb20gJy4vZ2VuZXJhdGVIZWlnaHRNYXAnO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL3V0aWxzL2luZGV4LmpzIiwiLy8gZ2VuZXJhdGVUcmVlcy5qc1xuXG5pbXBvcnQgQ29uZmlnIGZyb20gJy4uL0NvbmZpZyc7XG5cblxudmFyIHJhbmRvbSA9IGZ1bmN0aW9uKG1pbiwgbWF4KSB7IHJldHVybiBtaW4gKyBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbik7XHR9XG5cbmNvbnN0IGdlbmVyYXRlVHJlZXMgPSAoKSA9PiB7XG5cdGNvbnN0IHBvc2l0aW9ucyA9IFtdO1xuXHRjb25zdCByID0gQ29uZmlnLmZsb29yUmFkaXVzIDtcblx0bGV0IGkgPSBDb25maWcubnVtVHJlZXM7XG5cblx0d2hpbGUoaS0tKSB7XG5cdFx0bGV0IHJyID0gTWF0aC5zcXJ0KE1hdGgucmFuZG9tKCkpICogcjtcblx0XHRsZXQgYSA9IE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJICogMi4wO1xuXG5cdFx0cG9zaXRpb25zLnB1c2goW01hdGguY29zKGEpICogcnIsIDAsIE1hdGguc2luKGEpICogcnJdKTtcdFxuXHR9XG5cblx0cmV0dXJuIHBvc2l0aW9ucztcblxufVxuXG5leHBvcnQgeyBnZW5lcmF0ZVRyZWVzIH07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL3V0aWxzL2dlbmVyYXRlVHJlZXMuanMiLCIvLyBnZW5lcmF0ZUhlaWdodE1hcC5qc1xuXG5pbXBvcnQgYWxmcmlkIGZyb20gJ2FsZnJpZCc7XG5pbXBvcnQgQ29uZmlnIGZyb20gJy4uL0NvbmZpZyc7XG5pbXBvcnQgRmJvUGluZ1BvbmcgZnJvbSAnLi9GYm9QaW5nUG9uZyc7XG5pbXBvcnQgQXNzZXRzIGZyb20gJy4uL0Fzc2V0cyc7XG5cbmltcG9ydCBmcyBmcm9tICdzaGFkZXJzL3RyZWVIZWlnaHQuZnJhZyc7XG5pbXBvcnQgZnNIaWxsIGZyb20gJ3NoYWRlcnMvaGlsbC5mcmFnJztcblxudmFyIHJhbmRvbSA9IGZ1bmN0aW9uKG1pbiwgbWF4KSB7IHJldHVybiBtaW4gKyBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbik7XHR9XG5sZXQgZmJvLCBzaGFkZXIsIHNoYWRlckhpbGwsIG1lc2g7XG5cblxuY29uc3QgZ2VuZXJhdGVIZWlnaHRNYXAgPSAodHJlZXMpID0+IHtcblx0bGV0IHNpemUgPSAxMDI0O1xuXHRpZighZmJvKSB7XG5cdFx0ZmJvICAgICAgICA9IG5ldyBGYm9QaW5nUG9uZyhzaXplLCBzaXplLCB7bWluRmlsdGVyOkdMLkxJTkVBUl9NSVBNQVBfTkVBUkVTVH0pO1x0XG5cdFx0c2hhZGVyICAgICA9IG5ldyBhbGZyaWQuR0xTaGFkZXIoYWxmcmlkLlNoYWRlckxpYnMuYmlnVHJpYW5nbGVWZXJ0LCBmcyk7XG5cdFx0c2hhZGVySGlsbCA9IG5ldyBhbGZyaWQuR0xTaGFkZXIoYWxmcmlkLlNoYWRlckxpYnMuYmlnVHJpYW5nbGVWZXJ0LCBmc0hpbGwpO1xuXHRcdG1lc2ggICAgICAgPSBhbGZyaWQuR2VvbS5iaWdUcmlhbmdsZSgpO1xuXHR9XG5cdFxuXHQgXG5cdGNvbnN0IGZsb29yU2l6ZSA9IENvbmZpZy5mbG9vclJhZGl1cztcblxuXHRmYm8ucmVhZC5iaW5kKCk7XG5cdEdMLmNsZWFyKDAsIDAsIDAsIDEpO1xuXHRmYm8ucmVhZC51bmJpbmQoKTtcblxuXHQvL1x0Z2VuZXJhdGUgaGVpZ2h0XG5cdGZiby53cml0ZS5iaW5kKCk7XG5cdEdMLmNsZWFyKDAsIDAsIDAsIDEpO1xuXHRzaGFkZXJIaWxsLmJpbmQoKTtcblx0c2hhZGVySGlsbC51bmlmb3JtKFwidVNlZWRcIiwgXCJmbG9hdFwiLCBNYXRoLnJhbmRvbSgpICogMHhGRik7XG5cdHNoYWRlckhpbGwudW5pZm9ybShcInVOb2lzZVNjYWxlXCIsIFwiZmxvYXRcIiwgcmFuZG9tKDIsIDUpKTtcblx0R0wuZHJhdyhtZXNoKTtcblx0ZmJvLndyaXRlLnVuYmluZCgpO1xuXG5cdGZiby5zd2FwKCk7XG5cdFxuXG5cblx0bGV0IGkgPSB0cmVlcy5sZW5ndGg7XG5cdHdoaWxlKGkgLS0pIHtcblx0XHRsZXQgcG9zID0gdHJlZXNbaV07XG5cdFx0bGV0IHUgPSBwb3NbMF0gLyBmbG9vclNpemUgKiAuNSArIC41O1xuXHRcdGxldCB2ID0gMS4wIC0gKHBvc1syXSAvIGZsb29yU2l6ZSAqIC41ICsgLjUpO1xuXG5cblx0XHRmYm8ud3JpdGUuYmluZCgpO1xuXHRcdEdMLmNsZWFyKDAsIDAsIDAsIDApO1xuXHRcdHNoYWRlci5iaW5kKCk7XG5cdFx0c2hhZGVyLnVuaWZvcm0oXCJ0ZXh0dXJlXCIsIFwidW5pZm9ybTFpXCIsIDApO1xuXHRcdGZiby5yZWFkVGV4dHVyZS5iaW5kKDApO1xuXHRcdHNoYWRlci51bmlmb3JtKFwidVBvc1wiLCBcInZlYzJcIiwgW3UsIHZdKTtcblx0XHRzaGFkZXIudW5pZm9ybShcInVIZWlnaHRcIiwgXCJmbG9hdFwiLCBNYXRoLnJhbmRvbSgpKTtcblx0XHRzaGFkZXIudW5pZm9ybShcInVSYW5nZVwiLCBcImZsb2F0XCIsIHJhbmRvbSgwLjA1LCAwLjEpKTtcblx0XHRzaGFkZXIudW5pZm9ybShcInVQb3dlclwiLCBcImZsb2F0XCIsIHJhbmRvbSgyLCAzKSk7XG5cdFx0c2hhZGVyLnVuaWZvcm0oXCJ1QnVtcEhlaWdodFwiLCBcImZsb2F0XCIsIENvbmZpZy50cmVlQnVtcEhlaWdodCk7XG5cdFx0R0wuZHJhdyhtZXNoKTtcblx0XHRmYm8ud3JpdGUudW5iaW5kKCk7XG5cblx0XHRmYm8uc3dhcCgpO1xuXHR9XG5cblx0cmV0dXJuIGZiby5yZWFkVGV4dHVyZTtcbn1cblxuXG5leHBvcnQgeyBnZW5lcmF0ZUhlaWdodE1hcCB9O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy91dGlscy9nZW5lcmF0ZUhlaWdodE1hcC5qcyIsIi8vIEZib1BpbmdQb25nLmpzXG5pbXBvcnQgYWxmcmlkIGZyb20gJ2FsZnJpZCc7XG5cbmNsYXNzIEZib1BpbmdQb25nIHtcblx0Y29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCwgc2V0dGluZ3MpIHtcblx0XHRjb25zdCBhID0gbmV3IGFsZnJpZC5GcmFtZUJ1ZmZlcih3aWR0aCwgaGVpZ2h0LCBzZXR0aW5ncyk7XG5cdFx0Y29uc3QgYiA9IG5ldyBhbGZyaWQuRnJhbWVCdWZmZXIod2lkdGgsIGhlaWdodCwgc2V0dGluZ3MpO1xuXHRcdHRoaXMuX2Zib3MgPSBbYSwgYl07XG5cdH1cblxuXG5cdHN3YXAoKSB7XG5cdFx0dGhpcy5fZmJvcy5yZXZlcnNlKCk7XG5cdH1cblxuXG5cdGdldCByZWFkKCkge1xuXHRcdHJldHVybiB0aGlzLl9mYm9zWzBdO1xuXHR9XG5cblx0Z2V0IHdyaXRlKCkge1xuXHRcdHJldHVybiB0aGlzLl9mYm9zWzFdO1xuXHR9XG5cblxuXHRnZXQgcmVhZFRleHR1cmUoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2Zib3NbMF0uZ2V0VGV4dHVyZSgpO1xuXHR9XG5cblxuXHRnZXQgd3JpdGVUZXh0dXJlKCkge1xuXHRcdHJldHVybiB0aGlzLl9mYm9zWzFdLmdldFRleHR1cmUoKTtcblx0fVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IEZib1BpbmdQb25nO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy91dGlscy9GYm9QaW5nUG9uZy5qcyIsIm1vZHVsZS5leHBvcnRzID0gXCIvLyBjb3B5LmZyYWdcXG5cXG4jZGVmaW5lIFNIQURFUl9OQU1FIFNJTVBMRV9URVhUVVJFXFxuXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTtcXG51bmlmb3JtIGZsb2F0IHVIZWlnaHQ7XFxudW5pZm9ybSBmbG9hdCB1UmFuZ2U7XFxudW5pZm9ybSBmbG9hdCB1UG93ZXI7XFxudW5pZm9ybSBmbG9hdCB1QnVtcEhlaWdodDtcXG51bmlmb3JtIHZlYzIgdVBvcztcXG5cXG52b2lkIG1haW4odm9pZCkge1xcblxcdGZsb2F0IGQgPSBkaXN0YW5jZSh1UG9zLCB2VGV4dHVyZUNvb3JkKTtcXG5cXHRkID0gc21vb3Roc3RlcCh1UmFuZ2UsIDAuMCwgZCk7XFxuXFx0ZCA9IHBvdyhkLCB1UG93ZXIpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodGV4dHVyZSwgdlRleHR1cmVDb29yZCk7XFxuICAgIGdsX0ZyYWdDb2xvci5yZ2IgKz0gdmVjMyhkICogbWl4KHVIZWlnaHQsIDEuMCwgMC41KSAqIHVCdW1wSGVpZ2h0KTtcXG59XCJcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9zaGFkZXJzL3RyZWVIZWlnaHQuZnJhZ1xuLy8gbW9kdWxlIGlkID0gMzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBcIi8vIGNvcHkuZnJhZ1xcblxcbiNkZWZpbmUgU0hBREVSX05BTUUgU0lNUExFX1RFWFRVUkVcXG5cXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlO1xcbnVuaWZvcm0gZmxvYXQgdVNlZWQ7XFxudW5pZm9ybSBmbG9hdCB1Tm9pc2VTY2FsZTtcXG5cXG52ZWM0IHBlcm11dGUodmVjNCB4KSB7ICByZXR1cm4gbW9kKCgoeCozNC4wKSsxLjApKngsIDI4OS4wKTsgICAgfVxcbnZlYzQgdGF5bG9ySW52U3FydCh2ZWM0IHIpIHsgICAgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfVxcblxcbmZsb2F0IHNub2lzZSh2ZWMzIHYpe1xcbiAgICBjb25zdCB2ZWMyICBDID0gdmVjMigxLjAvNi4wLCAxLjAvMy4wKSA7XFxuICAgIGNvbnN0IHZlYzQgIEQgPSB2ZWM0KDAuMCwgMC41LCAxLjAsIDIuMCk7XFxuICAgIFxcbiAgICB2ZWMzIGkgID0gZmxvb3IodiArIGRvdCh2LCBDLnl5eSkgKTtcXG4gICAgdmVjMyB4MCA9IHYgLSBpICsgZG90KGksIEMueHh4KSA7XFxuICAgIFxcbiAgICB2ZWMzIGcgPSBzdGVwKHgwLnl6eCwgeDAueHl6KTtcXG4gICAgdmVjMyBsID0gMS4wIC0gZztcXG4gICAgdmVjMyBpMSA9IG1pbiggZy54eXosIGwuenh5ICk7XFxuICAgIHZlYzMgaTIgPSBtYXgoIGcueHl6LCBsLnp4eSApO1xcbiAgICBcXG4gICAgdmVjMyB4MSA9IHgwIC0gaTEgKyAxLjAgKiBDLnh4eDtcXG4gICAgdmVjMyB4MiA9IHgwIC0gaTIgKyAyLjAgKiBDLnh4eDtcXG4gICAgdmVjMyB4MyA9IHgwIC0gMS4gKyAzLjAgKiBDLnh4eDtcXG4gICAgXFxuICAgIGkgPSBtb2QoaSwgMjg5LjAgKTtcXG4gICAgdmVjNCBwID0gcGVybXV0ZSggcGVybXV0ZSggcGVybXV0ZSggaS56ICsgdmVjNCgwLjAsIGkxLnosIGkyLnosIDEuMCApKSArIGkueSArIHZlYzQoMC4wLCBpMS55LCBpMi55LCAxLjAgKSkgKyBpLnggKyB2ZWM0KDAuMCwgaTEueCwgaTIueCwgMS4wICkpO1xcbiAgICBcXG4gICAgZmxvYXQgbl8gPSAxLjAvNy4wO1xcbiAgICB2ZWMzICBucyA9IG5fICogRC53eXogLSBELnh6eDtcXG4gICAgXFxuICAgIHZlYzQgaiA9IHAgLSA0OS4wICogZmxvb3IocCAqIG5zLnogKm5zLnopO1xcbiAgICBcXG4gICAgdmVjNCB4XyA9IGZsb29yKGogKiBucy56KTtcXG4gICAgdmVjNCB5XyA9IGZsb29yKGogLSA3LjAgKiB4XyApO1xcbiAgICBcXG4gICAgdmVjNCB4ID0geF8gKm5zLnggKyBucy55eXl5O1xcbiAgICB2ZWM0IHkgPSB5XyAqbnMueCArIG5zLnl5eXk7XFxuICAgIHZlYzQgaCA9IDEuMCAtIGFicyh4KSAtIGFicyh5KTtcXG4gICAgXFxuICAgIHZlYzQgYjAgPSB2ZWM0KCB4Lnh5LCB5Lnh5ICk7XFxuICAgIHZlYzQgYjEgPSB2ZWM0KCB4Lnp3LCB5Lnp3ICk7XFxuICAgIFxcbiAgICB2ZWM0IHMwID0gZmxvb3IoYjApKjIuMCArIDEuMDtcXG4gICAgdmVjNCBzMSA9IGZsb29yKGIxKSoyLjAgKyAxLjA7XFxuICAgIHZlYzQgc2ggPSAtc3RlcChoLCB2ZWM0KDAuMCkpO1xcbiAgICBcXG4gICAgdmVjNCBhMCA9IGIwLnh6eXcgKyBzMC54enl3KnNoLnh4eXkgO1xcbiAgICB2ZWM0IGExID0gYjEueHp5dyArIHMxLnh6eXcqc2guenp3dyA7XFxuICAgIFxcbiAgICB2ZWMzIHAwID0gdmVjMyhhMC54eSxoLngpO1xcbiAgICB2ZWMzIHAxID0gdmVjMyhhMC56dyxoLnkpO1xcbiAgICB2ZWMzIHAyID0gdmVjMyhhMS54eSxoLnopO1xcbiAgICB2ZWMzIHAzID0gdmVjMyhhMS56dyxoLncpO1xcbiAgICBcXG4gICAgdmVjNCBub3JtID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChwMCxwMCksIGRvdChwMSxwMSksIGRvdChwMiwgcDIpLCBkb3QocDMscDMpKSk7XFxuICAgIHAwICo9IG5vcm0ueDtcXG4gICAgcDEgKj0gbm9ybS55O1xcbiAgICBwMiAqPSBub3JtLno7XFxuICAgIHAzICo9IG5vcm0udztcXG4gICAgXFxuICAgIHZlYzQgbSA9IG1heCgwLjYgLSB2ZWM0KGRvdCh4MCx4MCksIGRvdCh4MSx4MSksIGRvdCh4Mix4MiksIGRvdCh4Myx4MykpLCAwLjApO1xcbiAgICBtID0gbSAqIG07XFxuICAgIHJldHVybiA0Mi4wICogZG90KCBtKm0sIHZlYzQoIGRvdChwMCx4MCksIGRvdChwMSx4MSksIGRvdChwMix4MiksIGRvdChwMyx4MykgKSApO1xcbn1cXG5cXG5mbG9hdCBzbm9pc2UoZmxvYXQgeCwgZmxvYXQgeSwgZmxvYXQgeil7XFxuICAgIHJldHVybiBzbm9pc2UodmVjMyh4LCB5LCB6KSk7XFxufVxcblxcblxcbiNkZWZpbmUgUEkgMy4xNDE1OTI2NTNcXG5cXG5cXG52b2lkIG1haW4odm9pZCkge1xcblxcdGZsb2F0IGQgPSBkaXN0YW5jZSh2VGV4dHVyZUNvb3JkLCB2ZWMyKC41KSk7XFxuXFx0ZCA9IHNtb290aHN0ZXAoMC41LCAwLjAsIGQpO1xcblxcdGQgPSBzaW4oZCAqIFBJICogMC41KTtcXG5cXG5cXHRmbG9hdCBub2lzZSA9IHNub2lzZSh2ZWMzKHZUZXh0dXJlQ29vcmQgKiB1Tm9pc2VTY2FsZSwgdVNlZWQpKSAqIC41ICsgLjU7XFxuXFxuXFx0ZCA9IG1peCgwLjAsIG5vaXNlLCBkKTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCh2ZWMzKGQpLCAxLjApO1xcbn1cIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3NoYWRlcnMvaGlsbC5mcmFnXG4vLyBtb2R1bGUgaWQgPSAzNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBWaWV3Rmxvb3IuanNcblxuaW1wb3J0IGFsZnJpZCwgeyBHTCB9IGZyb20gJ2FsZnJpZCc7XG5pbXBvcnQgQXNzZXRzIGZyb20gJy4vQXNzZXRzJztcbmltcG9ydCBDb25maWcgZnJvbSAnLi9Db25maWcnO1xuaW1wb3J0IHZzIGZyb20gJ3NoYWRlcnMvZmxvb3IudmVydCc7XG5pbXBvcnQgZnMgZnJvbSAnc2hhZGVycy9kZXB0aC5mcmFnJztcblxuY2xhc3MgVmlld0Zsb29yIGV4dGVuZHMgYWxmcmlkLlZpZXcge1xuXHRcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIodnMsIGZzKTtcblx0fVxuXG5cblx0X2luaXQoKSB7XG5cdFx0Y29uc3QgeyBmbG9vclJhZGl1cyB9ID0gQ29uZmlnO1xuXHRcdHRoaXMubWVzaCA9IGFsZnJpZC5HZW9tLnBsYW5lKGZsb29yUmFkaXVzICogMiwgZmxvb3JSYWRpdXMgKiAyLCAxMDAsICd4eicpO1xuXHR9XG5cblxuXHRyZW5kZXIodGV4dHVyZSkge1xuXHRcdHRoaXMuc2hhZGVyLmJpbmQoKTtcblx0XHR0aGlzLnNoYWRlci51bmlmb3JtKFwidGV4dHVyZVwiLCBcInVuaWZvcm0xaVwiLCAwKTtcblx0XHR0ZXh0dXJlLmJpbmQoMCk7XG5cdFx0dGhpcy5zaGFkZXIudW5pZm9ybShcInVGbG9vckhlaWdodFwiLCBcImZsb2F0XCIsIENvbmZpZy5tYXhGbG9vckhlaWdodCk7XG5cdFx0R0wuZHJhdyh0aGlzLm1lc2gpO1xuXHR9XG5cblxufVxuXG5leHBvcnQgZGVmYXVsdCBWaWV3Rmxvb3I7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL1ZpZXdGbG9vci5qcyIsIm1vZHVsZS5leHBvcnRzID0gXCIvLyBiYXNpYy52ZXJ0XFxuXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxuYXR0cmlidXRlIHZlYzMgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuYXR0cmlidXRlIHZlYzMgYU5vcm1hbDtcXG5cXG51bmlmb3JtIG1hdDQgdU1vZGVsTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1Vmlld01hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBmbG9hdCB1Rmxvb3JIZWlnaHQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzQgdlNjcmVlblBvc2l0aW9uO1xcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuXFx0dmVjMyBwb3MgICAgICAgID0gYVZlcnRleFBvc2l0aW9uO1xcblxcdGZsb2F0IGggICAgICAgICA9IHRleHR1cmUyRCh0ZXh0dXJlLCBhVGV4dHVyZUNvb3JkKS5yO1xcblxcdHBvcy55ICAgICAgICAgICA9IGggKiB1Rmxvb3JIZWlnaHQ7XFxuXFx0dlNjcmVlblBvc2l0aW9uID0gdVByb2plY3Rpb25NYXRyaXggKiB1Vmlld01hdHJpeCAqIHVNb2RlbE1hdHJpeCAqIHZlYzQocG9zLCAxLjApO1xcblxcdGdsX1Bvc2l0aW9uICAgICA9IHZTY3JlZW5Qb3NpdGlvbjtcXG5cXHR2VGV4dHVyZUNvb3JkICAgPSBhVGV4dHVyZUNvb3JkO1xcblxcdHZOb3JtYWwgICAgICAgICA9IGFOb3JtYWw7XFxufVwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvc2hhZGVycy9mbG9vci52ZXJ0XG4vLyBtb2R1bGUgaWQgPSAzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBWaWV3VHJlZXMuanNcblxuaW1wb3J0IGFsZnJpZCwgeyBHTCB9IGZyb20gJ2FsZnJpZCc7XG5pbXBvcnQgQXNzZXRzIGZyb20gJy4vQXNzZXRzJztcbmltcG9ydCBDb25maWcgZnJvbSAnLi9Db25maWcnO1xuaW1wb3J0IHZzIGZyb20gJ3NoYWRlcnMvdHJlZXMudmVydCc7XG5pbXBvcnQgZnMgZnJvbSAnc2hhZGVycy9kZXB0aC5mcmFnJztcblxuY2xhc3MgVmlld1RyZWVzIGV4dGVuZHMgYWxmcmlkLlZpZXcge1xuXHRcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIodnMsIGZzKTtcblx0fVxuXG5cblx0X2luaXQoKSB7XG5cdFx0Ly8gdGhpcy5tZXNoID0gQXNzZXRzLmdldCgncGlsbGFyJyk7XG5cdFx0dGhpcy5tZXNoMSA9IEFzc2V0cy5nZXQoJ3RyZWUxJyk7XG5cdFx0dGhpcy5tZXNoMiA9IEFzc2V0cy5nZXQoJ3RyZWUyJyk7XG5cblx0XHR0aGlzLm1lc2ggPSBbdGhpcy5tZXNoMSwgdGhpcy5tZXNoMl07XG5cdH1cblxuXHRyZXNldCh0cmVlcykge1xuXG5cdFx0bGV0IGkgPSB0cmVlcy5sZW5ndGg7XG5cdFx0bGV0IGhhbGYgPSBpLzI7XG5cblx0XHRjb25zdCBkYXRhMSA9IFtdO1xuXHRcdGNvbnN0IGRhdGEyID0gW107XG5cblx0XHR3aGlsZShpLS0pIHtcblx0XHRcdGxldCBwb3MgPSB0cmVlc1tpXTtcblx0XHRcdGlmKGk8aGFsZikge1xuXHRcdFx0XHRkYXRhMS5wdXNoKFtwb3NbMF0sIHBvc1syXSwgTWF0aC5yYW5kb20oKSwgTWF0aC5yYW5kb20oKSAqIE1hdGguUEkgKiAyXSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkYXRhMi5wdXNoKFtwb3NbMF0sIHBvc1syXSwgTWF0aC5yYW5kb20oKSwgTWF0aC5yYW5kb20oKSAqIE1hdGguUEkgKiAyXSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cblx0XHR0aGlzLm1lc2gxLmJ1ZmZlckluc3RhbmNlKGRhdGExLCAnYVBvc09mZnNldCcpO1xuXHRcdHRoaXMubWVzaDIuYnVmZmVySW5zdGFuY2UoZGF0YTIsICdhUG9zT2Zmc2V0Jyk7XG5cdH1cblxuXG5cdHJlbmRlcigpIHtcblx0XHR0aGlzLnNoYWRlci5iaW5kKCk7XG5cdFx0dGhpcy5zaGFkZXIudW5pZm9ybShcInVUcmVlU2NhbGVcIiwgXCJmbG9hdFwiLCBDb25maWcudHJlZVNjYWxlKTtcblx0XHRHTC5kcmF3KHRoaXMubWVzaCk7XG5cdH1cblxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFZpZXdUcmVlcztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvVmlld1RyZWVzLmpzIiwibW9kdWxlLmV4cG9ydHMgPSBcIi8vIGJhc2ljLnZlcnRcXG5cXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG5hdHRyaWJ1dGUgdmVjMyBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5hdHRyaWJ1dGUgdmVjMyBhTm9ybWFsO1xcbmF0dHJpYnV0ZSB2ZWM0IGFQb3NPZmZzZXQ7XFxuXFxudW5pZm9ybSBtYXQ0IHVNb2RlbE1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVZpZXdNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVQcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gZmxvYXQgdVRyZWVTY2FsZTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzQgdlNjcmVlblBvc2l0aW9uO1xcblxcbnZlYzIgcm90YXRlKHZlYzIgdiwgZmxvYXQgYSkge1xcblxcdGZsb2F0IHMgPSBzaW4oYSk7XFxuXFx0ZmxvYXQgYyA9IGNvcyhhKTtcXG5cXHRtYXQyIG0gPSBtYXQyKGMsIC1zLCBzLCBjKTtcXG5cXHRyZXR1cm4gbSAqIHY7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuXFx0dmVjMyBwb3MgICAgICAgID0gYVZlcnRleFBvc2l0aW9uO1xcblxcdGZsb2F0IHNjYWxlICAgICA9IG1peChhUG9zT2Zmc2V0LnosIDEuMCwgLjI1KTtcXG5cXHRwb3MueHogICAgICAgICAgPSByb3RhdGUocG9zLnh6LCBhUG9zT2Zmc2V0LncpO1xcblxcdHBvcy55ICAgICAgICAgICAqPSAzLjA7XFxuXFx0cG9zLnkgICAgICAgICAgIC09IDIuMDtcXG5cXHRwb3MgICAgICAgICAgICAgKj0gc2NhbGUgKiB1VHJlZVNjYWxlO1xcblxcdHBvcy54eiAgICAgICAgICArPSBhUG9zT2Zmc2V0Lnh5O1xcblxcdFxcblxcdHZTY3JlZW5Qb3NpdGlvbiA9IHVQcm9qZWN0aW9uTWF0cml4ICogdVZpZXdNYXRyaXggKiB1TW9kZWxNYXRyaXggKiB2ZWM0KHBvcywgMS4wKTtcXG5cXHRnbF9Qb3NpdGlvbiAgICAgPSB2U2NyZWVuUG9zaXRpb247XFxuXFx0dlRleHR1cmVDb29yZCAgID0gYVRleHR1cmVDb29yZDtcXG5cXHR2Tm9ybWFsICAgICAgICAgPSBhTm9ybWFsO1xcbn1cIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3NoYWRlcnMvdHJlZXMudmVydFxuLy8gbW9kdWxlIGlkID0gMzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gVmlld1BsYW5lcy5qc1xuXG5pbXBvcnQgYWxmcmlkLCB7IEdMIH0gZnJvbSAnYWxmcmlkJztcbmltcG9ydCB2cyBmcm9tICdzaGFkZXJzL3BsYW5lcy52ZXJ0JztcbmltcG9ydCBmcyBmcm9tICdzaGFkZXJzL3BsYW5lcy5mcmFnJztcblxuXG52YXIgcmFuZG9tID0gZnVuY3Rpb24obWluLCBtYXgpIHsgcmV0dXJuIG1pbiArIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKTtcdH1cblxuY2xhc3MgVmlld1BsYW5lcyBleHRlbmRzIGFsZnJpZC5WaWV3IHtcblx0XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHN1cGVyKHZzLCBmcyk7XG5cdH1cblxuXG5cdF9pbml0KCkge1xuXHRcdGxldCBzaXplID0gMjtcblx0XHR0aGlzLm1lc2ggPSBhbGZyaWQuR2VvbS5wbGFuZShzaXplLCBzaXplLCAxKTtcblx0XHR0aGlzLm9mZnNldCA9IG5ldyBhbGZyaWQuRWFzZU51bWJlcigwLCAwLjAxKTtcblx0XHQvLyB0aGlzLm9mZnNldCA9IG5ldyBhbGZyaWQuVHdlZW5OdW1iZXIoMCwgJ2xpbmVhcicpO1xuXHRcdHRoaXMucmVzZXQoKTtcblx0fVxuXG5cblx0b3BlbigpIHtcblx0XHR0aGlzLm9mZnNldC5zZXRUbygwKTtcblxuXHRcdHNldFRpbWVvdXQoKCk9PiB7XG5cdFx0XHR0aGlzLm9mZnNldC52YWx1ZSA9IDE7XG5cdFx0fSwgNTAwKTtcblx0XHRcblx0fVxuXG5cblx0cmVzZXQoKSB7XG5cdFx0bGV0IGkgPSAxMDAwO1xuXHRcdGxldCBwb3NpdGlvbnMgPSBbXTtcblx0XHRsZXQgZXh0cmFzID0gW107XG5cdFx0bGV0IHIgPSAzLjU7XG5cblx0XHR3aGlsZShpLS0pIHtcblx0XHRcdHBvc2l0aW9ucy5wdXNoKFtyYW5kb20oLXIsIHIpLCByYW5kb20oLXIvMiwgciksIHJhbmRvbSgtciwgcildKVxuXHRcdFx0ZXh0cmFzLnB1c2goW01hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCldKTtcblx0XHR9XG5cblx0XHR0aGlzLm1lc2guYnVmZmVySW5zdGFuY2UocG9zaXRpb25zLCAnYVBvc09mZnNldCcpO1xuXHRcdHRoaXMubWVzaC5idWZmZXJJbnN0YW5jZShleHRyYXMsICdhRXh0cmEnKTtcblx0fVxuXG5cblx0cmVuZGVyKG1NYXRyaXgsIG1UZXh0dXJlKSB7XG5cdFx0dGhpcy5zaGFkZXIuYmluZCgpO1xuXHRcdHRoaXMuc2hhZGVyLnVuaWZvcm0oXCJ0ZXh0dXJlXCIsIFwidW5pZm9ybTFpXCIsIDApO1xuXHRcdG1UZXh0dXJlLmJpbmQoMCk7XG5cdFx0dGhpcy5zaGFkZXIudW5pZm9ybShcInVNYXRyaXhcIiwgXCJtYXQ0XCIsIG1NYXRyaXgpO1xuXHRcdHRoaXMuc2hhZGVyLnVuaWZvcm0oXCJ1T2Zmc2V0XCIsIFwiZmxvYXRcIiwgdGhpcy5vZmZzZXQudmFsdWUpO1xuXHRcdEdMLmRyYXcodGhpcy5tZXNoKTtcblx0fVxuXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlld1BsYW5lcztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvVmlld1BsYW5lcy5qcyIsIm1vZHVsZS5leHBvcnRzID0gXCIvLyBiYXNpYy52ZXJ0XFxuXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxuYXR0cmlidXRlIHZlYzMgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuYXR0cmlidXRlIHZlYzMgYU5vcm1hbDtcXG5hdHRyaWJ1dGUgdmVjMyBhUG9zT2Zmc2V0O1xcbmF0dHJpYnV0ZSB2ZWMzIGFFeHRyYTtcXG5cXG51bmlmb3JtIG1hdDQgdU1vZGVsTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1Vmlld01hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVNYXRyaXg7XFxudW5pZm9ybSBmbG9hdCB1T2Zmc2V0O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbnZhcnlpbmcgdmVjMiB2VVY7XFxudmFyeWluZyB2ZWM0IHZTY3JlZW5Qb3NpdGlvbjtcXG5cXG5mbG9hdCBjdWJpY0luT3V0KGZsb2F0IHQpIHtcXG4gIHJldHVybiB0IDwgMC41XFxuICAgID8gNC4wICogdCAqIHQgKiB0XFxuICAgIDogMC41ICogcG93KDIuMCAqIHQgLSAyLjAsIDMuMCkgKyAxLjA7XFxufVxcblxcbmZsb2F0IGNpcmN1bGFySW4oZmxvYXQgdCkge1xcbiAgcmV0dXJuIDEuMCAtIHNxcnQoMS4wIC0gdCAqIHQpO1xcbn1cXG5cXG5cXG5cXG5mbG9hdCBjaXJjdWxhck91dChmbG9hdCB0KSB7XFxuICByZXR1cm4gc3FydCgoMi4wIC0gdCkgKiB0KTtcXG59XFxuXFxuZmxvYXQgY2lyY3VsYXJJbk91dChmbG9hdCB0KSB7XFxuICByZXR1cm4gdCA8IDAuNVxcbiAgICA/IDAuNSAqICgxLjAgLSBzcXJ0KDEuMCAtIDQuMCAqIHQgKiB0KSlcXG4gICAgOiAwLjUgKiAoc3FydCgoMy4wIC0gMi4wICogdCkgKiAoMi4wICogdCAtIDEuMCkpICsgMS4wKTtcXG59XFxuXFxuZmxvYXQgY3ViaWNPdXQoZmxvYXQgdCkge1xcbiAgZmxvYXQgZiA9IHQgLSAxLjA7XFxuICByZXR1cm4gZiAqIGYgKiBmICsgMS4wO1xcbn1cXG5cXG5cXG5cXG52b2lkIG1haW4odm9pZCkge1xcblxcdHZlYzMgcG9zICAgID0gYVZlcnRleFBvc2l0aW9uO1xcblxcdGZsb2F0IHNjYWxlID0gLWFFeHRyYS56ICsgdU9mZnNldCAqIDIuMDtcXG5cXHRzY2FsZSAgICAgICA9IHNtb290aHN0ZXAoMC4wLCAxLjAsIHNjYWxlKTtcXG5cXHRzY2FsZSAgICAgICA9IDEuMCAtIGNpcmN1bGFySW5PdXQoc2NhbGUpO1xcblxcblxcdHBvcyAgICAgICAgICAgKj0gbWl4KGFFeHRyYS54LCAxLjAsIC41KSAqIHNjYWxlO1xcblxcdHBvcyAgICAgICAgICAgKz0gYVBvc09mZnNldDtcXG5cXHR2U2NyZWVuUG9zaXRpb24gICA9IHVQcm9qZWN0aW9uTWF0cml4ICogdVZpZXdNYXRyaXggKiB1TW9kZWxNYXRyaXggKiB2ZWM0KHBvcywgMS4wKTtcXG5cXHRnbF9Qb3NpdGlvbiAgID0gdlNjcmVlblBvc2l0aW9uO1xcblxcdHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcblxcdHZOb3JtYWwgICAgICAgPSBhTm9ybWFsO1xcblxcdFxcblxcdHZlYzQgY29vcmQgICAgPSB1TWF0cml4ICogdU1vZGVsTWF0cml4ICogdmVjNChwb3MsIDEuMCk7XFxuXFx0dlVWICAgICAgICAgICA9IGNvb3JkLnh5IC8gY29vcmQudyAqIC41ICsgLjU7XFxufVwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvc2hhZGVycy9wbGFuZXMudmVydFxuLy8gbW9kdWxlIGlkID0gNDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBcIi8vIGNvcHkuZnJhZ1xcblxcbiNkZWZpbmUgU0hBREVSX05BTUUgU0lNUExFX1RFWFRVUkVcXG5cXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlVWO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCh2VVYsIDAuMCwgMS4wKTtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHRleHR1cmUsIHZVVik7XFxufVwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvc2hhZGVycy9wbGFuZXMuZnJhZ1xuLy8gbW9kdWxlIGlkID0gNDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gVmlld0JnLmpzXG5cbmltcG9ydCBhbGZyaWQsIHsgR0wgfSBmcm9tICdhbGZyaWQnO1xuaW1wb3J0IENvbmZpZyBmcm9tICcuL0NvbmZpZyc7XG5pbXBvcnQgdnMgZnJvbSAnc2hhZGVycy9iZy52ZXJ0JztcbmltcG9ydCBmcyBmcm9tICdzaGFkZXJzL2JnLmZyYWcnO1xuXG5jbGFzcyBWaWV3QmcgZXh0ZW5kcyBhbGZyaWQuVmlldyB7XG5cdFxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcih2cywgZnMpO1xuXHR9XG5cblxuXHRfaW5pdCgpIHtcblx0XHQvLyBjb25zdCByYWRpdXMgPSBDb25maWcuZmxvb3JSYWRpdXMgKiBNYXRoLnNxcnQoMik7XG5cdFx0Y29uc3QgcmFkaXVzID0gQ29uZmlnLmZsb29yUmFkaXVzICogMjtcblx0XHR0aGlzLm1lc2ggPSBhbGZyaWQuR2VvbS5zcGhlcmUocmFkaXVzLCAxMiwgdHJ1ZSk7XG5cdH1cblxuXG5cdHJlbmRlcigpIHtcblx0XHR0aGlzLnNoYWRlci5iaW5kKCk7XG5cdFx0R0wuZHJhdyh0aGlzLm1lc2gpO1xuXHR9XG5cblxufVxuXG5leHBvcnQgZGVmYXVsdCBWaWV3Qmc7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL1ZpZXdCZy5qcyIsIm1vZHVsZS5leHBvcnRzID0gXCIvLyBiYXNpYy52ZXJ0XFxuXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxuYXR0cmlidXRlIHZlYzMgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuYXR0cmlidXRlIHZlYzMgYU5vcm1hbDtcXG5cXG51bmlmb3JtIG1hdDQgdU1vZGVsTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1Vmlld01hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHVOb3JtYWxNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG5cXHRnbF9Qb3NpdGlvbiAgID0gdVByb2plY3Rpb25NYXRyaXggKiB1Vmlld01hdHJpeCAqIHVNb2RlbE1hdHJpeCAqIHZlYzQoYVZlcnRleFBvc2l0aW9uLCAxLjApO1xcblxcdHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcblxcdHZOb3JtYWwgICAgICAgPSB1Tm9ybWFsTWF0cml4ICogYU5vcm1hbDtcXG59XCJcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9zaGFkZXJzL2JnLnZlcnRcbi8vIG1vZHVsZSBpZCA9IDQ0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCIvLyBjb3B5LmZyYWdcXG5cXG4jZGVmaW5lIFNIQURFUl9OQU1FIFNJTVBMRV9URVhUVVJFXFxuXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxuLy8gdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTtcXG5cXG5mbG9hdCBkaWZmdXNlKHZlYzMgTiwgdmVjMyBMKSB7XFxuXFx0cmV0dXJuIG1heChkb3QoTiwgbm9ybWFsaXplKEwpKSwgMC4wKTtcXG59XFxuXFxuXFxudmVjMyBkaWZmdXNlKHZlYzMgTiwgdmVjMyBMLCB2ZWMzIEMpIHtcXG5cXHRyZXR1cm4gZGlmZnVzZShOLCBMKSAqIEM7XFxufVxcblxcblxcbiNkZWZpbmUgRlJPTlQgdmVjMygwLjAsIDAuMCwgLTEuMClcXG5cXG52b2lkIG1haW4odm9pZCkge1xcblxcdGZsb2F0IGQgPSBkaWZmdXNlKHZOb3JtYWwsIEZST05UKTtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCh2ZWMzKGQpLCAxLjApO1xcbn1cIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3NoYWRlcnMvYmcuZnJhZ1xuLy8gbW9kdWxlIGlkID0gNDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gVmlld0dyb3VuZC5qc1xuXG5pbXBvcnQgYWxmcmlkLCB7IEdMIH0gZnJvbSAnYWxmcmlkJztcbmltcG9ydCBDb25maWcgZnJvbSAnLi9Db25maWcnO1xuaW1wb3J0IHZzIGZyb20gJ3NoYWRlcnMvZ3JvdW5kLnZlcnQnO1xuaW1wb3J0IGZzIGZyb20gJ3NoYWRlcnMvZ3JvdW5kLmZyYWcnO1xuXG5jbGFzcyBWaWV3R3JvdW5kIGV4dGVuZHMgYWxmcmlkLlZpZXcge1xuXHRcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIodnMsIGZzKTtcblx0fVxuXG5cblx0X2luaXQoKSB7XG5cdFx0Y29uc3QgciA9IENvbmZpZy5mbG9vclJhZGl1cyAqIDQ7XG5cdFx0dGhpcy5tZXNoID0gYWxmcmlkLkdlb20ucGxhbmUociwgciwgMSwgJ3h6Jyk7XG5cdH1cblxuXG5cdHJlbmRlcigpIHtcblx0XHR0aGlzLnNoYWRlci5iaW5kKCk7XG5cdFx0R0wuZHJhdyh0aGlzLm1lc2gpO1xuXHR9XG5cblxufVxuXG5leHBvcnQgZGVmYXVsdCBWaWV3R3JvdW5kO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9WaWV3R3JvdW5kLmpzIiwibW9kdWxlLmV4cG9ydHMgPSBcIi8vIGJhc2ljLnZlcnRcXG5cXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG5hdHRyaWJ1dGUgdmVjMyBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5hdHRyaWJ1dGUgdmVjMyBhTm9ybWFsO1xcblxcbnVuaWZvcm0gbWF0NCB1TW9kZWxNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVWaWV3TWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1UHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzQgdlNjcmVlblBvc2l0aW9uO1xcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuXFx0dmVjMyBwb3MgICAgICAgID0gYVZlcnRleFBvc2l0aW9uO1xcblxcdHBvcy55ICAgICAgICAgICAtPSAwLjAxO1xcblxcdHZTY3JlZW5Qb3NpdGlvbiA9IHVQcm9qZWN0aW9uTWF0cml4ICogdVZpZXdNYXRyaXggKiB1TW9kZWxNYXRyaXggKiB2ZWM0KHBvcywgMS4wKTtcXG5cXHRnbF9Qb3NpdGlvbiAgICAgPSB2U2NyZWVuUG9zaXRpb247XFxuXFx0dlRleHR1cmVDb29yZCAgID0gYVRleHR1cmVDb29yZDtcXG5cXHR2Tm9ybWFsICAgICAgICAgPSBhTm9ybWFsO1xcbn1cIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3NoYWRlcnMvZ3JvdW5kLnZlcnRcbi8vIG1vZHVsZSBpZCA9IDQ3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCIvLyBjb3B5LmZyYWdcXG5cXG4jZGVmaW5lIFNIQURFUl9OQU1FIFNJTVBMRV9URVhUVVJFXFxuXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTtcXG5cXG52YXJ5aW5nIHZlYzQgdlNjcmVlblBvc2l0aW9uO1xcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuXFxuXFx0ZmxvYXQgZCA9IGRpc3RhbmNlKHZUZXh0dXJlQ29vcmQsIHZlYzIoLjUpKTtcXG5cXHRkID0gc21vb3Roc3RlcCgwLjUsIDAuMzUsIGQpO1xcblxcbiAgICBmbG9hdCB6ID0gdlNjcmVlblBvc2l0aW9uLnogLyB2U2NyZWVuUG9zaXRpb24udztcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCh2ZWMzKHogKiAwLjI1KSwgZCk7XFxufVwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvc2hhZGVycy9ncm91bmQuZnJhZ1xuLy8gbW9kdWxlIGlkID0gNDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gVmlld0ZvZy5qc1xuXG5pbXBvcnQgYWxmcmlkLCB7IEdMIH0gZnJvbSAnYWxmcmlkJztcbmltcG9ydCBDb25maWcgZnJvbSAnLi9Db25maWcnO1xuaW1wb3J0IHZzIGZyb20gJ3NoYWRlcnMvZm9nLnZlcnQnO1xuaW1wb3J0IGZzIGZyb20gJ3NoYWRlcnMvZm9nLmZyYWcnO1xuXG5jbGFzcyBWaWV3Rm9nIGV4dGVuZHMgYWxmcmlkLlZpZXcge1xuXHRcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIodnMsIGZzKTtcblx0fVxuXG5cblx0X2luaXQoKSB7XG5cdFx0bGV0IHMgPSBDb25maWcuZmxvb3JSYWRpdXMgKiAyO1xuXHRcdHRoaXMubWVzaCA9IGFsZnJpZC5HZW9tLnBsYW5lKHMsIHMsIDEpO1xuXG5cdFx0Y29uc3QgeyBudW1TbGlkZXMgfSA9IENvbmZpZztcblx0XHR0aGlzLm1hdHJpY2VzID0gW107XG5cblx0XHRmb3IobGV0IGk9MDsgaTxudW1TbGlkZXM7IGkrKykge1xuXHRcdFx0Y29uc3QgbXR4ID0gbWF0NC5jcmVhdGUoKTtcblx0XHRcdGxldCB6ID0gKGkvbnVtU2xpZGVzIC0gMC41KSAqIHM7XG5cdFx0XHRtYXQ0LnRyYW5zbGF0ZShtdHgsIG10eCwgdmVjMy5mcm9tVmFsdWVzKDAsIHMvMiwgeikpO1xuXHRcdFx0dGhpcy5tYXRyaWNlcy5wdXNoKG10eCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5vZmZzZXQgPSAwLjU7XG5cblxuXHRcdC8vIHNldFRpbWVvdXQoKCk9PiB7XG5cdFx0Ly8gXHRndWkuYWRkKHRoaXMsICdvZmZzZXQnLCAwLCAxKTtcblx0XHQvLyB9LCA2MDApO1xuXHR9XG5cblxuXHRyZW5kZXIodGV4dHVyZSkge1xuXHRcdEdMLmVuYWJsZUFkZGl0aXZlQmxlbmRpbmcoKTtcblx0XHR0aGlzLnNoYWRlci5iaW5kKCk7XG5cdFx0dGhpcy5zaGFkZXIudW5pZm9ybShcInVPZmZzZXRcIiwgXCJmbG9hdFwiLCB0aGlzLm9mZnNldCk7XG5cdFx0dGhpcy5zaGFkZXIudW5pZm9ybShcInVOdW1cIiwgXCJmbG9hdFwiLCBDb25maWcubm9pc2VOdW0pO1xuXHRcdHRoaXMuc2hhZGVyLnVuaWZvcm0oXCJ1TnVtU2xpY2VzXCIsIFwiZmxvYXRcIiwgQ29uZmlnLm51bVNsaWRlcyk7XG5cdFx0dGhpcy5zaGFkZXIudW5pZm9ybShcInRleHR1cmVcIiwgXCJ1bmlmb3JtMWlcIiwgMCk7XG5cdFx0dGV4dHVyZS5iaW5kKDApO1xuXG5cdFx0dGhpcy5tYXRyaWNlcy5mb3JFYWNoKCBtdHggPT4ge1xuXHRcdFx0dGhpcy5zaGFkZXIudW5pZm9ybShcInVMb2NhbE1hdHJpeFwiLCBcIm1hdDRcIiwgbXR4KTtcblx0XHRcdEdMLmRyYXcodGhpcy5tZXNoKTtcdFxuXHRcdH0pO1xuXHRcdEdMLmVuYWJsZUFscGhhQmxlbmRpbmcoKTtcblx0fVxuXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlld0ZvZztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvVmlld0ZvZy5qcyIsIm1vZHVsZS5leHBvcnRzID0gXCIvLyBiYXNpYy52ZXJ0XFxuXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxuYXR0cmlidXRlIHZlYzMgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuYXR0cmlidXRlIHZlYzMgYU5vcm1hbDtcXG5cXG51bmlmb3JtIG1hdDQgdU1vZGVsTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1Vmlld01hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVMb2NhbE1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdU1vZGVsVmlld01hdHJpeEludmVyc2U7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxudmFyeWluZyB2ZWMzIHZQb3NpdGlvbjtcXG5cXG52b2lkIG1haW4odm9pZCkge1xcblxcdHZlYzMgcG9zaXRpb24gPSB1TW9kZWxWaWV3TWF0cml4SW52ZXJzZSAqICh1TW9kZWxNYXRyaXggKiB1TG9jYWxNYXRyaXggKiB2ZWM0KGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHl6O1xcblxcdC8vIHZlYzMgcG9zaXRpb24gPSAodU1vZGVsTWF0cml4ICogdUxvY2FsTWF0cml4ICogdmVjNChhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5ejtcXG5cXHRnbF9Qb3NpdGlvbiAgID0gdVByb2plY3Rpb25NYXRyaXggKiB1Vmlld01hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEuMCk7XFxuXFx0dlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuXFx0dk5vcm1hbCAgICAgICA9IGFOb3JtYWw7XFxuXFx0dlBvc2l0aW9uIFxcdCAgPSBwb3NpdGlvbjtcXG59XCJcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9zaGFkZXJzL2ZvZy52ZXJ0XG4vLyBtb2R1bGUgaWQgPSA1MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IFwicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNkZWZpbmUgR0xTTElGWSAxXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWMzIHZQb3NpdGlvbjtcXG51bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlO1xcbnVuaWZvcm0gZmxvYXQgdU51bTtcXG51bmlmb3JtIGZsb2F0IHVOdW1TbGljZXM7XFxudW5pZm9ybSBmbG9hdCB1T2Zmc2V0O1xcblxcblxcbnZlYzIgZ2V0VVZPZmZzZXQoZmxvYXQgaW5kZXgpIHtcXG5cXHRmbG9hdCB4ID0gbW9kKGluZGV4LCB1TnVtKTtcXG5cXHRmbG9hdCB5ID0gZmxvb3IoaW5kZXgvdU51bSk7XFxuXFx0cmV0dXJuIHZlYzIoeCwgeSkgLyB1TnVtO1xcbn1cXG5cXG52ZWMzIHRleHR1cmUzRCh2ZWMzIHBvcykge1xcblxcdHZlYzMgcG9zQWRqID0gKHBvcyAqIC4yNSArIC41KTtcXG5cXHRcXG5cXHRmbG9hdCB0eiAgICA9IHBvc0Fkai56O1xcblxcdGZsb2F0IG51bSAgID0gdU51bSAqIHVOdW07XFxuXFx0XFxuXFx0ZmxvYXQgaTAgICAgPSBmbG9vcih0eiAqIG51bSk7XFxuXFx0ZmxvYXQgaTEgICAgPSBjZWlsKHR6ICogbnVtKTtcXG5cXHR2ZWMyIHV2MCAgICA9IHBvc0Fkai54eSAvIHVOdW0gKyBnZXRVVk9mZnNldChpMCk7XFxuXFx0dmVjMiB1djEgICAgPSBwb3NBZGoueHkgLyB1TnVtICsgZ2V0VVZPZmZzZXQoaTEpO1xcblxcdHZlYzMgY29sb3IwID0gdGV4dHVyZTJEKHRleHR1cmUsIHV2MCkueHl6O1xcblxcdHZlYzMgY29sb3IxID0gdGV4dHVyZTJEKHRleHR1cmUsIHV2MSkueHl6O1xcblxcdGZsb2F0IHAgICAgID0gbW9kKHR6ICogbnVtIC0gaTAsIDEuMCk7XFxuXFx0dmVjMyBjb2xvciAgPSBtaXgoY29sb3IwLCBjb2xvcjEsIHApO1xcblxcdFxcblxcdGNvbG9yICAgICAgIC89IHVOdW1TbGljZXM7XFxuXFx0cmV0dXJuIGNvbG9yO1xcbn1cXG5cXG5cXG5cXG52b2lkIG1haW4odm9pZCkge1xcblxcdHZlYzMgY29sb3IgPSB0ZXh0dXJlM0QodlBvc2l0aW9uKTtcXG5cXG5cXHRmbG9hdCBhID0gc21vb3Roc3RlcCgtMC41LCAwLjI1LCB2UG9zaXRpb24ueSk7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoIHBvdyhjb2xvci5yLCAxLjAgKyB1T2Zmc2V0KSAqIDIuMCAqIGEpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KCB2ZWMzKHBvdyhjb2xvci5yLCAxLjAgKyB1T2Zmc2V0KSAqIDIuMCAqIGEpLCAxLjAgKTtcXG4gICAgLy8gZ2xfRnJhZ0NvbG9yID0gdmVjNCggYSk7XFxufVwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvc2hhZGVycy9mb2cuZnJhZ1xuLy8gbW9kdWxlIGlkID0gNTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gVmlld0ZYQUEuanNcblxuaW1wb3J0IGFsZnJpZCwgeyBHTCB9IGZyb20gJ2FsZnJpZCc7XG5cbmltcG9ydCBBc3NldHMgZnJvbSAnLi9Bc3NldHMnO1xuaW1wb3J0IENvbmZpZyBmcm9tICcuL0NvbmZpZyc7XG5pbXBvcnQgZnMgZnJvbSAnc2hhZGVycy9meGFhLmZyYWcnO1xuXG5jbGFzcyBWaWV3RlhBQSBleHRlbmRzIGFsZnJpZC5WaWV3IHtcblx0XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHN1cGVyKGFsZnJpZC5TaGFkZXJMaWJzLmJpZ1RyaWFuZ2xlVmVydCwgZnMpO1xuXHR9XG5cblxuXHRfaW5pdCgpIHtcblx0XHR0aGlzLm1lc2ggPSBhbGZyaWQuR2VvbS5iaWdUcmlhbmdsZSgpO1xuXHRcdHRoaXMudGV4dHVyZU5vaXNlID0gQXNzZXRzLmdldCgnbm9pc2UnKTtcblx0XHR0aGlzLnRleHR1cmVOb2lzZS53cmFwUyA9IHRoaXMudGV4dHVyZU5vaXNlLndyYXBUID0gR0wuUkVQRUFUO1xuXHRcdHRoaXMudGV4dHVyZU5vaXNlLm1pbkZpbHRlciA9IHRoaXMudGV4dHVyZU5vaXNlLm1hZ0ZpbHRlciA9IEdMLk5FQVJFU1Q7XG5cdH1cblxuXG5cdHJlbmRlcih0ZXh0dXJlKSB7XG5cdFx0dGhpcy5zaGFkZXIuYmluZCgpO1xuXHRcdHRoaXMuc2hhZGVyLnVuaWZvcm0oXCJ0ZXh0dXJlXCIsIFwidW5pZm9ybTFpXCIsIDApO1xuXHRcdHRleHR1cmUuYmluZCgwKTtcblx0XHR0aGlzLnNoYWRlci51bmlmb3JtKFwidGV4dHVyZU5vaXNlXCIsIFwidW5pZm9ybTFpXCIsIDEpO1xuXHRcdHRoaXMudGV4dHVyZU5vaXNlLmJpbmQoMSk7XG5cdFx0dGhpcy5zaGFkZXIudW5pZm9ybShcInVSZXNvbHV0aW9uXCIsIFwidmVjMlwiLCBbMS9HTC53aWR0aCwgMS9HTC5oZWlnaHRdKTtcblx0XHR0aGlzLnNoYWRlci51bmlmb3JtKFwidU92ZXJsYXlcIiwgXCJmbG9hdFwiLCBDb25maWcub3ZlcmxheU9wYWNpdHkpO1xuXHRcdEdMLmRyYXcodGhpcy5tZXNoKTtcblx0fVxuXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlld0ZYQUE7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL1ZpZXdGWEFBLmpzIiwibW9kdWxlLmV4cG9ydHMgPSBcIi8vIGZ4YWEuZnJhZ1xcblxcbiNkZWZpbmUgU0hBREVSX05BTUUgRlhBQVxcblxcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4jZGVmaW5lIEdMU0xJRlkgMVxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7XFxudW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZU5vaXNlO1xcbnVuaWZvcm0gdmVjMiB1UmVzb2x1dGlvbjtcXG51bmlmb3JtIGZsb2F0IHVPdmVybGF5O1xcblxcblxcbmZsb2F0IEZYQUFfU1VCUElYX1NISUZUID0gMS4wLzQuMDtcXG4jZGVmaW5lIEZYQUFfUkVEVUNFX01JTiAgICgxLjAvIDEyOC4wKVxcbiNkZWZpbmUgRlhBQV9SRURVQ0VfTVVMICAgKDEuMCAvIDguMClcXG4jZGVmaW5lIEZYQUFfU1BBTl9NQVggICAgIDguMFxcblxcblxcbnZlYzQgYXBwbHlGWEFBKHNhbXBsZXIyRCB0ZXgpIHtcXG4gICAgdmVjNCBjb2xvcjtcXG4gICAgdmVjMiBmcmFnQ29vcmQgPSBnbF9GcmFnQ29vcmQueHk7XFxuICAgIHZlYzMgcmdiTlcgPSB0ZXh0dXJlMkQodGV4LCAoZnJhZ0Nvb3JkICsgdmVjMigtMS4wLCAtMS4wKSkgKiB1UmVzb2x1dGlvbikueHl6O1xcbiAgICB2ZWMzIHJnYk5FID0gdGV4dHVyZTJEKHRleCwgKGZyYWdDb29yZCArIHZlYzIoMS4wLCAtMS4wKSkgKiB1UmVzb2x1dGlvbikueHl6O1xcbiAgICB2ZWMzIHJnYlNXID0gdGV4dHVyZTJEKHRleCwgKGZyYWdDb29yZCArIHZlYzIoLTEuMCwgMS4wKSkgKiB1UmVzb2x1dGlvbikueHl6O1xcbiAgICB2ZWMzIHJnYlNFID0gdGV4dHVyZTJEKHRleCwgKGZyYWdDb29yZCArIHZlYzIoMS4wLCAxLjApKSAqIHVSZXNvbHV0aW9uKS54eXo7XFxuICAgIHZlYzMgcmdiTSAgPSB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgICogdVJlc29sdXRpb24pLnh5ejtcXG4gICAgdmVjMyBsdW1hID0gdmVjMygwLjI5OSwgMC41ODcsIDAuMTE0KTtcXG4gICAgZmxvYXQgbHVtYU5XID0gZG90KHJnYk5XLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU5FID0gZG90KHJnYk5FLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYVNXID0gZG90KHJnYlNXLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYVNFID0gZG90KHJnYlNFLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU0gID0gZG90KHJnYk0sICBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU1pbiA9IG1pbihsdW1hTSwgbWluKG1pbihsdW1hTlcsIGx1bWFORSksIG1pbihsdW1hU1csIGx1bWFTRSkpKTtcXG4gICAgZmxvYXQgbHVtYU1heCA9IG1heChsdW1hTSwgbWF4KG1heChsdW1hTlcsIGx1bWFORSksIG1heChsdW1hU1csIGx1bWFTRSkpKTtcXG5cXG4gICAgdmVjMiBkaXI7XFxuICAgIGRpci54ID0gLSgobHVtYU5XICsgbHVtYU5FKSAtIChsdW1hU1cgKyBsdW1hU0UpKTtcXG4gICAgZGlyLnkgPSAgKChsdW1hTlcgKyBsdW1hU1cpIC0gKGx1bWFORSArIGx1bWFTRSkpO1xcblxcbiAgICBmbG9hdCBkaXJSZWR1Y2UgPSBtYXgoKGx1bWFOVyArIGx1bWFORSArIGx1bWFTVyArIGx1bWFTRSkgKlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKDAuMjUgKiBGWEFBX1JFRFVDRV9NVUwpLCBGWEFBX1JFRFVDRV9NSU4pO1xcblxcbiAgICBmbG9hdCByY3BEaXJNaW4gPSAxLjAgLyAobWluKGFicyhkaXIueCksIGFicyhkaXIueSkpICsgZGlyUmVkdWNlKTtcXG4gICAgZGlyID0gbWluKHZlYzIoRlhBQV9TUEFOX01BWCwgRlhBQV9TUEFOX01BWCksXFxuICAgICAgICAgICAgICBtYXgodmVjMigtRlhBQV9TUEFOX01BWCwgLUZYQUFfU1BBTl9NQVgpLFxcbiAgICAgICAgICAgICAgZGlyICogcmNwRGlyTWluKSkgKiB1UmVzb2x1dGlvbjtcXG5cXG4gICAgdmVjMyByZ2JBID0gMC41ICogKFxcbiAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogdVJlc29sdXRpb24gKyBkaXIgKiAoMS4wIC8gMy4wIC0gMC41KSkueHl6ICtcXG4gICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIHVSZXNvbHV0aW9uICsgZGlyICogKDIuMCAvIDMuMCAtIDAuNSkpLnh5eik7XFxuICAgIHZlYzMgcmdiQiA9IHJnYkEgKiAwLjUgKyAwLjI1ICogKFxcbiAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogdVJlc29sdXRpb24gKyBkaXIgKiAtMC41KS54eXogK1xcbiAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogdVJlc29sdXRpb24gKyBkaXIgKiAwLjUpLnh5eik7XFxuXFxuICAgIGZsb2F0IGx1bWFCID0gZG90KHJnYkIsIGx1bWEpO1xcbiAgICBpZiAoKGx1bWFCIDwgbHVtYU1pbikgfHwgKGx1bWFCID4gbHVtYU1heCkpXFxuICAgICAgICBjb2xvciA9IHZlYzQocmdiQSwgMS4wKTtcXG4gICAgZWxzZVxcbiAgICAgICAgY29sb3IgPSB2ZWM0KHJnYkIsIDEuMCk7XFxuICAgIHJldHVybiBjb2xvcjtcXG59XFxuXFxudmVjMyBibGVuZE92ZXJsYXkodmVjMyBiYXNlLCB2ZWMzIGJsZW5kKSB7XFxuICAgIHJldHVybiBtaXgoMS4wIC0gMi4wICogKDEuMCAtIGJhc2UpICogKDEuMCAtIGJsZW5kKSwgMi4wICogYmFzZSAqIGJsZW5kLCBzdGVwKGJhc2UsIHZlYzMoMC41KSkpO1xcbn1cXG5cXG52ZWMzIGJsZW5kT3ZlcmxheSh2ZWMzIGJhc2UsIHZlYzMgYmxlbmQsIGZsb2F0IG9wYWNpdHkpIHtcXG5cXHR2ZWMzIGJsZW5kZWQgPSBtaXgoMS4wIC0gMi4wICogKDEuMCAtIGJhc2UpICogKDEuMCAtIGJsZW5kKSwgMi4wICogYmFzZSAqIGJsZW5kLCBzdGVwKGJhc2UsIHZlYzMoMC41KSkpO1xcblxcdHJldHVybiBtaXgoYmFzZSwgYmxlbmRlZCwgb3BhY2l0eSk7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuXFx0dmVjNCBjb2xvciA9IGFwcGx5RlhBQSh0ZXh0dXJlKTtcXG5cXHR2ZWMyIHV2ID0gdlRleHR1cmVDb29yZCAqIDUuMDtcXG5cXHR2ZWMzIG5vaXNlID0gdGV4dHVyZTJEKHRleHR1cmVOb2lzZSwgdXYpLnJnYjtcXG5cXHRjb2xvci5yZ2IgPSBibGVuZE92ZXJsYXkoY29sb3IucmdiLCBub2lzZSwgdU92ZXJsYXkpO1xcblxcdGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3NoYWRlcnMvZnhhYS5mcmFnXG4vLyBtb2R1bGUgaWQgPSA1M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLyBhZGRDb250cm9scy5qc1xuXG5pbXBvcnQgU2V0dGluZ3MgZnJvbSAnLi4vU2V0dGluZ3MnO1xuaW1wb3J0IENvbmZpZyBmcm9tICcuLi9Db25maWcnO1xuXG5leHBvcnQgZGVmYXVsdCAoc2NlbmUpID0+IHtcblx0c2V0VGltZW91dCgoKT0+IHtcblx0XHRndWkuYWRkKENvbmZpZywgJ251bVRyZWVzJywgMSwgMTAwKS5vbkZpbmlzaENoYW5nZShTZXR0aW5ncy5yZWxvYWQpO1xuXHRcdGd1aS5hZGQoQ29uZmlnLCAndHJlZVNjYWxlJywgMCwgNSkub25DaGFuZ2UoU2V0dGluZ3MucmVmcmVzaCk7XG5cdFx0Z3VpLmFkZChDb25maWcsICdmbG9vclJhZGl1cycsIDEsIDUpLm9uRmluaXNoQ2hhbmdlKFNldHRpbmdzLnJlbG9hZCk7XG5cdFx0Z3VpLmFkZChDb25maWcsICdtYXhGbG9vckhlaWdodCcsIDAsIDEpLm9uRmluaXNoQ2hhbmdlKFNldHRpbmdzLnJlZnJlc2gpO1xuXHRcdGd1aS5hZGQoQ29uZmlnLCAndHJlZUJ1bXBIZWlnaHQnLCAwLCAxKS5vbkZpbmlzaENoYW5nZShTZXR0aW5ncy5yZWxvYWQpO1xuXHRcdGd1aS5hZGQoQ29uZmlnLCAnbnVtU2xpZGVzJywgMSwgNTApLnN0ZXAoMSkub25GaW5pc2hDaGFuZ2UoU2V0dGluZ3MucmVsb2FkKTtcblx0XHRndWkuYWRkKENvbmZpZywgJ25vaXNlU2NhbGUnLCAxLCAxMCkub25GaW5pc2hDaGFuZ2UoU2V0dGluZ3MucmVsb2FkKTtcblx0XHRndWkuYWRkKENvbmZpZywgJ292ZXJsYXlPcGFjaXR5JywgMCwgMSkub25DaGFuZ2UoU2V0dGluZ3MucmVmcmVzaCk7XG5cdFx0Z3VpLmFkZChDb25maWcsICdmeGFhJykubmFtZSgnUG9zdCBFZmZlY3QnKS5vbkNoYW5nZShTZXR0aW5ncy5yZWZyZXNoKTtcblx0XHRndWkuYWRkKHNjZW5lLCAncmVzZXRDYW1lcmEnKTtcblx0fSwgNTAwKTtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvZGVidWcvYWRkQ29udHJvbHMuanMiLCIndXNlIHN0cmljdCc7XG5cbnZhciBhc3NldHNMb2FkZXIgPSByZXF1aXJlKCcuL2dyb3VwJyk7XG5hc3NldHNMb2FkZXIuc3RhdHMgPSByZXF1aXJlKCcuL3N0YXRzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gYXNzZXRzTG9hZGVyO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYXNzZXRzLWxvYWRlci9zcmMvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDU1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIEVtaXR0ZXIgPSByZXF1aXJlKCcuL2VtaXR0ZXIuanMnKTtcbnZhciBjcmVhdGVMb2FkZXIgPSByZXF1aXJlKCcuL2xvYWRlcicpO1xudmFyIGF1dG9JZCA9IDA7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlR3JvdXAoY29uZmlnKSB7XG4gICAgdmFyIGdyb3VwO1xuICAgIHZhciBtYXAgPSB7fTtcbiAgICB2YXIgYXNzZXRzID0gW107XG4gICAgdmFyIHF1ZXVlID0gW107XG4gICAgdmFyIG51bUxvYWRlZCA9IDA7XG4gICAgdmFyIG51bVRvdGFsID0gMDtcbiAgICB2YXIgbG9hZGVycyA9IHt9O1xuXG4gICAgdmFyIGFkZCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gY29uc29sZS5kZWJ1ZygnYWRkJywgb3B0aW9ucyk7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBvcHRpb25zLmZvckVhY2goYWRkKTtcbiAgICAgICAgICAgIHJldHVybiBncm91cDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaXNHcm91cCA9ICEhb3B0aW9ucy5hc3NldHMgJiYgQXJyYXkuaXNBcnJheShvcHRpb25zLmFzc2V0cyk7XG4gICAgICAgIC8vIGNvbnNvbGUuZGVidWcoJ2lzR3JvdXAnLCBpc0dyb3VwKTtcbiAgICAgICAgdmFyIGxvYWRlcjtcbiAgICAgICAgaWYgKGlzR3JvdXApIHtcbiAgICAgICAgICAgIGxvYWRlciA9IGNyZWF0ZUdyb3VwKGNvbmZpZ3VyZShvcHRpb25zLCBjb25maWcpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvYWRlciA9IGNyZWF0ZUxvYWRlcihjb25maWd1cmUob3B0aW9ucywgY29uZmlnKSk7XG4gICAgICAgIH1cbiAgICAgICAgbG9hZGVyLm9uY2UoJ2Rlc3Ryb3knLCBkZXN0cm95SGFuZGxlcik7XG4gICAgICAgIHF1ZXVlLnB1c2gobG9hZGVyKTtcbiAgICAgICAgbG9hZGVyc1tsb2FkZXIuaWRdID0gbG9hZGVyO1xuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfTtcblxuICAgIHZhciBnZXQgPSBmdW5jdGlvbihpZCkge1xuICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBhc3NldHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hcFtpZF0pIHtcbiAgICAgICAgICAgIHJldHVybiBtYXBbaWRdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2FkZXJzW2lkXTtcbiAgICB9O1xuXG4gICAgdmFyIGZpbmQgPSBmdW5jdGlvbihpZCkge1xuICAgICAgICBpZiAoZ2V0KGlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIGdldChpZCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvdW5kID0gbnVsbDtcbiAgICAgICAgT2JqZWN0LmtleXMobG9hZGVycykuc29tZShmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIGZvdW5kID0gbG9hZGVyc1trZXldLmZpbmQgJiYgbG9hZGVyc1trZXldLmZpbmQoaWQpO1xuICAgICAgICAgICAgcmV0dXJuICEhZm91bmQ7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgfTtcblxuICAgIHZhciBnZXRFeHRlbnNpb24gPSBmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgcmV0dXJuIHVybCAmJiB1cmwuc3BsaXQoJz8nKVswXS5zcGxpdCgnLicpLnBvcCgpLnRvTG93ZXJDYXNlKCk7XG4gICAgfTtcblxuICAgIHZhciBjb25maWd1cmUgPSBmdW5jdGlvbihvcHRpb25zLCBkZWZhdWx0cykge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgdXJsID0gb3B0aW9ucztcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgdXJsOiB1cmxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5pc1RvdWNoTG9ja2VkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuaXNUb3VjaExvY2tlZCA9IGRlZmF1bHRzLmlzVG91Y2hMb2NrZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5ibG9iID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuYmxvYiA9IGRlZmF1bHRzLmJsb2I7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5iYXNlUGF0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvcHRpb25zLmJhc2VQYXRoID0gZGVmYXVsdHMuYmFzZVBhdGg7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zLmlkID0gb3B0aW9ucy5pZCB8fCBvcHRpb25zLnVybCB8fCBTdHJpbmcoKythdXRvSWQpO1xuICAgICAgICBvcHRpb25zLnR5cGUgPSBvcHRpb25zLnR5cGUgfHwgZ2V0RXh0ZW5zaW9uKG9wdGlvbnMudXJsKTtcbiAgICAgICAgb3B0aW9ucy5jcm9zc09yaWdpbiA9IG9wdGlvbnMuY3Jvc3NPcmlnaW4gfHwgZGVmYXVsdHMuY3Jvc3NPcmlnaW47XG4gICAgICAgIG9wdGlvbnMud2ViQXVkaW9Db250ZXh0ID0gb3B0aW9ucy53ZWJBdWRpb0NvbnRleHQgfHwgZGVmYXVsdHMud2ViQXVkaW9Db250ZXh0O1xuICAgICAgICBvcHRpb25zLmxvZyA9IGRlZmF1bHRzLmxvZztcblxuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9O1xuXG4gICAgdmFyIHN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIG51bVRvdGFsID0gcXVldWUubGVuZ3RoO1xuXG4gICAgICAgIHF1ZXVlLmZvckVhY2goZnVuY3Rpb24obG9hZGVyKSB7XG4gICAgICAgICAgICBsb2FkZXJcbiAgICAgICAgICAgICAgICAub24oJ3Byb2dyZXNzJywgcHJvZ3Jlc3NIYW5kbGVyKVxuICAgICAgICAgICAgICAgIC5vbmNlKCdjb21wbGV0ZScsIGNvbXBsZXRlSGFuZGxlcilcbiAgICAgICAgICAgICAgICAub25jZSgnZXJyb3InLCBlcnJvckhhbmRsZXIpXG4gICAgICAgICAgICAgICAgLnN0YXJ0KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHF1ZXVlID0gW107XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH07XG5cbiAgICB2YXIgcHJvZ3Jlc3NIYW5kbGVyID0gZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgdmFyIGxvYWRlZCA9IG51bUxvYWRlZCArIHByb2dyZXNzO1xuICAgICAgICBncm91cC5lbWl0KCdwcm9ncmVzcycsIGxvYWRlZCAvIG51bVRvdGFsKTtcbiAgICB9O1xuXG4gICAgdmFyIGNvbXBsZXRlSGFuZGxlciA9IGZ1bmN0aW9uKGFzc2V0LCBpZCwgdHlwZSkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhc3NldCkpIHtcbiAgICAgICAgICAgIGFzc2V0ID0geyBpZDogaWQsIGZpbGU6IGFzc2V0LCB0eXBlOiB0eXBlIH07XG4gICAgICAgIH1cbiAgICAgICAgbnVtTG9hZGVkKys7XG4gICAgICAgIGdyb3VwLmVtaXQoJ3Byb2dyZXNzJywgbnVtTG9hZGVkIC8gbnVtVG90YWwpO1xuICAgICAgICBtYXBbYXNzZXQuaWRdID0gYXNzZXQuZmlsZTtcbiAgICAgICAgYXNzZXRzLnB1c2goYXNzZXQpO1xuICAgICAgICBncm91cC5lbWl0KCdjaGlsZGNvbXBsZXRlJywgYXNzZXQpO1xuICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgfTtcblxuICAgIHZhciBlcnJvckhhbmRsZXIgPSBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgbnVtVG90YWwtLTtcbiAgICAgICAgaWYgKGdyb3VwLmxpc3RlbmVycygnZXJyb3InKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGdyb3VwLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgfTtcblxuICAgIHZhciBkZXN0cm95SGFuZGxlciA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIGxvYWRlcnNbaWRdID0gbnVsbDtcbiAgICAgICAgZGVsZXRlIGxvYWRlcnNbaWRdO1xuXG4gICAgICAgIG1hcFtpZF0gPSBudWxsO1xuICAgICAgICBkZWxldGUgbWFwW2lkXTtcblxuICAgICAgICBhc3NldHMuc29tZShmdW5jdGlvbihhc3NldCwgaSkge1xuICAgICAgICAgICAgaWYgKGFzc2V0LmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgIGFzc2V0cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgY2hlY2tDb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAobnVtTG9hZGVkID49IG51bVRvdGFsKSB7XG4gICAgICAgICAgICBncm91cC5lbWl0KCdjb21wbGV0ZScsIGFzc2V0cywgbWFwLCBjb25maWcuaWQsICdncm91cCcpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBkZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHdoaWxlIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHF1ZXVlLnBvcCgpLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBncm91cC5vZmYoJ2Vycm9yJyk7XG4gICAgICAgIGdyb3VwLm9mZigncHJvZ3Jlc3MnKTtcbiAgICAgICAgZ3JvdXAub2ZmKCdjb21wbGV0ZScpO1xuICAgICAgICBhc3NldHMgPSBbXTtcbiAgICAgICAgbWFwID0ge307XG4gICAgICAgIGNvbmZpZy53ZWJBdWRpb0NvbnRleHQgPSBudWxsO1xuICAgICAgICBudW1Ub3RhbCA9IDA7XG4gICAgICAgIG51bUxvYWRlZCA9IDA7XG5cbiAgICAgICAgT2JqZWN0LmtleXMobG9hZGVycykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIGxvYWRlcnNba2V5XS5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgICAgICBsb2FkZXJzID0ge307XG5cbiAgICAgICAgZ3JvdXAuZW1pdCgnZGVzdHJveScsIGdyb3VwLmlkKTtcblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfTtcblxuICAgIC8vIGVtaXRzOiBwcm9ncmVzcywgZXJyb3IsIGNvbXBsZXRlLCBkZXN0cm95XG5cbiAgICBncm91cCA9IE9iamVjdC5jcmVhdGUoRW1pdHRlci5wcm90b3R5cGUsIHtcbiAgICAgICAgX2V2ZW50czoge1xuICAgICAgICAgICAgdmFsdWU6IHt9XG4gICAgICAgIH0sXG4gICAgICAgIGlkOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25maWcuaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFkZDoge1xuICAgICAgICAgICAgdmFsdWU6IGFkZFxuICAgICAgICB9LFxuICAgICAgICBzdGFydDoge1xuICAgICAgICAgICAgdmFsdWU6IHN0YXJ0XG4gICAgICAgIH0sXG4gICAgICAgIGdldDoge1xuICAgICAgICAgICAgdmFsdWU6IGdldFxuICAgICAgICB9LFxuICAgICAgICBmaW5kOiB7XG4gICAgICAgICAgICB2YWx1ZTogZmluZFxuICAgICAgICB9LFxuICAgICAgICBnZXRMb2FkZXI6IHtcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2FkZXJzW2lkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbG9hZGVkOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudW1Mb2FkZWQgPj0gbnVtVG90YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFzc2V0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGVzdHJveToge1xuICAgICAgICAgICAgdmFsdWU6IGRlc3Ryb3lcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uZmlnID0gY29uZmlndXJlKGNvbmZpZyB8fCB7fSwge1xuICAgICAgICBiYXNlUGF0aDogJycsXG4gICAgICAgIGJsb2I6IGZhbHNlLFxuICAgICAgICB0b3VjaExvY2tlZDogZmFsc2UsXG4gICAgICAgIGNyb3NzT3JpZ2luOiBudWxsLFxuICAgICAgICB3ZWJBdWRpb0NvbnRleHQ6IG51bGwsXG4gICAgICAgIGxvZzogZmFsc2VcbiAgICB9KTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KGNvbmZpZy5hc3NldHMpKSB7XG4gICAgICAgIGFkZChjb25maWcuYXNzZXRzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShncm91cCk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvYXNzZXRzLWxvYWRlci9zcmMvZ3JvdXAuanNcbi8vIG1vZHVsZSBpZCA9IDU2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxuRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24obikge1xuICBpZiAoIWlzTnVtYmVyKG4pIHx8IG4gPCAwIHx8IGlzTmFOKG4pKVxuICAgIHRocm93IFR5cGVFcnJvcignbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgZXIsIGhhbmRsZXIsIGxlbiwgYXJncywgaSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKHR5cGUgPT09ICdlcnJvcicpIHtcbiAgICBpZiAoIXRoaXMuX2V2ZW50cy5lcnJvciB8fFxuICAgICAgICAoaXNPYmplY3QodGhpcy5fZXZlbnRzLmVycm9yKSAmJiAhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpIHtcbiAgICAgIGVyID0gYXJndW1lbnRzWzFdO1xuICAgICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcImVycm9yXCIgZXZlbnQuICgnICsgZXIgKyAnKScpO1xuICAgICAgICBlcnIuY29udGV4dCA9IGVyO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNVbmRlZmluZWQoaGFuZGxlcikpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAvLyBmYXN0IGNhc2VzXG4gICAgICBjYXNlIDE6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBzbG93ZXJcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChoYW5kbGVyKSkge1xuICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIGxpc3RlbmVycyA9IGhhbmRsZXIuc2xpY2UoKTtcbiAgICBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKylcbiAgICAgIGxpc3RlbmVyc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBtO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gIGlmICh0aGlzLl9ldmVudHMubmV3TGlzdGVuZXIpXG4gICAgdGhpcy5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgIGlzRnVuY3Rpb24obGlzdGVuZXIubGlzdGVuZXIpID9cbiAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gIGVsc2UgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZVxuICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFt0aGlzLl9ldmVudHNbdHlwZV0sIGxpc3RlbmVyXTtcblxuICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSAmJiAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCkge1xuICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5fbWF4TGlzdGVuZXJzKSkge1xuICAgICAgbSA9IHRoaXMuX21heExpc3RlbmVycztcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICAgIH1cblxuICAgIGlmIChtICYmIG0gPiAwICYmIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGggPiBtKSB7XG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkID0gdHJ1ZTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgK1xuICAgICAgICAgICAgICAgICAgICAnbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1VzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LicsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgpO1xuICAgICAgaWYgKHR5cGVvZiBjb25zb2xlLnRyYWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIG5vdCBzdXBwb3J0ZWQgaW4gSUUgMTBcbiAgICAgICAgY29uc29sZS50cmFjZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICB2YXIgZmlyZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBnKCkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgZyk7XG5cbiAgICBpZiAoIWZpcmVkKSB7XG4gICAgICBmaXJlZCA9IHRydWU7XG4gICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuXG4gIGcubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgdGhpcy5vbih0eXBlLCBnKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZmYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIGxpc3QsIHBvc2l0aW9uLCBsZW5ndGgsIGk7XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgbGlzdCA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgbGVuZ3RoID0gbGlzdC5sZW5ndGg7XG4gIHBvc2l0aW9uID0gLTE7XG5cbiAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8XG4gICAgICAoaXNGdW5jdGlvbihsaXN0Lmxpc3RlbmVyKSAmJiBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuXG4gIH0gZWxzZSBpZiAoaXNPYmplY3QobGlzdCkpIHtcbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSA+IDA7KSB7XG4gICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHxcbiAgICAgICAgICAobGlzdFtpXS5saXN0ZW5lciAmJiBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpIHtcbiAgICAgIGxpc3QubGVuZ3RoID0gMDtcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpc3Quc3BsaWNlKHBvc2l0aW9uLCAxKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBrZXksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICByZXR1cm4gdGhpcztcblxuICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gIGlmICghdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICBlbHNlIGlmICh0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgZm9yIChrZXkgaW4gdGhpcy5fZXZlbnRzKSB7XG4gICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVycykpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gIH0gZWxzZSBpZiAobGlzdGVuZXJzKSB7XG4gICAgLy8gTElGTyBvcmRlclxuICAgIHdoaWxlIChsaXN0ZW5lcnMubGVuZ3RoKVxuICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbbGlzdGVuZXJzLmxlbmd0aCAtIDFdKTtcbiAgfVxuICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciByZXQ7XG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0ID0gW107XG4gIGVsc2UgaWYgKGlzRnVuY3Rpb24odGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICByZXQgPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcbiAgZWxzZVxuICAgIHJldCA9IHRoaXMuX2V2ZW50c1t0eXBlXS5zbGljZSgpO1xuICByZXR1cm4gcmV0O1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24odHlwZSkge1xuICBpZiAodGhpcy5fZXZlbnRzKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgICBpZiAoaXNGdW5jdGlvbihldmxpc3RlbmVyKSlcbiAgICAgIHJldHVybiAxO1xuICAgIGVsc2UgaWYgKGV2bGlzdGVuZXIpXG4gICAgICByZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGg7XG4gIH1cbiAgcmV0dXJuIDA7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcbn07XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanNcbi8vIG1vZHVsZSBpZCA9IDU3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIEVtaXR0ZXIgPSByZXF1aXJlKCcuL2VtaXR0ZXIuanMnKTtcbnZhciBicm93c2VySGFzQmxvYiA9IHJlcXVpcmUoJy4vYnJvd3Nlci1oYXMtYmxvYi5qcycpO1xudmFyIHN0YXRzID0gcmVxdWlyZSgnLi9zdGF0cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmlkO1xuICAgIHZhciBiYXNlUGF0aCA9IG9wdGlvbnMuYmFzZVBhdGggfHwgJyc7XG4gICAgdmFyIHVybCA9IG9wdGlvbnMudXJsO1xuICAgIHZhciB0eXBlID0gb3B0aW9ucy50eXBlO1xuICAgIHZhciBjcm9zc09yaWdpbiA9IG9wdGlvbnMuY3Jvc3NPcmlnaW47XG4gICAgdmFyIGlzVG91Y2hMb2NrZWQgPSBvcHRpb25zLmlzVG91Y2hMb2NrZWQ7XG4gICAgdmFyIGJsb2IgPSBvcHRpb25zLmJsb2IgJiYgYnJvd3Nlckhhc0Jsb2I7XG4gICAgdmFyIHdlYkF1ZGlvQ29udGV4dCA9IG9wdGlvbnMud2ViQXVkaW9Db250ZXh0O1xuICAgIHZhciBsb2cgPSBvcHRpb25zLmxvZztcblxuICAgIHZhciBsb2FkZXI7XG4gICAgdmFyIGxvYWRIYW5kbGVyO1xuICAgIHZhciByZXF1ZXN0O1xuICAgIHZhciBzdGFydFRpbWU7XG4gICAgdmFyIHRpbWVvdXQ7XG4gICAgdmFyIGZpbGU7XG5cbiAgICB2YXIgc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2pzb24nOlxuICAgICAgICAgICAgICAgIGxvYWRKU09OKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdqcGcnOlxuICAgICAgICAgICAgY2FzZSAncG5nJzpcbiAgICAgICAgICAgIGNhc2UgJ2dpZic6XG4gICAgICAgICAgICBjYXNlICd3ZWJwJzpcbiAgICAgICAgICAgICAgICBsb2FkSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21wMyc6XG4gICAgICAgICAgICBjYXNlICdvZ2cnOlxuICAgICAgICAgICAgY2FzZSAnb3B1cyc6XG4gICAgICAgICAgICBjYXNlICd3YXYnOlxuICAgICAgICAgICAgY2FzZSAnbTRhJzpcbiAgICAgICAgICAgICAgICBsb2FkQXVkaW8oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ29ndic6XG4gICAgICAgICAgICBjYXNlICdtcDQnOlxuICAgICAgICAgICAgY2FzZSAnd2VibSc6XG4gICAgICAgICAgICBjYXNlICdobHMnOlxuICAgICAgICAgICAgICAgIGxvYWRWaWRlbygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYmluJzpcbiAgICAgICAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgICAgICAgICAgbG9hZFhIUignYXJyYXlidWZmZXInKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3R4dCc6XG4gICAgICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICAgICAgICBsb2FkWEhSKCd0ZXh0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93ICdBc3NldHNMb2FkZXIgRVJST1I6IFVua25vd24gdHlwZSBmb3IgZmlsZSB3aXRoIFVSTDogJyArIGJhc2VQYXRoICsgdXJsICsgJyAoJyArIHR5cGUgKyAnKSc7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGRpc3BhdGNoQ29tcGxldGUgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZpbGUgPSB7aWQ6IGlkLCBmaWxlOiBkYXRhLCB0eXBlOiB0eXBlfTtcbiAgICAgICAgbG9hZGVyLmVtaXQoJ3Byb2dyZXNzJywgMSk7XG4gICAgICAgIGxvYWRlci5lbWl0KCdjb21wbGV0ZScsIGZpbGUsIGlkLCB0eXBlKTtcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXJzKCk7XG4gICAgfTtcblxuICAgIHZhciBsb2FkWEhSID0gZnVuY3Rpb24ocmVzcG9uc2VUeXBlLCBjdXN0b21Mb2FkSGFuZGxlcikge1xuICAgICAgICBsb2FkSGFuZGxlciA9IGN1c3RvbUxvYWRIYW5kbGVyIHx8IGNvbXBsZXRlSGFuZGxlcjtcblxuICAgICAgICByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHJlcXVlc3Qub3BlbignR0VUJywgYmFzZVBhdGggKyB1cmwsIHRydWUpO1xuICAgICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IHJlc3BvbnNlVHlwZTtcbiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHByb2dyZXNzSGFuZGxlcik7XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGxvYWRIYW5kbGVyKTtcbiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGVycm9ySGFuZGxlcik7XG4gICAgICAgIHJlcXVlc3Quc2VuZCgpO1xuICAgIH07XG5cbiAgICB2YXIgcHJvZ3Jlc3NIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgICAgICAgIGxvYWRlci5lbWl0KCdwcm9ncmVzcycsIGV2ZW50LmxvYWRlZCAvIGV2ZW50LnRvdGFsKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgY29tcGxldGVIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChzdWNjZXNzKCkpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoQ29tcGxldGUocmVxdWVzdC5yZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHN1Y2Nlc3MgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3N1Y2Nlc3MnLCB1cmwsIHJlcXVlc3Quc3RhdHVzKTtcbiAgICAgICAgaWYgKHJlcXVlc3QgJiYgcmVxdWVzdC5zdGF0dXMgPCA0MDApIHtcbiAgICAgICAgICAgIHN0YXRzLnVwZGF0ZShyZXF1ZXN0LCBzdGFydFRpbWUsIHVybCwgbG9nKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVycm9ySGFuZGxlcihyZXF1ZXN0ICYmIHJlcXVlc3Quc3RhdHVzVGV4dCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLy8ganNvblxuXG4gICAgdmFyIGxvYWRKU09OID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGxvYWRYSFIoJ2pzb24nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzdWNjZXNzKCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlcXVlc3QucmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hDb21wbGV0ZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIGltYWdlXG5cbiAgICB2YXIgbG9hZEltYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChibG9iKSB7XG4gICAgICAgICAgICBsb2FkSW1hZ2VCbG9iKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2FkSW1hZ2VFbGVtZW50KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGxvYWRJbWFnZUVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVxdWVzdCA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpZiAoY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgICAgIHJlcXVlc3QuY3Jvc3NPcmlnaW4gPSAnYW5vbnltb3VzJztcbiAgICAgICAgfVxuICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZXJyb3JIYW5kbGVyLCBmYWxzZSk7XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGVsZW1lbnRMb2FkSGFuZGxlciwgZmFsc2UpO1xuICAgICAgICByZXF1ZXN0LnNyYyA9IGJhc2VQYXRoICsgdXJsO1xuICAgIH07XG5cbiAgICB2YXIgZWxlbWVudExvYWRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgaWYgKCFldmVudCAmJiAocmVxdWVzdC5lcnJvciB8fCAhcmVxdWVzdC5yZWFkeVN0YXRlKSkge1xuICAgICAgICAgICAgZXJyb3JIYW5kbGVyKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGlzcGF0Y2hDb21wbGV0ZShyZXF1ZXN0KTtcbiAgICB9O1xuXG4gICAgdmFyIGxvYWRJbWFnZUJsb2IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbG9hZFhIUignYmxvYicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHN1Y2Nlc3MoKSkge1xuICAgICAgICAgICAgICAgIHJlcXVlc3QgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZXJyb3JIYW5kbGVyLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgaW1hZ2VCbG9iSGFuZGxlciwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJlcXVlc3Quc3JjID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwocmVxdWVzdC5yZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgaW1hZ2VCbG9iSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTChyZXF1ZXN0LnNyYyk7XG4gICAgICAgIGRpc3BhdGNoQ29tcGxldGUocmVxdWVzdCk7XG4gICAgfTtcblxuICAgIC8vIGF1ZGlvXG5cbiAgICB2YXIgbG9hZEF1ZGlvID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh3ZWJBdWRpb0NvbnRleHQpIHtcbiAgICAgICAgICAgIGxvYWRBdWRpb0J1ZmZlcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9hZE1lZGlhRWxlbWVudCgnYXVkaW8nKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyB2aWRlb1xuXG4gICAgdmFyIGxvYWRWaWRlbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoYmxvYikge1xuICAgICAgICAgICAgbG9hZFhIUignYmxvYicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9hZE1lZGlhRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBhdWRpbyBidWZmZXJcblxuICAgIHZhciBsb2FkQXVkaW9CdWZmZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbG9hZFhIUignYXJyYXlidWZmZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzdWNjZXNzKCkpIHtcbiAgICAgICAgICAgICAgICB3ZWJBdWRpb0NvbnRleHQuZGVjb2RlQXVkaW9EYXRhKFxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LnJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihidWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hDb21wbGV0ZShidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvckhhbmRsZXIoZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gbWVkaWEgZWxlbWVudFxuXG4gICAgdmFyIGxvYWRNZWRpYUVsZW1lbnQgPSBmdW5jdGlvbih0YWdOYW1lKSB7XG4gICAgICAgIHJlcXVlc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuXG4gICAgICAgIGlmICghaXNUb3VjaExvY2tlZCkge1xuICAgICAgICAgICAgLy8gdGltZW91dCBiZWNhdXNlIHNvbWV0aW1lcyBjYW5wbGF5dGhyb3VnaCBkb2Vzbid0IGZpcmVcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoZWxlbWVudExvYWRIYW5kbGVyLCAyMDAwKTtcbiAgICAgICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCBlbGVtZW50TG9hZEhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvckhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgcmVxdWVzdC5wcmVsb2FkID0gJ2F1dG8nO1xuICAgICAgICByZXF1ZXN0LnNyYyA9IGJhc2VQYXRoICsgdXJsO1xuICAgICAgICByZXF1ZXN0LmxvYWQoKTtcblxuICAgICAgICBpZiAoaXNUb3VjaExvY2tlZCkge1xuICAgICAgICAgICAgZGlzcGF0Y2hDb21wbGV0ZShyZXF1ZXN0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBlcnJvclxuXG4gICAgdmFyIGVycm9ySGFuZGxlciA9IGZ1bmN0aW9uKGVycikge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnZXJyb3JIYW5kbGVyJywgdXJsLCBlcnIpO1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXG4gICAgICAgIHZhciBtZXNzYWdlID0gZXJyO1xuXG4gICAgICAgIGlmIChyZXF1ZXN0ICYmIHJlcXVlc3QudGFnTmFtZSAmJiByZXF1ZXN0LmVycm9yKSB7XG4gICAgICAgICAgICB2YXIgRVJST1JfU1RBVEUgPSBbJycsICdBQk9SVEVEJywgJ05FVFdPUksnLCAnREVDT0RFJywgJ1NSQ19OT1RfU1VQUE9SVEVEJ107XG4gICAgICAgICAgICBtZXNzYWdlID0gJ01lZGlhRXJyb3I6ICcgKyBFUlJPUl9TVEFURVtyZXF1ZXN0LmVycm9yLmNvZGVdICsgJyAnICsgcmVxdWVzdC5zcmM7XG4gICAgICAgIH0gZWxzZSBpZiAocmVxdWVzdCAmJiByZXF1ZXN0LnN0YXR1c1RleHQpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSByZXF1ZXN0LnN0YXR1c1RleHQ7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyICYmIGVyci5tZXNzYWdlKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gZXJyLm1lc3NhZ2U7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyICYmIGVyci50eXBlKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gZXJyLnR5cGU7XG4gICAgICAgIH1cblxuICAgICAgICBsb2FkZXIuZW1pdCgnZXJyb3InLCAnRXJyb3IgbG9hZGluZyBcIicgKyBiYXNlUGF0aCArIHVybCArICdcIiAnICsgbWVzc2FnZSk7XG5cbiAgICAgICAgZGVzdHJveSgpO1xuICAgIH07XG5cbiAgICAvLyBjbGVhbiB1cFxuXG4gICAgdmFyIHJlbW92ZUxpc3RlbmVycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBsb2FkZXIub2ZmKCdlcnJvcicpO1xuICAgICAgICBsb2FkZXIub2ZmKCdwcm9ncmVzcycpO1xuICAgICAgICBsb2FkZXIub2ZmKCdjb21wbGV0ZScpO1xuXG4gICAgICAgIGlmIChyZXF1ZXN0KSB7XG4gICAgICAgICAgICByZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgcHJvZ3Jlc3NIYW5kbGVyKTtcbiAgICAgICAgICAgIHJlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIGxvYWRIYW5kbGVyKTtcbiAgICAgICAgICAgIHJlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvckhhbmRsZXIpO1xuICAgICAgICAgICAgcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgZWxlbWVudExvYWRIYW5kbGVyKTtcbiAgICAgICAgICAgIHJlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCBlbGVtZW50TG9hZEhhbmRsZXIpO1xuICAgICAgICAgICAgcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgaW1hZ2VCbG9iSGFuZGxlcik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXJzKCk7XG5cbiAgICAgICAgaWYgKHJlcXVlc3QgJiYgcmVxdWVzdC5hYm9ydCAmJiByZXF1ZXN0LnJlYWR5U3RhdGUgPCA0KSB7XG4gICAgICAgICAgICByZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgd2ViQXVkaW9Db250ZXh0ID0gbnVsbDtcbiAgICAgICAgZmlsZSA9IG51bGw7XG5cbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0KTtcblxuICAgICAgICBsb2FkZXIuZW1pdCgnZGVzdHJveScsIGlkKTtcbiAgICB9O1xuXG4gICAgLy8gZW1pdHM6IHByb2dyZXNzLCBlcnJvciwgY29tcGxldGVcblxuICAgIGxvYWRlciA9IE9iamVjdC5jcmVhdGUoRW1pdHRlci5wcm90b3R5cGUsIHtcbiAgICAgICAgX2V2ZW50czoge1xuICAgICAgICAgICAgdmFsdWU6IHt9XG4gICAgICAgIH0sXG4gICAgICAgIGlkOiB7XG4gICAgICAgICAgICB2YWx1ZTogb3B0aW9ucy5pZFxuICAgICAgICB9LFxuICAgICAgICBzdGFydDoge1xuICAgICAgICAgICAgdmFsdWU6IHN0YXJ0XG4gICAgICAgIH0sXG4gICAgICAgIGxvYWRlZDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gISFmaWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmaWxlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmaWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZXN0cm95OiB7XG4gICAgICAgICAgICB2YWx1ZTogZGVzdHJveVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShsb2FkZXIpO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2Fzc2V0cy1sb2FkZXIvc3JjL2xvYWRlci5qc1xuLy8gbW9kdWxlIGlkID0gNThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gISFuZXcgQmxvYigpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn0oKSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9hc3NldHMtbG9hZGVyL3NyYy9icm93c2VyLWhhcy1ibG9iLmpzXG4vLyBtb2R1bGUgaWQgPSA1OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9